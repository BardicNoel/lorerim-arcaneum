function $M(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var gS={exports:{}},yf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=Symbol.for("react.transitional.element"),IM=Symbol.for("react.fragment");function yS(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:PM,type:e,key:r,ref:t!==void 0?t:null,props:n}}yf.Fragment=IM;yf.jsx=yS;yf.jsxs=yS;gS.exports=yf;var l=gS.exports,vS={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.transitional.element"),BM=Symbol.for("react.portal"),HM=Symbol.for("react.fragment"),FM=Symbol.for("react.strict_mode"),UM=Symbol.for("react.profiler"),GM=Symbol.for("react.consumer"),VM=Symbol.for("react.context"),ZM=Symbol.for("react.forward_ref"),YM=Symbol.for("react.suspense"),qM=Symbol.for("react.memo"),xS=Symbol.for("react.lazy"),ax=Symbol.iterator;function XM(e){return e===null||typeof e!="object"?null:(e=ax&&e[ax]||e["@@iterator"],typeof e=="function"?e:null)}var bS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wS=Object.assign,SS={};function gi(e,t,n){this.props=e,this.context=t,this.refs=SS,this.updater=n||bS}gi.prototype.isReactComponent={};gi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function NS(){}NS.prototype=gi.prototype;function l0(e,t,n){this.props=e,this.context=t,this.refs=SS,this.updater=n||bS}var c0=l0.prototype=new NS;c0.constructor=l0;wS(c0,gi.prototype);c0.isPureReactComponent=!0;var ox=Array.isArray,Ue={H:null,A:null,T:null,S:null,V:null},ES=Object.prototype.hasOwnProperty;function u0(e,t,n,r,a,o){return n=o.ref,{$$typeof:i0,type:e,key:t,ref:n!==void 0?n:null,props:o}}function WM(e,t){return u0(e.type,t,void 0,void 0,void 0,e.props)}function d0(e){return typeof e=="object"&&e!==null&&e.$$typeof===i0}function KM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sx=/\/+/g;function Rh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KM(""+e.key):t.toString(36)}function ix(){}function QM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ix,ix):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ms(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i0:case BM:s=!0;break;case xS:return s=e._init,ms(s(e._payload),t,n,r,a)}}if(s)return a=a(e),s=r===""?"."+Rh(e,0):r,ox(a)?(n="",s!=null&&(n=s.replace(sx,"$&/")+"/"),ms(a,t,n,"",function(u){return u})):a!=null&&(d0(a)&&(a=WM(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(sx,"$&/")+"/")+s)),t.push(a)),1;s=0;var i=r===""?".":r+":";if(ox(e))for(var c=0;c<e.length;c++)r=e[c],o=i+Rh(r,c),s+=ms(r,t,n,o,a);else if(c=XM(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,o=i+Rh(r,c++),s+=ms(r,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return ms(QM(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Hc(e,t,n){if(e==null)return e;var r=[],a=0;return ms(e,r,"","",function(o){return t.call(n,o,a++)}),r}function JM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lx=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eD(){}ge.Children={map:Hc,forEach:function(e,t,n){Hc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hc(e,function(){t++}),t},toArray:function(e){return Hc(e,function(t){return t})||[]},only:function(e){if(!d0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=gi;ge.Fragment=HM;ge.Profiler=UM;ge.PureComponent=l0;ge.StrictMode=FM;ge.Suspense=YM;ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;ge.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ue.H.useMemoCache(e)}};ge.cache=function(e){return function(){return e.apply(null,arguments)}};ge.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=wS({},e.props),a=e.key,o=void 0;if(t!=null)for(s in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(a=""+t.key),t)!ES.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];r.children=i}return u0(e.type,a,void 0,void 0,o,r)};ge.createContext=function(e){return e={$$typeof:VM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:GM,_context:e},e};ge.createElement=function(e,t,n){var r,a={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)ES.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return u0(e,o,void 0,void 0,null,a)};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:ZM,render:e}};ge.isValidElement=d0;ge.lazy=function(e){return{$$typeof:xS,_payload:{_status:-1,_result:e},_init:JM}};ge.memo=function(e,t){return{$$typeof:qM,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Ue.T,n={};Ue.T=n;try{var r=e(),a=Ue.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(eD,lx)}catch(o){lx(o)}finally{Ue.T=t}};ge.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};ge.use=function(e){return Ue.H.use(e)};ge.useActionState=function(e,t,n){return Ue.H.useActionState(e,t,n)};ge.useCallback=function(e,t){return Ue.H.useCallback(e,t)};ge.useContext=function(e){return Ue.H.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e,t){return Ue.H.useDeferredValue(e,t)};ge.useEffect=function(e,t,n){var r=Ue.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ge.useId=function(){return Ue.H.useId()};ge.useImperativeHandle=function(e,t,n){return Ue.H.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Ue.H.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Ue.H.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Ue.H.useMemo(e,t)};ge.useOptimistic=function(e,t){return Ue.H.useOptimistic(e,t)};ge.useReducer=function(e,t,n){return Ue.H.useReducer(e,t,n)};ge.useRef=function(e){return Ue.H.useRef(e)};ge.useState=function(e){return Ue.H.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Ue.H.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Ue.H.useTransition()};ge.version="19.1.0";vS.exports=ge;var p=vS.exports;const D=gf(p),f0=$M({__proto__:null,default:D},[p]);var _S={exports:{}},vf={},CS={exports:{}},AS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var O=T.length;T.push(I);e:for(;0<O;){var z=O-1>>>1,P=T[z];if(0<a(P,I))T[z]=I,T[O]=P,O=z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],O=T.pop();if(O!==I){T[0]=O;e:for(var z=0,P=T.length,G=P>>>1;z<G;){var V=2*(z+1)-1,U=T[V],$=V+1,H=T[$];if(0>a(U,O))$<P&&0>a(H,U)?(T[z]=H,T[$]=O,z=$):(T[z]=U,T[V]=O,z=V);else if($<P&&0>a(H,O))T[z]=H,T[$]=O,z=$;else break e}}return I}function a(T,I){var O=T.sortIndex-I.sortIndex;return O!==0?O:T.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],u=[],d=1,h=null,f=3,m=!1,y=!1,x=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(T){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=T)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function E(T){if(x=!1,S(T),!y)if(n(c)!==null)y=!0,A||(A=!0,B());else{var I=n(u);I!==null&&M(E,I.startTime-T)}}var A=!1,N=-1,_=5,j=-1;function C(){return w?!0:!(e.unstable_now()-j<_)}function R(){if(w=!1,A){var T=e.unstable_now();j=T;var I=!0;try{e:{y=!1,x&&(x=!1,g(N),N=-1),m=!0;var O=f;try{t:{for(S(T),h=n(c);h!==null&&!(h.expirationTime>T&&C());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var P=z(h.expirationTime<=T);if(T=e.unstable_now(),typeof P=="function"){h.callback=P,S(T),I=!0;break t}h===n(c)&&r(c),S(T)}else r(c);h=n(c)}if(h!==null)I=!0;else{var G=n(u);G!==null&&M(E,G.startTime-T),I=!1}}break e}finally{h=null,f=O,m=!1}I=void 0}}finally{I?B():A=!1}}}var B;if(typeof b=="function")B=function(){b(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,k=L.port2;L.port1.onmessage=R,B=function(){k.postMessage(null)}}else B=function(){v(R,0)};function M(T,I){N=v(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var O=f;f=I;try{return T()}finally{f=O}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var O=f;f=T;try{return I()}finally{f=O}},e.unstable_scheduleCallback=function(T,I,O){var z=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,T){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=O+P,T={id:d++,callback:I,priorityLevel:T,startTime:O,expirationTime:P,sortIndex:-1},O>z?(T.sortIndex=O,t(u,T),n(c)===null&&T===n(u)&&(x?(g(N),N=-1):x=!0,M(E,O-z))):(T.sortIndex=P,t(c,T),y||m||(y=!0,A||(A=!0,B()))),T},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(T){var I=f;return function(){var O=f;f=I;try{return T.apply(this,arguments)}finally{f=O}}}})(AS);CS.exports=AS;var tD=CS.exports,kS={exports:{}},Vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD=p;function jS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var Ut={d:{f:Na,r:function(){throw Error(jS(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},rD=Symbol.for("react.portal");function aD(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rD,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var cl=nD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ut;Vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(jS(299));return aD(e,t,null,n)};Vt.flushSync=function(e){var t=cl.T,n=Ut.p;try{if(cl.T=null,Ut.p=2,e)return e()}finally{cl.T=t,Ut.p=n,Ut.d.f()}};Vt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ut.d.C(e,t))};Vt.prefetchDNS=function(e){typeof e=="string"&&Ut.d.D(e)};Vt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=xf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ut.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n==="script"&&Ut.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Vt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=xf(t.as,t.crossOrigin);Ut.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ut.d.M(e)};Vt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=xf(n,t.crossOrigin);Ut.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Vt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=xf(t.as,t.crossOrigin);Ut.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ut.d.m(e)};Vt.requestFormReset=function(e){Ut.d.r(e)};Vt.unstable_batchedUpdates=function(e,t){return e(t)};Vt.useFormState=function(e,t,n){return cl.H.useFormState(e,t,n)};Vt.useFormStatus=function(){return cl.H.useHostTransitionStatus()};Vt.version="19.1.0";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(e){console.error(e)}}TS(),kS.exports=Vt;var lc=kS.exports;const oD=gf(lc);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=tD,RS=p,sD=lc;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function MS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function DS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cx(e){if(cc(e)!==e)throw Error(X(188))}function iD(e){var t=e.alternate;if(!t){if(t=cc(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return cx(a),e;if(o===r)return cx(a),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function zS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=zS(e),t!==null)return t;e=e.sibling}return null}var He=Object.assign,lD=Symbol.for("react.element"),Fc=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),bs=Symbol.for("react.fragment"),OS=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),cD=Symbol.for("react.provider"),$S=Symbol.for("react.consumer"),Wr=Symbol.for("react.context"),h0=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),up=Symbol.for("react.activity"),uD=Symbol.for("react.memo_cache_sentinel"),ux=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=ux&&e[ux]||e["@@iterator"],typeof e=="function"?e:null)}var dD=Symbol.for("react.client.reference");function dp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===dD?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bs:return"Fragment";case ip:return"Profiler";case OS:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList";case up:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ji:return"Portal";case Wr:return(e.displayName||"Context")+".Provider";case $S:return(e._context.displayName||"Context")+".Consumer";case h0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case m0:return t=e.displayName||null,t!==null?t:dp(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return dp(e(t))}catch{}}return null}var el=Array.isArray,ce=RS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,je=sD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Co={pending:!1,data:null,method:null,action:null},fp=[],ws=-1;function jr(e){return{current:e}}function _t(e){0>ws||(e.current=fp[ws],fp[ws]=null,ws--)}function Ge(e,t){ws++,fp[ws]=e.current,e.current=t}var br=jr(null),kl=jr(null),Za=jr(null),sd=jr(null);function id(e,t){switch(Ge(Za,t),Ge(kl,e),Ge(br,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?pb(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=pb(t),e=JE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_t(br),Ge(br,e)}function Ws(){_t(br),_t(kl),_t(Za)}function hp(e){e.memoizedState!==null&&Ge(sd,e);var t=br.current,n=JE(t,e.type);t!==n&&(Ge(kl,e),Ge(br,n))}function ld(e){kl.current===e&&(_t(br),_t(kl)),sd.current===e&&(_t(sd),Pl._currentValue=Co)}var mp=Object.prototype.hasOwnProperty,p0=yt.unstable_scheduleCallback,Mh=yt.unstable_cancelCallback,fD=yt.unstable_shouldYield,hD=yt.unstable_requestPaint,wr=yt.unstable_now,mD=yt.unstable_getCurrentPriorityLevel,LS=yt.unstable_ImmediatePriority,PS=yt.unstable_UserBlockingPriority,cd=yt.unstable_NormalPriority,pD=yt.unstable_LowPriority,IS=yt.unstable_IdlePriority,gD=yt.log,yD=yt.unstable_setDisableYieldValue,uc=null,yn=null;function Ha(e){if(typeof gD=="function"&&yD(e),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(uc,e)}catch{}}var vn=Math.clz32?Math.clz32:bD,vD=Math.log,xD=Math.LN2;function bD(e){return e>>>=0,e===0?32:31-(vD(e)/xD|0)|0}var Uc=256,Gc=4194304;function yo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bf(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~o,r!==0?a=yo(r):(s&=i,s!==0?a=yo(s):n||(n=i&~e,n!==0&&(a=yo(n))))):(i=r&~o,i!==0?a=yo(i):s!==0?a=yo(s):n||(n=r&~e,n!==0&&(a=yo(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function dc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wD(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BS(){var e=Uc;return Uc<<=1,!(Uc&4194048)&&(Uc=256),e}function HS(){var e=Gc;return Gc<<=1,!(Gc&62914560)&&(Gc=4194304),e}function Dh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function SD(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-vn(n),h=1<<d;i[d]=0,c[d]=-1;var f=u[d];if(f!==null)for(u[d]=null,d=0;d<f.length;d++){var m=f[d];m!==null&&(m.lane&=-536870913)}n&=~h}r!==0&&FS(e,r,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function FS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-vn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function US(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function g0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function y0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function GS(){var e=je.p;return e!==0?e:(e=window.event,e===void 0?32:c_(e.type))}function ND(e,t){var n=je.p;try{return je.p=e,t()}finally{je.p=n}}var so=Math.random().toString(36).slice(2),Pt="__reactFiber$"+so,en="__reactProps$"+so,yi="__reactContainer$"+so,pp="__reactEvents$"+so,ED="__reactListeners$"+so,_D="__reactHandles$"+so,dx="__reactResources$"+so,hc="__reactMarker$"+so;function v0(e){delete e[Pt],delete e[en],delete e[pp],delete e[ED],delete e[_D]}function Ss(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vb(e);e!==null;){if(n=e[Pt])return n;e=vb(e)}return t}e=n,n=e.parentNode}return null}function vi(e){if(e=e[Pt]||e[yi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function tl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function zs(e){var t=e[dx];return t||(t=e[dx]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[hc]=!0}var VS=new Set,ZS={};function Yo(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(ZS[e]=t,e=0;e<t.length;e++)VS.add(t[e])}var CD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fx={},hx={};function AD(e){return mp.call(hx,e)?!0:mp.call(fx,e)?!1:CD.test(e)?hx[e]=!0:(fx[e]=!0,!1)}function Mu(e,t,n){if(AD(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Fr(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var zh,mx;function ps(e){if(zh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zh=t&&t[1]||"",mx=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zh+e+mx}var Oh=!1;function $h(e,t){if(!e||Oh)return"";Oh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(m){var f=m}Reflect.construct(e,[],h)}else{try{h.call()}catch(m){f=m}e.call(h.prototype)}}else{try{throw Error()}catch(m){f=m}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var c=s.split(`
`),u=i.split(`
`);for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===u.length)for(r=c.length-1,a=u.length-1;1<=r&&0<=a&&c[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||c[r]!==u[a]){var d=`
`+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=a);break}}}finally{Oh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ps(n):""}function kD(e){switch(e.tag){case 26:case 27:case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 15:return $h(e.type,!1);case 11:return $h(e.type.render,!1);case 1:return $h(e.type,!0);case 31:return ps("Activity");default:return""}}function px(e){try{var t="";do t+=kD(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jD(e){var t=YS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ud(e){e._valueTracker||(e._valueTracker=jD(e))}function qS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=YS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var TD=/[\n"\\]/g;function zn(e){return e.replace(TD,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function gp(e,t,n,r,a,o,s,i){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rn(t)):e.value!==""+Rn(t)&&(e.value=""+Rn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?yp(e,s,Rn(t)):n!=null?yp(e,s,Rn(n)):r!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+Rn(i):e.removeAttribute("name")}function XS(e,t,n,r,a,o,s,i){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Rn(n):"",t=t!=null?""+Rn(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function yp(e,t,n){t==="number"&&dd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Os(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function WS(e,t,n){if(t!=null&&(t=""+Rn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Rn(n):""}function KS(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(X(92));if(el(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Rn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var RD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gx(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||RD.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function QS(e,t,n){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&gx(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&gx(e,o,t[o])}function x0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Du(e){return DD.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vp=null;function b0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,$s=null;function yx(e){var t=vi(e);if(t&&(e=t.stateNode)){var n=e[en]||null;e:switch(e=t.stateNode,t.type){case"input":if(gp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+zn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[en]||null;if(!a)throw Error(X(90));gp(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&qS(r)}break e;case"textarea":WS(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Os(e,!!n.multiple,t,!1)}}}var Lh=!1;function JS(e,t,n){if(Lh)return e(t,n);Lh=!0;try{var r=e(t);return r}finally{if(Lh=!1,(Ns!==null||$s!==null)&&(Tf(),Ns&&(t=Ns,e=$s,$s=Ns=null,yx(t),e)))for(t=0;t<e.length;t++)yx(e[t])}}function jl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[en]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=!1;if(sa)try{var $i={};Object.defineProperty($i,"passive",{get:function(){xp=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{xp=!1}var Fa=null,w0=null,zu=null;function eN(){if(zu)return zu;var e,t=w0,n=t.length,r,a="value"in Fa?Fa.value:Fa.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return zu=a.slice(e,1<r?1-r:void 0)}function Ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zc(){return!0}function vx(){return!1}function nn(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zc:vx,this.isPropagationStopped=vx,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),t}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wf=nn(qo),mc=He({},qo,{view:0,detail:0}),zD=nn(mc),Ph,Ih,Li,Sf=He({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Li&&(Li&&e.type==="mousemove"?(Ph=e.screenX-Li.screenX,Ih=e.screenY-Li.screenY):Ih=Ph=0,Li=e),Ph)},movementY:function(e){return"movementY"in e?e.movementY:Ih}}),xx=nn(Sf),OD=He({},Sf,{dataTransfer:0}),$D=nn(OD),LD=He({},mc,{relatedTarget:0}),Bh=nn(LD),PD=He({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),ID=nn(PD),BD=He({},qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HD=nn(BD),FD=He({},qo,{data:0}),bx=nn(FD),UD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VD[e])?!!t[e]:!1}function S0(){return ZD}var YD=He({},mc,{key:function(e){if(e.key){var t=UD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S0,charCode:function(e){return e.type==="keypress"?Ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qD=nn(YD),XD=He({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=nn(XD),WD=He({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S0}),KD=nn(WD),QD=He({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JD=nn(QD),e3=He({},Sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t3=nn(e3),n3=He({},qo,{newState:0,oldState:0}),r3=nn(n3),a3=[9,13,27,32],N0=sa&&"CompositionEvent"in window,ul=null;sa&&"documentMode"in document&&(ul=document.documentMode);var o3=sa&&"TextEvent"in window&&!ul,tN=sa&&(!N0||ul&&8<ul&&11>=ul),Sx=" ",Nx=!1;function nN(e,t){switch(e){case"keyup":return a3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function s3(e,t){switch(e){case"compositionend":return rN(t);case"keypress":return t.which!==32?null:(Nx=!0,Sx);case"textInput":return e=t.data,e===Sx&&Nx?null:e;default:return null}}function i3(e,t){if(Es)return e==="compositionend"||!N0&&nN(e,t)?(e=eN(),zu=w0=Fa=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tN&&t.locale!=="ko"?null:t.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l3[e.type]:t==="textarea"}function aN(e,t,n,r){Ns?$s?$s.push(r):$s=[r]:Ns=r,t=jd(t,"onChange"),0<t.length&&(n=new wf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var dl=null,Tl=null;function c3(e){WE(e,0)}function Nf(e){var t=tl(e);if(qS(t))return e}function _x(e,t){if(e==="change")return t}var oN=!1;if(sa){var Hh;if(sa){var Fh="oninput"in document;if(!Fh){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),Fh=typeof Cx.oninput=="function"}Hh=Fh}else Hh=!1;oN=Hh&&(!document.documentMode||9<document.documentMode)}function Ax(){dl&&(dl.detachEvent("onpropertychange",sN),Tl=dl=null)}function sN(e){if(e.propertyName==="value"&&Nf(Tl)){var t=[];aN(t,Tl,e,b0(e)),JS(c3,t)}}function u3(e,t,n){e==="focusin"?(Ax(),dl=t,Tl=n,dl.attachEvent("onpropertychange",sN)):e==="focusout"&&Ax()}function d3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nf(Tl)}function f3(e,t){if(e==="click")return Nf(t)}function h3(e,t){if(e==="input"||e==="change")return Nf(t)}function m3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:m3;function Rl(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!mp.call(t,a)||!En(e[a],t[a]))return!1}return!0}function kx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jx(e,t){var n=kx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kx(n)}}function iN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lN(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dd(e.document)}return t}function E0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var p3=sa&&"documentMode"in document&&11>=document.documentMode,_s=null,bp=null,fl=null,wp=!1;function Tx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wp||_s==null||_s!==dd(r)||(r=_s,"selectionStart"in r&&E0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Rl(fl,r)||(fl=r,r=jd(bp,"onSelect"),0<r.length&&(t=new wf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_s)))}function ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cs={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionrun:ho("Transition","TransitionRun"),transitionstart:ho("Transition","TransitionStart"),transitioncancel:ho("Transition","TransitionCancel"),transitionend:ho("Transition","TransitionEnd")},Uh={},cN={};sa&&(cN=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Xo(e){if(Uh[e])return Uh[e];if(!Cs[e])return e;var t=Cs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cN)return Uh[e]=t[n];return e}var uN=Xo("animationend"),dN=Xo("animationiteration"),fN=Xo("animationstart"),g3=Xo("transitionrun"),y3=Xo("transitionstart"),v3=Xo("transitioncancel"),hN=Xo("transitionend"),mN=new Map,Sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sp.push("scrollEnd");function rr(e,t){mN.set(e,t),Yo(t,[e])}var Rx=new WeakMap;function On(e,t){if(typeof e=="object"&&e!==null){var n=Rx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:px(t)},Rx.set(e,t),t)}return{value:e,source:t,stack:px(t)}}var Tn=[],As=0,_0=0;function Ef(){for(var e=As,t=_0=As=0;t<e;){var n=Tn[t];Tn[t++]=null;var r=Tn[t];Tn[t++]=null;var a=Tn[t];Tn[t++]=null;var o=Tn[t];if(Tn[t++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}o!==0&&pN(n,a,o)}}function _f(e,t,n,r){Tn[As++]=e,Tn[As++]=t,Tn[As++]=n,Tn[As++]=r,_0|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function C0(e,t,n,r){return _f(e,t,n,r),fd(e)}function xi(e,t){return _f(e,null,null,t),fd(e)}function pN(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-vn(n),e=o.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),o):null}function fd(e){if(50<Sl)throw Sl=0,Up=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ks={};function x3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,n,r){return new x3(e,t,n,r)}function A0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var n=e.alternate;return n===null?(n=gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function gN(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $u(e,t,n,r,a,o){var s=0;if(r=e,typeof e=="function")A0(e)&&(s=1);else if(typeof e=="string")s=w4(e,n,br.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case up:return e=gn(31,n,t,a),e.elementType=up,e.lanes=o,e;case bs:return Ao(n.children,a,o,t);case OS:s=8,a|=24;break;case ip:return e=gn(12,n,t,a|2),e.elementType=ip,e.lanes=o,e;case lp:return e=gn(13,n,t,a),e.elementType=lp,e.lanes=o,e;case cp:return e=gn(19,n,t,a),e.elementType=cp,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cD:case Wr:s=10;break e;case $S:s=9;break e;case h0:s=11;break e;case m0:s=14;break e;case ja:s=16,r=null;break e}s=29,n=Error(X(130,e===null?"null":typeof e,"")),r=null}return t=gn(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Ao(e,t,n,r){return e=gn(7,e,r,t),e.lanes=n,e}function Gh(e,t,n){return e=gn(6,e,null,t),e.lanes=n,e}function Vh(e,t,n){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var js=[],Ts=0,hd=null,md=0,Mn=[],Dn=0,ko=null,Kr=1,Qr="";function vo(e,t){js[Ts++]=md,js[Ts++]=hd,hd=e,md=t}function yN(e,t,n){Mn[Dn++]=Kr,Mn[Dn++]=Qr,Mn[Dn++]=ko,ko=e;var r=Kr;e=Qr;var a=32-vn(r)-1;r&=~(1<<a),n+=1;var o=32-vn(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Kr=1<<32-vn(t)+a|n<<a|r,Qr=o+e}else Kr=1<<o|n<<a|r,Qr=e}function k0(e){e.return!==null&&(vo(e,1),yN(e,1,0))}function j0(e){for(;e===hd;)hd=js[--Ts],js[Ts]=null,md=js[--Ts],js[Ts]=null;for(;e===ko;)ko=Mn[--Dn],Mn[Dn]=null,Qr=Mn[--Dn],Mn[Dn]=null,Kr=Mn[--Dn],Mn[Dn]=null}var Ft=null,Qe=null,ke=!1,jo=null,mr=!1,Np=Error(X(519));function Oo(e){var t=Error(X(418,""));throw Ml(On(t,e)),Np}function Mx(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pt]=e,t[en]=r,n){case"dialog":be("cancel",t),be("close",t);break;case"iframe":case"object":case"embed":be("load",t);break;case"video":case"audio":for(n=0;n<Ol.length;n++)be(Ol[n],t);break;case"source":be("error",t);break;case"img":case"image":case"link":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"input":be("invalid",t),XS(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ud(t);break;case"select":be("invalid",t);break;case"textarea":be("invalid",t),KS(t,r.value,r.defaultValue,r.children),ud(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||QE(t.textContent,n)?(r.popover!=null&&(be("beforetoggle",t),be("toggle",t)),r.onScroll!=null&&be("scroll",t),r.onScrollEnd!=null&&be("scrollend",t),r.onClick!=null&&(t.onclick=Df),t=!0):t=!1,t||Oo(e)}function Dx(e){for(Ft=e.return;Ft;)switch(Ft.tag){case 5:case 13:mr=!1;return;case 27:case 3:mr=!0;return;default:Ft=Ft.return}}function Pi(e){if(e!==Ft)return!1;if(!ke)return Dx(e),ke=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Xp(e.type,e.memoizedProps)),n=!n),n&&Qe&&Oo(e),Dx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Qe=Wn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,io(e.type)?(e=Qp,Qp=null,Qe=e):Qe=t):Qe=Ft?Wn(e.stateNode.nextSibling):null;return!0}function pc(){Qe=Ft=null,ke=!1}function zx(){var e=jo;return e!==null&&(Qt===null?Qt=e:Qt.push.apply(Qt,e),jo=null),e}function Ml(e){jo===null?jo=[e]:jo.push(e)}var Ep=jr(null),Wo=null,Jr=null;function Da(e,t,n){Ge(Ep,t._currentValue),t._currentValue=n}function ra(e){e._currentValue=Ep.current,_t(Ep)}function _p(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cp(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var i=o;o=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),_p(o.return,n,e),r||(s=null);break e}o=i.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(X(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),_p(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function gc(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(X(387));if(s=s.memoizedProps,s!==null){var i=a.type;En(a.pendingProps.value,s.value)||(e!==null?e.push(i):e=[i])}}else if(a===sd.current){if(s=a.alternate,s===null)throw Error(X(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}a=a.return}e!==null&&Cp(t,e,n,r),t.flags|=262144}function pd(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $o(e){Wo=e,Jr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return vN(Wo,e)}function Yc(e,t){return Wo===null&&$o(e),vN(e,t)}function vN(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Jr===null){if(e===null)throw Error(X(308));Jr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jr=Jr.next=t;return n}var b3=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},w3=yt.unstable_scheduleCallback,S3=yt.unstable_NormalPriority,ht={$$typeof:Wr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T0(){return{controller:new b3,data:new Map,refCount:0}}function yc(e){e.refCount--,e.refCount===0&&w3(S3,function(){e.controller.abort()})}var hl=null,Ap=0,Js=0,Ls=null;function N3(e,t){if(hl===null){var n=hl=[];Ap=0,Js=J0(),Ls={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Ap++,t.then(Ox,Ox),t}function Ox(){if(--Ap===0&&hl!==null){Ls!==null&&(Ls.status="fulfilled");var e=hl;hl=null,Js=0,Ls=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function E3(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var $x=ce.S;ce.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&N3(e,t),$x!==null&&$x(e,t)};var To=jr(null);function R0(){var e=To.current;return e!==null?e:Ie.pooledCache}function Lu(e,t){t===null?Ge(To,To.current):Ge(To,t.pool)}function xN(){var e=R0();return e===null?null:{parent:ht._currentValue,pool:e}}var vc=Error(X(460)),bN=Error(X(474)),Cf=Error(X(542)),kp={then:function(){}};function Lx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qc(){}function wN(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(qc,qc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ix(e),e;default:if(typeof t.status=="string")t.then(qc,qc);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ix(e),e}throw ml=t,vc}}var ml=null;function Px(){if(ml===null)throw Error(X(459));var e=ml;return ml=null,e}function Ix(e){if(e===vc||e===Cf)throw Error(X(483))}var Ta=!1;function M0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=fd(e),pN(e,null,n),t}return _f(e,r,t,n),fd(e)}function pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,US(e,n)}}function Zh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Tp=!1;function gl(){if(Tp){var e=Ls;if(e!==null)throw e}}function yl(e,t,n,r){Tp=!1;var a=e.updateQueue;Ta=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==s&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=a.baseState;s=0,d=u=c=null,i=o;do{var f=i.lane&-536870913,m=f!==i.lane;if(m?(Ce&f)===f:(r&f)===f){f!==0&&f===Js&&(Tp=!0),d!==null&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var y=e,x=i;f=t;var w=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(w,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(w,h,f):y,f==null)break e;h=He({},h,f);break e;case 2:Ta=!0}}f=i.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[f]:m.push(f))}else m={lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,s|=f;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;m=i,i=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,o===null&&(a.shared.lanes=0),ro|=s,e.lanes=s,e.memoizedState=h}}function SN(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function NN(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)SN(n[e],t)}var ei=jr(null),gd=jr(0);function Bx(e,t){e=ca,Ge(gd,e),Ge(ei,t),ca=e|t.baseLanes}function Rp(){Ge(gd,ca),Ge(ei,ei.current)}function D0(){ca=gd.current,_t(ei),_t(gd)}var to=0,ve=null,Le=null,it=null,yd=!1,Ps=!1,Lo=!1,vd=0,Dl=0,Is=null,_3=0;function rt(){throw Error(X(321))}function z0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}function O0(e,t,n,r,a,o){return to=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ce.H=e===null||e.memoizedState===null?eE:tE,Lo=!1,o=n(r,a),Lo=!1,Ps&&(o=_N(t,n,r,a)),EN(e),o}function EN(e){ce.H=xd;var t=Le!==null&&Le.next!==null;if(to=0,it=Le=ve=null,yd=!1,Dl=0,Is=null,t)throw Error(X(300));e===null||St||(e=e.dependencies,e!==null&&pd(e)&&(St=!0))}function _N(e,t,n,r){ve=e;var a=0;do{if(Ps&&(Is=null),Dl=0,Ps=!1,25<=a)throw Error(X(301));if(a+=1,it=Le=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}ce.H=M3,o=t(n,r)}while(Ps);return o}function C3(){var e=ce.H,t=e.useState()[0];return t=typeof t.then=="function"?xc(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(ve.flags|=1024),t}function $0(){var e=vd!==0;return vd=0,e}function L0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function P0(e){if(yd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yd=!1}to=0,it=Le=ve=null,Ps=!1,Dl=vd=0,Is=null}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ve.memoizedState=it=e:it=it.next=e,it}function lt(){if(Le===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=it===null?ve.memoizedState:it.next;if(t!==null)it=t,Le=e;else{if(e===null)throw ve.alternate===null?Error(X(467)):Error(X(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},it===null?ve.memoizedState=it=e:it=it.next=e}return it}function I0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xc(e){var t=Dl;return Dl+=1,Is===null&&(Is=[]),e=wN(Is,e,t),t=ve,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,ce.H=t===null||t.memoizedState===null?eE:tE),e}function Af(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xc(e);if(e.$$typeof===Wr)return It(e)}throw Error(X(438,String(e)))}function B0(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ve.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=I0(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=uD;return t.index++,n}function ia(e,t){return typeof t=="function"?t(e):t}function Pu(e){var t=lt();return H0(t,Le,e)}function H0(e,t,n){var r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var i=s=null,c=null,u=t,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Ce&h)===h:(to&h)===h){var f=u.revertLane;if(f===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Js&&(d=!0);else if((to&f)===f){u=u.next,f===Js&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=h,s=o):c=c.next=h,ve.lanes|=f,ro|=f;h=u.action,Lo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=f,s=o):c=c.next=f,ve.lanes|=h,ro|=h;u=u.next}while(u!==null&&u!==t);if(c===null?s=o:c.next=i,!En(o,e.memoizedState)&&(St=!0,d&&(n=Ls,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yh(e){var t=lt(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);En(o,t.memoizedState)||(St=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function CN(e,t,n){var r=ve,a=lt(),o=ke;if(o){if(n===void 0)throw Error(X(407));n=n()}else n=t();var s=!En((Le||a).memoizedState,n);s&&(a.memoizedState=n,St=!0),a=a.queue;var i=jN.bind(null,r,a,e);if(bc(2048,8,i,[e]),a.getSnapshot!==t||s||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,ti(9,kf(),kN.bind(null,r,a,n,t),null),Ie===null)throw Error(X(349));o||to&124||AN(r,t,n)}return n}function AN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=I0(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kN(e,t,n,r){t.value=n,t.getSnapshot=r,TN(t)&&RN(e)}function jN(e,t,n){return n(function(){TN(t)&&RN(e)})}function TN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!En(e,n)}catch{return!0}}function RN(e){var t=xi(e,2);t!==null&&bn(t,e,2)}function Mp(e){var t=Wt();if(typeof e=="function"){var n=e;if(e=n(),Lo){Ha(!0);try{n()}finally{Ha(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function MN(e,t,n,r){return e.baseState=n,H0(e,Le,typeof r=="function"?r:ia)}function A3(e,t,n,r,a){if(jf(e))throw Error(X(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};ce.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,DN(t,o)):(o.next=n.next,t.pending=n.next=o)}}function DN(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=ce.T,s={};ce.T=s;try{var i=n(a,r),c=ce.S;c!==null&&c(s,i),Hx(e,t,i)}catch(u){Dp(e,t,u)}finally{ce.T=o}}else try{o=n(a,r),Hx(e,t,o)}catch(u){Dp(e,t,u)}}function Hx(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Fx(e,t,r)},function(r){return Dp(e,t,r)}):Fx(e,t,n)}function Fx(e,t,n){t.status="fulfilled",t.value=n,zN(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,DN(e,n)))}function Dp(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,zN(t),t=t.next;while(t!==r)}e.action=null}function zN(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ON(e,t){return t}function Ux(e,t){if(ke){var n=Ie.formState;if(n!==null){e:{var r=ve;if(ke){if(Qe){t:{for(var a=Qe,o=mr;a.nodeType!==8;){if(!o){a=null;break t}if(a=Wn(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){Qe=Wn(a.nextSibling),r=a.data==="F!";break e}}Oo(r)}r=!1}r&&(t=n[0])}}return n=Wt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ON,lastRenderedState:t},n.queue=r,n=KN.bind(null,ve,r),r.dispatch=n,r=Mp(!1),o=V0.bind(null,ve,!1,r.queue),r=Wt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=A3.bind(null,ve,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Gx(e){var t=lt();return $N(t,Le,e)}function $N(e,t,n){if(t=H0(e,t,ON)[0],e=Pu(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=xc(t)}catch(s){throw s===vc?Cf:s}else r=t;t=lt();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,ti(9,kf(),k3.bind(null,a,n),null)),[r,o,e]}function k3(e,t){e.action=t}function Vx(e){var t=lt(),n=Le;if(n!==null)return $N(t,n,e);lt(),t=t.memoizedState,n=lt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ti(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ve.updateQueue,t===null&&(t=I0(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function kf(){return{destroy:void 0,resource:void 0}}function LN(){return lt().memoizedState}function Iu(e,t,n,r){var a=Wt();r=r===void 0?null:r,ve.flags|=e,a.memoizedState=ti(1|t,kf(),n,r)}function bc(e,t,n,r){var a=lt();r=r===void 0?null:r;var o=a.memoizedState.inst;Le!==null&&r!==null&&z0(r,Le.memoizedState.deps)?a.memoizedState=ti(t,o,n,r):(ve.flags|=e,a.memoizedState=ti(1|t,o,n,r))}function Zx(e,t){Iu(8390656,8,e,t)}function PN(e,t){bc(2048,8,e,t)}function IN(e,t){return bc(4,2,e,t)}function BN(e,t){return bc(4,4,e,t)}function HN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FN(e,t,n){n=n!=null?n.concat([e]):null,bc(4,4,HN.bind(null,t,e),n)}function F0(){}function UN(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&z0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function GN(e,t){var n=lt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&z0(t,r[1]))return r[0];if(r=e(),Lo){Ha(!0);try{e()}finally{Ha(!1)}}return n.memoizedState=[r,t],r}function U0(e,t,n){return n===void 0||to&1073741824?e.memoizedState=t:(e.memoizedState=n,e=zE(),ve.lanes|=e,ro|=e,n)}function VN(e,t,n,r){return En(n,t)?n:ei.current!==null?(e=U0(e,n,r),En(e,t)||(St=!0),e):to&42?(e=zE(),ve.lanes|=e,ro|=e,t):(St=!0,e.memoizedState=n)}function ZN(e,t,n,r,a){var o=je.p;je.p=o!==0&&8>o?o:8;var s=ce.T,i={};ce.T=i,V0(e,!1,t,n);try{var c=a(),u=ce.S;if(u!==null&&u(i,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=E3(c,r);vl(e,t,d,xn(e))}else vl(e,t,r,xn(e))}catch(h){vl(e,t,{then:function(){},status:"rejected",reason:h},xn())}finally{je.p=o,ce.T=s}}function j3(){}function zp(e,t,n,r){if(e.tag!==5)throw Error(X(476));var a=YN(e).queue;ZN(e,a,t,Co,n===null?j3:function(){return qN(e),n(r)})}function YN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Co,baseState:Co,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Co},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qN(e){var t=YN(e).next.queue;vl(e,t,{},xn())}function G0(){return It(Pl)}function XN(){return lt().memoizedState}function WN(){return lt().memoizedState}function T3(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=xn();e=Ya(n);var r=qa(t,e,n);r!==null&&(bn(r,t,n),pl(r,t,n)),t={cache:T0()},e.payload=t;return}t=t.return}}function R3(e,t,n){var r=xn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},jf(e)?QN(t,n):(n=C0(e,t,n,r),n!==null&&(bn(n,e,r),JN(n,t,r)))}function KN(e,t,n){var r=xn();vl(e,t,n,r)}function vl(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(jf(e))QN(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,En(i,s))return _f(e,t,a,0),Ie===null&&Ef(),!1}catch{}finally{}if(n=C0(e,t,a,r),n!==null)return bn(n,e,r),JN(n,t,r),!0}return!1}function V0(e,t,n,r){if(r={lane:2,revertLane:J0(),action:r,hasEagerState:!1,eagerState:null,next:null},jf(e)){if(t)throw Error(X(479))}else t=C0(e,n,r,2),t!==null&&bn(t,e,2)}function jf(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function QN(e,t){Ps=yd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function JN(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,US(e,n)}}var xd={readContext:It,use:Af,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},eE={readContext:It,use:Af,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Zx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Iu(4194308,4,HN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Iu(4194308,4,e,t)},useInsertionEffect:function(e,t){Iu(4,2,e,t)},useMemo:function(e,t){var n=Wt();t=t===void 0?null:t;var r=e();if(Lo){Ha(!0);try{e()}finally{Ha(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Wt();if(n!==void 0){var a=n(t);if(Lo){Ha(!0);try{n(t)}finally{Ha(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=R3.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:function(e){e=Mp(e);var t=e.queue,n=KN.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:F0,useDeferredValue:function(e,t){var n=Wt();return U0(n,e,t)},useTransition:function(){var e=Mp(!1);return e=ZN.bind(null,ve,e.queue,!0,!1),Wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ve,a=Wt();if(ke){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Ie===null)throw Error(X(349));Ce&124||AN(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Zx(jN.bind(null,r,o,e),[e]),r.flags|=2048,ti(9,kf(),kN.bind(null,r,o,n,t),null),n},useId:function(){var e=Wt(),t=Ie.identifierPrefix;if(ke){var n=Qr,r=Kr;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,t=""+t+"R"+n,n=vd++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=_3++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:G0,useFormState:Ux,useActionState:Ux,useOptimistic:function(e){var t=Wt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=V0.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:B0,useCacheRefresh:function(){return Wt().memoizedState=T3.bind(null,ve)}},tE={readContext:It,use:Af,useCallback:UN,useContext:It,useEffect:PN,useImperativeHandle:FN,useInsertionEffect:IN,useLayoutEffect:BN,useMemo:GN,useReducer:Pu,useRef:LN,useState:function(){return Pu(ia)},useDebugValue:F0,useDeferredValue:function(e,t){var n=lt();return VN(n,Le.memoizedState,e,t)},useTransition:function(){var e=Pu(ia)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:xc(e),t]},useSyncExternalStore:CN,useId:XN,useHostTransitionStatus:G0,useFormState:Gx,useActionState:Gx,useOptimistic:function(e,t){var n=lt();return MN(n,Le,e,t)},useMemoCache:B0,useCacheRefresh:WN},M3={readContext:It,use:Af,useCallback:UN,useContext:It,useEffect:PN,useImperativeHandle:FN,useInsertionEffect:IN,useLayoutEffect:BN,useMemo:GN,useReducer:Yh,useRef:LN,useState:function(){return Yh(ia)},useDebugValue:F0,useDeferredValue:function(e,t){var n=lt();return Le===null?U0(n,e,t):VN(n,Le.memoizedState,e,t)},useTransition:function(){var e=Yh(ia)[0],t=lt().memoizedState;return[typeof e=="boolean"?e:xc(e),t]},useSyncExternalStore:CN,useId:XN,useHostTransitionStatus:G0,useFormState:Vx,useActionState:Vx,useOptimistic:function(e,t){var n=lt();return Le!==null?MN(n,Le,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:B0,useCacheRefresh:WN},Bs=null,zl=0;function Xc(e){var t=zl;return zl+=1,Bs===null&&(Bs=[]),wN(Bs,e,t)}function Ii(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Wc(e,t){throw t.$$typeof===lD?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yx(e){var t=e._init;return t(e._payload)}function nE(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(v,g){return v=na(v,g),v.index=0,v.sibling=null,v}function o(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=67108866,g):b):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function i(v,g,b,S){return g===null||g.tag!==6?(g=Gh(b,v.mode,S),g.return=v,g):(g=a(g,b),g.return=v,g)}function c(v,g,b,S){var E=b.type;return E===bs?d(v,g,b.props.children,S,b.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ja&&Yx(E)===g.type)?(g=a(g,b.props),Ii(g,b),g.return=v,g):(g=$u(b.type,b.key,b.props,null,v.mode,S),Ii(g,b),g.return=v,g)}function u(v,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Vh(b,v.mode,S),g.return=v,g):(g=a(g,b.children||[]),g.return=v,g)}function d(v,g,b,S,E){return g===null||g.tag!==7?(g=Ao(b,v.mode,S,E),g.return=v,g):(g=a(g,b),g.return=v,g)}function h(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Gh(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fc:return b=$u(g.type,g.key,g.props,null,v.mode,b),Ii(b,g),b.return=v,b;case Ji:return g=Vh(g,v.mode,b),g.return=v,g;case ja:var S=g._init;return g=S(g._payload),h(v,g,b)}if(el(g)||Oi(g))return g=Ao(g,v.mode,b,null),g.return=v,g;if(typeof g.then=="function")return h(v,Xc(g),b);if(g.$$typeof===Wr)return h(v,Yc(v,g),b);Wc(v,g)}return null}function f(v,g,b,S){var E=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return E!==null?null:i(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fc:return b.key===E?c(v,g,b,S):null;case Ji:return b.key===E?u(v,g,b,S):null;case ja:return E=b._init,b=E(b._payload),f(v,g,b,S)}if(el(b)||Oi(b))return E!==null?null:d(v,g,b,S,null);if(typeof b.then=="function")return f(v,g,Xc(b),S);if(b.$$typeof===Wr)return f(v,g,Yc(v,b),S);Wc(v,b)}return null}function m(v,g,b,S,E){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return v=v.get(b)||null,i(g,v,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fc:return v=v.get(S.key===null?b:S.key)||null,c(g,v,S,E);case Ji:return v=v.get(S.key===null?b:S.key)||null,u(g,v,S,E);case ja:var A=S._init;return S=A(S._payload),m(v,g,b,S,E)}if(el(S)||Oi(S))return v=v.get(b)||null,d(g,v,S,E,null);if(typeof S.then=="function")return m(v,g,b,Xc(S),E);if(S.$$typeof===Wr)return m(v,g,b,Yc(g,S),E);Wc(g,S)}return null}function y(v,g,b,S){for(var E=null,A=null,N=g,_=g=0,j=null;N!==null&&_<b.length;_++){N.index>_?(j=N,N=null):j=N.sibling;var C=f(v,N,b[_],S);if(C===null){N===null&&(N=j);break}e&&N&&C.alternate===null&&t(v,N),g=o(C,g,_),A===null?E=C:A.sibling=C,A=C,N=j}if(_===b.length)return n(v,N),ke&&vo(v,_),E;if(N===null){for(;_<b.length;_++)N=h(v,b[_],S),N!==null&&(g=o(N,g,_),A===null?E=N:A.sibling=N,A=N);return ke&&vo(v,_),E}for(N=r(N);_<b.length;_++)j=m(N,v,_,b[_],S),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?_:j.key),g=o(j,g,_),A===null?E=j:A.sibling=j,A=j);return e&&N.forEach(function(R){return t(v,R)}),ke&&vo(v,_),E}function x(v,g,b,S){if(b==null)throw Error(X(151));for(var E=null,A=null,N=g,_=g=0,j=null,C=b.next();N!==null&&!C.done;_++,C=b.next()){N.index>_?(j=N,N=null):j=N.sibling;var R=f(v,N,C.value,S);if(R===null){N===null&&(N=j);break}e&&N&&R.alternate===null&&t(v,N),g=o(R,g,_),A===null?E=R:A.sibling=R,A=R,N=j}if(C.done)return n(v,N),ke&&vo(v,_),E;if(N===null){for(;!C.done;_++,C=b.next())C=h(v,C.value,S),C!==null&&(g=o(C,g,_),A===null?E=C:A.sibling=C,A=C);return ke&&vo(v,_),E}for(N=r(N);!C.done;_++,C=b.next())C=m(N,v,_,C.value,S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?_:C.key),g=o(C,g,_),A===null?E=C:A.sibling=C,A=C);return e&&N.forEach(function(B){return t(v,B)}),ke&&vo(v,_),E}function w(v,g,b,S){if(typeof b=="object"&&b!==null&&b.type===bs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fc:e:{for(var E=b.key;g!==null;){if(g.key===E){if(E=b.type,E===bs){if(g.tag===7){n(v,g.sibling),S=a(g,b.props.children),S.return=v,v=S;break e}}else if(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ja&&Yx(E)===g.type){n(v,g.sibling),S=a(g,b.props),Ii(S,b),S.return=v,v=S;break e}n(v,g);break}else t(v,g);g=g.sibling}b.type===bs?(S=Ao(b.props.children,v.mode,S,b.key),S.return=v,v=S):(S=$u(b.type,b.key,b.props,null,v.mode,S),Ii(S,b),S.return=v,v=S)}return s(v);case Ji:e:{for(E=b.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(v,g.sibling),S=a(g,b.children||[]),S.return=v,v=S;break e}else{n(v,g);break}else t(v,g);g=g.sibling}S=Vh(b,v.mode,S),S.return=v,v=S}return s(v);case ja:return E=b._init,b=E(b._payload),w(v,g,b,S)}if(el(b))return y(v,g,b,S);if(Oi(b)){if(E=Oi(b),typeof E!="function")throw Error(X(150));return b=E.call(b),x(v,g,b,S)}if(typeof b.then=="function")return w(v,g,Xc(b),S);if(b.$$typeof===Wr)return w(v,g,Yc(v,b),S);Wc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,g!==null&&g.tag===6?(n(v,g.sibling),S=a(g,b),S.return=v,v=S):(n(v,g),S=Gh(b,v.mode,S),S.return=v,v=S),s(v)):n(v,g)}return function(v,g,b,S){try{zl=0;var E=w(v,g,b,S);return Bs=null,E}catch(N){if(N===vc||N===Cf)throw N;var A=gn(29,N,null,v.mode);return A.lanes=S,A.return=v,A}finally{}}}var ni=nE(!0),rE=nE(!1),Bn=jr(null),Sr=null;function za(e){var t=e.alternate;Ge(mt,mt.current&1),Ge(Bn,e),Sr===null&&(t===null||ei.current!==null||t.memoizedState!==null)&&(Sr=e)}function aE(e){if(e.tag===22){if(Ge(mt,mt.current),Ge(Bn,e),Sr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Sr=e)}}else Oa()}function Oa(){Ge(mt,mt.current),Ge(Bn,Bn.current)}function ea(e){_t(Bn),Sr===e&&(Sr=null),_t(mt)}var mt=jr(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Kp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function qh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Op={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xn(),a=Ya(r);a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,r),t!==null&&(bn(t,e,r),pl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xn(),a=Ya(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qa(e,a,r),t!==null&&(bn(t,e,r),pl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xn(),r=Ya(n);r.tag=2,t!=null&&(r.callback=t),t=qa(e,r,n),t!==null&&(bn(t,e,n),pl(t,e,n))}};function qx(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Rl(n,r)||!Rl(a,o):!0}function Xx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Op.enqueueReplaceState(t,t.state,null)}function Po(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=He({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var wd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function oE(e){wd(e)}function sE(e){console.error(e)}function iE(e){wd(e)}function Sd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Wx(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function $p(e,t,n){return n=Ya(n),n.tag=3,n.payload={element:null},n.callback=function(){Sd(e,t)},n}function lE(e){return e=Ya(e),e.tag=3,e}function cE(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Wx(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Wx(t,n,r),typeof a!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function D3(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&gc(t,n,a,!0),n=Bn.current,n!==null){switch(n.tag){case 13:return Sr===null?Gp():n.alternate===null&&et===0&&(et=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===kp?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),om(e,r,a)),!1;case 22:return n.flags|=65536,r===kp?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),om(e,r,a)),!1}throw Error(X(435,n.tag))}return om(e,r,a),Gp(),!1}if(ke)return t=Bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Np&&(e=Error(X(422),{cause:r}),Ml(On(e,n)))):(r!==Np&&(t=Error(X(423),{cause:r}),Ml(On(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=On(r,n),a=$p(e.stateNode,r,a),Zh(e,a),et!==4&&(et=2)),!1;var o=Error(X(520),{cause:r});if(o=On(o,n),wl===null?wl=[o]:wl.push(o),et!==4&&(et=2),t===null)return!0;r=On(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=$p(n.stateNode,r,e),Zh(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Xa===null||!Xa.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=lE(a),cE(a,e,n,r),Zh(n,a),!1}n=n.return}while(n!==null);return!1}var uE=Error(X(461)),St=!1;function Tt(e,t,n,r){t.child=e===null?rE(t,null,n,r):ni(t,e.child,n,r)}function Kx(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)i!=="ref"&&(s[i]=r[i])}else s=r;return $o(t),r=O0(e,t,n,s,o,a),i=$0(),e!==null&&!St?(L0(e,t,a),la(e,t,a)):(ke&&i&&k0(t),t.flags|=1,Tt(e,t,r,a),t.child)}function Qx(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!A0(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,dE(e,t,o,r,a)):(e=$u(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Z0(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Rl,n(s,r)&&e.ref===t.ref)return la(e,t,a)}return t.flags|=1,e=na(o,r),e.ref=t.ref,e.return=t,t.child=e}function dE(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Rl(o,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=o,Z0(e,a))e.flags&131072&&(St=!0);else return t.lanes=e.lanes,la(e,t,a)}return Lp(e,t,n,r,a)}function fE(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Jx(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(t,o!==null?o.cachePool:null),o!==null?Bx(t,o):Rp(),aE(t);else return t.lanes=t.childLanes=536870912,Jx(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Lu(t,o.cachePool),Bx(t,o),Oa(),t.memoizedState=null):(e!==null&&Lu(t,null),Rp(),Oa());return Tt(e,t,a,n),t.child}function Jx(e,t,n,r){var a=R0();return a=a===null?null:{parent:ht._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Lu(t,null),Rp(),aE(t),e!==null&&gc(e,t,r,!0),null}function Bu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Lp(e,t,n,r,a){return $o(t),n=O0(e,t,n,r,void 0,a),r=$0(),e!==null&&!St?(L0(e,t,a),la(e,t,a)):(ke&&r&&k0(t),t.flags|=1,Tt(e,t,n,a),t.child)}function eb(e,t,n,r,a,o){return $o(t),t.updateQueue=null,n=_N(t,r,n,a),EN(e),r=$0(),e!==null&&!St?(L0(e,t,o),la(e,t,o)):(ke&&r&&k0(t),t.flags|=1,Tt(e,t,n,o),t.child)}function tb(e,t,n,r,a){if($o(t),t.stateNode===null){var o=ks,s=n.contextType;typeof s=="object"&&s!==null&&(o=It(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Op,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},M0(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?It(s):ks,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(qh(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&Op.enqueueReplaceState(o,o.state,null),yl(t,r,o,a),gl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var i=t.memoizedProps,c=Po(n,i);o.props=c;var u=o.context,d=n.contextType;s=ks,typeof d=="object"&&d!==null&&(s=It(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i||u!==s)&&Xx(t,o,r,s),Ta=!1;var f=t.memoizedState;o.state=f,yl(t,r,o,a),gl(),u=t.memoizedState,i||f!==u||Ta?(typeof h=="function"&&(qh(t,n,h,r),u=t.memoizedState),(c=Ta||qx(t,n,c,r,f,u,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,jp(e,t),s=t.memoizedProps,d=Po(n,s),o.props=d,h=t.pendingProps,f=o.context,u=n.contextType,c=ks,typeof u=="object"&&u!==null&&(c=It(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==h||f!==c)&&Xx(t,o,r,c),Ta=!1,f=t.memoizedState,o.state=f,yl(t,r,o,a),gl();var m=t.memoizedState;s!==h||f!==m||Ta||e!==null&&e.dependencies!==null&&pd(e.dependencies)?(typeof i=="function"&&(qh(t,n,i,r),m=t.memoizedState),(d=Ta||qx(t,n,d,r,f,m,c)||e!==null&&e.dependencies!==null&&pd(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Bu(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=ni(t,e.child,null,a),t.child=ni(t,null,n,a)):Tt(e,t,n,a),t.memoizedState=o.state,e=t.child):e=la(e,t,a),e}function nb(e,t,n,r){return pc(),t.flags|=256,Tt(e,t,n,r),t.child}var Xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(e){return{baseLanes:e,cachePool:xN()}}function Kh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ln),e}function hE(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(a?za(t):Oa(),ke){var i=Qe,c;if(c=i){e:{for(c=i,i=mr;c.nodeType!==8;){if(!i){i=null;break e}if(c=Wn(c.nextSibling),c===null){i=null;break e}}i=c}i!==null?(t.memoizedState={dehydrated:i,treeContext:ko!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},c=gn(18,null,null,0),c.stateNode=i,c.return=t,t.child=c,Ft=t,Qe=null,c=!0):c=!1}c||Oo(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Kp(i)?t.lanes=32:t.lanes=536870912,null;ea(t)}return i=r.children,r=r.fallback,a?(Oa(),a=t.mode,i=Nd({mode:"hidden",children:i},a),r=Ao(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=Wh(n),a.childLanes=Kh(e,s,n),t.memoizedState=Xh,r):(za(t),Pp(t,i))}if(c=e.memoizedState,c!==null&&(i=c.dehydrated,i!==null)){if(o)t.flags&256?(za(t),t.flags&=-257,t=Qh(e,t,n)):t.memoizedState!==null?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),a=r.fallback,i=t.mode,r=Nd({mode:"visible",children:r.children},i),a=Ao(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ni(t,e.child,null,n),r=t.child,r.memoizedState=Wh(n),r.childLanes=Kh(e,s,n),t.memoizedState=Xh,t=a);else if(za(t),Kp(i)){if(s=i.nextSibling&&i.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(X(419)),r.stack="",r.digest=s,Ml({value:r,source:null,stack:null}),t=Qh(e,t,n)}else if(St||gc(e,t,n,!1),s=(n&e.childLanes)!==0,St||s){if(s=Ie,s!==null&&(r=n&-n,r=r&42?1:g0(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,xi(e,r),bn(s,e,r),uE;i.data==="$?"||Gp(),t=Qh(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Qe=Wn(i.nextSibling),Ft=t,ke=!0,jo=null,mr=!1,e!==null&&(Mn[Dn++]=Kr,Mn[Dn++]=Qr,Mn[Dn++]=ko,Kr=e.id,Qr=e.overflow,ko=t),t=Pp(t,r.children),t.flags|=4096);return t}return a?(Oa(),a=r.fallback,i=t.mode,c=e.child,u=c.sibling,r=na(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=na(u,a):(a=Ao(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=Wh(n):(c=i.cachePool,c!==null?(u=ht._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=xN(),i={baseLanes:i.baseLanes|n,cachePool:c}),a.memoizedState=i,a.childLanes=Kh(e,s,n),t.memoizedState=Xh,r):(za(t),n=e.child,e=n.sibling,n=na(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Pp(e,t){return t=Nd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nd(e,t){return e=gn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qh(e,t,n){return ni(t,e.child,null,n),e=Pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),_p(e.return,t,n)}function Jh(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function mE(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rb(e,n,t);else if(e.tag===19)rb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ge(mt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&bd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jh(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jh(t,!0,n,null,o);break;case"together":Jh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,!(n&t.childLanes))if(e!==null){if(gc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=na(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=na(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Z0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&pd(e)))}function z3(e,t,n){switch(t.tag){case 3:id(t,t.stateNode.containerInfo),Da(t,ht,e.memoizedState.cache),pc();break;case 27:case 5:hp(t);break;case 4:id(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(za(t),t.flags|=128,null):n&t.child.childLanes?hE(e,t,n):(za(t),e=la(e,t,n),e!==null?e.sibling:null);za(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(gc(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return mE(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ge(mt,mt.current),r)break;return null;case 22:case 23:return t.lanes=0,fE(e,t,n);case 24:Da(t,ht,e.memoizedState.cache)}return la(e,t,n)}function pE(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!Z0(e,n)&&!(t.flags&128))return St=!1,z3(e,t,n);St=!!(e.flags&131072)}else St=!1,ke&&t.flags&1048576&&yN(t,md,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")A0(r)?(e=Po(r,e),t.tag=1,t=tb(null,t,r,e,n)):(t.tag=0,t=Lp(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===h0){t.tag=11,t=Kx(null,t,r,e,n);break e}else if(a===m0){t.tag=14,t=Qx(null,t,r,e,n);break e}}throw t=dp(r)||r,Error(X(306,t,""))}}return t;case 0:return Lp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Po(r,t.pendingProps),tb(e,t,r,a,n);case 3:e:{if(id(t,t.stateNode.containerInfo),e===null)throw Error(X(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,jp(e,t),yl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Da(t,ht,r),r!==o.cache&&Cp(t,[ht],n,!0),gl(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=nb(e,t,r,n);break e}else if(r!==a){a=On(Error(X(424)),t),Ml(a),t=nb(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=Wn(e.firstChild),Ft=t,ke=!0,jo=null,mr=!0,n=rE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pc(),r===a){t=la(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 26:return Bu(e,t),e===null?(n=bb(t.type,null,t.pendingProps,null))?t.memoizedState=n:ke||(n=t.type,e=t.pendingProps,r=Td(Za.current).createElement(n),r[Pt]=t,r[en]=e,Dt(r,n,e),wt(r),t.stateNode=r):t.memoizedState=bb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hp(t),e===null&&ke&&(r=t.stateNode=t_(t.type,t.pendingProps,Za.current),Ft=t,mr=!0,a=Qe,io(t.type)?(Qp=a,Qe=Wn(r.firstChild)):Qe=a),Tt(e,t,t.pendingProps.children,n),Bu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((a=r=Qe)&&(r=l4(r,t.type,t.pendingProps,mr),r!==null?(t.stateNode=r,Ft=t,Qe=Wn(r.firstChild),mr=!1,a=!0):a=!1),a||Oo(t)),hp(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,Xp(a,o)?r=null:s!==null&&Xp(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=O0(e,t,C3,null,null,n),Pl._currentValue=a),Bu(e,t),Tt(e,t,r,n),t.child;case 6:return e===null&&ke&&((e=n=Qe)&&(n=c4(n,t.pendingProps,mr),n!==null?(t.stateNode=n,Ft=t,Qe=null,e=!0):e=!1),e||Oo(t)),null;case 13:return hE(e,t,n);case 4:return id(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ni(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return Kx(e,t,t.type,t.pendingProps,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Da(t,t.type,r.value),Tt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,$o(t),a=It(a),r=r(a),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return Qx(e,t,t.type,t.pendingProps,n);case 15:return dE(e,t,t.type,t.pendingProps,n);case 19:return mE(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Nd(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=na(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return fE(e,t,n);case 24:return $o(t),r=It(ht),e===null?(a=R0(),a===null&&(a=Ie,o=T0(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},M0(t),Da(t,ht,a)):(e.lanes&n&&(jp(e,t),yl(t,null,null,n),gl()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Da(t,ht,r)):(r=o.cache,Da(t,ht,r),r!==a.cache&&Cp(t,[ht],n,!0))),Tt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function Ur(e){e.flags|=4}function ab(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!a_(t)){if(t=Bn.current,t!==null&&((Ce&4194048)===Ce?Sr!==null:(Ce&62914560)!==Ce&&!(Ce&536870912)||t!==Sr))throw ml=kp,bN;e.flags|=8192}}function Kc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?HS():536870912,e.lanes|=t,ri|=t)}function Bi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function O3(e,t,n){var r=t.pendingProps;switch(j0(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ra(ht),Ws(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?Ur(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zx())),Ye(t),null;case 26:return n=t.memoizedState,e===null?(Ur(t),n!==null?(Ye(t),ab(t,n)):(Ye(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Ur(t),Ye(t),ab(t,n)):(Ye(t),t.flags&=-16777217):(e.memoizedProps!==r&&Ur(t),Ye(t),t.flags&=-16777217),null;case 27:ld(t),n=Za.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Ye(t),null}e=br.current,Pi(t)?Mx(t):(e=t_(a,r,n),t.stateNode=e,Ur(t))}return Ye(t),null;case 5:if(ld(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Ye(t),null}if(e=br.current,Pi(t))Mx(t);else{switch(a=Td(Za.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Pt]=t,e[en]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Dt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ur(t)}}return Ye(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ur(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(e=Za.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ft,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Pt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||QE(e.nodeValue,n)),e||Oo(t)}else e=Td(e).createTextNode(r),e[Pt]=t,t.stateNode=e}return Ye(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Pt]=t}else pc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),a=!1}else a=zx(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ea(t),t):(ea(t),null)}if(ea(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Kc(t,t.updateQueue),Ye(t),null;case 4:return Ws(),e===null&&ey(t.stateNode.containerInfo),Ye(t),null;case 10:return ra(t.type),Ye(t),null;case 19:if(_t(mt),a=t.memoizedState,a===null)return Ye(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Bi(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bd(e),o!==null){for(t.flags|=128,Bi(a,!1),e=o.updateQueue,t.updateQueue=e,Kc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)gN(n,e),n=n.sibling;return Ge(mt,mt.current&1|2),t.child}e=e.sibling}a.tail!==null&&wr()>_d&&(t.flags|=128,r=!0,Bi(a,!1),t.lanes=4194304)}else{if(!r)if(e=bd(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Kc(t,e),Bi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ke)return Ye(t),null}else 2*wr()-a.renderingStartTime>_d&&n!==536870912&&(t.flags|=128,r=!0,Bi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=wr(),t.sibling=null,e=mt.current,Ge(mt,r?e&1|2:e&1),t):(Ye(t),null);case 22:case 23:return ea(t),D0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),n=t.updateQueue,n!==null&&Kc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&_t(To),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra(ht),Ye(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function $3(e,t){switch(j0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(ht),Ws(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ld(t),null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));pc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(mt),null;case 4:return Ws(),null;case 10:return ra(t.type),null;case 22:case 23:return ea(t),D0(),e!==null&&_t(To),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(ht),null;case 25:return null;default:return null}}function gE(e,t){switch(j0(t),t.tag){case 3:ra(ht),Ws();break;case 26:case 27:case 5:ld(t);break;case 4:Ws();break;case 13:ea(t);break;case 19:_t(mt);break;case 10:ra(t.type);break;case 22:case 23:ea(t),D0(),e!==null&&_t(To);break;case 24:ra(ht)}}function wc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){Pe(t,t.return,i)}}function no(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(i!==void 0){s.destroy=void 0,a=t;var c=n,u=i;try{u()}catch(d){Pe(a,c,d)}}}r=r.next}while(r!==o)}}catch(d){Pe(t,t.return,d)}}function yE(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{NN(t,n)}catch(r){Pe(e,e.return,r)}}}function vE(e,t,n){n.props=Po(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pe(e,t,r)}}function xl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Pe(e,t,a)}}function gr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Pe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Pe(e,t,a)}else n.current=null}function xE(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Pe(e,e.return,a)}}function em(e,t,n){try{var r=e.stateNode;r4(r,e.type,n,t),r[en]=t}catch(a){Pe(e,e.return,a)}}function bE(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&io(e.type)||e.tag===4}function tm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&io(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ip(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Df));else if(r!==4&&(r===27&&io(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ip(e,t,n),e=e.sibling;e!==null;)Ip(e,t,n),e=e.sibling}function Ed(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&io(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ed(e,t,n),e=e.sibling;e!==null;)Ed(e,t,n),e=e.sibling}function wE(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Dt(t,r,n),t[Pt]=e,t[en]=n}catch(o){Pe(e,e.return,o)}}var Yr=!1,at=!1,nm=!1,ob=typeof WeakSet=="function"?WeakSet:Set,bt=null;function L3(e,t){if(e=e.containerInfo,Yp=zd,e=lN(e),E0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||a!==0&&h.nodeType!==3||(i=s+a),h!==o||r!==0&&h.nodeType!==3||(c=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===a&&(i=s),f===o&&++d===r&&(c=s),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(qp={focusedElem:e,selectionRange:n},zd=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var y=Po(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(y,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){Pe(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function SE(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ea(e,n),r&4&&wc(5,n);break;case 1:if(Ea(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Pe(n,n.return,s)}else{var a=Po(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Pe(n,n.return,s)}}r&64&&yE(n),r&512&&xl(n,n.return);break;case 3:if(Ea(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{NN(e,t)}catch(s){Pe(n,n.return,s)}}break;case 27:t===null&&r&4&&wE(n);case 26:case 5:Ea(e,n),t===null&&r&4&&xE(n),r&512&&xl(n,n.return);break;case 12:Ea(e,n);break;case 13:Ea(e,n),r&4&&_E(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Z3.bind(null,n),u4(e,n))));break;case 22:if(r=n.memoizedState!==null||Yr,!r){t=t!==null&&t.memoizedState!==null||at,a=Yr;var o=at;Yr=r,(at=t)&&!o?Aa(e,n,(n.subtreeFlags&8772)!==0):Ea(e,n),Yr=a,at=o}break;case 30:break;default:Ea(e,n)}}function NE(e){var t=e.alternate;t!==null&&(e.alternate=null,NE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&v0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fe=null,Kt=!1;function Gr(e,t,n){for(n=n.child;n!==null;)EE(e,t,n),n=n.sibling}function EE(e,t,n){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(uc,n)}catch{}switch(n.tag){case 26:at||gr(n,t),Gr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:at||gr(n,t);var r=Fe,a=Kt;io(n.type)&&(Fe=n.stateNode,Kt=!1),Gr(e,t,n),Nl(n.stateNode),Fe=r,Kt=a;break;case 5:at||gr(n,t);case 6:if(r=Fe,a=Kt,Fe=null,Gr(e,t,n),Fe=r,Kt=a,Fe!==null)if(Kt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(o){Pe(n,t,o)}else try{Fe.removeChild(n.stateNode)}catch(o){Pe(n,t,o)}break;case 18:Fe!==null&&(Kt?(e=Fe,yb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Hl(e)):yb(Fe,n.stateNode));break;case 4:r=Fe,a=Kt,Fe=n.stateNode.containerInfo,Kt=!0,Gr(e,t,n),Fe=r,Kt=a;break;case 0:case 11:case 14:case 15:at||no(2,n,t),at||no(4,n,t),Gr(e,t,n);break;case 1:at||(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&vE(n,t,r)),Gr(e,t,n);break;case 21:Gr(e,t,n);break;case 22:at=(r=at)||n.memoizedState!==null,Gr(e,t,n),at=r;break;default:Gr(e,t,n)}}function _E(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Hl(e)}catch(n){Pe(t,t.return,n)}}function P3(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ob),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ob),t;default:throw Error(X(435,e.tag))}}function rm(e,t){var n=P3(e);t.forEach(function(r){var a=Y3.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 27:if(io(i.type)){Fe=i.stateNode,Kt=!1;break e}break;case 5:Fe=i.stateNode,Kt=!1;break e;case 3:case 4:Fe=i.stateNode.containerInfo,Kt=!0;break e}i=i.return}if(Fe===null)throw Error(X(160));EE(o,s,a),Fe=null,Kt=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)CE(t,e),t=t.sibling}var qn=null;function CE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(t,e),cn(e),r&4&&(no(3,e,e.return),wc(3,e),no(5,e,e.return));break;case 1:ln(t,e),cn(e),r&512&&(at||n===null||gr(n,n.return)),r&64&&Yr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=qn;if(ln(t,e),cn(e),r&512&&(at||n===null||gr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":o=a.getElementsByTagName("title")[0],(!o||o[hc]||o[Pt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Dt(o,r,n),o[Pt]=e,wt(o),r=o;break e;case"link":var s=Sb("link","href",a).get(r+(n.href||""));if(s){for(var i=0;i<s.length;i++)if(o=s[i],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(i,1);break t}}o=a.createElement(r),Dt(o,r,n),a.head.appendChild(o);break;case"meta":if(s=Sb("meta","content",a).get(r+(n.content||""))){for(i=0;i<s.length;i++)if(o=s[i],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(i,1);break t}}o=a.createElement(r),Dt(o,r,n),a.head.appendChild(o);break;default:throw Error(X(468,r))}o[Pt]=e,wt(o),r=o}e.stateNode=r}else Nb(a,e.type,e.stateNode);else e.stateNode=wb(a,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Nb(a,e.type,e.stateNode):wb(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&em(e,e.memoizedProps,n.memoizedProps)}break;case 27:ln(t,e),cn(e),r&512&&(at||n===null||gr(n,n.return)),n!==null&&r&4&&em(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ln(t,e),cn(e),r&512&&(at||n===null||gr(n,n.return)),e.flags&32){a=e.stateNode;try{Qs(a,"")}catch(m){Pe(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,em(e,a,n!==null?n.memoizedProps:a)),r&1024&&(nm=!0);break;case 6:if(ln(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(X(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Pe(e,e.return,m)}}break;case 3:if(Uu=null,a=qn,qn=Rd(t.containerInfo),ln(t,e),qn=a,cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(m){Pe(e,e.return,m)}nm&&(nm=!1,AE(e));break;case 4:r=qn,qn=Rd(e.stateNode.containerInfo),ln(t,e),cn(e),qn=r;break;case 12:ln(t,e),cn(e);break;case 13:ln(t,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(K0=wr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,rm(e,r)));break;case 22:a=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Yr,d=at;if(Yr=u||a,at=d||c,ln(t,e),at=d,Yr=u,cn(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||c||Yr||at||xo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(o=c.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{i=c.stateNode;var h=c.memoizedProps.style,f=h!=null&&h.hasOwnProperty("display")?h.display:null;i.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(m){Pe(c,c.return,m)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){Pe(c,c.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,rm(e,n))));break;case 19:ln(t,e),cn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,rm(e,r)));break;case 30:break;case 21:break;default:ln(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(bE(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var a=n.stateNode,o=tm(e);Ed(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Qs(s,""),n.flags&=-33);var i=tm(e);Ed(e,i,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=tm(e);Ip(e,u,c);break;default:throw Error(X(161))}}catch(d){Pe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function AE(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;AE(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ea(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)SE(e,t.alternate,t),t=t.sibling}function xo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:no(4,t,t.return),xo(t);break;case 1:gr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vE(t,t.return,n),xo(t);break;case 27:Nl(t.stateNode);case 26:case 5:gr(t,t.return),xo(t);break;case 22:t.memoizedState===null&&xo(t);break;case 30:xo(t);break;default:xo(t)}e=e.sibling}}function Aa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Aa(a,o,n),wc(4,o);break;case 1:if(Aa(a,o,n),r=o,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Pe(r,r.return,u)}if(r=o,a=r.updateQueue,a!==null){var i=r.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)SN(c[a],i)}catch(u){Pe(r,r.return,u)}}n&&s&64&&yE(o),xl(o,o.return);break;case 27:wE(o);case 26:case 5:Aa(a,o,n),n&&r===null&&s&4&&xE(o),xl(o,o.return);break;case 12:Aa(a,o,n);break;case 13:Aa(a,o,n),n&&s&4&&_E(a,o);break;case 22:o.memoizedState===null&&Aa(a,o,n),xl(o,o.return);break;case 30:break;default:Aa(a,o,n)}t=t.sibling}}function Y0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&yc(n))}function q0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yc(e))}function dr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kE(e,t,n,r),t=t.sibling}function kE(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:dr(e,t,n,r),a&2048&&wc(9,t);break;case 1:dr(e,t,n,r);break;case 3:dr(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yc(e)));break;case 12:if(a&2048){dr(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;typeof i=="function"&&i(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Pe(t,t.return,c)}}else dr(e,t,n,r);break;case 13:dr(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?dr(e,t,n,r):bl(e,t):o._visibility&2?dr(e,t,n,r):(o._visibility|=2,gs(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&Y0(s,t);break;case 24:dr(e,t,n,r),a&2048&&q0(t.alternate,t);break;default:dr(e,t,n,r)}}function gs(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,s=t,i=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:gs(o,s,i,c,a),wc(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?gs(o,s,i,c,a):bl(o,s):(d._visibility|=2,gs(o,s,i,c,a)),a&&u&2048&&Y0(s.alternate,s);break;case 24:gs(o,s,i,c,a),a&&u&2048&&q0(s.alternate,s);break;default:gs(o,s,i,c,a)}t=t.sibling}}function bl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:bl(n,r),a&2048&&Y0(r.alternate,r);break;case 24:bl(n,r),a&2048&&q0(r.alternate,r);break;default:bl(n,r)}t=t.sibling}}var nl=8192;function rs(e){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)jE(e),e=e.sibling}function jE(e){switch(e.tag){case 26:rs(e),e.flags&nl&&e.memoizedState!==null&&N4(qn,e.memoizedState,e.memoizedProps);break;case 5:rs(e);break;case 3:case 4:var t=qn;qn=Rd(e.stateNode.containerInfo),rs(e),qn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=nl,nl=16777216,rs(e),nl=t):rs(e));break;default:rs(e)}}function TE(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];bt=r,ME(r,e)}TE(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)RE(e),e=e.sibling}function RE(e){switch(e.tag){case 0:case 11:case 15:Hi(e),e.flags&2048&&no(9,e,e.return);break;case 3:Hi(e);break;case 12:Hi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hu(e)):Hi(e);break;default:Hi(e)}}function Hu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];bt=r,ME(r,e)}TE(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:no(8,t,t.return),Hu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hu(t));break;default:Hu(t)}e=e.sibling}}function ME(e,t){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:no(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:yc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bt=r;else e:for(n=e;bt!==null;){r=bt;var a=r.sibling,o=r.return;if(NE(r),r===n){bt=null;break e}if(a!==null){a.return=o,bt=a;break e}bt=o}}}var I3={getCacheForType:function(e){var t=It(ht),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},B3=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ie=null,Se=null,Ce=0,ze=0,fn=null,Ua=!1,bi=!1,X0=!1,ca=0,et=0,ro=0,Ro=0,W0=0,Ln=0,ri=0,wl=null,Qt=null,Bp=!1,K0=0,_d=1/0,Cd=null,Xa=null,Rt=0,Wa=null,ai=null,Hs=0,Hp=0,Fp=null,DE=null,Sl=0,Up=null;function xn(){if(Oe&2&&Ce!==0)return Ce&-Ce;if(ce.T!==null){var e=Js;return e!==0?e:J0()}return GS()}function zE(){Ln===0&&(Ln=!(Ce&536870912)||ke?BS():536870912);var e=Bn.current;return e!==null&&(e.flags|=32),Ln}function bn(e,t,n){(e===Ie&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(oi(e,0),Ga(e,Ce,Ln,!1)),fc(e,n),(!(Oe&2)||e!==Ie)&&(e===Ie&&(!(Oe&2)&&(Ro|=n),et===4&&Ga(e,Ce,Ln,!1)),Tr(e))}function OE(e,t,n){if(Oe&6)throw Error(X(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||dc(e,t),a=r?U3(e,t):am(e,t,!0),o=r;do{if(a===0){bi&&!r&&Ga(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!H3(n)){a=am(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var i=e;a=wl;var c=i.current.memoizedState.isDehydrated;if(c&&(oi(i,s).flags|=256),s=am(i,s,!1),s!==2){if(X0&&!c){i.errorRecoveryDisabledLanes|=o,Ro|=o,a=4;break e}o=Qt,Qt=a,o!==null&&(Qt===null?Qt=o:Qt.push.apply(Qt,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){oi(e,0),Ga(e,t,0,!0);break}e:{switch(r=e,o=a,o){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Ga(r,t,Ln,!Ua);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(a=K0+300-wr(),10<a)){if(Ga(r,t,Ln,!Ua),bf(r,0,!0)!==0)break e;r.timeoutHandle=e_(sb.bind(null,r,n,Qt,Cd,Bp,t,Ln,Ro,ri,Ua,o,2,-0,0),a);break e}sb(r,n,Qt,Cd,Bp,t,Ln,Ro,ri,Ua,o,0,-0,0)}}break}while(!0);Tr(e)}function sb(e,t,n,r,a,o,s,i,c,u,d,h,f,m){if(e.timeoutHandle=-1,h=t.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:S4},jE(t),h=E4(),h!==null)){e.cancelPendingCommit=h(lb.bind(null,e,t,o,n,r,a,s,i,c,d,1,f,m)),Ga(e,o,s,!u);return}lb(e,t,o,n,r,a,s,i,c)}function H3(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!En(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,n,r){t&=~W0,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-vn(a),s=1<<o;r[o]=-1,a&=~s}n!==0&&FS(e,n,t)}function Tf(){return Oe&6?!0:(Sc(0),!1)}function Q0(){if(Se!==null){if(ze===0)var e=Se.return;else e=Se,Jr=Wo=null,P0(e),Bs=null,zl=0,e=Se;for(;e!==null;)gE(e.alternate,e),e=e.return;Se=null}}function oi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,o4(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Q0(),Ie=e,Se=n=na(e.current,null),Ce=t,ze=0,fn=null,Ua=!1,bi=dc(e,t),X0=!1,ri=Ln=W0=Ro=ro=et=0,Qt=wl=null,Bp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-vn(r),o=1<<a;t|=e[a],r&=~o}return ca=t,Ef(),n}function $E(e,t){ve=null,ce.H=xd,t===vc||t===Cf?(t=Px(),ze=3):t===bN?(t=Px(),ze=4):ze=t===uE?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,fn=t,Se===null&&(et=1,Sd(e,On(t,e.current)))}function LE(){var e=ce.H;return ce.H=xd,e===null?xd:e}function PE(){var e=ce.A;return ce.A=I3,e}function Gp(){et=4,Ua||(Ce&4194048)!==Ce&&Bn.current!==null||(bi=!0),!(ro&134217727)&&!(Ro&134217727)||Ie===null||Ga(Ie,Ce,Ln,!1)}function am(e,t,n){var r=Oe;Oe|=2;var a=LE(),o=PE();(Ie!==e||Ce!==t)&&(Cd=null,oi(e,t)),t=!1;var s=et;e:do try{if(ze!==0&&Se!==null){var i=Se,c=fn;switch(ze){case 8:Q0(),s=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(t=!0);var u=ze;if(ze=0,fn=null,Rs(e,i,c,u),n&&bi){s=0;break e}break;default:u=ze,ze=0,fn=null,Rs(e,i,c,u)}}F3(),s=et;break}catch(d){$E(e,d)}while(!0);return t&&e.shellSuspendCounter++,Jr=Wo=null,Oe=r,ce.H=a,ce.A=o,Se===null&&(Ie=null,Ce=0,Ef()),s}function F3(){for(;Se!==null;)IE(Se)}function U3(e,t){var n=Oe;Oe|=2;var r=LE(),a=PE();Ie!==e||Ce!==t?(Cd=null,_d=wr()+500,oi(e,t)):bi=dc(e,t);e:do try{if(ze!==0&&Se!==null){t=Se;var o=fn;t:switch(ze){case 1:ze=0,fn=null,Rs(e,t,o,1);break;case 2:case 9:if(Lx(o)){ze=0,fn=null,ib(t);break}t=function(){ze!==2&&ze!==9||Ie!==e||(ze=7),Tr(e)},o.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Lx(o)?(ze=0,fn=null,ib(t)):(ze=0,fn=null,Rs(e,t,o,7));break;case 5:var s=null;switch(Se.tag){case 26:s=Se.memoizedState;case 5:case 27:var i=Se;if(!s||a_(s)){ze=0,fn=null;var c=i.sibling;if(c!==null)Se=c;else{var u=i.return;u!==null?(Se=u,Rf(u)):Se=null}break t}}ze=0,fn=null,Rs(e,t,o,5);break;case 6:ze=0,fn=null,Rs(e,t,o,6);break;case 8:Q0(),et=6;break e;default:throw Error(X(462))}}G3();break}catch(d){$E(e,d)}while(!0);return Jr=Wo=null,ce.H=r,ce.A=a,Oe=n,Se!==null?0:(Ie=null,Ce=0,Ef(),et)}function G3(){for(;Se!==null&&!fD();)IE(Se)}function IE(e){var t=pE(e.alternate,e,ca);e.memoizedProps=e.pendingProps,t===null?Rf(e):Se=t}function ib(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=eb(n,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=eb(n,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:P0(t);default:gE(n,t),t=Se=gN(t,ca),t=pE(n,t,ca)}e.memoizedProps=e.pendingProps,t===null?Rf(e):Se=t}function Rs(e,t,n,r){Jr=Wo=null,P0(t),Bs=null,zl=0;var a=t.return;try{if(D3(e,a,t,n,Ce)){et=1,Sd(e,On(n,e.current)),Se=null;return}}catch(o){if(a!==null)throw Se=a,o;et=1,Sd(e,On(n,e.current)),Se=null;return}t.flags&32768?(ke||r===1?e=!0:bi||Ce&536870912?e=!1:(Ua=e=!0,(r===2||r===9||r===3||r===6)&&(r=Bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),BE(t,e)):Rf(t)}function Rf(e){var t=e;do{if(t.flags&32768){BE(t,Ua);return}e=t.return;var n=O3(t.alternate,t,ca);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);et===0&&(et=5)}function BE(e,t){do{var n=$3(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);et=6,Se=null}function lb(e,t,n,r,a,o,s,i,c){e.cancelPendingCommit=null;do Mf();while(Rt!==0);if(Oe&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(o=t.lanes|t.childLanes,o|=_0,SD(e,n,o,s,i,c),e===Ie&&(Se=Ie=null,Ce=0),ai=t,Wa=e,Hs=n,Hp=o,Fp=a,DE=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,q3(cd,function(){return VE(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ce.T,ce.T=null,a=je.p,je.p=2,s=Oe,Oe|=4;try{L3(e,t,n)}finally{Oe=s,je.p=a,ce.T=r}}Rt=1,HE(),FE(),UE()}}function HE(){if(Rt===1){Rt=0;var e=Wa,t=ai,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ce.T,ce.T=null;var r=je.p;je.p=2;var a=Oe;Oe|=4;try{CE(t,e);var o=qp,s=lN(e.containerInfo),i=o.focusedElem,c=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&iN(i.ownerDocument.documentElement,i)){if(c!==null&&E0(i)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(d,i.value.length);else{var h=i.ownerDocument||document,f=h&&h.defaultView||window;if(f.getSelection){var m=f.getSelection(),y=i.textContent.length,x=Math.min(c.start,y),w=c.end===void 0?x:Math.min(c.end,y);!m.extend&&x>w&&(s=w,w=x,x=s);var v=jx(i,x),g=jx(i,w);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var b=h.createRange();b.setStart(v.node,v.offset),m.removeAllRanges(),x>w?(m.addRange(b),m.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),m.addRange(b))}}}}for(h=[],m=i;m=m.parentNode;)m.nodeType===1&&h.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<h.length;i++){var S=h[i];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}zd=!!Yp,qp=Yp=null}finally{Oe=a,je.p=r,ce.T=n}}e.current=t,Rt=2}}function FE(){if(Rt===2){Rt=0;var e=Wa,t=ai,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ce.T,ce.T=null;var r=je.p;je.p=2;var a=Oe;Oe|=4;try{SE(e,t.alternate,t)}finally{Oe=a,je.p=r,ce.T=n}}Rt=3}}function UE(){if(Rt===4||Rt===3){Rt=0,hD();var e=Wa,t=ai,n=Hs,r=DE;t.subtreeFlags&10256||t.flags&10256?Rt=5:(Rt=0,ai=Wa=null,GE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Xa=null),y0(n),t=t.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(uc,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ce.T,a=je.p,je.p=2,ce.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{ce.T=t,je.p=a}}Hs&3&&Mf(),Tr(e),a=e.pendingLanes,n&4194090&&a&42?e===Up?Sl++:(Sl=0,Up=e):Sl=0,Sc(0)}}function GE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yc(t)))}function Mf(e){return HE(),FE(),UE(),VE()}function VE(){if(Rt!==5)return!1;var e=Wa,t=Hp;Hp=0;var n=y0(Hs),r=ce.T,a=je.p;try{je.p=32>n?32:n,ce.T=null,n=Fp,Fp=null;var o=Wa,s=Hs;if(Rt=0,ai=Wa=null,Hs=0,Oe&6)throw Error(X(331));var i=Oe;if(Oe|=4,RE(o.current),kE(o,o.current,s,n),Oe=i,Sc(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(uc,o)}catch{}return!0}finally{je.p=a,ce.T=r,GE(e,t)}}function cb(e,t,n){t=On(n,t),t=$p(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(fc(e,2),Tr(e))}function Pe(e,t,n){if(e.tag===3)cb(e,e,n);else for(;t!==null;){if(t.tag===3){cb(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xa===null||!Xa.has(r))){e=On(n,e),n=lE(2),r=qa(t,n,2),r!==null&&(cE(n,r,t,e),fc(r,2),Tr(r));break}}t=t.return}}function om(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new B3;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(X0=!0,a.add(n),e=V3.bind(null,e,t,n),t.then(e,e))}function V3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(Ce&n)===n&&(et===4||et===3&&(Ce&62914560)===Ce&&300>wr()-K0?!(Oe&2)&&oi(e,0):W0|=n,ri===Ce&&(ri=0)),Tr(e)}function ZE(e,t){t===0&&(t=HS()),e=xi(e,t),e!==null&&(fc(e,t),Tr(e))}function Z3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZE(e,n)}function Y3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(t),ZE(e,n)}function q3(e,t){return p0(e,t)}var Ad=null,ys=null,Vp=!1,kd=!1,sm=!1,Mo=0;function Tr(e){e!==ys&&e.next===null&&(ys===null?Ad=ys=e:ys=ys.next=e),kd=!0,Vp||(Vp=!0,W3())}function Sc(e,t){if(!sm&&kd){sm=!0;do for(var n=!1,r=Ad;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-vn(42|e)+1)-1,o&=a&~(s&~i),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ub(r,o))}else o=Ce,o=bf(r,r===Ie?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||dc(r,o)||(n=!0,ub(r,o));r=r.next}while(n);sm=!1}}function X3(){YE()}function YE(){kd=Vp=!1;var e=0;Mo!==0&&(a4()&&(e=Mo),Mo=0);for(var t=wr(),n=null,r=Ad;r!==null;){var a=r.next,o=qE(r,t);o===0?(r.next=null,n===null?Ad=a:n.next=a,a===null&&(ys=n)):(n=r,(e!==0||o&3)&&(kd=!0)),r=a}Sc(e)}function qE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-vn(o),i=1<<s,c=a[s];c===-1?(!(i&n)||i&r)&&(a[s]=wD(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}if(t=Ie,n=Ce,n=bf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Mh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||dc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Mh(r),y0(n)){case 2:case 8:n=PS;break;case 32:n=cd;break;case 268435456:n=IS;break;default:n=cd}return r=XE.bind(null,e),n=p0(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Mh(r),e.callbackPriority=2,e.callbackNode=null,2}function XE(e,t){if(Rt!==0&&Rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mf()&&e.callbackNode!==n)return null;var r=Ce;return r=bf(e,e===Ie?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(OE(e,r,t),qE(e,wr()),e.callbackNode!=null&&e.callbackNode===n?XE.bind(null,e):null)}function ub(e,t){if(Mf())return null;OE(e,t,!0)}function W3(){s4(function(){Oe&6?p0(LS,X3):YE()})}function J0(){return Mo===0&&(Mo=BS()),Mo}function db(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Du(""+e)}function fb(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function K3(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var o=db((a[en]||null).action),s=r.submitter;s&&(t=(t=s[en]||null)?db(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var i=new wf("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mo!==0){var c=s?fb(a,s):new FormData(a);zp(n,{pending:!0,data:c,method:a.method,action:o},null,c)}}else typeof o=="function"&&(i.preventDefault(),c=s?fb(a,s):new FormData(a),zp(n,{pending:!0,data:c,method:a.method,action:o},o,c))},currentTarget:a}]})}}for(var im=0;im<Sp.length;im++){var lm=Sp[im],Q3=lm.toLowerCase(),J3=lm[0].toUpperCase()+lm.slice(1);rr(Q3,"on"+J3)}rr(uN,"onAnimationEnd");rr(dN,"onAnimationIteration");rr(fN,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(g3,"onTransitionRun");rr(y3,"onTransitionStart");rr(v3,"onTransitionCancel");rr(hN,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function WE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){wd(d)}a.currentTarget=null,o=c}else for(s=0;s<r.length;s++){if(i=r[s],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){wd(d)}a.currentTarget=null,o=c}}}}function be(e,t){var n=t[pp];n===void 0&&(n=t[pp]=new Set);var r=e+"__bubble";n.has(r)||(KE(t,e,2,!1),n.add(r))}function cm(e,t,n){var r=0;t&&(r|=4),KE(n,e,r,t)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function ey(e){if(!e[Qc]){e[Qc]=!0,VS.forEach(function(n){n!=="selectionchange"&&(e4.has(n)||cm(n,!1,e),cm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qc]||(t[Qc]=!0,cm("selectionchange",!1,t))}}function KE(e,t,n,r){switch(c_(t)){case 2:var a=A4;break;case 8:a=k4;break;default:a=ay}n=a.bind(null,t,n,e),a=void 0,!xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function um(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;i!==null;){if(s=Ss(i),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=o=s;continue e}i=i.parentNode}}r=r.return}JS(function(){var u=o,d=b0(n),h=[];e:{var f=mN.get(e);if(f!==void 0){var m=wf,y=e;switch(e){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":m=qD;break;case"focusin":y="focus",m=Bh;break;case"focusout":y="blur",m=Bh;break;case"beforeblur":case"afterblur":m=Bh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KD;break;case uN:case dN:case fN:m=ID;break;case hN:m=JD;break;case"scroll":case"scrollend":m=zD;break;case"wheel":m=t3;break;case"copy":case"cut":case"paste":m=HD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wx;break;case"toggle":case"beforetoggle":m=r3}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),v=x?f!==null?f+"Capture":null:f;x=[];for(var g=u,b;g!==null;){var S=g;if(b=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||b===null||v===null||(S=jl(g,v),S!=null&&x.push($l(g,S,b))),w)break;g=g.return}0<x.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==vp&&(y=n.relatedTarget||n.fromElement)&&(Ss(y)||y[yi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?Ss(y):null,y!==null&&(w=cc(y),x=y.tag,y!==w||x!==5&&x!==27&&x!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=xx,S="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=wx,S="onPointerLeave",v="onPointerEnter",g="pointer"),w=m==null?f:tl(m),b=y==null?f:tl(y),f=new x(S,g+"leave",m,n,d),f.target=w,f.relatedTarget=b,S=null,Ss(d)===u&&(x=new x(v,g+"enter",y,n,d),x.target=b,x.relatedTarget=w,S=x),w=S,m&&y)t:{for(x=m,v=y,g=0,b=x;b;b=as(b))g++;for(b=0,S=v;S;S=as(S))b++;for(;0<g-b;)x=as(x),g--;for(;0<b-g;)v=as(v),b--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=as(x),v=as(v)}x=null}else x=null;m!==null&&hb(h,f,m,x,!1),y!==null&&w!==null&&hb(h,w,y,x,!0)}}e:{if(f=u?tl(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=_x;else if(Ex(f))if(oN)E=h3;else{E=d3;var A=u3}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&x0(u.elementType)&&(E=_x):E=f3;if(E&&(E=E(e,u))){aN(h,E,n,d);break e}A&&A(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&yp(f,"number",f.value)}switch(A=u?tl(u):window,e){case"focusin":(Ex(A)||A.contentEditable==="true")&&(_s=A,bp=u,fl=null);break;case"focusout":fl=bp=_s=null;break;case"mousedown":wp=!0;break;case"contextmenu":case"mouseup":case"dragend":wp=!1,Tx(h,n,d);break;case"selectionchange":if(p3)break;case"keydown":case"keyup":Tx(h,n,d)}var N;if(N0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Es?nN(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(tN&&n.locale!=="ko"&&(Es||_!=="onCompositionStart"?_==="onCompositionEnd"&&Es&&(N=eN()):(Fa=d,w0="value"in Fa?Fa.value:Fa.textContent,Es=!0)),A=jd(u,_),0<A.length&&(_=new bx(_,e,null,n,d),h.push({event:_,listeners:A}),N?_.data=N:(N=rN(n),N!==null&&(_.data=N)))),(N=o3?s3(e,n):i3(e,n))&&(_=jd(u,"onBeforeInput"),0<_.length&&(A=new bx("onBeforeInput","beforeinput",null,n,d),h.push({event:A,listeners:_}),A.data=N)),K3(h,e,u,n,d)}WE(h,t)})}function $l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=jl(e,n),a!=null&&r.unshift($l(e,a,o)),a=jl(e,t),a!=null&&r.push($l(e,a,o))),e.tag===3)return r;e=e.return}return[]}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hb(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(i=i.tag,c!==null&&c===r)break;i!==5&&i!==26&&i!==27||u===null||(c=u,a?(u=jl(n,o),u!=null&&s.unshift($l(n,u,c))):a||(u=jl(n,o),u!=null&&s.push($l(n,u,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var t4=/\r\n?/g,n4=/\u0000|\uFFFD/g;function mb(e){return(typeof e=="string"?e:""+e).replace(t4,`
`).replace(n4,"")}function QE(e,t){return t=mb(t),mb(e)===t}function Df(){}function $e(e,t,n,r,a,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Qs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Qs(e,""+r);break;case"className":Vc(e,"class",r);break;case"tabIndex":Vc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Vc(e,n,r);break;case"style":QS(e,r,o);break;case"data":if(t!=="object"){Vc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Du(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",a.name,a,null),$e(e,t,"formEncType",a.formEncType,a,null),$e(e,t,"formMethod",a.formMethod,a,null),$e(e,t,"formTarget",a.formTarget,a,null)):($e(e,t,"encType",a.encType,a,null),$e(e,t,"method",a.method,a,null),$e(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Du(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Df);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Du(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":be("beforetoggle",e),be("toggle",e),Mu(e,"popover",r);break;case"xlinkActuate":Fr(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Fr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Fr(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Fr(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Fr(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Fr(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Mu(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=MD.get(n)||n,Mu(e,n,r))}}function Zp(e,t,n,r,a,o){switch(n){case"style":QS(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Qs(e,r):(typeof r=="number"||typeof r=="bigint")&&Qs(e,""+r);break;case"onScroll":r!=null&&be("scroll",e);break;case"onScrollEnd":r!=null&&be("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Df);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ZS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[en]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Mu(e,n,r)}}}function Dt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:$e(e,t,o,s,n,null)}}a&&$e(e,t,"srcSet",n.srcSet,n,null),r&&$e(e,t,"src",n.src,n,null);return;case"input":be("invalid",e);var i=o=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":o=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(X(137,t));break;default:$e(e,t,r,d,n,null)}}XS(e,o,i,c,u,s,a,!1),ud(e);return;case"select":be("invalid",e),r=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":o=i;break;case"defaultValue":s=i;break;case"multiple":r=i;default:$e(e,t,a,i,n,null)}t=o,n=s,e.multiple=!!r,t!=null?Os(e,!!r,t,!1):n!=null&&Os(e,!!r,n,!0);return;case"textarea":be("invalid",e),o=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(i=n[s],i!=null))switch(s){case"value":r=i;break;case"defaultValue":a=i;break;case"children":o=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(X(91));break;default:$e(e,t,s,i,n,null)}KS(e,r,a,o),ud(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,t,c,r,n,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(r=0;r<Ol.length;r++)be(Ol[r],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:$e(e,t,u,r,n,null)}return;default:if(x0(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Zp(e,t,d,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&$e(e,t,i,r,n,null))}function r4(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&h!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||$e(e,t,m,null,r,h)}}for(var f in r){var m=r[f];if(h=n[f],r.hasOwnProperty(f)&&(m!=null||h!=null))switch(f){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(X(137,t));break;default:m!==h&&$e(e,t,f,m,r,h)}}gp(e,s,i,c,u,d,o,a);return;case"select":m=s=i=f=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||$e(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(o!=null||c!=null))switch(a){case"value":f=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==c&&$e(e,t,a,o,r,c)}t=i,n=s,r=m,f!=null?Os(e,!!n,f,!1):!!r!=!!n&&(t!=null?Os(e,!!n,t,!0):Os(e,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:$e(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":f=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(X(91));break;default:a!==o&&$e(e,t,s,a,r,o)}WS(e,f,m);return;case"option":for(var y in n)if(f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:$e(e,t,y,null,r,f)}for(c in r)if(f=r[c],m=n[c],r.hasOwnProperty(c)&&f!==m&&(f!=null||m!=null))switch(c){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:$e(e,t,c,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)f=n[x],n.hasOwnProperty(x)&&f!=null&&!r.hasOwnProperty(x)&&$e(e,t,x,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(X(137,t));break;default:$e(e,t,u,f,r,m)}return;default:if(x0(t)){for(var w in n)f=n[w],n.hasOwnProperty(w)&&f!==void 0&&!r.hasOwnProperty(w)&&Zp(e,t,w,void 0,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f===void 0&&m===void 0||Zp(e,t,d,f,r,m);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&f!=null&&!r.hasOwnProperty(v)&&$e(e,t,v,null,r,f);for(h in r)f=r[h],m=n[h],!r.hasOwnProperty(h)||f===m||f==null&&m==null||$e(e,t,h,f,r,m)}var Yp=null,qp=null;function Td(e){return e.nodeType===9?e:e.ownerDocument}function pb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dm=null;function a4(){var e=window.event;return e&&e.type==="popstate"?e===dm?!1:(dm=e,!0):(dm=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,o4=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,s4=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(e){return gb.resolve(null).then(e).catch(i4)}:e_;function i4(e){setTimeout(function(){throw e})}function io(e){return e==="head"}function yb(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(n&1&&Nl(s.documentElement),n&2&&Nl(s.body),n&4)for(n=s.head,Nl(n),s=n.firstChild;s;){var i=s.nextSibling,c=s.nodeName;s[hc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}if(a===0){e.removeChild(o),Hl(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Hl(t)}function Wp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wp(n),v0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function l4(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[hc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function c4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wn(e.nextSibling),e===null))return null;return e}function Kp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function u4(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Wn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qp=null;function vb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function t_(e,t,n){switch(t=Td(n),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function Nl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);v0(e)}var Hn=new Map,xb=new Set;function Rd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=je.d;je.d={f:d4,r:f4,D:h4,C:m4,L:p4,m:g4,X:v4,S:y4,M:x4};function d4(){var e=ga.f(),t=Tf();return e||t}function f4(e){var t=vi(e);t!==null&&t.tag===5&&t.type==="form"?qN(t):ga.r(e)}var wi=typeof document>"u"?null:document;function n_(e,t,n){var r=wi;if(r&&typeof t=="string"&&t){var a=zn(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),xb.has(a)||(xb.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Dt(t,"link",e),wt(t),r.head.appendChild(t)))}}function h4(e){ga.D(e),n_("dns-prefetch",e,null)}function m4(e,t){ga.C(e,t),n_("preconnect",e,t)}function p4(e,t,n){ga.L(e,t,n);var r=wi;if(r&&e&&t){var a='link[rel="preload"][as="'+zn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+zn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+zn(n.imageSizes)+'"]')):a+='[href="'+zn(e)+'"]';var o=a;switch(t){case"style":o=si(e);break;case"script":o=Si(e)}Hn.has(o)||(e=He({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Hn.set(o,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(Nc(o))||t==="script"&&r.querySelector(Ec(o))||(t=r.createElement("link"),Dt(t,"link",e),wt(t),r.head.appendChild(t)))}}function g4(e,t){ga.m(e,t);var n=wi;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+zn(r)+'"][href="'+zn(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Si(e)}if(!Hn.has(o)&&(e=He({rel:"modulepreload",href:e},t),Hn.set(o,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ec(o)))return}r=n.createElement("link"),Dt(r,"link",e),wt(r),n.head.appendChild(r)}}}function y4(e,t,n){ga.S(e,t,n);var r=wi;if(r&&e){var a=zs(r).hoistableStyles,o=si(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(Nc(o)))i.loading=5;else{e=He({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Hn.get(o))&&ty(e,n);var c=s=r.createElement("link");wt(c),Dt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){i.loading|=1}),c.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Fu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}}function v4(e,t){ga.X(e,t);var n=wi;if(n&&e){var r=zs(n).hoistableScripts,a=Si(e),o=r.get(a);o||(o=n.querySelector(Ec(a)),o||(e=He({src:e,async:!0},t),(t=Hn.get(a))&&ny(e,t),o=n.createElement("script"),wt(o),Dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function x4(e,t){ga.M(e,t);var n=wi;if(n&&e){var r=zs(n).hoistableScripts,a=Si(e),o=r.get(a);o||(o=n.querySelector(Ec(a)),o||(e=He({src:e,async:!0,type:"module"},t),(t=Hn.get(a))&&ny(e,t),o=n.createElement("script"),wt(o),Dt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function bb(e,t,n,r){var a=(a=Za.current)?Rd(a):null;if(!a)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=si(n.href),n=zs(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=si(n.href);var o=zs(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Nc(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Hn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Hn.set(e,n),o||b4(a,e,n,s.state))),t&&r===null)throw Error(X(528,""));return s}if(t&&r!==null)throw Error(X(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Si(n),n=zs(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function si(e){return'href="'+zn(e)+'"'}function Nc(e){return'link[rel="stylesheet"]['+e+"]"}function r_(e){return He({},e,{"data-precedence":e.precedence,precedence:null})}function b4(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Dt(t,"link",n),wt(t),e.head.appendChild(t))}function Si(e){return'[src="'+zn(e)+'"]'}function Ec(e){return"script[async]"+e}function wb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+zn(n.href)+'"]');if(r)return t.instance=r,wt(r),r;var a=He({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),wt(r),Dt(r,"style",a),Fu(r,n.precedence,e),t.instance=r;case"stylesheet":a=si(n.href);var o=e.querySelector(Nc(a));if(o)return t.state.loading|=4,t.instance=o,wt(o),o;r=r_(n),(a=Hn.get(a))&&ty(r,a),o=(e.ownerDocument||e).createElement("link"),wt(o);var s=o;return s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Dt(o,"link",r),t.state.loading|=4,Fu(o,n.precedence,e),t.instance=o;case"script":return o=Si(n.src),(a=e.querySelector(Ec(o)))?(t.instance=a,wt(a),a):(r=n,(a=Hn.get(o))&&(r=He({},n),ny(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),wt(a),Dt(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Fu(r,n.precedence,e));return t.instance}function Fu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function ty(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ny(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Uu=null;function Sb(e,t,n){if(Uu===null){var r=new Map,a=Uu=new Map;a.set(n,r)}else a=Uu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[hc]||o[Pt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function Nb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function w4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function a_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ll=null;function S4(){}function N4(e,t,n){if(Ll===null)throw Error(X(475));var r=Ll;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=si(n.href),o=e.querySelector(Nc(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Md.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,wt(o);return}o=e.ownerDocument||e,n=r_(n),(a=Hn.get(a))&&ty(n,a),o=o.createElement("link"),wt(o);var s=o;s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Dt(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Md.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function E4(){if(Ll===null)throw Error(X(475));var e=Ll;return e.stylesheets&&e.count===0&&Jp(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Jp(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Md(){if(this.count--,this.count===0){if(this.stylesheets)Jp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dd=null;function Jp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dd=new Map,t.forEach(_4,e),Dd=null,Md.call(e))}function _4(e,t){if(!(t.state.loading&4)){var n=Dd.get(e);if(n)var r=n.get(null);else{n=new Map,Dd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,a),n.set(s,a),this.count++,r=Md.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Pl={$$typeof:Wr,Provider:null,Consumer:null,_currentValue:Co,_currentValue2:Co,_threadCount:0};function C4(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.hiddenUpdates=Dh(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function o_(e,t,n,r,a,o,s,i,c,u,d,h){return e=new C4(e,t,n,s,i,c,u,h),t=1,o===!0&&(t|=24),o=gn(3,null,null,t),e.current=o,o.stateNode=e,t=T0(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},M0(o),e}function s_(e){return e?(e=ks,e):ks}function i_(e,t,n,r,a,o){a=s_(a),r.context===null?r.context=a:r.pendingContext=a,r=Ya(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=qa(e,r,t),n!==null&&(bn(n,e,t),pl(n,e,t))}function Eb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ry(e,t){Eb(e,t),(e=e.alternate)&&Eb(e,t)}function l_(e){if(e.tag===13){var t=xi(e,67108864);t!==null&&bn(t,e,67108864),ry(e,67108864)}}var zd=!0;function A4(e,t,n,r){var a=ce.T;ce.T=null;var o=je.p;try{je.p=2,ay(e,t,n,r)}finally{je.p=o,ce.T=a}}function k4(e,t,n,r){var a=ce.T;ce.T=null;var o=je.p;try{je.p=8,ay(e,t,n,r)}finally{je.p=o,ce.T=a}}function ay(e,t,n,r){if(zd){var a=eg(r);if(a===null)um(e,t,r,Od,n),_b(e,r);else if(T4(a,e,t,n,r))r.stopPropagation();else if(_b(e,r),t&4&&-1<j4.indexOf(e)){for(;a!==null;){var o=vi(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=yo(o.pendingLanes);if(s!==0){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var c=1<<31-vn(s);i.entanglements[1]|=c,s&=~c}Tr(o),!(Oe&6)&&(_d=wr()+500,Sc(0))}}break;case 13:i=xi(o,2),i!==null&&bn(i,o,2),Tf(),ry(o,2)}if(o=eg(r),o===null&&um(e,t,r,Od,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else um(e,t,r,null,n)}}function eg(e){return e=b0(e),oy(e)}var Od=null;function oy(e){if(Od=null,e=Ss(e),e!==null){var t=cc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=DS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Od=e,null}function c_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mD()){case LS:return 2;case PS:return 8;case cd:case pD:return 32;case IS:return 268435456;default:return 32}default:return 32}}var tg=!1,Ka=null,Qa=null,Ja=null,Il=new Map,Bl=new Map,$a=[],j4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Ja=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(t.pointerId)}}function Fi(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=vi(t),t!==null&&l_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function T4(e,t,n,r,a){switch(t){case"focusin":return Ka=Fi(Ka,e,t,n,r,a),!0;case"dragenter":return Qa=Fi(Qa,e,t,n,r,a),!0;case"mouseover":return Ja=Fi(Ja,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Il.set(o,Fi(Il.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Bl.set(o,Fi(Bl.get(o)||null,e,t,n,r,a)),!0}return!1}function u_(e){var t=Ss(e.target);if(t!==null){var n=cc(t);if(n!==null){if(t=n.tag,t===13){if(t=DS(n),t!==null){e.blockedOn=t,ND(e.priority,function(){if(n.tag===13){var r=xn();r=g0(r);var a=xi(n,r);a!==null&&bn(a,n,r),ry(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=eg(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return t=vi(n),t!==null&&l_(t),e.blockedOn=n,!1;t.shift()}return!0}function Cb(e,t,n){Gu(e)&&n.delete(t)}function R4(){tg=!1,Ka!==null&&Gu(Ka)&&(Ka=null),Qa!==null&&Gu(Qa)&&(Qa=null),Ja!==null&&Gu(Ja)&&(Ja=null),Il.forEach(Cb),Bl.forEach(Cb)}function Jc(e,t){e.blockedOn===t&&(e.blockedOn=null,tg||(tg=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,R4)))}var eu=null;function Ab(e){eu!==e&&(eu=e,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,function(){eu===e&&(eu=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(oy(r||n)===null)continue;break}var o=vi(n);o!==null&&(e.splice(t,3),t-=3,zp(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Hl(e){function t(c){return Jc(c,e)}Ka!==null&&Jc(Ka,e),Qa!==null&&Jc(Qa,e),Ja!==null&&Jc(Ja,e),Il.forEach(t),Bl.forEach(t);for(var n=0;n<$a.length;n++){var r=$a[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<$a.length&&(n=$a[0],n.blockedOn===null);)u_(n),n.blockedOn===null&&$a.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[en]||null;if(typeof o=="function")s||Ab(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[en]||null)i=s.formAction;else if(oy(a)!==null)continue}else i=s.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),Ab(n)}}}function sy(e){this._internalRoot=e}zf.prototype.render=sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var n=t.current,r=xn();i_(n,r,e,t,null,null)};zf.prototype.unmount=sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;i_(e.current,2,null,e,null,null),Tf(),t[yi]=null}};function zf(e){this._internalRoot=e}zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=GS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$a.length&&t!==0&&t<$a[n].priority;n++);$a.splice(n,0,e),n===0&&u_(e)}};var kb=RS.version;if(kb!=="19.1.0")throw Error(X(527,kb,"19.1.0"));je.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=iD(t),e=e!==null?zS(e):null,e=e===null?null:e.stateNode,e};var M4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ce,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{uc=tu.inject(M4),yn=tu}catch{}}vf.createRoot=function(e,t){if(!MS(e))throw Error(X(299));var n=!1,r="",a=oE,o=sE,s=iE,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=o_(e,1,!1,null,null,n,r,a,o,s,i,null),e[yi]=t.current,ey(e),new sy(t)};vf.hydrateRoot=function(e,t,n){if(!MS(e))throw Error(X(299));var r=!1,a="",o=oE,s=sE,i=iE,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=o_(e,1,!0,t,n??null,r,a,o,s,i,c,u),t.context=s_(null),n=t.current,r=xn(),r=g0(r),a=Ya(r),a.callback=null,qa(n,a,r),n=r,t.current.lanes=n,fc(t,n),Tr(t),e[yi]=t.current,ey(e),new zf(t)};vf.version="19.1.0";function d_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d_)}catch(e){console.error(e)}}d_(),_S.exports=vf;var D4=_S.exports;const vt={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),jb=e=>{const t=O4(e);return t.charAt(0).toUpperCase()+t.slice(1)},f_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),$4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...i},c)=>p.createElement("svg",{ref:c,...L4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:f_("lucide",a),...!o&&!$4(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=p.forwardRef(({className:r,...a},o)=>p.createElement(P4,{ref:o,iconNode:t,className:f_(`lucide-${z4(jb(e))}`,`lucide-${e}`,r),...a}));return n.displayName=jb(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B4=fe("activity",I4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],F4=fe("arrow-left",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],El=fe("book-open",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Tb=fe("brain",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Z4=fe("check",V4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ct=fe("chevron-down",Y4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Of=fe("chevron-right",q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fs=fe("circle",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K4=fe("copy",W4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],h_=fe("droplets",Q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Rb=fe("external-link",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vu=fe("eye",ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ng=fe("flame",tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_c=fe("grid-3x3",nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],az=fe("grip-vertical",rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],sz=fe("hammer",oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],$d=fe("hand",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],m_=fe("heart",lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uz=fe("house",cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Mb=fe("info",dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Cc=fe("list",fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mz=fe("map-pin",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],p_=fe("maximize-2",pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],yz=fe("menu",gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],g_=fe("minimize-2",vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M5 12h14",key:"1ays0h"}]],Db=fe("minus",xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],wz=fe("monitor",bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Nz=fe("moon",Sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jn=fe("plus",Ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],y_=fe("rotate-ccw",_z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ya=fe("search",Cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],v_=fe("settings",Az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],jz=fe("share-2",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],La=fe("shield",Tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$n=fe("star",Rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zb=fe("sun",Mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],rg=fe("sword",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],x_=fe("target",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$z=fe("trash-2",Oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ob=fe("triangle-alert",Lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zu=fe("user",Pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wn=fe("x",Iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_l=fe("zap",Bz);var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.parse=Yz;iy.serialize=qz;const Hz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Fz=/^[\u0021-\u003A\u003C-\u007E]*$/,Uz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Gz=/^[\u0020-\u003A\u003D-\u007E]*$/,Vz=Object.prototype.toString,Zz=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Yz(e,t){const n=new Zz,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||Xz;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const i=e.indexOf(";",o),c=i===-1?r:i;if(s>c){o=e.lastIndexOf(";",s-1)+1;continue}const u=$b(e,o,s),d=Lb(e,s,u),h=e.slice(u,d);if(n[h]===void 0){let f=$b(e,s+1,c),m=Lb(e,c,f);const y=a(e.slice(f,m));n[h]=y}o=c+1}while(o<r);return n}function $b(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Lb(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function qz(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Hz.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!Fz.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Uz.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Gz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!Wz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function Xz(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Wz(e){return Vz.call(e)==="[object Date]"}var Pb="popstate";function Kz(e={}){function t(a,o){let{pathname:s="/",search:i="",hash:c=""}=Ko(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),ag("",{pathname:s,search:i,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let s=a.document.querySelector("base"),i="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof o=="string"?o:Fl(o))}function r(a,o){er(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Jz(t,n,r,e)}function Xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function er(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qz(){return Math.random().toString(36).substring(2,10)}function Ib(e,t){return{usr:e.state,key:e.key,idx:t}}function ag(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ko(t):t,state:n,key:t&&t.key||r||Qz()}}function Fl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Jz(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){i="POP";let w=d(),v=w==null?null:w-u;u=w,c&&c({action:i,location:x.location,delta:v})}function f(w,v){i="PUSH";let g=ag(x.location,w,v);n&&n(g,w),u=d()+1;let b=Ib(g,u),S=x.createHref(g);try{s.pushState(b,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(S)}o&&c&&c({action:i,location:x.location,delta:1})}function m(w,v){i="REPLACE";let g=ag(x.location,w,v);n&&n(g,w),u=d();let b=Ib(g,u),S=x.createHref(g);s.replaceState(b,"",S),o&&c&&c({action:i,location:x.location,delta:0})}function y(w){return eO(w)}let x={get action(){return i},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Pb,h),c=w,()=>{a.removeEventListener(Pb,h),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(w){return s.go(w)}};return x}function eO(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Fl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function b_(e,t,n="/"){return tO(e,t,n,!1)}function tO(e,t,n,r){let a=typeof t=="string"?Ko(t):t,o=ua(a.pathname||"/",n);if(o==null)return null;let s=w_(e);nO(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let u=hO(o);i=dO(s[c],u,r)}return i}function w_(e,t=[],n=[],r=""){let a=(o,s,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=aa([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Xe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),w_(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:cO(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let c of S_(o.path))a(o,s,c)}),t}function S_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=S_(r.join("/")),i=[];return i.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function nO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:uO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rO=/^:[\w-]+$/,aO=3,oO=2,sO=1,iO=10,lO=-2,Bb=e=>e==="*";function cO(e,t){let n=e.split("/"),r=n.length;return n.some(Bb)&&(r+=lO),t&&(r+=oO),n.filter(a=>!Bb(a)).reduce((a,o)=>a+(rO.test(o)?aO:o===""?sO:iO),r)}function uO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function dO(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=Ld({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Ld({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),s.push({params:a,pathname:aa([o,h.pathname]),pathnameBase:yO(aa([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=aa([o,h.pathnameBase]))}return s}function Ld(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=i[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=i[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function fO(e,t=!1,n=!0){er(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function hO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return er(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ua(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function mO(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ko(e):e;return{pathname:n?n.startsWith("/")?n:pO(n,t):t,search:vO(r),hash:xO(a)}}function pO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function fm(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function N_(e){let t=gO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function E_(e,t,n,r=!1){let a;typeof e=="string"?a=Ko(e):(a={...e},Xe(!a.pathname||!a.pathname.includes("?"),fm("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),fm("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),fm("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=n;else{let h=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}i=h>=0?t[h]:"/"}let c=mO(a,i),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var aa=e=>e.join("/").replace(/\/\/+/g,"/"),yO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var __=["POST","PUT","PATCH","DELETE"];new Set(__);var wO=["GET",...__];new Set(wO);var Ni=p.createContext(null);Ni.displayName="DataRouter";var $f=p.createContext(null);$f.displayName="DataRouterState";var C_=p.createContext({isTransitioning:!1});C_.displayName="ViewTransition";var SO=p.createContext(new Map);SO.displayName="Fetchers";var NO=p.createContext(null);NO.displayName="Await";var Rr=p.createContext(null);Rr.displayName="Navigation";var Ac=p.createContext(null);Ac.displayName="Location";var va=p.createContext({outlet:null,matches:[],isDataRoute:!1});va.displayName="Route";var ly=p.createContext(null);ly.displayName="RouteError";function EO(e,{relative:t}={}){Xe(kc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Rr),{hash:a,pathname:o,search:s}=jc(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:aa([n,o])),r.createHref({pathname:i,search:s,hash:a})}function kc(){return p.useContext(Ac)!=null}function lo(){return Xe(kc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Ac).location}var A_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function k_(e){p.useContext(Rr).static||p.useLayoutEffect(e)}function ar(){let{isDataRoute:e}=p.useContext(va);return e?LO():_O()}function _O(){Xe(kc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Ni),{basename:t,navigator:n}=p.useContext(Rr),{matches:r}=p.useContext(va),{pathname:a}=lo(),o=JSON.stringify(N_(r)),s=p.useRef(!1);return k_(()=>{s.current=!0}),p.useCallback((c,u={})=>{if(er(s.current,A_),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=E_(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:aa([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,a,e])}p.createContext(null);function jc(e,{relative:t}={}){let{matches:n}=p.useContext(va),{pathname:r}=lo(),a=JSON.stringify(N_(n));return p.useMemo(()=>E_(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function CO(e,t){return j_(e,t)}function j_(e,t,n,r){var v;Xe(kc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=p.useContext(Rr),{matches:o}=p.useContext(va),s=o[o.length-1],i=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let g=d&&d.path||"";T_(c,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=lo(),f;if(t){let g=typeof t=="string"?Ko(t):t;Xe(u==="/"||((v=g.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),f=g}else f=h;let m=f.pathname||"/",y=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=b_(e,{pathname:y});er(d||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),er(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=RO(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},i,g.params),pathname:aa([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:aa([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&w?p.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},w):w}function AO(){let e=$O(),t=bO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,s)}var kO=p.createElement(AO,null),jO=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(va.Provider,{value:this.props.routeContext},p.createElement(ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TO({routeContext:e,match:t,children:n}){let r=p.useContext(Ni);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(va.Provider,{value:e},n)}function RO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Xe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,i=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=c),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){s=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let h,f=!1,m=null,y=null;n&&(h=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||kO,s&&(i<0&&d===0?(T_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,y=null):i===d&&(f=!0,y=u.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,d+1)),w=()=>{let v;return h?v=m:f?v=y:u.route.Component?v=p.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,p.createElement(TO,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(jO,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function cy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MO(e){let t=p.useContext(Ni);return Xe(t,cy(e)),t}function DO(e){let t=p.useContext($f);return Xe(t,cy(e)),t}function zO(e){let t=p.useContext(va);return Xe(t,cy(e)),t}function uy(e){let t=zO(e),n=t.matches[t.matches.length-1];return Xe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function OO(){return uy("useRouteId")}function $O(){var r;let e=p.useContext(ly),t=DO("useRouteError"),n=uy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function LO(){let{router:e}=MO("useNavigate"),t=uy("useNavigate"),n=p.useRef(!1);return k_(()=>{n.current=!0}),p.useCallback(async(a,o={})=>{er(n.current,A_),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Hb={};function T_(e,t,n){!t&&!Hb[e]&&(Hb[e]=!0,er(!1,n))}p.memo(PO);function PO({routes:e,future:t,state:n}){return j_(e,void 0,n,t)}function dn(e){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Xe(!kc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=p.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=Ko(n));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=p.useMemo(()=>{let y=ua(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:h,key:f},navigationType:r}},[s,c,u,d,h,f,r]);return er(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(Rr.Provider,{value:i},p.createElement(Ac.Provider,{children:t,value:m}))}function BO({children:e,location:t}){return CO(og(e),t)}function og(e,t=[]){let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){n.push.apply(n,og(r.props.children,o));return}Xe(r.type===dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=og(r.props.children,o)),n.push(s)}),n}var Yu="get",qu="application/x-www-form-urlencoded";function Lf(e){return e!=null&&typeof e.tagName=="string"}function HO(e){return Lf(e)&&e.tagName.toLowerCase()==="button"}function FO(e){return Lf(e)&&e.tagName.toLowerCase()==="form"}function UO(e){return Lf(e)&&e.tagName.toLowerCase()==="input"}function GO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function VO(e,t){return e.button===0&&(!t||t==="_self")&&!GO(e)}var nu=null;function ZO(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var YO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(e){return e!=null&&!YO.has(e)?(er(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):e}function qO(e,t){let n,r,a,o,s;if(FO(e)){let i=e.getAttribute("action");r=i?ua(i,t):null,n=e.getAttribute("method")||Yu,a=hm(e.getAttribute("enctype"))||qu,o=new FormData(e)}else if(HO(e)||UO(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(r=c?ua(c,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Yu,a=hm(e.getAttribute("formenctype"))||hm(i.getAttribute("enctype"))||qu,o=new FormData(i,e),!ZO()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,h)}}else{if(Lf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yu,r=null,a=qu,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}function dy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function XO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function KO(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await XO(o,n);return s.links?s.links():[]}return[]}));return t5(r.flat(1).filter(WO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Fb(e,t,n,r,a,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,i=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>s(c,u)||i(c,u)):o==="data"?t.filter((c,u)=>{var h;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||i(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function QO(e,t,{includeHydrateFallback:n}={}){return JO(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function JO(e){return[...new Set(e)]}function e5(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function t5(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(e5(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n5=new Set([100,101,204,205]);function r5(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&ua(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function R_(){let e=p.useContext(Ni);return dy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function a5(){let e=p.useContext($f);return dy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var fy=p.createContext(void 0);fy.displayName="FrameworkContext";function M_(){let e=p.useContext(fy);return dy(e,"You must render this element inside a <HydratedRouter> element"),e}function o5(e,t){let n=p.useContext(fy),[r,a]=p.useState(!1),[o,s]=p.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=v=>{v.forEach(g=>{s(g.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{a(!0)},y=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:Ui(i,m),onBlur:Ui(c,y),onMouseEnter:Ui(u,m),onMouseLeave:Ui(d,y),onTouchStart:Ui(h,m)}]:[!1,f,{}]}function Ui(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function s5({page:e,...t}){let{router:n}=R_(),r=p.useMemo(()=>b_(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(l5,{page:e,matches:r,...t}):null}function i5(e){let{manifest:t,routeModules:n}=M_(),[r,a]=p.useState([]);return p.useEffect(()=>{let o=!1;return KO(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function l5({page:e,matches:t,...n}){let r=lo(),{manifest:a,routeModules:o}=M_(),{basename:s}=R_(),{loaderData:i,matches:c}=a5(),u=p.useMemo(()=>Fb(e,t,c,a,r,"data"),[e,t,c,a,r]),d=p.useMemo(()=>Fb(e,t,c,a,r,"assets"),[e,t,c,a,r]),h=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(t.forEach(v=>{var b;let g=a.routes[v.route.id];!g||!g.hasLoader||(!u.some(S=>S.route.id===v.route.id)&&v.route.id in i&&((b=o[v.route.id])!=null&&b.shouldRevalidate)||g.hasClientLoader?x=!0:y.add(v.route.id))}),y.size===0)return[];let w=r5(e,s);return x&&y.size>0&&w.searchParams.set("_routes",t.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[s,i,r,a,u,t,e,o]),f=p.useMemo(()=>QO(d,a),[d,a]),m=i5(d);return p.createElement(p.Fragment,null,h.map(y=>p.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),f.map(y=>p.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:x})=>p.createElement("link",{key:y,...x})))}function c5(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D_&&(window.__reactRouterVersion="7.6.3")}catch{}function u5({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=Kz({window:n,v5Compat:!0}));let a=r.current,[o,s]=p.useState({action:a.action,location:a.location}),i=p.useCallback(c=>{p.startTransition(()=>s(c))},[s]);return p.useLayoutEffect(()=>a.listen(i),[a,i]),p.createElement(IO,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var z_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O_=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:i,target:c,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:y}=p.useContext(Rr),x=typeof u=="string"&&z_.test(u),w,v=!1;if(typeof u=="string"&&x&&(w=u,D_))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),R=ua(C.pathname,y);C.origin===j.origin&&R!=null?u=R+C.search+C.hash:v=!0}catch{er(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=EO(u,{relative:a}),[b,S,E]=o5(r,f),A=m5(u,{replace:s,state:i,target:c,preventScrollReset:d,relative:a,viewTransition:h});function N(j){t&&t(j),j.defaultPrevented||A(j)}let _=p.createElement("a",{...f,...E,href:w||g,onClick:v||o?t:N,ref:c5(m,S),target:c,"data-discover":!x&&n==="render"?"true":void 0});return b&&!x?p.createElement(p.Fragment,null,_,p.createElement(s5,{page:g})):_});O_.displayName="Link";var d5=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:i,children:c,...u},d){let h=jc(s,{relative:u.relative}),f=lo(),m=p.useContext($f),{navigator:y,basename:x}=p.useContext(Rr),w=m!=null&&x5(h)&&i===!0,v=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,g=f.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(g=g.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&x&&(b=ua(b,x)||b);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=g===v||!a&&g.startsWith(v)&&g.charAt(S)==="/",A=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),N={isActive:E,isPending:A,isTransitioning:w},_=E?t:void 0,j;typeof r=="function"?j=r(N):j=[r,E?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(N):o;return p.createElement(O_,{...u,"aria-current":_,className:j,ref:d,style:C,to:s,viewTransition:i},typeof c=="function"?c(N):c)});d5.displayName="NavLink";var f5=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=Yu,action:i,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let y=y5(),x=v5(i,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",v=typeof i=="string"&&z_.test(i),g=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let S=b.nativeEvent.submitter,E=(S==null?void 0:S.getAttribute("formmethod"))||s;y(S||b.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:a,state:o,relative:u,preventScrollReset:d,viewTransition:h})};return p.createElement("form",{ref:m,method:w,action:x,onSubmit:r?c:g,...f,"data-discover":!v&&e==="render"?"true":void 0})});f5.displayName="Form";function h5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $_(e){let t=p.useContext(Ni);return Xe(t,h5(e)),t}function m5(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=ar(),c=lo(),u=jc(e,{relative:o});return p.useCallback(d=>{if(VO(d,t)){d.preventDefault();let h=n!==void 0?n:Fl(c)===Fl(u);i(e,{replace:h,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[c,i,u,n,r,t,e,a,o,s])}var p5=0,g5=()=>`__${String(++p5)}__`;function y5(){let{router:e}=$_("useSubmit"),{basename:t}=p.useContext(Rr),n=OO();return p.useCallback(async(r,a={})=>{let{action:o,method:s,encType:i,formData:c,body:u}=qO(r,t);if(a.navigate===!1){let d=a.fetcherKey||g5();await e.fetch(d,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function v5(e,{relative:t}={}){let{basename:n}=p.useContext(Rr),r=p.useContext(va);Xe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...jc(e||".",{relative:t})},s=lo();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),c=i.getAll("index");if(c.some(d=>d==="")){i.delete("index"),c.filter(h=>h).forEach(h=>i.append("index",h));let d=i.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:aa([n,o.pathname])),Fl(o)}function x5(e,t={}){let n=p.useContext(C_);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$_("useViewTransitionState"),a=jc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ua(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ua(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ld(a.pathname,s)!=null||Ld(a.pathname,o)!=null}[...n5];const Ub={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},equipment:[],userProgress:{unlocks:[]},destinyPath:[]},Gb=e=>{let t;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const f=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,f))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,a,i);return i},b5=e=>e?Gb(e):Gb,w5=e=>e;function S5(e,t=w5){const n=D.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return D.useDebugValue(n),n}const Vb=e=>{const t=b5(e),n=r=>S5(t,r);return Object.assign(n,t),n},N5=e=>e?Vb(e):Vb,vs=N5(e=>({build:Ub,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:Ub})}));function Fn(){const e=vs($=>$.build.skills.major),t=vs($=>$.build.skills.minor),n=vs($=>$.build),r=vs($=>$.updateBuild),a=vs($=>$.resetBuild),o=$=>(e==null?void 0:e.includes($))??!1,s=$=>(t==null?void 0:t.includes($))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:o,hasMinorSkill:s,addMajorSkill:$=>{const H=e??[],Z=t??[];if(!o($)&&H.length<3){const F=Z.filter(Y=>Y!==$);r({skills:{major:[...H,$],minor:F}})}},removeMajorSkill:$=>{const H=e??[],Z=t??[],F=H.filter(Y=>Y!==$);r({skills:{major:F,minor:Z}})},addMinorSkill:$=>{const H=e??[],Z=t??[];if(!s($)&&Z.length<3){const F=H.filter(Y=>Y!==$);r({skills:{major:F,minor:[...Z,$]}})}},removeMinorSkill:$=>{const H=e??[],F=(t??[]).filter(Y=>Y!==$);r({skills:{major:H,minor:F}})},addTrait:$=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:F=2,bonus:Y=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};H.length<F?r({traits:{...n==null?void 0:n.traits,regular:[...H,$]}}):Z.length<Y&&r({traits:{...n==null?void 0:n.traits,bonus:[...Z,$]}})},addRegularTrait:$=>{const{regular:H=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Z=2}=(n==null?void 0:n.traitLimits)??{regular:2};H.length<Z&&r({traits:{...n==null?void 0:n.traits,regular:[...H,$]}})},addBonusTrait:$=>{const{bonus:H=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Z=1}=(n==null?void 0:n.traitLimits)??{bonus:1};H.length<Z&&r({traits:{...n==null?void 0:n.traits,bonus:[...H,$]}})},removeTrait:$=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};r({traits:{regular:H.filter(F=>F!==$),bonus:Z.filter(F=>F!==$)}})},hasTrait:$=>{var H,Z,F,Y;return(((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes($))??!1)||(((Y=(F=n==null?void 0:n.traits)==null?void 0:F.bonus)==null?void 0:Y.includes($))??!1)},hasRegularTrait:$=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes($))??!1},hasBonusTrait:$=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:Z.includes($))??!1},setRace:$=>{r({race:$})},setBirthsign:$=>{r({stone:$})},setStone:$=>{r({stone:$})},setReligion:$=>{r({religion:$})},addEquipment:$=>{const H=(n==null?void 0:n.equipment)??[];H.includes($)||r({equipment:[...H,$]})},removeEquipment:$=>{const H=(n==null?void 0:n.equipment)??[];r({equipment:H.filter(Z=>Z!==$)})},setBuildName:$=>{r({name:$})},setBuildNotes:$=>{r({notes:$})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:$=>{r({destinyPath:$})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},destinyPath:[]})},resetBuild:a,getSummary:()=>{var $,H,Z,F,Y,W,Q,he,me;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((H=($=n==null?void 0:n.traits)==null?void 0:$.regular)==null?void 0:H.length)??0)+(((F=(Z=n==null?void 0:n.traits)==null?void 0:Z.bonus)==null?void 0:F.length)??0),majorSkillCount:((W=(Y=n==null?void 0:n.skills)==null?void 0:Y.major)==null?void 0:W.length)??0,minorSkillCount:((he=(Q=n==null?void 0:n.skills)==null?void 0:Q.minor)==null?void 0:he.length)??0,equipmentCount:((me=n==null?void 0:n.equipment)==null?void 0:me.length)??0}},getRegularTraitLimit:()=>{var $;return(($=n==null?void 0:n.traitLimits)==null?void 0:$.regular)??2},getBonusTraitLimit:()=>{var $;return(($=n==null?void 0:n.traitLimits)==null?void 0:$.bonus)??1},getRegularTraitCount:()=>{var $,H;return((H=($=n==null?void 0:n.traits)==null?void 0:$.regular)==null?void 0:H.length)??0},getBonusTraitCount:()=>{var $,H;return((H=($=n==null?void 0:n.traits)==null?void 0:$.bonus)==null?void 0:H.length)??0},canAddRegularTrait:()=>{var $,H,Z;return(((H=($=n==null?void 0:n.traits)==null?void 0:$.regular)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.regular)??2)},canAddBonusTrait:()=>{var $,H,Z;return(((H=($=n==null?void 0:n.traits)==null?void 0:$.bonus)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.bonus)??1)},getTraitType:$=>{var H,Z,F,Y;return(Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)!=null&&Z.includes($)?"regular":(Y=(F=n==null?void 0:n.traits)==null?void 0:F.bonus)!=null&&Y.includes($)?"bonus":null},isAllTraitsFull:()=>{var Y,W,Q,he,me,ue;const $=((W=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)==null?void 0:W.length)??0,H=((he=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:he.length)??0,Z=((me=n==null?void 0:n.traitLimits)==null?void 0:me.regular)??2,F=((ue=n==null?void 0:n.traitLimits)==null?void 0:ue.bonus)??1;return $>=Z&&H>=F},addTraitToSlot:($,H)=>{if(H==="regular"){const{regular:Z=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:F=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(Z.length<F){const{bonus:Y=[]}=(n==null?void 0:n.traits)??{bonus:[]},W=Y.filter(Q=>Q!==$);r({traits:{regular:[...Z,$],bonus:W}})}}else{const{bonus:Z=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:F=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(Z.length<F){const{regular:Y=[]}=(n==null?void 0:n.traits)??{regular:[]},W=Y.filter(Q=>Q!==$);r({traits:{regular:W,bonus:[...Z,$]}})}}},isSlotAvailable:($,H=0)=>{var Z,F,Y,W;return $==="regular"?(((F=(Z=n==null?void 0:n.traits)==null?void 0:Z.regular)==null?void 0:F.length)??0)<=H:(((W=(Y=n==null?void 0:n.traits)==null?void 0:Y.bonus)==null?void 0:W.length)??0)<=H}}}function L_(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=L_(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function P_(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=L_(e))&&(r&&(r+=" "),r+=t);return r}const Zb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yb=P_,Ei=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Yb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const f=Zb(d)||Zb(h);return a[u][f]}),i=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...o,...i}[x]):{...o,...i}[x]===w})?[...u,h,f]:u},[]);return Yb(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},hy="-",E5=e=>{const t=C5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(hy);return i[0]===""&&i.length!==1&&i.shift(),I_(i,t)||_5(s)},getConflictingClassGroupIds:(s,i)=>{const c=n[s]||[];return i&&r[s]?[...c,...r[s]]:c}}},I_=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?I_(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(hy);return(s=t.validators.find(({validator:i})=>i(o)))==null?void 0:s.classGroupId},qb=/^\[(.+)\]$/,_5=e=>{if(qb.test(e)){const t=qb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},C5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)sg(n[a],r,a,t);return r},sg=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Xb(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(A5(a)){sg(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,s])=>{sg(s,Xb(t,o),n,r)})})},Xb=(e,t)=>{let n=e;return t.split(hy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},A5=e=>e.isThemeGetter,k5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return a(o,s),s},set(o,s){n.has(o)?n.set(o,s):a(o,s)}}},ig="!",lg=":",j5=lg.length,T5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let s=0,i=0,c=0,u;for(let y=0;y<a.length;y++){let x=a[y];if(s===0&&i===0){if(x===lg){o.push(a.slice(c,y)),c=y+j5;continue}if(x==="/"){u=y;continue}}x==="["?s++:x==="]"?s--:x==="("?i++:x===")"&&i--}const d=o.length===0?a:a.substring(c),h=R5(d),f=h!==d,m=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}};if(t){const a=t+lg,o=r;r=s=>s.startsWith(a)?o(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},R5=e=>e.endsWith(ig)?e.substring(0,e.length-1):e.startsWith(ig)?e.substring(1):e,M5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(a.push(...o.sort(),s),o=[]):o.push(s)}),a.push(...o.sort()),a}},D5=e=>({cache:k5(e.cacheSize),parseClassName:T5(e),sortModifiers:M5(e),...E5(e)}),z5=/\s+/,O5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(z5);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{isExternal:h,modifiers:f,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=n(d);if(h){c=d+(c.length>0?" "+c:c);continue}let w=!!x,v=r(w?y.substring(0,x):y);if(!v){if(!w){c=d+(c.length>0?" "+c:c);continue}if(v=r(y),!v){c=d+(c.length>0?" "+c:c);continue}w=!1}const g=o(f).join(":"),b=m?g+ig:g,S=b+v;if(s.includes(S))continue;s.push(S);const E=a(v,w);for(let A=0;A<E.length;++A){const N=E[A];s.push(b+N)}c=d+(c.length>0?" "+c:c)}return c};function $5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=B_(t))&&(r&&(r+=" "),r+=n);return r}const B_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=B_(e[r]))&&(n&&(n+=" "),n+=t);return n};function L5(e,...t){let n,r,a,o=s;function s(c){const u=t.reduce((d,h)=>h(d),e());return n=D5(u),r=n.cache.get,a=n.cache.set,o=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=O5(c,n);return a(c,d),d}return function(){return o($5.apply(null,arguments))}}const dt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},H_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,F_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P5=/^\d+\/\d+$/,I5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,B5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,H5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,F5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=e=>P5.test(e),ye=e=>!!e&&!Number.isNaN(Number(e)),_a=e=>!!e&&Number.isInteger(Number(e)),mm=e=>e.endsWith("%")&&ye(e.slice(0,-1)),Vr=e=>I5.test(e),G5=()=>!0,V5=e=>B5.test(e)&&!H5.test(e),U_=()=>!1,Z5=e=>F5.test(e),Y5=e=>U5.test(e),q5=e=>!ne(e)&&!re(e),X5=e=>_i(e,Z_,U_),ne=e=>H_.test(e),mo=e=>_i(e,Y_,V5),pm=e=>_i(e,e$,ye),Wb=e=>_i(e,G_,U_),W5=e=>_i(e,V_,Y5),ru=e=>_i(e,q_,Z5),re=e=>F_.test(e),Gi=e=>Ci(e,Y_),K5=e=>Ci(e,t$),Kb=e=>Ci(e,G_),Q5=e=>Ci(e,Z_),J5=e=>Ci(e,V_),au=e=>Ci(e,q_,!0),_i=(e,t,n)=>{const r=H_.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ci=(e,t,n=!1)=>{const r=F_.exec(e);return r?r[1]?t(r[1]):n:!1},G_=e=>e==="position"||e==="percentage",V_=e=>e==="image"||e==="url",Z_=e=>e==="length"||e==="size"||e==="bg-size",Y_=e=>e==="length",e$=e=>e==="number",t$=e=>e==="family-name",q_=e=>e==="shadow",n$=()=>{const e=dt("color"),t=dt("font"),n=dt("text"),r=dt("font-weight"),a=dt("tracking"),o=dt("leading"),s=dt("breakpoint"),i=dt("container"),c=dt("spacing"),u=dt("radius"),d=dt("shadow"),h=dt("inset-shadow"),f=dt("text-shadow"),m=dt("drop-shadow"),y=dt("blur"),x=dt("perspective"),w=dt("aspect"),v=dt("ease"),g=dt("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...S(),re,ne],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],_=()=>[re,ne,c],j=()=>[os,"full","auto",..._()],C=()=>[_a,"none","subgrid",re,ne],R=()=>["auto",{span:["full",_a,re,ne]},_a,re,ne],B=()=>[_a,"auto",re,ne],L=()=>["auto","min","max","fr",re,ne],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],M=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",..._()],I=()=>[os,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],O=()=>[e,re,ne],z=()=>[...S(),Kb,Wb,{position:[re,ne]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",Q5,X5,{size:[re,ne]}],V=()=>[mm,Gi,mo],U=()=>["","none","full",u,re,ne],$=()=>["",ye,Gi,mo],H=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[ye,mm,Kb,Wb],Y=()=>["","none",y,re,ne],W=()=>["none",ye,re,ne],Q=()=>["none",ye,re,ne],he=()=>[ye,re,ne],me=()=>[os,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vr],breakpoint:[Vr],color:[G5],container:[Vr],"drop-shadow":[Vr],ease:["in","out","in-out"],font:[q5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vr],shadow:[Vr],spacing:["px",ye],text:[Vr],"text-shadow":[Vr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",os,ne,re,w]}],container:["container"],columns:[{columns:[ye,ne,re,i]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[_a,"auto",re,ne]}],basis:[{basis:[os,"full","auto",i,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ye,os,"auto","initial","none",ne]}],grow:[{grow:["",ye,re,ne]}],shrink:[{shrink:["",ye,re,ne]}],order:[{order:[_a,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...M(),"normal"]}],"justify-self":[{"justify-self":["auto",...M()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...M(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...M(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...M(),"baseline"]}],"place-self":[{"place-self":["auto",...M()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[i,"screen",...I()]}],"min-w":[{"min-w":[i,"screen","none",...I()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,Gi,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,re,pm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mm,ne]}],"font-family":[{font:[K5,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,re,ne]}],"line-clamp":[{"line-clamp":[ye,"none",re,pm]}],leading:[{leading:[o,..._()]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[ye,"from-font","auto",re,mo]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[ye,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_a,re,ne],radial:["",re,ne],conic:[_a,re,ne]},J5,W5]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ye,re,ne]}],"outline-w":[{outline:["",ye,Gi,mo]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",d,au,ru]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",h,au,ru]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[ye,mo]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",f,au,ru]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[ye,re,ne]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[re,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ne]}],filter:[{filter:["","none",re,ne]}],blur:[{blur:Y()}],brightness:[{brightness:[ye,re,ne]}],contrast:[{contrast:[ye,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",m,au,ru]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",ye,re,ne]}],"hue-rotate":[{"hue-rotate":[ye,re,ne]}],invert:[{invert:["",ye,re,ne]}],saturate:[{saturate:[ye,re,ne]}],sepia:[{sepia:["",ye,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ye,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[ye,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ye,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ye,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",ye,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[ye,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[ye,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",ye,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ye,"initial",re,ne]}],ease:[{ease:["linear","initial",v,re,ne]}],delay:[{delay:[ye,re,ne]}],animate:[{animate:["none",g,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,re,ne]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[ye,Gi,mo,pm]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},r$=L5(n$);function K(...e){return r$(P_(e))}const a$=Ei("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ae({className:e,variant:t,...n}){return l.jsx("div",{className:K(a$({variant:t}),e),...n})}function Qb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pf(...e){return t=>{let n=!1;const r=e.map(a=>{const o=Qb(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Qb(e[a],null)}}}}function Me(...e){return p.useCallback(Pf(...e),e)}function ii(e){const t=s$(e),n=p.forwardRef((r,a)=>{const{children:o,...s}=r,i=p.Children.toArray(o),c=i.find(l$);if(c){const u=c.props.children,d=i.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return l.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var o$=ii("Slot");function s$(e){const t=p.forwardRef((n,r)=>{const{children:a,...o}=n;if(p.isValidElement(a)){const s=u$(a),i=c$(o,a.props);return a.type!==p.Fragment&&(i.ref=r?Pf(r,s):s),p.cloneElement(a,i)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X_=Symbol("radix.slottable");function i$(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=X_,t}function l$(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X_}function c$(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...i)=>{const c=o(...i);return a(...i),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function u$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const d$=Ei("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function ae({className:e,variant:t,size:n,asChild:r=!1,...a}){const o=r?o$:"button";return l.jsx(o,{"data-slot":"button",className:K(d$({variant:t,size:n,className:e})),...a})}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function f$(e,t){const n=p.createContext(t),r=o=>{const{children:s,...i}=o,c=p.useMemo(()=>i,Object.values(i));return l.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function a(o){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function rn(e,t=[]){let n=[];function r(o,s){const i=p.createContext(s),c=n.length;n=[...n,s];const u=h=>{var v;const{scope:f,children:m,...y}=h,x=((v=f==null?void 0:f[e])==null?void 0:v[c])||i,w=p.useMemo(()=>y,Object.values(y));return l.jsx(x.Provider,{value:w,children:m})};u.displayName=o+"Provider";function d(h,f){var x;const m=((x=f==null?void 0:f[e])==null?void 0:x[c])||i,y=p.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=n.map(s=>p.createContext(s));return function(i){const c=(i==null?void 0:i[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return a.scopeName=e,[r,h$(a,...t)]}function h$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((i,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...i,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Ar=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},m$=f0[" useId ".trim().toString()]||(()=>{}),p$=0;function Nr(e){const[t,n]=p.useState(m$());return Ar(()=>{n(r=>r??String(p$++))},[e]),t?`radix-${t}`:""}var g$=f0[" useInsertionEffect ".trim().toString()]||Ar;function Cn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,s]=y$({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const h=d.current;h!==i&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=p.useCallback(d=>{var h;if(i){const f=v$(d)?d(e):d;f!==e&&((h=s.current)==null||h.call(s,f))}else o(d)},[i,e,o,s]);return[c,u]}function y$({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),o=p.useRef(t);return g$(()=>{o.current=t},[t]),p.useEffect(()=>{var s;a.current!==n&&((s=o.current)==null||s.call(o,n),a.current=n)},[n,a]),[n,r,o]}function v$(e){return typeof e=="function"}var x$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=x$.reduce((e,t)=>{const n=ii(`Primitive.${t}`),r=p.forwardRef((a,o)=>{const{asChild:s,...i}=a,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function W_(e,t){e&&lc.flushSync(()=>e.dispatchEvent(t))}function Lt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function b$(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var w$="DismissableLayer",cg="dismissableLayer.update",S$="dismissableLayer.pointerDownOutside",N$="dismissableLayer.focusOutside",Jb,K_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:i,...c}=e,u=p.useContext(K_),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=Me(t,N=>h(N)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),g=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=v,E=C$(N=>{const _=N.target,j=[...u.branches].some(C=>C.contains(_));!S||j||(a==null||a(N),s==null||s(N),N.defaultPrevented||i==null||i())},f),A=A$(N=>{const _=N.target;[...u.branches].some(C=>C.contains(_))||(o==null||o(N),s==null||s(N),N.defaultPrevented||i==null||i())},f);return b$(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Jb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ew(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Jb)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ew())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(cg,N),()=>document.removeEventListener(cg,N)},[]),l.jsx(de.div,{...c,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,A.onFocusCapture),onBlurCapture:te(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,E.onPointerDownCapture)})});Tc.displayName=w$;var E$="DismissableLayerBranch",_$=p.forwardRef((e,t)=>{const n=p.useContext(K_),r=p.useRef(null),a=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(de.div,{...e,ref:a})});_$.displayName=E$;function C$(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let c=function(){Q_(S$,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function A$(e,t=globalThis==null?void 0:globalThis.document){const n=Lt(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&Q_(N$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ew(){const e=new CustomEvent(cg);document.dispatchEvent(e)}function Q_(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?W_(a,o):a.dispatchEvent(o)}var gm="focusScope.autoFocusOnMount",ym="focusScope.autoFocusOnUnmount",tw={bubbles:!1,cancelable:!0},k$="FocusScope",my=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[i,c]=p.useState(null),u=Lt(a),d=Lt(o),h=p.useRef(null),f=Me(t,x=>c(x)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(b){if(m.paused||!i)return;const S=b.target;i.contains(S)?h.current=S:ka(h.current,{select:!0})},w=function(b){if(m.paused||!i)return;const S=b.relatedTarget;S!==null&&(i.contains(S)||ka(h.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const E of b)E.removedNodes.length>0&&ka(i)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(v);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[r,i,m.paused]),p.useEffect(()=>{if(i){rw.add(m);const x=document.activeElement;if(!i.contains(x)){const v=new CustomEvent(gm,tw);i.addEventListener(gm,u),i.dispatchEvent(v),v.defaultPrevented||(j$(z$(J_(i)),{select:!0}),document.activeElement===x&&ka(i))}return()=>{i.removeEventListener(gm,u),setTimeout(()=>{const v=new CustomEvent(ym,tw);i.addEventListener(ym,d),i.dispatchEvent(v),v.defaultPrevented||ka(x??document.body,{select:!0}),i.removeEventListener(ym,d),rw.remove(m)},0)}}},[i,u,d,m]);const y=p.useCallback(x=>{if(!n&&!r||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[b,S]=T$(g);b&&S?!x.shiftKey&&v===S?(x.preventDefault(),n&&ka(b,{select:!0})):x.shiftKey&&v===b&&(x.preventDefault(),n&&ka(S,{select:!0})):v===g&&x.preventDefault()}},[n,r,m.paused]);return l.jsx(de.div,{tabIndex:-1,...s,ref:f,onKeyDown:y})});my.displayName=k$;function j$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ka(r,{select:t}),document.activeElement!==n)return}function T$(e){const t=J_(e),n=nw(t,e),r=nw(t.reverse(),e);return[n,r]}function J_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function nw(e,t){for(const n of e)if(!R$(n,{upTo:t}))return n}function R$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function M$(e){return e instanceof HTMLInputElement&&"select"in e}function ka(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&M$(e)&&t&&e.select()}}var rw=D$();function D$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=aw(e,t),e.unshift(t)},remove(t){var n;e=aw(e,t),(n=e[0])==null||n.resume()}}}function aw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function z$(e){return e.filter(t=>t.tagName!=="A")}var O$="Portal",py=p.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,o]=p.useState(!1);Ar(()=>o(!0),[]);const s=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?oD.createPortal(l.jsx(de.div,{...r,ref:t}),s):null});py.displayName=O$;function $$(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Bt=e=>{const{present:t,children:n}=e,r=L$(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Me(r.ref,P$(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};Bt.displayName="Presence";function L$(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),s=e?"mounted":"unmounted",[i,c]=$$(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=ou(r.current);o.current=i==="mounted"?u:"none"},[i]),Ar(()=>{const u=r.current,d=a.current;if(d!==e){const f=o.current,m=ou(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ar(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const x=ou(r.current).includes(m.animationName);if(m.target===t&&x&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=m=>{m.target===t&&(o.current=ou(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ou(e){return(e==null?void 0:e.animationName)||"none"}function P$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vm=0;function eC(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ow()),document.body.insertAdjacentElement("beforeend",e[1]??ow()),vm++,()=>{vm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vm--}},[])}function ow(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pr=function(){return pr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},pr.apply(this,arguments)};function tC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function I$(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Xu="right-scroll-bar-position",Wu="width-before-scroll-bar",B$="with-scroll-bars-hidden",H$="--removed-body-scroll-bar-size";function xm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function F$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var U$=typeof window<"u"?p.useLayoutEffect:p.useEffect,sw=new WeakMap;function G$(e,t){var n=F$(null,function(r){return e.forEach(function(a){return xm(a,r)})});return U$(function(){var r=sw.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(i){o.has(i)||xm(i,null)}),o.forEach(function(i){a.has(i)||xm(i,s)})}sw.set(n,e)},[e]),n}function V$(e){return e}function Z$(e,t){t===void 0&&(t=V$);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(o),s=n}var c=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return a}function Y$(e){e===void 0&&(e={});var t=Z$(null);return t.options=pr({async:!0,ssr:!1},e),t}var nC=function(e){var t=e.sideCar,n=tC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,pr({},n))};nC.isSideCarExport=!0;function q$(e,t){return e.useMedium(t),nC}var rC=Y$(),bm=function(){},If=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:bm,onWheelCapture:bm,onTouchMoveCapture:bm}),a=r[0],o=r[1],s=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,m=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,S=tC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,A=G$([n,t]),N=pr(pr({},S),a);return p.createElement(p.Fragment,null,d&&p.createElement(E,{sideCar:rC,removeScrollBar:u,shards:h,noRelative:m,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:b}),s?p.cloneElement(p.Children.only(i),pr(pr({},N),{ref:A})):p.createElement(g,pr({},N,{className:c,ref:A}),i))});If.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};If.classNames={fullWidth:Wu,zeroRight:Xu};var X$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=X$();return t&&e.setAttribute("nonce",t),e}function K$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Q$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var J$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=W$())&&(K$(t,n),Q$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eL=function(){var e=J$();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aC=function(){var e=eL(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},tL={left:0,top:0,right:0,gap:0},wm=function(e){return parseInt(e||"",10)||0},nL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[wm(n),wm(r),wm(a)]},rL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tL;var t=nL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},aL=aC(),Us="data-scroll-locked",oL=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(B$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Us,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Wu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Us,`] {
    `).concat(H$,": ").concat(i,`px;
  }
`)},iw=function(){var e=parseInt(document.body.getAttribute(Us)||"0",10);return isFinite(e)?e:0},sL=function(){p.useEffect(function(){return document.body.setAttribute(Us,(iw()+1).toString()),function(){var e=iw()-1;e<=0?document.body.removeAttribute(Us):document.body.setAttribute(Us,e.toString())}},[])},iL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;sL();var o=p.useMemo(function(){return rL(a)},[a]);return p.createElement(aL,{styles:oL(o,!t,a,n?"":"!important")})},ug=!1;if(typeof window<"u")try{var su=Object.defineProperty({},"passive",{get:function(){return ug=!0,!0}});window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{ug=!1}var ss=ug?{passive:!1}:!1,lL=function(e){return e.tagName==="TEXTAREA"},oC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!lL(e)&&n[t]==="visible")},cL=function(e){return oC(e,"overflowY")},uL=function(e){return oC(e,"overflowX")},lw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=sC(e,r);if(a){var o=iC(e,r),s=o[1],i=o[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},fL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},sC=function(e,t){return e==="v"?cL(t):uL(t)},iC=function(e,t){return e==="v"?dL(t):fL(t)},hL=function(e,t){return e==="h"&&t==="rtl"?-1:1},mL=function(e,t,n,r,a){var o=hL(e,window.getComputedStyle(t).direction),s=o*r,i=n.target,c=t.contains(i),u=!1,d=s>0,h=0,f=0;do{if(!i)break;var m=iC(e,i),y=m[0],x=m[1],w=m[2],v=x-w-o*y;(y||v)&&sC(e,i)&&(h+=v,f+=y);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},iu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cw=function(e){return[e.deltaX,e.deltaY]},uw=function(e){return e&&"current"in e?e.current:e},pL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},gL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yL=0,is=[];function vL(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(yL++)[0],o=p.useState(aC)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=I$([e.lockRef.current],(e.shards||[]).map(uw),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var v=iu(x),g=n.current,b="deltaX"in x?x.deltaX:g[0]-v[0],S="deltaY"in x?x.deltaY:g[1]-v[1],E,A=x.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in x&&N==="h"&&A.type==="range")return!1;var _=lw(N,A);if(!_)return!0;if(_?E=N:(E=N==="v"?"h":"v",_=lw(N,A)),!_)return!1;if(!r.current&&"changedTouches"in x&&(b||S)&&(r.current=E),!E)return!0;var j=r.current||E;return mL(j,w,x,j==="h"?b:S)},[]),c=p.useCallback(function(x){var w=x;if(!(!is.length||is[is.length-1]!==o)){var v="deltaY"in w?cw(w):iu(w),g=t.current.filter(function(E){return E.name===w.type&&(E.target===w.target||w.target===E.shadowParent)&&pL(E.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var b=(s.current.shards||[]).map(uw).filter(Boolean).filter(function(E){return E.contains(w.target)}),S=b.length>0?i(w,b[0]):!s.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(x,w,v,g){var b={name:x,delta:w,target:v,should:g,shadowParent:xL(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(x){n.current=iu(x),r.current=void 0},[]),h=p.useCallback(function(x){u(x.type,cw(x),x.target,i(x,e.lockRef.current))},[]),f=p.useCallback(function(x){u(x.type,iu(x),x.target,i(x,e.lockRef.current))},[]);p.useEffect(function(){return is.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,ss),document.addEventListener("touchmove",c,ss),document.addEventListener("touchstart",d,ss),function(){is=is.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ss),document.removeEventListener("touchmove",c,ss),document.removeEventListener("touchstart",d,ss)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:gL(a)}):null,m?p.createElement(iL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function xL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bL=q$(rC,vL);var gy=p.forwardRef(function(e,t){return p.createElement(If,pr({},e,{ref:t,sideCar:bL}))});gy.classNames=If.classNames;var wL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ls=new WeakMap,lu=new WeakMap,cu={},Sm=0,lC=function(e){return e&&(e.host||lC(e.parentNode))},SL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=lC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},NL=function(e,t,n,r){var a=SL(t,Array.isArray(e)?e:[e]);cu[n]||(cu[n]=new WeakMap);var o=cu[n],s=[],i=new Set,c=new Set(a),u=function(h){!h||i.has(h)||(i.add(h),u(h.parentNode))};a.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(i.has(f))d(f);else try{var m=f.getAttribute(r),y=m!==null&&m!=="false",x=(ls.get(f)||0)+1,w=(o.get(f)||0)+1;ls.set(f,x),o.set(f,w),s.push(f),x===1&&y&&lu.set(f,!0),w===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),i.clear(),Sm++,function(){s.forEach(function(h){var f=ls.get(h)-1,m=o.get(h)-1;ls.set(h,f),o.set(h,m),f||(lu.has(h)||h.removeAttribute(r),lu.delete(h)),m||h.removeAttribute(n)}),Sm--,Sm||(ls=new WeakMap,ls=new WeakMap,lu=new WeakMap,cu={})}},cC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=wL(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),NL(r,a,n,"aria-hidden")):function(){return null}},Bf="Dialog",[uC,UJ]=rn(Bf),[EL,or]=uC(Bf),dC=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,i=p.useRef(null),c=p.useRef(null),[u,d]=Cn({prop:r,defaultProp:a??!1,onChange:o,caller:Bf});return l.jsx(EL,{scope:t,triggerRef:i,contentRef:c,contentId:Nr(),titleId:Nr(),descriptionId:Nr(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:s,children:n})};dC.displayName=Bf;var fC="DialogTrigger",hC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=or(fC,n),o=Me(t,a.triggerRef);return l.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xy(a.open),...r,ref:o,onClick:te(e.onClick,a.onOpenToggle)})});hC.displayName=fC;var yy="DialogPortal",[_L,mC]=uC(yy,{forceMount:void 0}),pC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=or(yy,t);return l.jsx(_L,{scope:t,forceMount:n,children:p.Children.map(r,s=>l.jsx(Bt,{present:n||o.open,children:l.jsx(py,{asChild:!0,container:a,children:s})}))})};pC.displayName=yy;var Pd="DialogOverlay",gC=p.forwardRef((e,t)=>{const n=mC(Pd,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=or(Pd,e.__scopeDialog);return o.modal?l.jsx(Bt,{present:r||o.open,children:l.jsx(AL,{...a,ref:t})}):null});gC.displayName=Pd;var CL=ii("DialogOverlay.RemoveScroll"),AL=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=or(Pd,n);return l.jsx(gy,{as:CL,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(de.div,{"data-state":xy(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Io="DialogContent",yC=p.forwardRef((e,t)=>{const n=mC(Io,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=or(Io,e.__scopeDialog);return l.jsx(Bt,{present:r||o.open,children:o.modal?l.jsx(kL,{...a,ref:t}):l.jsx(jL,{...a,ref:t})})});yC.displayName=Io;var kL=p.forwardRef((e,t)=>{const n=or(Io,e.__scopeDialog),r=p.useRef(null),a=Me(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return cC(o)},[]),l.jsx(vC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),jL=p.forwardRef((e,t)=>{const n=or(Io,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return l.jsx(vC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),vC=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,i=or(Io,n),c=p.useRef(null),u=Me(t,c);return eC(),l.jsxs(l.Fragment,{children:[l.jsx(my,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:l.jsx(Tc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":xy(i.open),...s,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(TL,{titleId:i.titleId}),l.jsx(ML,{contentRef:c,descriptionId:i.descriptionId})]})]})}),vy="DialogTitle",xC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=or(vy,n);return l.jsx(de.h2,{id:a.titleId,...r,ref:t})});xC.displayName=vy;var bC="DialogDescription",wC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=or(bC,n);return l.jsx(de.p,{id:a.descriptionId,...r,ref:t})});wC.displayName=bC;var SC="DialogClose",NC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=or(SC,n);return l.jsx(de.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>a.onOpenChange(!1))})});NC.displayName=SC;function xy(e){return e?"open":"closed"}var EC="DialogTitleWarning",[GJ,_C]=f$(EC,{contentName:Io,titleName:vy,docsSlug:"dialog"}),TL=({titleId:e})=>{const t=_C(EC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},RL="DialogDescriptionWarning",ML=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_C(RL).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},CC=dC,AC=hC,kC=pC,by=gC,wy=yC,Sy=xC,Ny=wC,DL=NC;const zL=CC,OL=AC,$L=kC,jC=p.forwardRef(({className:e,...t},n)=>l.jsx(by,{className:K("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:vt.MODAL},...t,ref:n}));jC.displayName=by.displayName;const LL=Ei("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),TC=p.forwardRef(({side:e="right",className:t,children:n,...r},a)=>l.jsxs($L,{children:[l.jsx(jC,{}),l.jsxs(wy,{ref:a,className:K(LL({side:e}),t),style:{zIndex:vt.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,l.jsxs(DL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(wn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));TC.displayName=wy.displayName;const RC=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});RC.displayName="SheetHeader";const MC=p.forwardRef(({className:e,...t},n)=>l.jsx(Sy,{ref:n,className:K("text-lg font-semibold text-foreground",e),...t}));MC.displayName=Sy.displayName;const DC=p.forwardRef(({className:e,...t},n)=>l.jsx(Ny,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));DC.displayName=Ny.displayName;const PL=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=Fn(),o=ar(),s=n(),[i,c]=p.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},h=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},f=w=>{c(!1),o(w)},m=r(),y=a(),x=m+y;return l.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:vt.MODAL+1},children:l.jsxs(zL,{open:i,onOpenChange:c,children:[l.jsx(OL,{asChild:!0,children:l.jsx(ae,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:l.jsx(Zu,{className:"h-5 w-5"})})}),l.jsxs(TC,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[l.jsxs(RC,{children:[l.jsxs(MC,{className:"flex items-center gap-2",children:[l.jsx(Zu,{className:"h-5 w-5"}),u?s.name:"Character Build"]}),l.jsx(DC,{children:u?"Your current character build status":"Create and manage your character build"})]}),l.jsx("div",{className:"mt-6 space-y-6",children:u?l.jsxs(l.Fragment,{children:[e.race&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.race}),l.jsx(Ae,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.stone}),l.jsx(Ae,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.religion}),l.jsx(Ae,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",x,")"]}),l.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(w=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${w}`)),e.traits.bonus.map(w=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${w}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),l.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Major Skills"}),l.jsx(Ae,{variant:"outline",children:e.skills.major.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(w=>l.jsx(Ae,{variant:"secondary",className:"bg-red-500 text-xs",children:w},w))})]}),e.skills.minor.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Minor Skills"}),l.jsx(Ae,{variant:"outline",children:e.skills.minor.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(w=>l.jsx(Ae,{variant:"secondary",className:"bg-blue-500 text-xs",children:w},w))})]})]})]}),e.equipment.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.equipment.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:w}),l.jsx(Ae,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},w))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Zu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),l.jsx("div",{className:"mt-8 space-y-3",children:u?l.jsxs(l.Fragment,{children:[l.jsxs(ae,{onClick:()=>f("/build"),className:"w-full",children:[l.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),l.jsxs(ae,{variant:"outline",onClick:d,className:"w-full",children:[l.jsx(K4,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),l.jsxs(ae,{variant:"destructive",onClick:h,className:"w-full",children:[l.jsx($z,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ae,{onClick:()=>f("/build"),className:"w-full",children:[l.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),l.jsx(ae,{variant:"outline",onClick:()=>f("/race"),className:"w-full",children:"Browse Races"}),l.jsx(ae,{variant:"outline",onClick:()=>f("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},IL=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),BL=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},HL=()=>{const{build:e,setBuild:t}=vs();lo(),ar(),p.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),s=new URLSearchParams(a||"").get("b");if(s){const i=BL(s);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),p.useEffect(()=>{const n=IL(e),r=window.location.hash,[a,o]=r.split("?"),s=new URLSearchParams(o||"");s.set("b",n);const i=`${a}?${s.toString()}`;window.history.replaceState(null,"",i)},[e])},zC=p.forwardRef(({className:e,collapsed:t,...n},r)=>l.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:K("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));zC.displayName="Sidebar";const OC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));OC.displayName="SidebarContent";const $C=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("mb-2",e),...t}));$C.displayName="SidebarGroup";const LC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));LC.displayName="SidebarHeader";const PC=p.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,className:K("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));PC.displayName="SidebarMenu";const IC=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return l.jsx(o,{ref:a,"data-active":n?"":void 0,className:K("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});IC.displayName="SidebarMenuButton";const BC=p.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,className:K("relative flex items-stretch",e),...t}));BC.displayName="SidebarMenuItem";const HC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:e,...t}));HC.displayName="SidebarRail";const FL=Ei("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),an=p.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const o=n||UL(t);return l.jsx(o,{className:K(FL({variant:t,className:e})),ref:a,...r})});an.displayName="Typography";function UL(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const Ai=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h1",as:"h1",className:e,ref:n,...t}));Ai.displayName="H1";const GL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h2",as:"h2",className:e,ref:n,...t}));GL.displayName="H2";const Hf=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h3",as:"h3",className:e,ref:n,...t}));Hf.displayName="H3";const FC=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h4",as:"h4",className:e,ref:n,...t}));FC.displayName="H4";const VL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h5",as:"h5",className:e,ref:n,...t}));VL.displayName="H5";const ZL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"h6",as:"h6",className:e,ref:n,...t}));ZL.displayName="H6";const $t=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"p",as:"p",className:e,ref:n,...t}));$t.displayName="P";const YL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));YL.displayName="Blockquote";const qL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"code",as:"code",className:e,ref:n,...t}));qL.displayName="Code";const UC=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"lead",as:"p",className:e,ref:n,...t}));UC.displayName="Lead";const XL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"large",as:"div",className:e,ref:n,...t}));XL.displayName="Large";const WL=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"small",as:"small",className:e,ref:n,...t}));WL.displayName="Small";const Ul=p.forwardRef(({className:e,...t},n)=>l.jsx(an,{variant:"muted",as:"p",className:e,ref:n,...t}));Ul.displayName="Muted";function ki({title:e,description:t,children:n,className:r=""}){return l.jsxs("div",{className:`bg-background ${r}`,children:[l.jsx("div",{className:"bg-card/50",children:l.jsxs("div",{className:"max-w-none mx-auto px-4 py-6",children:[l.jsx(Ai,{className:"text-3xl font-bold text-primary mb-2",children:e}),t&&l.jsx($t,{className:"text-muted-foreground max-w-4xl",children:t})]})}),l.jsx("div",{className:`px-4 py-6 ${r.includes("max-w-none")?"":"max-w-none mx-auto"}`,children:n})]})}const Sn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Sn.displayName="Input";function Qo({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(null),[c,u]=p.useState(""),[d,h]=p.useState(-1),f=p.useRef(null),m=p.useRef(null),y=e.length===1?e[0]:null;p.useEffect(()=>{const N=_=>{f.current&&!f.current.contains(_.target)&&(o(!1),i(null),h(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const x=s||y?(s||y).options.filter(N=>{var _;return N.label.toLowerCase().includes(c.toLowerCase())||((_=N.description)==null?void 0:_.toLowerCase().includes(c.toLowerCase()))}):e.flatMap(N=>N.options.filter(_=>{var j;return _.label.toLowerCase().includes(c.toLowerCase())||((j=_.description)==null?void 0:j.toLowerCase().includes(c.toLowerCase()))})),w=N=>{u(N),o(!0),h(-1)},v=N=>{var _;i(N),u(""),(_=m.current)==null||_.focus()},g=N=>{t(N),u(""),i(null),o(!1),h(-1)},b=N=>{N.key==="ArrowDown"?(N.preventDefault(),h(_=>Math.min(_+1,x.length-1))):N.key==="ArrowUp"?(N.preventDefault(),h(_=>Math.max(_-1,-1))):N.key==="Enter"?(N.preventDefault(),d>=0&&x[d]&&g(x[d])):N.key==="Escape"&&(o(!1),i(null),h(-1))},S=()=>{o(!0)},E=s||y,A=!y&&!s;return l.jsxs("div",{ref:f,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:m,type:"text",placeholder:E?E.placeholder:n,value:c,onChange:N=>w(N.target.value),onFocus:S,onKeyDown:b,className:"pl-10 pr-10"}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:vt.AUTOCOMPLETE+10},children:[A&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(N=>l.jsxs("button",{onClick:()=>v(N),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[l.jsx("span",{children:N.name}),l.jsx(ct,{className:"h-4 w-4"})]},N.id))]}),l.jsx("div",{className:"p-2",children:x.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):x.map((N,_)=>l.jsxs("button",{onClick:()=>g(N),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${_===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[l.jsx("div",{className:"font-medium",children:N.label}),N.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},N.id))})]})]})}function Ey({categories:e,onSelect:t,className:n=""}){return l.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(r=>l.jsx("div",{className:"flex-1 min-w-[180px]",children:l.jsx(Qo,{categories:[r],onSelect:t,placeholder:r.placeholder,className:"w-full"})},r.id))})}function _y({tags:e,onRemove:t,className:n=""}){return e.length===0?null:l.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(r=>l.jsxs(Ae,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.category,":"]}),l.jsx("span",{children:r.label}),l.jsx("button",{onClick:()=>t(r.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:l.jsx(wn,{className:"h-3 w-3"})})]},r.id))})}function KL({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:r,onTagRemove:a,onViewModeChange:o,children:s,className:i=""}){return l.jsxs("div",{className:`mb-8 space-y-4 ${i}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Ey,{categories:e,onSelect:r,className:"w-full"})}),o&&l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>o("grid"),className:"h-8 px-3",children:l.jsx(_c,{className:"h-4 w-4"})}),l.jsx(ae,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>o("list"),className:"h-8 px-3",children:l.jsx(Cc,{className:"h-4 w-4"})})]})]}),l.jsx(_y,{tags:t,onRemove:a,className:"justify-start"}),s&&l.jsx("div",{className:"pt-4",children:s})]})}function Nt({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:K("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Et({className:e,action:t,children:n,...r}){return l.jsxs("div",{"data-slot":"card-header",className:K("flex flex-row items-start justify-between space-y-0",e),...r,children:[l.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&l.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function Mt({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:K("text-xl font-bold leading-none",e),...t})}function Va({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:K("text-base text-muted-foreground",e),...t})}function gt({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:K("pt-0",e),...t})}var QL=p.createContext(void 0);function ji(e){const t=p.useContext(QL);return e||t||"ltr"}function JL(e,[t,n]){return Math.min(n,Math.max(t,e))}function eP(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Cy="ScrollArea",[GC,VJ]=rn(Cy),[tP,Un]=GC(Cy),VC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...s}=e,[i,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[m,y]=p.useState(null),[x,w]=p.useState(null),[v,g]=p.useState(0),[b,S]=p.useState(0),[E,A]=p.useState(!1),[N,_]=p.useState(!1),j=Me(t,R=>c(R)),C=ji(a);return l.jsx(tP,{scope:n,type:r,dir:C,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:E,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:_,onCornerWidthChange:g,onCornerHeightChange:S,children:l.jsx(de.div,{dir:C,...s,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});VC.displayName=Cy;var ZC="ScrollAreaViewport",YC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,s=Un(ZC,n),i=p.useRef(null),c=Me(t,i,s.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(de.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});YC.displayName=ZC;var Mr="ScrollAreaScrollbar",Ay=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Un(Mr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=a,i=e.orientation==="horizontal";return p.useEffect(()=>(i?o(!0):s(!0),()=>{i?o(!1):s(!1)}),[i,o,s]),a.type==="hover"?l.jsx(nP,{...r,ref:t,forceMount:n}):a.type==="scroll"?l.jsx(rP,{...r,ref:t,forceMount:n}):a.type==="auto"?l.jsx(qC,{...r,ref:t,forceMount:n}):a.type==="always"?l.jsx(ky,{...r,ref:t}):null});Ay.displayName=Mr;var nP=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Un(Mr,e.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const i=a.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(Bt,{present:n||o,children:l.jsx(qC,{"data-state":o?"visible":"hidden",...r,ref:t})})}),rP=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Un(Mr,e.__scopeScrollArea),o=e.orientation==="horizontal",s=Uf(()=>c("SCROLL_END"),100),[i,c]=eP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const m=u[d];h!==m&&(c("SCROLL"),s()),h=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,o,c,s]),l.jsx(Bt,{present:n||i!=="hidden",children:l.jsx(ky,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:te(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:te(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qC=p.forwardRef((e,t)=>{const n=Un(Mr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,s]=p.useState(!1),i=e.orientation==="horizontal",c=Uf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?u:d)}},10);return li(n.viewport,c),li(n.content,c),l.jsx(Bt,{present:r||o,children:l.jsx(ky,{"data-state":o?"visible":"hidden",...a,ref:t})})}),ky=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Un(Mr,e.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[i,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=JC(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function h(f,m){return cP(f,s.current,i,m)}return n==="horizontal"?l.jsx(aP,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollLeft,m=dw(f,i,a.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=h(f,a.dir))}}):n==="vertical"?l.jsx(oP,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollTop,m=dw(f,i);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=h(f))}}):null}),aP=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Un(Mr,e.__scopeScrollArea),[s,i]=p.useState(),c=p.useRef(null),u=Me(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(WC,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ff(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),t2(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bd(s.paddingLeft),paddingEnd:Bd(s.paddingRight)}})}})}),oP=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Un(Mr,e.__scopeScrollArea),[s,i]=p.useState(),c=p.useRef(null),u=Me(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(WC,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ff(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),t2(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bd(s.paddingTop),paddingEnd:Bd(s.paddingBottom)}})}})}),[sP,XC]=GC(Mr),WC=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,m=Un(Mr,n),[y,x]=p.useState(null),w=Me(t,j=>x(j)),v=p.useRef(null),g=p.useRef(""),b=m.viewport,S=r.content-r.viewport,E=Lt(d),A=Lt(c),N=Uf(h,10);function _(j){if(v.current){const C=j.clientX-v.current.left,R=j.clientY-v.current.top;u({x:C,y:R})}}return p.useEffect(()=>{const j=C=>{const R=C.target;(y==null?void 0:y.contains(R))&&E(C,S)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[b,y,S,E]),p.useEffect(A,[r,A]),li(y,N),li(m.content,N),l.jsx(sP,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:Lt(o),onThumbPointerUp:Lt(s),onThumbPositionChange:A,onThumbPointerDown:Lt(i),children:l.jsx(de.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:te(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),v.current=y.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),_(j))}),onPointerMove:te(e.onPointerMove,_),onPointerUp:te(e.onPointerUp,j=>{const C=j.target;C.hasPointerCapture(j.pointerId)&&C.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Id="ScrollAreaThumb",KC=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=XC(Id,e.__scopeScrollArea);return l.jsx(Bt,{present:n||a.hasThumb,children:l.jsx(iP,{ref:t,...r})})}),iP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=Un(Id,n),s=XC(Id,n),{onThumbPositionChange:i}=s,c=Me(t,h=>s.onThumbChange(h)),u=p.useRef(void 0),d=Uf(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const f=()=>{if(d(),!u.current){const m=uP(h,i);u.current=m,i()}};return i(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[o.viewport,d,i]),l.jsx(de.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:te(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),y=h.clientX-m.left,x=h.clientY-m.top;s.onThumbPointerDown({x:y,y:x})}),onPointerUp:te(e.onPointerUp,s.onThumbPointerUp)})});KC.displayName=Id;var jy="ScrollAreaCorner",QC=p.forwardRef((e,t)=>{const n=Un(jy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(lP,{...e,ref:t}):null});QC.displayName=jy;var lP=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Un(jy,n),[o,s]=p.useState(0),[i,c]=p.useState(0),u=!!(o&&i);return li(a.scrollbarX,()=>{var h;const d=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),li(a.scrollbarY,()=>{var h;const d=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?l.jsx(de.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bd(e){return e?parseInt(e,10):0}function JC(e,t){const n=e/t;return isNaN(n)?0:n}function Ff(e){const t=JC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function cP(e,t,n,r="ltr"){const a=Ff(n),o=a/2,s=t||o,i=a-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return e2([c,u],h)(e)}function dw(e,t,n="ltr"){const r=Ff(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,s=t.content-t.viewport,i=o-r,c=n==="ltr"?[0,s]:[s*-1,0],u=JL(e,c);return e2([0,s],[0,i])(u)}function e2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function t2(e,t){return e>0&&e<t}var uP=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,i=n.top!==o.top;(s||i)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Uf(e,t){const n=Lt(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function li(e,t){const n=Lt(t);Ar(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var n2=VC,dP=YC,fP=QC;const Hd=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(n2,{ref:r,className:K("relative overflow-hidden",e),...n,children:[l.jsx(dP,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(r2,{}),l.jsx(fP,{})]}));Hd.displayName=n2.displayName;const r2=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Ay,{ref:r,orientation:t,className:K("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(KC,{className:"relative flex-1 rounded-full bg-border"})}));r2.displayName=Ay.displayName;function hP(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function a2(e){const[t,n]=p.useState(void 0);return Ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,i;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,i=u.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Gf="Switch",[mP,ZJ]=rn(Gf),[pP,gP]=mP(Gf),o2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:i,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,m]=p.useState(null),y=Me(t,b=>m(b)),x=p.useRef(!1),w=f?d||!!f.closest("form"):!0,[v,g]=Cn({prop:a,defaultProp:o??!1,onChange:u,caller:Gf});return l.jsxs(pP,{scope:n,checked:v,disabled:i,children:[l.jsx(de.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":c2(v),"data-disabled":i?"":void 0,disabled:i,value:c,...h,ref:y,onClick:te(e.onClick,b=>{g(S=>!S),w&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),w&&l.jsx(l2,{control:f,bubbles:!x.current,name:r,value:c,checked:v,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});o2.displayName=Gf;var s2="SwitchThumb",i2=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=gP(s2,n);return l.jsx(de.span,{"data-state":c2(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});i2.displayName=s2;var yP="SwitchBubbleInput",l2=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},o)=>{const s=p.useRef(null),i=Me(s,o),c=hP(n),u=a2(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});l2.displayName=yP;function c2(e){return e?"checked":"unchecked"}var u2=o2,vP=i2;const qr=p.forwardRef(({className:e,...t},n)=>l.jsx(u2,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:l.jsx(vP,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qr.displayName=u2.displayName;function Ty({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:o}){const{setRace:s,setStone:i,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:h,addMajorSkill:f,removeMajorSkill:m,removeMinorSkill:y,addEquipment:x,removeEquipment:w,build:v}=Fn(),b=r||(()=>{switch(t){case"race":return v.race===e;case"stone":return v.stone===e;case"religion":return v.religion===e;case"trait":return v.traits.regular.includes(e)||v.traits.bonus.includes(e);case"skill":return v.skills.major.includes(e)||v.skills.minor.includes(e);case"equipment":return v.equipment.includes(e);default:return!1}})(),S=A=>{if(o){o(A);return}switch(t){case"race":s(A?e:null);break;case"stone":i(A?e:null);break;case"religion":c(A?e:null);break;case"trait":A?v.traits.regular.length<2?u(e):v.traits.bonus.length<1&&d(e):h(e);break;case"skill":A?f(e):(m(e),y(e));break;case"equipment":A?x(e):w(e);break}},E=()=>b?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return l.jsx("div",{className:K("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",b?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:A=>{A.stopPropagation(),S(!b)},title:E(),children:l.jsx(qr,{checked:b,onCheckedChange:S,className:K("transition-all duration-200",b?"data-[state=checked]:bg-[#d4af37]":"")})})}function Ry(e){const t=e+"CollectionProvider",[n,r]=rn(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:w,children:v}=x,g=D.useRef(null),b=D.useRef(new Map).current;return l.jsx(a,{scope:w,itemMap:b,collectionRef:g,children:v})};s.displayName=t;const i=e+"CollectionSlot",c=ii(i),u=D.forwardRef((x,w)=>{const{scope:v,children:g}=x,b=o(i,v),S=Me(w,b.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=i;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=ii(d),m=D.forwardRef((x,w)=>{const{scope:v,children:g,...b}=x,S=D.useRef(null),E=Me(w,S),A=o(d,v);return D.useEffect(()=>(A.itemMap.set(S,{ref:S,...b}),()=>void A.itemMap.delete(S))),l.jsx(f,{[h]:"",ref:E,children:g})});m.displayName=d;function y(x){const w=o(e+"CollectionConsumer",x);return D.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((A,N)=>b.indexOf(A.ref.current)-b.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},y,r]}const xP=["top","right","bottom","left"],ao=Math.min,mn=Math.max,Fd=Math.round,uu=Math.floor,Er=e=>({x:e,y:e}),bP={left:"right",right:"left",bottom:"top",top:"bottom"},wP={start:"end",end:"start"};function dg(e,t,n){return mn(e,ao(t,n))}function da(e,t){return typeof e=="function"?e(t):e}function fa(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function My(e){return e==="x"?"y":"x"}function Dy(e){return e==="y"?"height":"width"}const SP=new Set(["top","bottom"]);function yr(e){return SP.has(fa(e))?"y":"x"}function zy(e){return My(yr(e))}function NP(e,t,n){n===void 0&&(n=!1);const r=Ti(e),a=zy(e),o=Dy(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Ud(s)),[s,Ud(s)]}function EP(e){const t=Ud(e);return[fg(e),t,fg(t)]}function fg(e){return e.replace(/start|end/g,t=>wP[t])}const fw=["left","right"],hw=["right","left"],_P=["top","bottom"],CP=["bottom","top"];function AP(e,t,n){switch(e){case"top":case"bottom":return n?t?hw:fw:t?fw:hw;case"left":case"right":return t?_P:CP;default:return[]}}function kP(e,t,n,r){const a=Ti(e);let o=AP(fa(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(fg)))),o}function Ud(e){return e.replace(/left|right|bottom|top/g,t=>bP[t])}function jP(e){return{top:0,right:0,bottom:0,left:0,...e}}function d2(e){return typeof e!="number"?jP(e):{top:e,right:e,bottom:e,left:e}}function Gd(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function mw(e,t,n){let{reference:r,floating:a}=e;const o=yr(t),s=zy(t),i=Dy(s),c=fa(t),u=o==="y",d=r.x+r.width/2-a.width/2,h=r.y+r.height/2-a.height/2,f=r[i]/2-a[i]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-a.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ti(t)){case"start":m[s]-=f*(n&&u?-1:1);break;case"end":m[s]+=f*(n&&u?-1:1);break}return m}const TP=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=mw(u,r,c),f=r,m={},y=0;for(let x=0;x<i.length;x++){const{name:w,fn:v}=i[x],{x:g,y:b,data:S,reset:E}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=g??d,h=b??h,m={...m,[w]:{...m[w],...S}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:h}=mw(u,f,c)),x=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:m}};async function Gl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=da(t,e),y=d2(m),w=i[f?h==="floating"?"reference":"floating":h],v=Gd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},E=Gd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:b,strategy:c}):g);return{top:(v.top-E.top+y.top)/S.y,bottom:(E.bottom-v.bottom+y.bottom)/S.y,left:(v.left-E.left+y.left)/S.x,right:(E.right-v.right+y.right)/S.x}}const RP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=da(e,t)||{};if(u==null)return{};const h=d2(d),f={x:n,y:r},m=zy(a),y=Dy(m),x=await s.getDimensions(u),w=m==="y",v=w?"top":"left",g=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[m]-f[m]-o.floating[y],E=f[m]-o.reference[m],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=A?A[b]:0;(!N||!await(s.isElement==null?void 0:s.isElement(A)))&&(N=i.floating[b]||o.floating[y]);const _=S/2-E/2,j=N/2-x[y]/2-1,C=ao(h[v],j),R=ao(h[g],j),B=C,L=N-x[y]-R,k=N/2-x[y]/2+_,M=dg(B,k,L),T=!c.arrow&&Ti(a)!=null&&k!==M&&o.reference[y]/2-(k<B?C:R)-x[y]/2<0,I=T?k<B?k-B:k-L:0;return{[m]:f[m]+I,data:{[m]:M,centerOffset:k-M-I,...T&&{alignmentOffset:I}},reset:T}}}),MP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=da(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=fa(a),g=yr(i),b=fa(i)===i,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(b||!x?[Ud(i)]:EP(i)),A=y!=="none";!f&&A&&E.push(...kP(i,x,y,S));const N=[i,...E],_=await Gl(t,w),j=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&j.push(_[v]),h){const k=NP(a,s,S);j.push(_[k[0]],_[k[1]])}if(C=[...C,{placement:a,overflows:j}],!j.every(k=>k<=0)){var R,B;const k=(((R=o.flip)==null?void 0:R.index)||0)+1,M=N[k];if(M&&(!(h==="alignment"?g!==yr(M):!1)||C.every(O=>O.overflows[0]>0&&yr(O.placement)===g)))return{data:{index:k,overflows:C},reset:{placement:M}};let T=(B=C.filter(I=>I.overflows[0]<=0).sort((I,O)=>I.overflows[1]-O.overflows[1])[0])==null?void 0:B.placement;if(!T)switch(m){case"bestFit":{var L;const I=(L=C.filter(O=>{if(A){const z=yr(O.placement);return z===g||z==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(z=>z>0).reduce((z,P)=>z+P,0)]).sort((O,z)=>O[1]-z[1])[0])==null?void 0:L[0];I&&(T=I);break}case"initialPlacement":T=i;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function pw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function gw(e){return xP.some(t=>e[t]>=0)}const DP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=da(e,t);switch(r){case"referenceHidden":{const o=await Gl(t,{...a,elementContext:"reference"}),s=pw(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:gw(s)}}}case"escaped":{const o=await Gl(t,{...a,altBoundary:!0}),s=pw(o,n.floating);return{data:{escapedOffsets:s,escaped:gw(s)}}}default:return{}}}}},f2=new Set(["left","top"]);async function zP(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=fa(n),i=Ti(n),c=yr(n)==="y",u=f2.has(s)?-1:1,d=o&&c?-1:1,h=da(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return i&&typeof y=="number"&&(m=i==="end"?y*-1:y),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const OP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:i}=t,c=await zP(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:s}}}}},$P=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:w=>{let{x:v,y:g}=w;return{x:v,y:g}}},...c}=da(e,t),u={x:n,y:r},d=await Gl(t,c),h=yr(fa(a)),f=My(h);let m=u[f],y=u[h];if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=m+d[w],b=m-d[v];m=dg(g,m,b)}if(s){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=y+d[w],b=y-d[v];y=dg(g,y,b)}const x=i.fn({...t,[f]:m,[h]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[f]:o,[h]:s}}}}}},LP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=da(e,t),d={x:n,y:r},h=yr(a),f=My(h);let m=d[f],y=d[h];const x=da(i,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=f==="y"?"height":"width",S=o.reference[f]-o.floating[b]+w.mainAxis,E=o.reference[f]+o.reference[b]-w.mainAxis;m<S?m=S:m>E&&(m=E)}if(u){var v,g;const b=f==="y"?"width":"height",S=f2.has(fa(a)),E=o.reference[h]-o.floating[b]+(S&&((v=s.offset)==null?void 0:v[h])||0)+(S?0:w.crossAxis),A=o.reference[h]+o.reference[b]+(S?0:((g=s.offset)==null?void 0:g[h])||0)-(S?w.crossAxis:0);y<E?y=E:y>A&&(y=A)}return{[f]:m,[h]:y}}}},PP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:s,elements:i}=t,{apply:c=()=>{},...u}=da(e,t),d=await Gl(t,u),h=fa(a),f=Ti(a),m=yr(a)==="y",{width:y,height:x}=o.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=f===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(v=h,w=f==="end"?"top":"bottom");const g=x-d.top-d.bottom,b=y-d.left-d.right,S=ao(x-d[w],g),E=ao(y-d[v],b),A=!t.middlewareData.shift;let N=S,_=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),A&&!f){const C=mn(d.left,0),R=mn(d.right,0),B=mn(d.top,0),L=mn(d.bottom,0);m?_=y-2*(C!==0||R!==0?C+R:mn(d.left,d.right)):N=x-2*(B!==0||L!==0?B+L:mn(d.top,d.bottom))}await c({...t,availableWidth:_,availableHeight:N});const j=await s.getDimensions(i.floating);return y!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function Vf(){return typeof window<"u"}function Ri(e){return h2(e)?(e.nodeName||"").toLowerCase():"#document"}function Nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(h2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function h2(e){return Vf()?e instanceof Node||e instanceof Nn(e).Node:!1}function tr(e){return Vf()?e instanceof Element||e instanceof Nn(e).Element:!1}function kr(e){return Vf()?e instanceof HTMLElement||e instanceof Nn(e).HTMLElement:!1}function yw(e){return!Vf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nn(e).ShadowRoot}const IP=new Set(["inline","contents"]);function Rc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=nr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!IP.has(a)}const BP=new Set(["table","td","th"]);function HP(e){return BP.has(Ri(e))}const FP=[":popover-open",":modal"];function Zf(e){return FP.some(t=>{try{return e.matches(t)}catch{return!1}})}const UP=["transform","translate","scale","rotate","perspective"],GP=["transform","translate","scale","rotate","perspective","filter"],VP=["paint","layout","strict","content"];function Oy(e){const t=$y(),n=tr(e)?nr(e):e;return UP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||GP.some(r=>(n.willChange||"").includes(r))||VP.some(r=>(n.contain||"").includes(r))}function ZP(e){let t=oo(e);for(;kr(t)&&!ci(t);){if(Oy(t))return t;if(Zf(t))return null;t=oo(t)}return null}function $y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YP=new Set(["html","body","#document"]);function ci(e){return YP.has(Ri(e))}function nr(e){return Nn(e).getComputedStyle(e)}function Yf(e){return tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oo(e){if(Ri(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yw(e)&&e.host||Dr(e);return yw(t)?t.host:t}function m2(e){const t=oo(e);return ci(t)?e.ownerDocument?e.ownerDocument.body:e.body:kr(t)&&Rc(t)?t:m2(t)}function Vl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=m2(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=Nn(a);if(o){const i=hg(s);return t.concat(s,s.visualViewport||[],Rc(a)?a:[],i&&n?Vl(i):[])}return t.concat(a,Vl(a,[],n))}function hg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function p2(e){const t=nr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=kr(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,i=Fd(n)!==o||Fd(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function Ly(e){return tr(e)?e:e.contextElement}function Gs(e){const t=Ly(e);if(!kr(t))return Er(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=p2(t);let s=(o?Fd(n.width):n.width)/r,i=(o?Fd(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const qP=Er(0);function g2(e){const t=Nn(e);return!$y()||!t.visualViewport?qP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Nn(e)?!1:t}function Bo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Ly(e);let s=Er(1);t&&(r?tr(r)&&(s=Gs(r)):s=Gs(e));const i=XP(o,n,r)?g2(o):Er(0);let c=(a.left+i.x)/s.x,u=(a.top+i.y)/s.y,d=a.width/s.x,h=a.height/s.y;if(o){const f=Nn(o),m=r&&tr(r)?Nn(r):r;let y=f,x=hg(y);for(;x&&r&&m!==y;){const w=Gs(x),v=x.getBoundingClientRect(),g=nr(x),b=v.left+(x.clientLeft+parseFloat(g.paddingLeft))*w.x,S=v.top+(x.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=b,u+=S,y=Nn(x),x=hg(y)}}return Gd({width:d,height:h,x:c,y:u})}function Py(e,t){const n=Yf(e).scrollLeft;return t?t.left+n:Bo(Dr(e)).left+n}function y2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Py(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function WP(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=Dr(r),i=t?Zf(t.floating):!1;if(r===s||i&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Er(1);const d=Er(0),h=kr(r);if((h||!h&&!o)&&((Ri(r)!=="body"||Rc(s))&&(c=Yf(r)),kr(r))){const m=Bo(r);u=Gs(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=s&&!h&&!o?y2(s,c,!0):Er(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function KP(e){return Array.from(e.getClientRects())}function QP(e){const t=Dr(e),n=Yf(e),r=e.ownerDocument.body,a=mn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=mn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Py(e);const i=-n.scrollTop;return nr(r).direction==="rtl"&&(s+=mn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function JP(e,t){const n=Nn(e),r=Dr(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,c=0;if(a){o=a.width,s=a.height;const u=$y();(!u||u&&t==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:i,y:c}}const e6=new Set(["absolute","fixed"]);function t6(e,t){const n=Bo(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=kr(e)?Gs(e):Er(1),s=e.clientWidth*o.x,i=e.clientHeight*o.y,c=a*o.x,u=r*o.y;return{width:s,height:i,x:c,y:u}}function vw(e,t,n){let r;if(t==="viewport")r=JP(e,n);else if(t==="document")r=QP(Dr(e));else if(tr(t))r=t6(t,n);else{const a=g2(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Gd(r)}function v2(e,t){const n=oo(e);return n===t||!tr(n)||ci(n)?!1:nr(n).position==="fixed"||v2(n,t)}function n6(e,t){const n=t.get(e);if(n)return n;let r=Vl(e,[],!1).filter(i=>tr(i)&&Ri(i)!=="body"),a=null;const o=nr(e).position==="fixed";let s=o?oo(e):e;for(;tr(s)&&!ci(s);){const i=nr(s),c=Oy(s);!c&&i.position==="fixed"&&(a=null),(o?!c&&!a:!c&&i.position==="static"&&!!a&&e6.has(a.position)||Rc(s)&&!c&&v2(e,s))?r=r.filter(d=>d!==s):a=i,s=oo(s)}return t.set(e,r),r}function r6(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?Zf(t)?[]:n6(t,this._c):[].concat(n),r],i=s[0],c=s.reduce((u,d)=>{const h=vw(t,d,a);return u.top=mn(h.top,u.top),u.right=ao(h.right,u.right),u.bottom=ao(h.bottom,u.bottom),u.left=mn(h.left,u.left),u},vw(t,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function a6(e){const{width:t,height:n}=p2(e);return{width:t,height:n}}function o6(e,t,n){const r=kr(t),a=Dr(t),o=n==="fixed",s=Bo(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const c=Er(0);function u(){c.x=Py(a)}if(r||!r&&!o)if((Ri(t)!=="body"||Rc(a))&&(i=Yf(t)),r){const m=Bo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();o&&!r&&a&&u();const d=a&&!r&&!o?y2(a,i):Er(0),h=s.left+i.scrollLeft-c.x-d.x,f=s.top+i.scrollTop-c.y-d.y;return{x:h,y:f,width:s.width,height:s.height}}function Nm(e){return nr(e).position==="static"}function xw(e,t){if(!kr(e)||nr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function x2(e,t){const n=Nn(e);if(Zf(e))return n;if(!kr(e)){let a=oo(e);for(;a&&!ci(a);){if(tr(a)&&!Nm(a))return a;a=oo(a)}return n}let r=xw(e,t);for(;r&&HP(r)&&Nm(r);)r=xw(r,t);return r&&ci(r)&&Nm(r)&&!Oy(r)?n:r||ZP(e)||n}const s6=async function(e){const t=this.getOffsetParent||x2,n=this.getDimensions,r=await n(e.floating);return{reference:o6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function i6(e){return nr(e).direction==="rtl"}const l6={convertOffsetParentRelativeRectToViewportRelativeRect:WP,getDocumentElement:Dr,getClippingRect:r6,getOffsetParent:x2,getElementRects:s6,getClientRects:KP,getDimensions:a6,getScale:Gs,isElement:tr,isRTL:i6};function b2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c6(e,t){let n=null,r;const a=Dr(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(i||t(),!f||!m)return;const y=uu(h),x=uu(a.clientWidth-(d+f)),w=uu(a.clientHeight-(h+m)),v=uu(d),b={rootMargin:-y+"px "+-x+"px "+-w+"px "+-v+"px",threshold:mn(0,ao(1,c))||1};let S=!0;function E(A){const N=A[0].intersectionRatio;if(N!==c){if(!S)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!b2(u,e.getBoundingClientRect())&&s(),S=!1}try{n=new IntersectionObserver(E,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return s(!0),o}function u6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ly(e),d=a||o?[...u?Vl(u):[],...Vl(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&i?c6(u,n):null;let f=-1,m=null;s&&(m=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,x=c?Bo(e):null;c&&w();function w(){const v=Bo(e);x&&!b2(x,v)&&n(),x=v,y=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(g=>{a&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const d6=OP,f6=$P,h6=MP,m6=PP,p6=DP,bw=RP,g6=LP,y6=(e,t,n)=>{const r=new Map,a={platform:l6,...n},o={...a.platform,_c:r};return TP(e,t,{...a,platform:o})};var v6=typeof document<"u",x6=function(){},Ku=v6?p.useLayoutEffect:x6;function Vd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vd(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Vd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function w2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ww(e,t){const n=w2(e);return Math.round(t*n)/n}function Em(e){const t=p.useRef(e);return Ku(()=>{t.current=e}),t}function b6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=p.useState(r);Vd(f,r)||m(r);const[y,x]=p.useState(null),[w,v]=p.useState(null),g=p.useCallback(O=>{O!==A.current&&(A.current=O,x(O))},[]),b=p.useCallback(O=>{O!==N.current&&(N.current=O,v(O))},[]),S=o||y,E=s||w,A=p.useRef(null),N=p.useRef(null),_=p.useRef(d),j=c!=null,C=Em(c),R=Em(a),B=Em(u),L=p.useCallback(()=>{if(!A.current||!N.current)return;const O={placement:t,strategy:n,middleware:f};R.current&&(O.platform=R.current),y6(A.current,N.current,O).then(z=>{const P={...z,isPositioned:B.current!==!1};k.current&&!Vd(_.current,P)&&(_.current=P,lc.flushSync(()=>{h(P)}))})},[f,t,n,R,B]);Ku(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const k=p.useRef(!1);Ku(()=>(k.current=!0,()=>{k.current=!1}),[]),Ku(()=>{if(S&&(A.current=S),E&&(N.current=E),S&&E){if(C.current)return C.current(S,E,L);L()}},[S,E,L,C,j]);const M=p.useMemo(()=>({reference:A,floating:N,setReference:g,setFloating:b}),[g,b]),T=p.useMemo(()=>({reference:S,floating:E}),[S,E]),I=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!T.floating)return O;const z=ww(T.floating,d.x),P=ww(T.floating,d.y);return i?{...O,transform:"translate("+z+"px, "+P+"px)",...w2(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:P}},[n,i,T.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:L,refs:M,elements:T,floatingStyles:I}),[d,L,M,T,I])}const w6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?bw({element:r.current,padding:a}).fn(n):{}:r?bw({element:r,padding:a}).fn(n):{}}}},S6=(e,t)=>({...d6(e),options:[e,t]}),N6=(e,t)=>({...f6(e),options:[e,t]}),E6=(e,t)=>({...g6(e),options:[e,t]}),_6=(e,t)=>({...h6(e),options:[e,t]}),C6=(e,t)=>({...m6(e),options:[e,t]}),A6=(e,t)=>({...p6(e),options:[e,t]}),k6=(e,t)=>({...w6(e),options:[e,t]});var j6="Arrow",S2=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return l.jsx(de.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});S2.displayName=j6;var T6=S2,Iy="Popper",[N2,Mi]=rn(Iy),[R6,E2]=N2(Iy),_2=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return l.jsx(R6,{scope:t,anchor:r,onAnchorChange:a,children:n})};_2.displayName=Iy;var C2="PopperAnchor",A2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=E2(C2,n),s=p.useRef(null),i=Me(t,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:l.jsx(de.div,{...a,ref:i})});A2.displayName=C2;var By="PopperContent",[M6,D6]=N2(By),k2=p.forwardRef((e,t)=>{var F,Y,W,Q,he,me;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=e,w=E2(By,n),[v,g]=p.useState(null),b=Me(t,ue=>g(ue)),[S,E]=p.useState(null),A=a2(S),N=(A==null?void 0:A.width)??0,_=(A==null?void 0:A.height)??0,j=r+(o!=="center"?"-"+o:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],B=R.length>0,L={padding:C,boundary:R.filter(O6),altBoundary:B},{refs:k,floatingStyles:M,placement:T,isPositioned:I,middlewareData:O}=b6({strategy:"fixed",placement:j,whileElementsMounted:(...ue)=>u6(...ue,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[S6({mainAxis:a+_,alignmentAxis:s}),c&&N6({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?E6():void 0,...L}),c&&_6({...L}),C6({...L,apply:({elements:ue,rects:ee,availableWidth:Te,availableHeight:ot})=>{const{width:Ne,height:J}=ee.reference,Ze=ue.floating.style;Ze.setProperty("--radix-popper-available-width",`${Te}px`),Ze.setProperty("--radix-popper-available-height",`${ot}px`),Ze.setProperty("--radix-popper-anchor-width",`${Ne}px`),Ze.setProperty("--radix-popper-anchor-height",`${J}px`)}}),S&&k6({element:S,padding:i}),$6({arrowWidth:N,arrowHeight:_}),f&&A6({strategy:"referenceHidden",...L})]}),[z,P]=R2(T),G=Lt(y);Ar(()=>{I&&(G==null||G())},[I,G]);const V=(F=O.arrow)==null?void 0:F.x,U=(Y=O.arrow)==null?void 0:Y.y,$=((W=O.arrow)==null?void 0:W.centerOffset)!==0,[H,Z]=p.useState();return Ar(()=>{v&&Z(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:I?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Q=O.transformOrigin)==null?void 0:Q.x,(he=O.transformOrigin)==null?void 0:he.y].join(" "),...((me=O.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(M6,{scope:n,placedSide:z,onArrowChange:E,arrowX:V,arrowY:U,shouldHideArrow:$,children:l.jsx(de.div,{"data-side":z,"data-align":P,...x,ref:b,style:{...x.style,animation:I?void 0:"none"}})})})});k2.displayName=By;var j2="PopperArrow",z6={top:"bottom",right:"left",bottom:"top",left:"right"},T2=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=D6(j2,r),s=z6[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(T6,{...a,ref:n,style:{...a.style,display:"block"}})})});T2.displayName=j2;function O6(e){return e!==null}var $6=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:n,rects:r,middlewareData:a}=t,s=((w=a.arrow)==null?void 0:w.centerOffset)!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=R2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=a.arrow)==null?void 0:v.x)??0)+i/2,m=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=s?h:`${f}px`,x=`${-c}px`):u==="top"?(y=s?h:`${f}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=s?h:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=s?h:`${m}px`),{data:{x:y,y:x}}}});function R2(e){const[t,n="center"]=e.split("-");return[t,n]}var Hy=_2,Fy=A2,Uy=k2,Gy=T2,_m="rovingFocusGroup.onEntryFocus",L6={bubbles:!1,cancelable:!0},Mc="RovingFocusGroup",[mg,M2,P6]=Ry(Mc),[I6,Di]=rn(Mc,[P6]),[B6,H6]=I6(Mc),D2=p.forwardRef((e,t)=>l.jsx(mg.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(mg.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(F6,{...e,ref:t})})}));D2.displayName=Mc;var F6=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),m=Me(t,f),y=ji(o),[x,w]=Cn({prop:s,defaultProp:i??null,onChange:c,caller:Mc}),[v,g]=p.useState(!1),b=Lt(u),S=M2(n),E=p.useRef(!1),[A,N]=p.useState(0);return p.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(_m,b),()=>_.removeEventListener(_m,b)},[b]),l.jsx(B6,{scope:n,orientation:r,dir:y,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(_=>w(_),[w]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>N(_=>_-1),[]),children:l.jsx(de.div,{tabIndex:v||A===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{E.current=!0}),onFocus:te(e.onFocus,_=>{const j=!E.current;if(_.target===_.currentTarget&&j&&!v){const C=new CustomEvent(_m,L6);if(_.currentTarget.dispatchEvent(C),!C.defaultPrevented){const R=S().filter(T=>T.focusable),B=R.find(T=>T.active),L=R.find(T=>T.id===x),M=[B,L,...R].filter(Boolean).map(T=>T.ref.current);$2(M,d)}}E.current=!1}),onBlur:te(e.onBlur,()=>g(!1))})})}),z2="RovingFocusGroupItem",O2=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:s,...i}=e,c=Nr(),u=o||c,d=H6(z2,n),h=d.currentTabStopId===u,f=M2(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:x}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),l.jsx(mg.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:l.jsx(de.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:te(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:te(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=V6(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=f().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const S=b.indexOf(w.currentTarget);b=d.loop?Z6(b,S+1):b.slice(S+1)}setTimeout(()=>$2(b))}}),children:typeof s=="function"?s({isCurrentTabStop:h,hasTabStop:x!=null}):s})})});O2.displayName=z2;var U6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function V6(e,t,n){const r=G6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return U6[r]}function $2(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Z6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Vy=D2,Zy=O2,pg=["Enter"," "],Y6=["ArrowDown","PageUp","Home"],L2=["ArrowUp","PageDown","End"],q6=[...Y6,...L2],X6={ltr:[...pg,"ArrowRight"],rtl:[...pg,"ArrowLeft"]},W6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Dc="Menu",[Zl,K6,Q6]=Ry(Dc),[Jo,P2]=rn(Dc,[Q6,Mi,Di]),qf=Mi(),I2=Di(),[J6,es]=Jo(Dc),[e8,zc]=Jo(Dc),B2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,i=qf(t),[c,u]=p.useState(null),d=p.useRef(!1),h=Lt(o),f=ji(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(Hy,{...i,children:l.jsx(J6,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:l.jsx(e8,{scope:t,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:s,children:r})})})};B2.displayName=Dc;var t8="MenuAnchor",Yy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=qf(n);return l.jsx(Fy,{...a,...r,ref:t})});Yy.displayName=t8;var qy="MenuPortal",[n8,H2]=Jo(qy,{forceMount:void 0}),F2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=es(qy,t);return l.jsx(n8,{scope:t,forceMount:n,children:l.jsx(Bt,{present:n||o.open,children:l.jsx(py,{asChild:!0,container:a,children:r})})})};F2.displayName=qy;var In="MenuContent",[r8,Xy]=Jo(In),U2=p.forwardRef((e,t)=>{const n=H2(In,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=es(In,e.__scopeMenu),s=zc(In,e.__scopeMenu);return l.jsx(Zl.Provider,{scope:e.__scopeMenu,children:l.jsx(Bt,{present:r||o.open,children:l.jsx(Zl.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(a8,{...a,ref:t}):l.jsx(o8,{...a,ref:t})})})})}),a8=p.forwardRef((e,t)=>{const n=es(In,e.__scopeMenu),r=p.useRef(null),a=Me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return cC(o)},[]),l.jsx(Wy,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),o8=p.forwardRef((e,t)=>{const n=es(In,e.__scopeMenu);return l.jsx(Wy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),s8=ii("MenuContent.ScrollLock"),Wy=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,disableOutsideScroll:y,...x}=e,w=es(In,n),v=zc(In,n),g=qf(n),b=I2(n),S=K6(n),[E,A]=p.useState(null),N=p.useRef(null),_=Me(t,N,w.onContentChange),j=p.useRef(0),C=p.useRef(""),R=p.useRef(0),B=p.useRef(null),L=p.useRef("right"),k=p.useRef(0),M=y?gy:p.Fragment,T=y?{as:s8,allowPinchZoom:!0}:void 0,I=z=>{var F,Y;const P=C.current+z,G=S().filter(W=>!W.disabled),V=document.activeElement,U=(F=G.find(W=>W.ref.current===V))==null?void 0:F.textValue,$=G.map(W=>W.textValue),H=v8($,P,U),Z=(Y=G.find(W=>W.textValue===H))==null?void 0:Y.ref.current;(function W(Q){C.current=Q,window.clearTimeout(j.current),Q!==""&&(j.current=window.setTimeout(()=>W(""),1e3))})(P),Z&&setTimeout(()=>Z.focus())};p.useEffect(()=>()=>window.clearTimeout(j.current),[]),eC();const O=p.useCallback(z=>{var G,V;return L.current===((G=B.current)==null?void 0:G.side)&&b8(z,(V=B.current)==null?void 0:V.area)},[]);return l.jsx(r8,{scope:n,searchRef:C,onItemEnter:p.useCallback(z=>{O(z)&&z.preventDefault()},[O]),onItemLeave:p.useCallback(z=>{var P;O(z)||((P=N.current)==null||P.focus(),A(null))},[O]),onTriggerLeave:p.useCallback(z=>{O(z)&&z.preventDefault()},[O]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback(z=>{B.current=z},[]),children:l.jsx(M,{...T,children:l.jsx(my,{asChild:!0,trapped:a,onMountAutoFocus:te(o,z=>{var P;z.preventDefault(),(P=N.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:m,children:l.jsx(Vy,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:A,onEntryFocus:te(c,z=>{v.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Uy,{role:"menu","aria-orientation":"vertical","data-state":oA(w.open),"data-radix-menu-content":"",dir:v.dir,...g,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:te(x.onKeyDown,z=>{const G=z.target.closest("[data-radix-menu-content]")===z.currentTarget,V=z.ctrlKey||z.altKey||z.metaKey,U=z.key.length===1;G&&(z.key==="Tab"&&z.preventDefault(),!V&&U&&I(z.key));const $=N.current;if(z.target!==$||!q6.includes(z.key))return;z.preventDefault();const Z=S().filter(F=>!F.disabled).map(F=>F.ref.current);L2.includes(z.key)&&Z.reverse(),g8(Z)}),onBlur:te(e.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(j.current),C.current="")}),onPointerMove:te(e.onPointerMove,Yl(z=>{const P=z.target,G=k.current!==z.clientX;if(z.currentTarget.contains(P)&&G){const V=z.clientX>k.current?"right":"left";L.current=V,k.current=z.clientX}}))})})})})})})});U2.displayName=In;var i8="MenuGroup",Ky=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(de.div,{role:"group",...r,ref:t})});Ky.displayName=i8;var l8="MenuLabel",G2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(de.div,{...r,ref:t})});G2.displayName=l8;var Zd="MenuItem",Sw="menu.itemSelect",Xf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=p.useRef(null),s=zc(Zd,e.__scopeMenu),i=Xy(Zd,e.__scopeMenu),c=Me(t,o),u=p.useRef(!1),d=()=>{const h=o.current;if(!n&&h){const f=new CustomEvent(Sw,{bubbles:!0,cancelable:!0});h.addEventListener(Sw,m=>r==null?void 0:r(m),{once:!0}),W_(h,f),f.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(V2,{...a,ref:c,disabled:n,onClick:te(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:te(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:te(e.onKeyDown,h=>{const f=i.searchRef.current!=="";n||f&&h.key===" "||pg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Xf.displayName=Zd;var V2=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,s=Xy(Zd,n),i=I2(n),c=p.useRef(null),u=Me(t,c),[d,h]=p.useState(!1),[f,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[o.children]),l.jsx(Zl.ItemSlot,{scope:n,disabled:r,textValue:a??f,children:l.jsx(Zy,{asChild:!0,...i,focusable:!r,children:l.jsx(de.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:te(e.onPointerMove,Yl(y=>{r?s.onItemLeave(y):(s.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:te(e.onPointerLeave,Yl(y=>s.onItemLeave(y))),onFocus:te(e.onFocus,()=>h(!0)),onBlur:te(e.onBlur,()=>h(!1))})})})}),c8="MenuCheckboxItem",Z2=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return l.jsx(K2,{scope:e.__scopeMenu,checked:n,children:l.jsx(Xf,{role:"menuitemcheckbox","aria-checked":Yd(n)?"mixed":n,...a,ref:t,"data-state":Jy(n),onSelect:te(a.onSelect,()=>r==null?void 0:r(Yd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Z2.displayName=c8;var Y2="MenuRadioGroup",[u8,d8]=Jo(Y2,{value:void 0,onValueChange:()=>{}}),q2=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=Lt(r);return l.jsx(u8,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(Ky,{...a,ref:t})})});q2.displayName=Y2;var X2="MenuRadioItem",W2=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=d8(X2,e.__scopeMenu),o=n===a.value;return l.jsx(K2,{scope:e.__scopeMenu,checked:o,children:l.jsx(Xf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Jy(o),onSelect:te(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});W2.displayName=X2;var Qy="MenuItemIndicator",[K2,f8]=Jo(Qy,{checked:!1}),Q2=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=f8(Qy,n);return l.jsx(Bt,{present:r||Yd(o.checked)||o.checked===!0,children:l.jsx(de.span,{...a,ref:t,"data-state":Jy(o.checked)})})});Q2.displayName=Qy;var h8="MenuSeparator",J2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(de.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});J2.displayName=h8;var m8="MenuArrow",eA=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=qf(n);return l.jsx(Gy,{...a,...r,ref:t})});eA.displayName=m8;var p8="MenuSub",[YJ,tA]=Jo(p8),rl="MenuSubTrigger",nA=p.forwardRef((e,t)=>{const n=es(rl,e.__scopeMenu),r=zc(rl,e.__scopeMenu),a=tA(rl,e.__scopeMenu),o=Xy(rl,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=i.current;return()=>{window.clearTimeout(h),c(null)}},[i,c]),l.jsx(Yy,{asChild:!0,...u,children:l.jsx(V2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":oA(n.open),...e,ref:Pf(t,a.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:te(e.onPointerMove,Yl(h=>{o.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:te(e.onPointerLeave,Yl(h=>{var m,y;d();const f=(m=n.content)==null?void 0:m.getBoundingClientRect();if(f){const x=(y=n.content)==null?void 0:y.dataset.side,w=x==="right",v=w?-5:5,g=f[w?"left":"right"],b=f[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:g,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:g,y:f.bottom}],side:x}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:te(e.onKeyDown,h=>{var m;const f=o.searchRef.current!=="";e.disabled||f&&h.key===" "||X6[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});nA.displayName=rl;var rA="MenuSubContent",aA=p.forwardRef((e,t)=>{const n=H2(In,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=es(In,e.__scopeMenu),s=zc(In,e.__scopeMenu),i=tA(rA,e.__scopeMenu),c=p.useRef(null),u=Me(t,c);return l.jsx(Zl.Provider,{scope:e.__scopeMenu,children:l.jsx(Bt,{present:r||o.open,children:l.jsx(Zl.Slot,{scope:e.__scopeMenu,children:l.jsx(Wy,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;s.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:te(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:te(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:te(e.onKeyDown,d=>{var m;const h=d.currentTarget.contains(d.target),f=W6[s.dir].includes(d.key);h&&f&&(o.onOpenChange(!1),(m=i.trigger)==null||m.focus(),d.preventDefault())})})})})})});aA.displayName=rA;function oA(e){return e?"open":"closed"}function Yd(e){return e==="indeterminate"}function Jy(e){return Yd(e)?"indeterminate":e?"checked":"unchecked"}function g8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function y8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function v8(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=y8(e,Math.max(o,0));a.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function x8(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(a=!a)}return a}function b8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return x8(n,t)}function Yl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var w8=B2,S8=Yy,N8=F2,E8=U2,_8=Ky,C8=G2,A8=Xf,k8=Z2,j8=q2,T8=W2,R8=Q2,M8=J2,D8=eA,z8=nA,O8=aA,Wf="DropdownMenu",[$8,qJ]=rn(Wf,[P2]),Zt=P2(),[L8,sA]=$8(Wf),iA=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,c=Zt(t),u=p.useRef(null),[d,h]=Cn({prop:a,defaultProp:o??!1,onChange:s,caller:Wf});return l.jsx(L8,{scope:t,triggerId:Nr(),triggerRef:u,contentId:Nr(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:i,children:l.jsx(w8,{...c,open:d,onOpenChange:h,dir:r,modal:i,children:n})})};iA.displayName=Wf;var lA="DropdownMenuTrigger",cA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=sA(lA,n),s=Zt(n);return l.jsx(S8,{asChild:!0,...s,children:l.jsx(de.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Pf(t,o.triggerRef),onPointerDown:te(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:te(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});cA.displayName=lA;var P8="DropdownMenuPortal",uA=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Zt(t);return l.jsx(N8,{...r,...n})};uA.displayName=P8;var dA="DropdownMenuContent",fA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=sA(dA,n),o=Zt(n),s=p.useRef(!1);return l.jsx(E8,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:te(e.onCloseAutoFocus,i=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:te(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fA.displayName=dA;var I8="DropdownMenuGroup",B8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(_8,{...a,...r,ref:t})});B8.displayName=I8;var H8="DropdownMenuLabel",hA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(C8,{...a,...r,ref:t})});hA.displayName=H8;var F8="DropdownMenuItem",mA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(A8,{...a,...r,ref:t})});mA.displayName=F8;var U8="DropdownMenuCheckboxItem",pA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(k8,{...a,...r,ref:t})});pA.displayName=U8;var G8="DropdownMenuRadioGroup",V8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(j8,{...a,...r,ref:t})});V8.displayName=G8;var Z8="DropdownMenuRadioItem",gA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(T8,{...a,...r,ref:t})});gA.displayName=Z8;var Y8="DropdownMenuItemIndicator",yA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(R8,{...a,...r,ref:t})});yA.displayName=Y8;var q8="DropdownMenuSeparator",vA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(M8,{...a,...r,ref:t})});vA.displayName=q8;var X8="DropdownMenuArrow",W8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(D8,{...a,...r,ref:t})});W8.displayName=X8;var K8="DropdownMenuSubTrigger",xA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(z8,{...a,...r,ref:t})});xA.displayName=K8;var Q8="DropdownMenuSubContent",bA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Zt(n);return l.jsx(O8,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bA.displayName=Q8;var J8=iA,eI=cA,tI=uA,wA=fA,SA=hA,NA=mA,EA=pA,_A=gA,CA=yA,AA=vA,kA=xA,jA=bA;const ev=J8,tv=eI,nI=p.forwardRef(({className:e,inset:t,children:n,...r},a)=>l.jsxs(kA,{ref:a,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(Of,{className:"ml-auto h-4 w-4"})]}));nI.displayName=kA.displayName;const rI=p.forwardRef(({className:e,...t},n)=>l.jsx(jA,{ref:n,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:vt.DROPDOWN},...t}));rI.displayName=jA.displayName;const Kf=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(tI,{children:l.jsx(wA,{ref:r,sideOffset:t,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:vt.DROPDOWN},...n})}));Kf.displayName=wA.displayName;const oa=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(NA,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));oa.displayName=NA.displayName;const aI=p.forwardRef(({className:e,children:t,checked:n,...r},a)=>l.jsxs(EA,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(CA,{children:l.jsx(Z4,{className:"h-4 w-4"})})}),t]}));aI.displayName=EA.displayName;const oI=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(_A,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(CA,{children:l.jsx(Fs,{className:"h-2 w-2 fill-current"})})}),t]}));oI.displayName=_A.displayName;const sI=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(SA,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));sI.displayName=SA.displayName;const iI=p.forwardRef(({className:e,...t},n)=>l.jsx(AA,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));iI.displayName=AA.displayName;function nv({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={sm:"gap-3",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}function lI({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},o={sm:"gap-2",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}var Qf="Collapsible",[cI,TA]=rn(Qf),[uI,rv]=cI(Qf),RA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:s,...i}=e,[c,u]=Cn({prop:r,defaultProp:a??!1,onChange:s,caller:Qf});return l.jsx(uI,{scope:n,disabled:o,contentId:Nr(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:l.jsx(de.div,{"data-state":ov(c),"data-disabled":o?"":void 0,...i,ref:t})})});RA.displayName=Qf;var MA="CollapsibleTrigger",DA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=rv(MA,n);return l.jsx(de.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":ov(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:te(e.onClick,a.onOpenToggle)})});DA.displayName=MA;var av="CollapsibleContent",zA=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=rv(av,e.__scopeCollapsible);return l.jsx(Bt,{present:n||a.open,children:({present:o})=>l.jsx(dI,{...r,ref:t,present:o})})});zA.displayName=av;var dI=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,s=rv(av,n),[i,c]=p.useState(r),u=p.useRef(null),d=Me(t,u),h=p.useRef(0),f=h.current,m=p.useRef(0),y=m.current,x=s.open||i,w=p.useRef(x),v=p.useRef(void 0);return p.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),Ar(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();h.current=b.height,m.current=b.width,w.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),c(r)}},[s.open,r]),l.jsx(de.div,{"data-state":ov(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:x&&a})});function ov(e){return e?"open":"closed"}var fI=RA,hI=DA,mI=zA,sr="Accordion",pI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[sv,gI,yI]=Ry(sr),[Jf,XJ]=rn(sr,[yI,TA]),iv=TA(),OA=D.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,o=r;return l.jsx(sv.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(wI,{...o,ref:t}):l.jsx(bI,{...a,ref:t})})});OA.displayName=sr;var[$A,vI]=Jf(sr),[LA,xI]=Jf(sr,{collapsible:!1}),bI=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...s}=e,[i,c]=Cn({prop:n,defaultProp:r??"",onChange:a,caller:sr});return l.jsx($A,{scope:e.__scopeAccordion,value:D.useMemo(()=>i?[i]:[],[i]),onItemOpen:c,onItemClose:D.useCallback(()=>o&&c(""),[o,c]),children:l.jsx(LA,{scope:e.__scopeAccordion,collapsible:o,children:l.jsx(PA,{...s,ref:t})})})}),wI=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Cn({prop:n,defaultProp:r??[],onChange:a,caller:sr}),c=D.useCallback(d=>i((h=[])=>[...h,d]),[i]),u=D.useCallback(d=>i((h=[])=>h.filter(f=>f!==d)),[i]);return l.jsx($A,{scope:e.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l.jsx(LA,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(PA,{...o,ref:t})})})}),[SI,eh]=Jf(sr),PA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...s}=e,i=D.useRef(null),c=Me(i,t),u=gI(n),h=ji(a)==="ltr",f=te(e.onKeyDown,m=>{var _;if(!pI.includes(m.key))return;const y=m.target,x=u().filter(j=>{var C;return!((C=j.ref.current)!=null&&C.disabled)}),w=x.findIndex(j=>j.ref.current===y),v=x.length;if(w===-1)return;m.preventDefault();let g=w;const b=0,S=v-1,E=()=>{g=w+1,g>S&&(g=b)},A=()=>{g=w-1,g<b&&(g=S)};switch(m.key){case"Home":g=b;break;case"End":g=S;break;case"ArrowRight":o==="horizontal"&&(h?E():A());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(h?A():E());break;case"ArrowUp":o==="vertical"&&A();break}const N=g%v;(_=x[N].ref.current)==null||_.focus()});return l.jsx(SI,{scope:n,disabled:r,direction:a,orientation:o,children:l.jsx(sv.Slot,{scope:n,children:l.jsx(de.div,{...s,"data-orientation":o,ref:c,onKeyDown:r?void 0:f})})})}),qd="AccordionItem",[NI,lv]=Jf(qd),IA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,o=eh(qd,n),s=vI(qd,n),i=iv(n),c=Nr(),u=r&&s.value.includes(r)||!1,d=o.disabled||e.disabled;return l.jsx(NI,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(fI,{"data-orientation":o.orientation,"data-state":VA(u),...i,...a,ref:t,disabled:d,open:u,onOpenChange:h=>{h?s.onItemOpen(r):s.onItemClose(r)}})})});IA.displayName=qd;var BA="AccordionHeader",HA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=eh(sr,n),o=lv(BA,n);return l.jsx(de.h3,{"data-orientation":a.orientation,"data-state":VA(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});HA.displayName=BA;var gg="AccordionTrigger",FA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=eh(sr,n),o=lv(gg,n),s=xI(gg,n),i=iv(n);return l.jsx(sv.ItemSlot,{scope:n,children:l.jsx(hI,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...i,...r,ref:t})})});FA.displayName=gg;var UA="AccordionContent",GA=D.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=eh(sr,n),o=lv(UA,n),s=iv(n);return l.jsx(mI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});GA.displayName=UA;function VA(e){return e?"open":"closed"}var EI=OA,_I=IA,CI=HA,ZA=FA,YA=GA;const cv=EI,th=p.forwardRef(({className:e,...t},n)=>l.jsx(_I,{ref:n,className:K("border-b",e),...t}));th.displayName="AccordionItem";const nh=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(CI,{className:"flex",children:l.jsxs(ZA,{ref:r,className:K("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(ct,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));nh.displayName=ZA.displayName;const rh=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(YA,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:K("pb-4 pt-0",e),children:t})}));rh.displayName=YA.displayName;function AI({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return l.jsx(cv,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:l.jsxs(th,{value:"customize-display",className:"border-none",children:[l.jsx(nh,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v_,{className:"h-4 w-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:t}),l.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),l.jsx(rh,{children:l.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var kI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jI="VisuallyHidden",qA=p.forwardRef((e,t)=>l.jsx(de.span,{...e,ref:t,style:{...kI,...e.style}}));qA.displayName=jI;var TI=qA,[ah,WJ]=rn("Tooltip",[Mi]),oh=Mi(),XA="TooltipProvider",RI=700,yg="tooltip.open",[MI,uv]=ah(XA),WA=e=>{const{__scopeTooltip:t,delayDuration:n=RI,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,s=p.useRef(!0),i=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(MI,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:p.useCallback(u=>{i.current=u},[]),disableHoverableContent:a,children:o})};WA.displayName=XA;var ql="Tooltip",[DI,sh]=ah(ql),KA=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:o,disableHoverableContent:s,delayDuration:i}=e,c=uv(ql,e.__scopeTooltip),u=oh(t),[d,h]=p.useState(null),f=Nr(),m=p.useRef(0),y=s??c.disableHoverableContent,x=i??c.delayDuration,w=p.useRef(!1),[v,g]=Cn({prop:r,defaultProp:a??!1,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(yg))):c.onClose(),o==null||o(N)},caller:ql}),b=p.useMemo(()=>v?w.current?"delayed-open":"instant-open":"closed",[v]),S=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,g(!0)},[g]),E=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g(!1)},[g]),A=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,g(!0),m.current=0},x)},[x,g]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(Hy,{...u,children:l.jsx(DI,{scope:t,contentId:f,open:v,stateAttribute:b,trigger:d,onTriggerChange:h,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?A():S()},[c.isOpenDelayedRef,A,S]),onTriggerLeave:p.useCallback(()=>{y?E():(window.clearTimeout(m.current),m.current=0)},[E,y]),onOpen:S,onClose:E,disableHoverableContent:y,children:n})})};KA.displayName=ql;var vg="TooltipTrigger",QA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=sh(vg,n),o=uv(vg,n),s=oh(n),i=p.useRef(null),c=Me(t,i,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Fy,{asChild:!0,...s,children:l.jsx(de.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:te(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:te(e.onBlur,a.onClose),onClick:te(e.onClick,a.onClose)})})});QA.displayName=vg;var zI="TooltipPortal",[KJ,OI]=ah(zI,{forceMount:void 0}),ui="TooltipContent",JA=p.forwardRef((e,t)=>{const n=OI(ui,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,s=sh(ui,e.__scopeTooltip);return l.jsx(Bt,{present:r||s.open,children:s.disableHoverableContent?l.jsx(ek,{side:a,...o,ref:t}):l.jsx($I,{side:a,...o,ref:t})})}),$I=p.forwardRef((e,t)=>{const n=sh(ui,e.__scopeTooltip),r=uv(ui,e.__scopeTooltip),a=p.useRef(null),o=Me(t,a),[s,i]=p.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{i(null),h(!1)},[h]),m=p.useCallback((y,x)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},g=HI(v,w.getBoundingClientRect()),b=FI(v,g),S=UI(x.getBoundingClientRect()),E=VI([...b,...S]);i(E),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const y=w=>m(w,d),x=w=>m(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,m,f]),p.useEffect(()=>{if(s){const y=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!GI(v,s);g?f():b&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,s,u,f]),l.jsx(ek,{...e,ref:o})}),[LI,PI]=ah(ql,{isInside:!1}),II=i$("TooltipContent"),ek=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:s,...i}=e,c=sh(ui,n),u=oh(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(yg,d),()=>document.removeEventListener(yg,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(Uy,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(II,{children:r}),l.jsx(LI,{scope:n,isInside:!0,children:l.jsx(TI,{id:c.contentId,role:"tooltip",children:a||r})})]})})});JA.displayName=ui;var tk="TooltipArrow",BI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=oh(n);return PI(tk,n).isInside?null:l.jsx(Gy,{...a,...r,ref:t})});BI.displayName=tk;function HI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function UI(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function GI(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(a=!a)}return a}function VI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZI(t)}function ZI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var YI=WA,qI=KA,XI=QA,nk=JA;const WI=YI,KI=qI,QI=XI,rk=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(nk,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));rk.displayName=nk.displayName;function ak({title:e,description:t,options:n,selectedValue:r,onValueChange:a,minWidth:o="min-w-[200px]",className:s,showCategory:i=!1,category:c,cardClassName:u,showCardTheming:d=!1,mutuallyExclusive:h=!1}){const f=y=>{a(r===y?void 0:y)},m=()=>typeof u=="function"?u(r):u||"";return l.jsx(WI,{children:l.jsxs("div",{className:K("group relative bg-card border border-border rounded-lg shadow-sm transition-all duration-200 p-3 flex flex-col min-h-[120px]",o,d&&m(),s),children:[l.jsx("div",{className:"flex items-start justify-between gap-2 mb-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-semibold text-sm leading-tight mb-1",children:e}),i&&c&&l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c})]})}),t&&l.jsx("div",{className:"mb-4 flex-1",children:l.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed line-clamp-3",children:t})}),l.jsx("div",{className:"mt-auto pt-2",children:l.jsx("div",{className:"flex gap-1",children:n.map(y=>{const x=r===y.value,w=y.disabled&&!x;return l.jsxs(KI,{children:[l.jsx(QI,{asChild:!0,children:l.jsx("button",{disabled:w,className:K("rounded-full px-3 py-2 text-xs font-medium border transition-colors flex-1 relative",x&&"bg-skyrim-gold text-skyrim-dark border-skyrim-gold shadow-sm",!x&&"bg-background text-foreground border-skyrim-gold/30 hover:border-skyrim-gold hover:bg-skyrim-gold/10",w&&"opacity-50",!w&&"hover:shadow-sm"),onClick:v=>{v.stopPropagation(),f(y.value)},children:l.jsx("span",{className:"flex items-center justify-center gap-1",children:x?`- ${y.label.replace("+ ","")}`:y.label})})}),w&&y.tooltip&&l.jsx(rk,{children:l.jsx("p",{children:y.tooltip})})]},y.value)})})})]})})}function Xl({title:e,navigateTo:t,onNavigate:n,children:r,className:a,showHeaderButton:o=!0}){return l.jsxs(Nt,{className:a,children:[l.jsx(Et,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Mt,{className:"text-lg",children:e}),o&&l.jsxs(ae,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),l.jsx(gt,{className:"space-y-4",children:r})]})}var JI="Label",ok=p.forwardRef((e,t)=>l.jsx(de.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ok.displayName=JI;const e9=Ei("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vr=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(ok,{ref:r,className:K(e9(),e),...n,children:t}));vr.displayName="Label";function du({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:o=!1,onClick:s,showSwitch:i=!0}){const c=()=>{s?s():o||r(!n)};return l.jsxs("div",{className:K("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",o&&"opacity-50 cursor-not-allowed",a),onClick:c,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(vr,{className:"text-base font-medium",children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&l.jsx(qr,{checked:n,onCheckedChange:r,disabled:o})]})}function sk(e){const t=[...e.stat_modifications.map(r=>({type:r.type==="bonus"?"positive":"negative",name:`${r.stat} ${r.type==="bonus"?"+":"-"}${r.value}${r.value_type==="percentage"?"%":""}`,description:`${r.stat} ${r.type==="bonus"?"increased":"decreased"} by ${r.value}${r.value_type==="percentage"?"%":""}`,value:r.value,target:r.stat})),...e.skill_bonuses.map(r=>({type:"positive",name:`${r.stat} +${r.value}${r.value_type==="percentage"?"%":""}`,description:`${r.stat} skill increased by ${r.value}${r.value_type==="percentage"?"%":""}`,value:r.value,target:r.stat})),...e.powers.map(r=>({type:"positive",name:r.name,description:r.description,value:r.magnitude||0,target:"power"}))],n=[e.group,...e.stat_modifications.map(r=>r.stat),...e.skill_bonuses.map(r=>r.stat),...e.powers.map(r=>r.name)].filter((r,a,o)=>o.indexOf(r)===a);return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,description:e.description,tags:n,effects:t,category:e.group}}function t9(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function n9(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}function Nw(e){return{health:"Health",magicka:"Magicka",stamina:"Stamina",weapon_damage:"Weapon Damage",armor_penetration:"Armor Penetration",unarmed_damage:"Unarmed Damage",movement_speed:"Movement Speed",sprint_speed:"Sprint Speed",carry_weight:"Carry Weight",spell_strength:"Spell Strength",magicka_regeneration:"Magicka Regeneration",lockpicking_durability:"Lockpicking Durability",lockpicking_expertise:"Lockpicking Expertise",pickpocketing_success:"Pickpocketing Success",stealth_detection:"Stealth Detection",speech:"Speech",shout_cooldown:"Shout Cooldown",price_modification:"Price Modification",damage_reflection:"Damage Reflection",poison_resistance:"Poison Resistance",fire_resistance:"Fire Resistance",enchanting_strength:"Enchanting Strength"}[e]||e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function r9(e){return e.replace(/<(\d+)>/g,"$1")}function dv({children:e,isExpanded:t,onToggle:n,className:r}){const a=D.Children.toArray(e).find(c=>D.isValidElement(c)&&c.type===ih),o=D.Children.toArray(e).find(c=>D.isValidElement(c)&&c.type===lh),s=D.Children.toArray(e).find(c=>D.isValidElement(c)&&c.type===ch),i=D.Children.toArray(e).find(c=>D.isValidElement(c)&&c.type===uh);return l.jsxs(Nt,{className:K("bg-card border rounded-lg shadow-sm transition-all duration-200 w-full",r),children:[l.jsx(Et,{className:"pb-3 cursor-pointer",onClick:n,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a,o]}),l.jsx(ae,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:c=>{c.stopPropagation(),n()},children:t?l.jsx(ct,{className:"h-4 w-4"}):l.jsx(Of,{className:"h-4 w-4"})})]})}),!t&&s&&l.jsx(gt,{className:"pt-0 pb-3",children:s}),t&&i&&l.jsx(gt,{className:"pt-0 space-y-6",children:i})]})}function ih({children:e,className:t}){return l.jsx("div",{className:K("flex flex-col items-center gap-2 mr-4",t),children:e})}function lh({children:e,className:t}){return l.jsx("div",{className:K("flex items-center gap-3 flex-1",t),children:e})}function ch({children:e,className:t}){return l.jsx("div",{className:t,children:e})}function uh({children:e,className:t}){return l.jsx("div",{className:t,children:e})}const a9={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},Ew={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},o9={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function ik({entityName:e,entityType:t,size:n="md",className:r}){const o=a9[t][e],[s,i]=D.useState(!1);return!o||s?l.jsx("div",{className:K("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",Ew[n],r),children:l.jsx("span",{className:K(o9[n]),children:e.charAt(0)})}):l.jsx("div",{className:K("rounded-full overflow-hidden bg-muted flex items-center justify-center",Ew[n],r),children:l.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${o}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}const Cm=new Map;function s9(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(Cm.has(n))return Cm.get(n);let r=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((a,o)=>{const s=[];r.forEach(i=>{if(i.className)s.push(i);else{let c=0,u;const d=new RegExp(a.pattern,a.pattern.flags.includes("g")?a.pattern.flags:a.pattern.flags+"g");d.lastIndex=0;let h=0;for(;(u=d.exec(i.text))!==null;){u.index>c&&s.push({text:i.text.slice(c,u.index),key:`${i.key}-${h++}`});let f=u[0];a.transform&&(f=a.transform(f));let m=typeof a.className=="function"?a.className(f):a.className;s.push({text:f,className:m,key:`${i.key}-${h++}`}),c=d.lastIndex}c<i.text.length&&s.push({text:i.text.slice(c),key:`${i.key}-${h++}`})}}),r=s}),r=r.map((a,o)=>({...a,key:a.key||String(o)})),Cm.set(n,r),r}function i9({text:e,options:t,className:n="text-sm text-muted-foreground",as:r="div"}){const a=p.useMemo(()=>e?s9(e,t):[],[e,t]);return e?l.jsx(r,{className:n,children:a.map(o=>l.jsx("span",{className:o.className,children:o.text},o.key))}):null}function lk({birthsignName:e,size:t="md",className:n}){return l.jsx(ik,{entityName:e,entityType:"birthsign",size:t,className:n})}var dh="Tabs",[l9,QJ]=rn(dh,[Di]),ck=Di(),[c9,fv]=l9(dh),uk=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=ji(i),[h,f]=Cn({prop:r,onChange:a,defaultProp:o??"",caller:dh});return l.jsx(c9,{scope:n,baseId:Nr(),value:h,onValueChange:f,orientation:s,dir:d,activationMode:c,children:l.jsx(de.div,{dir:d,"data-orientation":s,...u,ref:t})})});uk.displayName=dh;var dk="TabsList",fk=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=fv(dk,n),s=ck(n);return l.jsx(Vy,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(de.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});fk.displayName=dk;var hk="TabsTrigger",mk=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=fv(hk,n),i=ck(n),c=yk(s.baseId,r),u=vk(s.baseId,r),d=r===s.value;return l.jsx(Zy,{asChild:!0,...i,focusable:!a,active:d,children:l.jsx(de.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:te(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:te(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const h=s.activationMode!=="manual";!d&&!a&&h&&s.onValueChange(r)})})})});mk.displayName=hk;var pk="TabsContent",gk=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,i=fv(pk,n),c=yk(i.baseId,r),u=vk(i.baseId,r),d=r===i.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(Bt,{present:a||d,children:({present:f})=>l.jsx(de.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&o})})});gk.displayName=pk;function yk(e,t){return`${e}-trigger-${t}`}function vk(e,t){return`${e}-content-${t}`}var u9=uk,d9=fk,f9=mk,h9=gk;function xk({className:e,...t}){return l.jsx(u9,{"data-slot":"tabs",className:K("flex flex-col gap-2",e),...t})}function bk({className:e,...t}){return l.jsx(d9,{"data-slot":"tabs-list",className:K("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Xd({className:e,...t}){return l.jsx(f9,{"data-slot":"tabs-trigger",className:K("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Wd({className:e,...t}){return l.jsx(h9,{"data-slot":"tabs-content",className:K("flex-1 outline-none",e),...t})}const m9=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],p9=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function g9(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${m9.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${p9.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,r=e.startsWith("-")||t<0;return n?"font-bold text-green-600":r?"font-bold text-red-600":"font-bold text-skyrim-gold"}}]}}function Am({text:e,className:t,as:n}){const r=p.useMemo(()=>g9(),[]);return l.jsx(i9,{text:e,options:r,className:t,as:n})}const _w={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function y9(e){return _w[e]||_w.Other}const v9={health:l.jsx(m_,{className:"h-4 w-4 text-red-500"}),magicka:l.jsx(_l,{className:"h-4 w-4 text-blue-500"}),stamina:l.jsx(B4,{className:"h-4 w-4 text-green-500"}),weapon_damage:l.jsx(rg,{className:"h-4 w-4 text-orange-500"}),armor_penetration:l.jsx(x_,{className:"h-4 w-4 text-purple-500"}),unarmed_damage:l.jsx($d,{className:"h-4 w-4 text-yellow-500"}),movement_speed:l.jsx(Fs,{className:"h-4 w-4 text-cyan-500"}),sprint_speed:l.jsx(Fs,{className:"h-4 w-4 text-cyan-500"}),carry_weight:l.jsx(La,{className:"h-4 w-4 text-gray-500"}),spell_strength:l.jsx(El,{className:"h-4 w-4 text-indigo-500"}),magicka_regeneration:l.jsx(_l,{className:"h-4 w-4 text-blue-400"}),lockpicking_durability:l.jsx(Vu,{className:"h-4 w-4 text-green-400"}),lockpicking_expertise:l.jsx(Vu,{className:"h-4 w-4 text-green-400"}),pickpocketing_success:l.jsx($d,{className:"h-4 w-4 text-green-400"}),stealth_detection:l.jsx(Vu,{className:"h-4 w-4 text-purple-400"}),speech:l.jsx(El,{className:"h-4 w-4 text-yellow-400"}),shout_cooldown:l.jsx(ng,{className:"h-4 w-4 text-red-400"}),price_modification:l.jsx(Fs,{className:"h-4 w-4 text-gold-400"}),damage_reflection:l.jsx(La,{className:"h-4 w-4 text-red-400"}),poison_resistance:l.jsx(h_,{className:"h-4 w-4 text-green-400"}),fire_resistance:l.jsx(ng,{className:"h-4 w-4 text-orange-400"}),enchanting_strength:l.jsx(El,{className:"h-4 w-4 text-purple-400"}),power:l.jsx(_l,{className:"h-4 w-4 text-yellow-500"})},Cw={sm:"text-xs px-2 py-0.5"};function xg({item:e,originalBirthsign:t,isExpanded:n=!1,onToggle:r,className:a,showStats:o=!0,showPowers:s=!0,showSkills:i=!0,showEffects:c=!0,showAddToBuild:u=!0}){var f,m,y,x;if(!t)return null;const d=w=>v9[w.toLowerCase()]||l.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),h=r9(t.description);return l.jsxs(dv,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[u&&l.jsx(ih,{children:l.jsx(Ty,{itemId:e.id,itemType:"stone",itemName:e.name})}),l.jsxs(lh,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(lk,{birthsignName:t.name,size:"md"}),l.jsx(Hf,{className:"text-primary font-semibold",children:t.name})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[t.group&&l.jsx(Ae,{variant:"outline",className:K(y9(t.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Cw.sm,"font-medium transition-colors"),children:t.group}),t.powers.length>0&&l.jsxs(Ae,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",Cw.sm,"font-medium transition-colors"),children:[l.jsx(_l,{className:"h-3 w-3 mr-1"}),t.powers.length," power",t.powers.length!==1?"s":""]}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(ch,{children:l.jsx("div",{className:"space-y-3",children:l.jsx(Am,{text:h,className:"text-base text-muted-foreground"})})}),l.jsx(uh,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Description"}),l.jsx(Am,{text:h,className:"text-base text-muted-foreground"})]}),o&&t.stat_modifications.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.stat_modifications.map((w,v)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[d(w.stat),l.jsx("span",{className:"font-medium",children:Nw(w.stat)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:K("font-bold",w.type==="bonus"?"text-green-600":"text-red-600"),children:w.type==="bonus"?(w.value>=0?"+":"")+w.value+(w.value_type==="percentage"?"%":""):(w.value<0?"":"-")+w.value+(w.value_type==="percentage"?"%":"")})})]},v))})]}),s&&t.powers.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),l.jsx("div",{className:"space-y-3",children:t.powers.map((w,v)=>l.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(FC,{className:"text-sm font-semibold",children:w.name}),w.magnitude&&l.jsxs(Ae,{variant:"outline",className:"text-xs",children:["Magnitude: ",w.magnitude]})]}),l.jsx(Am,{text:w.description,className:"text-sm text-muted-foreground"})]},v))})]}),i&&t.skill_bonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.skill_bonuses.map((w,v)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[d(w.stat),l.jsx("span",{className:"font-medium",children:Nw(w.stat)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"font-bold text-green-600",children:["+",w.value,w.value_type==="percentage"?"%":""]})})]},v))})]}),c&&(((f=t.conditional_effects)==null?void 0:f.length)>0||((m=t.mastery_effects)==null?void 0:m.length)>0)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),l.jsxs("div",{className:"space-y-3",children:[(y=t.conditional_effects)==null?void 0:y.map((w,v)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Fs,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm font-medium",children:w.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]},`conditional-${v}`)),(x=t.mastery_effects)==null?void 0:x.map((w,v)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx($n,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm font-medium",children:w.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]},`mastery-${v}`))]})]})]})})]})}function x9({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),f(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var B;return R.label.toLowerCase().includes(u.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),f(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),f(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),f(-1))},E=C=>{C.key==="ArrowDown"?(C.preventDefault(),f(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),f(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),h>=0&&w[h]?b(w[h]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),f(-1))},A=()=>{s(!0)},N=i||x,_=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:E,className:"pl-10 pr-20"}),j&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Jn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:vt.AUTOCOMPLETE},children:[_&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(ct,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Jn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===h?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function b9({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(x9,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Qo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function Aw({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[c,u]=p.useState(-1),d=p.useRef(null),h=p.useRef(null);p.useEffect(()=>{const g=b=>{d.current&&!d.current.contains(b.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=e.filter(g=>g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||g.group.toLowerCase().includes(s.toLowerCase())),m=g=>{i(g),o(!0),u(-1)},y=g=>{t(g),i(""),o(!1),u(-1)},x=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(b=>Math.min(b+1,f.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(b=>Math.max(b-1,-1))):g.key==="Enter"?(g.preventDefault(),c>=0&&f[c]&&y(f[c])):g.key==="Escape"&&(o(!1),u(-1))},w=()=>{o(!0)},v=()=>{var g;i(""),(g=h.current)==null||g.focus()};return l.jsxs("div",{ref:d,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:h,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:w,onKeyDown:x,className:"pl-10 pr-20"}),s&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:v,children:l.jsx(wn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:vt.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:f.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No birthsigns found"}):f.map((g,b)=>l.jsx("button",{onClick:()=>y(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${b===c?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(lk,{birthsignName:g.name,size:"sm"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:g.name}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.group}),g.powers.length>0&&l.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/80"}),l.jsxs("span",{className:"text-muted-foreground",children:[g.powers.length," power",g.powers.length!==1?"s":""]})]})]})]})]})},g.edid))})})]})}const w9={birthsigns:[],loading:!0,error:null};function S9(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function wk(){const[e,t]=p.useReducer(S9,w9),n=p.useCallback(async()=>{t({type:"FETCH_START"});try{const r=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!r.ok)throw new Error("Failed to fetch birthsign data");const a=await r.json();t({type:"FETCH_SUCCESS",payload:a})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return p.useEffect(()=>{n()},[n]),{...e,refetch:n}}function N9({className:e}){const{birthsigns:t}=wk(),{build:n,setStone:r}=Fn(),a=ar(),[o,s]=p.useState(!0),i=n.stone?t.find(f=>f.edid===n.stone):null,c=f=>{r(f.edid)},u=()=>{a("/birth-signs")},d=()=>{s(!o)};if(!i)return l.jsxs(Xl,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),l.jsx(Aw,{birthsigns:t,onSelect:c,placeholder:"Search for a birthsign...",className:"w-full"})]});const h=sk(i);return l.jsxs(Xl,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx(Aw,{birthsigns:t,onSelect:c,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),l.jsx(xg,{item:h,originalBirthsign:i,isExpanded:o,onToggle:d,className:"border-0 shadow-none",showAddToBuild:!1})]})}function ha(e){return Array.isArray?Array.isArray(e):Ek(e)==="[object Array]"}function E9(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function _9(e){return e==null?"":E9(e)}function xr(e){return typeof e=="string"}function Sk(e){return typeof e=="number"}function C9(e){return e===!0||e===!1||A9(e)&&Ek(e)=="[object Boolean]"}function Nk(e){return typeof e=="object"}function A9(e){return Nk(e)&&e!==null}function pn(e){return e!=null}function km(e){return!e.trim().length}function Ek(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const k9="Incorrect 'index' type",j9=e=>`Invalid value for key ${e}`,T9=e=>`Pattern length exceeds max of ${e}.`,R9=e=>`Missing ${e} property in key`,M9=e=>`Property 'weight' in key '${e}' must be a positive integer`,kw=Object.prototype.hasOwnProperty;class D9{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=_k(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function _k(e){let t=null,n=null,r=null,a=1,o=null;if(xr(e)||ha(e))r=e,t=jw(e),n=bg(e);else{if(!kw.call(e,"name"))throw new Error(R9("name"));const s=e.name;if(r=s,kw.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(M9(s));t=jw(s),n=bg(s),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function jw(e){return ha(e)?e:e.split(".")}function bg(e){return ha(e)?e.join("."):e}function z9(e,t){let n=[],r=!1;const a=(o,s,i)=>{if(pn(o))if(!s[i])n.push(o);else{let c=s[i];const u=o[c];if(!pn(u))return;if(i===s.length-1&&(xr(u)||Sk(u)||C9(u)))n.push(_9(u));else if(ha(u)){r=!0;for(let d=0,h=u.length;d<h;d+=1)a(u[d],s,i+1)}else s.length&&a(u,s,i+1)}};return a(e,xr(t)?t.split("."):t,0),r?n:n[0]}const O9={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},$9={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},L9={location:0,threshold:.6,distance:100},P9={useExtendedSearch:!1,getFn:z9,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var le={...$9,...O9,...L9,...P9};const I9=/[^ ]+/g;function B9(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(I9).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(o,i),i},clear(){n.clear()}}}class hv{constructor({getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){this.norm=B9(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,xr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();xr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!pn(t)||km(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(pn(s)){if(ha(s)){let i=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(pn(d))if(xr(d)&&!km(d)){let h={v:d,i:u,n:this.norm.get(d)};i.push(h)}else ha(d)&&d.forEach((h,f)=>{c.push({nestedArrIndex:f,value:h})})}r.$[o]=i}else if(xr(s)&&!km(s)){let i={v:s,n:this.norm.get(s)};r.$[o]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Ck(e,t,{getFn:n=le.getFn,fieldNormWeight:r=le.fieldNormWeight}={}){const a=new hv({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(_k)),a.setSources(t),a.create(),a}function H9(e,{getFn:t=le.getFn,fieldNormWeight:n=le.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new hv({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function fu(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=le.distance,ignoreLocation:o=le.ignoreLocation}={}){const s=t/e.length;if(o)return s;const i=Math.abs(r-n);return a?s+i/a:i?1:s}function F9(e=[],t=le.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let s=e.length;o<s;o+=1){let i=e[o];i&&r===-1?r=o:!i&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const So=32;function U9(e,t,n,{location:r=le.location,distance:a=le.distance,threshold:o=le.threshold,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,includeMatches:c=le.includeMatches,ignoreLocation:u=le.ignoreLocation}={}){if(t.length>So)throw new Error(T9(So));const d=t.length,h=e.length,f=Math.max(0,Math.min(r,h));let m=o,y=f;const x=i>1||c,w=x?Array(h):[];let v;for(;(v=e.indexOf(t,y))>-1;){let N=fu(t,{currentLocation:v,expectedLocation:f,distance:a,ignoreLocation:u});if(m=Math.min(N,m),y=v+d,x){let _=0;for(;_<d;)w[v+_]=1,_+=1}}y=-1;let g=[],b=1,S=d+h;const E=1<<d-1;for(let N=0;N<d;N+=1){let _=0,j=S;for(;_<j;)fu(t,{errors:N,currentLocation:f+j,expectedLocation:f,distance:a,ignoreLocation:u})<=m?_=j:S=j,j=Math.floor((S-_)/2+_);S=j;let C=Math.max(1,f-j+1),R=s?h:Math.min(f+j,h)+d,B=Array(R+2);B[R+1]=(1<<N)-1;for(let k=R;k>=C;k-=1){let M=k-1,T=n[e.charAt(M)];if(x&&(w[M]=+!!T),B[k]=(B[k+1]<<1|1)&T,N&&(B[k]|=(g[k+1]|g[k])<<1|1|g[k+1]),B[k]&E&&(b=fu(t,{errors:N,currentLocation:M,expectedLocation:f,distance:a,ignoreLocation:u}),b<=m)){if(m=b,y=M,y<=f)break;C=Math.max(1,2*f-y)}}if(fu(t,{errors:N+1,currentLocation:f,expectedLocation:f,distance:a,ignoreLocation:u})>m)break;g=B}const A={isMatch:y>=0,score:Math.max(.001,b)};if(x){const N=F9(w,i);N.length?c&&(A.indices=N):A.isMatch=!1}return A}function G9(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const Kd=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Ak{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:c=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:d=le.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?Kd(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const h=(m,y)=>{this.chunks.push({pattern:m,alphabet:G9(m),startIndex:y})},f=this.pattern.length;if(f>So){let m=0;const y=f%So,x=f-y;for(;m<x;)h(this.pattern.substr(m,So),m),m+=So;if(y){const w=f-So;h(this.pattern.substr(w),w)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?Kd(t):t,this.pattern===t){let x={isMatch:!0,score:0};return a&&(x.indices=[[0,t.length-1]]),x}const{location:o,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let h=[],f=0,m=!1;this.chunks.forEach(({pattern:x,alphabet:w,startIndex:v})=>{const{isMatch:g,score:b,indices:S}=U9(t,x,w,{location:o+v,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});g&&(m=!0),f+=b,g&&S&&(h=[...h,...S])});let y={isMatch:m,score:m?f/this.chunks.length:1};return m&&a&&(y.indices=h),y}}class co{constructor(t){this.pattern=t}static isMultiMatch(t){return Tw(t,this.multiRegex)}static isSingleMatch(t){return Tw(t,this.singleRegex)}search(){}}function Tw(e,t){const n=e.match(t);return n?n[1]:null}class V9 extends co{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Z9 extends co{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Y9 extends co{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class q9 extends co{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class X9 extends co{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class W9 extends co{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class kk extends co{constructor(t,{location:n=le.location,threshold:r=le.threshold,distance:a=le.distance,includeMatches:o=le.includeMatches,findAllMatches:s=le.findAllMatches,minMatchCharLength:i=le.minMatchCharLength,isCaseSensitive:c=le.isCaseSensitive,ignoreDiacritics:u=le.ignoreDiacritics,ignoreLocation:d=le.ignoreLocation}={}){super(t),this._bitapSearch=new Ak(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class jk extends co{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const wg=[V9,jk,Y9,q9,W9,X9,Z9,kk],Rw=wg.length,K9=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Q9="|";function J9(e,t={}){return e.split(Q9).map(n=>{let r=n.trim().split(K9).filter(o=>o&&!!o.trim()),a=[];for(let o=0,s=r.length;o<s;o+=1){const i=r[o];let c=!1,u=-1;for(;!c&&++u<Rw;){const d=wg[u];let h=d.isMultiMatch(i);h&&(a.push(new d(h,t)),c=!0)}if(!c)for(u=-1;++u<Rw;){const d=wg[u];let h=d.isSingleMatch(i);if(h){a.push(new d(h,t));break}}}return a})}const eB=new Set([kk.type,jk.type]);class tB{constructor(t,{isCaseSensitive:n=le.isCaseSensitive,ignoreDiacritics:r=le.ignoreDiacritics,includeMatches:a=le.includeMatches,minMatchCharLength:o=le.minMatchCharLength,ignoreLocation:s=le.ignoreLocation,findAllMatches:i=le.findAllMatches,location:c=le.location,threshold:u=le.threshold,distance:d=le.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=r?Kd(t):t,this.pattern=t,this.query=J9(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:o}=this.options;t=a?t:t.toLowerCase(),t=o?Kd(t):t;let s=0,i=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const h=n[u];i.length=0,s=0;for(let f=0,m=h.length;f<m;f+=1){const y=h[f],{isMatch:x,indices:w,score:v}=y.search(t);if(x){if(s+=1,c+=v,r){const g=y.constructor.type;eB.has(g)?i=[...i,...w]:i.push(w)}}else{c=0,s=0,i.length=0;break}}if(s){let f={isMatch:!0,score:c/s};return r&&(f.indices=i),f}}return{isMatch:!1,score:1}}}const Sg=[];function nB(...e){Sg.push(...e)}function Ng(e,t){for(let n=0,r=Sg.length;n<r;n+=1){let a=Sg[n];if(a.condition(e,t))return new a(e,t)}return new Ak(e,t)}const Qd={AND:"$and",OR:"$or"},Eg={PATH:"$path",PATTERN:"$val"},_g=e=>!!(e[Qd.AND]||e[Qd.OR]),rB=e=>!!e[Eg.PATH],aB=e=>!ha(e)&&Nk(e)&&!_g(e),Mw=e=>({[Qd.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Tk(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const s=rB(a);if(!s&&o.length>1&&!_g(a))return r(Mw(a));if(aB(a)){const c=s?a[Eg.PATH]:o[0],u=s?a[Eg.PATTERN]:a[c];if(!xr(u))throw new Error(j9(c));const d={keyId:bg(c),pattern:u};return n&&(d.searcher=Ng(u,t)),d}let i={children:[],operator:o[0]};return o.forEach(c=>{const u=a[c];ha(u)&&u.forEach(d=>{i.children.push(r(d))})}),i};return _g(e)||(e=Mw(e)),r(e)}function oB(e,{ignoreFieldNorm:t=le.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:s})=>{const i=a?a.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:o))}),n.score=r})}function sB(e,t){const n=e.matches;t.matches=[],pn(n)&&n.forEach(r=>{if(!pn(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let s={indices:a,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function iB(e,t){t.score=e.score}function lB(e,t,{includeMatches:n=le.includeMatches,includeScore:r=le.includeScore}={}){const a=[];return n&&a.push(sB),r&&a.push(iB),e.map(o=>{const{idx:s}=o,i={item:t[s],refIndex:s};return a.length&&a.forEach(c=>{c(o,i)}),i})}class xa{constructor(t,n={},r){this.options={...le,...n},this.options.useExtendedSearch,this._keyStore=new D9(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof hv))throw new Error(k9);this._myIndex=n||Ck(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){pn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:s,ignoreFieldNorm:i}=this.options;let c=xr(t)?xr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return oB(c,{ignoreFieldNorm:i}),o&&c.sort(s),Sk(n)&&n>-1&&(c=c.slice(0,n)),lB(c,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=Ng(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i:s,n:i})=>{if(!pn(o))return;const{isMatch:c,score:u,indices:d}=n.searchIn(o);c&&a.push({item:o,idx:s,matches:[{score:u,value:o,norm:i,indices:d}]})}),a}_searchLogical(t){const n=Tk(t,this.options),r=(i,c,u)=>{if(!i.children){const{keyId:h,searcher:f}=i,m=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(c,h),searcher:f});return m&&m.length?[{idx:u,item:c,matches:m}]:[]}const d=[];for(let h=0,f=i.children.length;h<f;h+=1){const m=i.children[h],y=r(m,c,u);if(y.length)d.push(...y);else if(i.operator===Qd.AND)return[]}return d},a=this._myIndex.records,o={},s=[];return a.forEach(({$:i,i:c})=>{if(pn(i)){let u=r(n,i,c);u.length&&(o[c]||(o[c]={idx:c,item:i,matches:[]},s.push(o[c])),u.forEach(({matches:d})=>{o[c].matches.push(...d)}))}}),s}_searchObjectList(t){const n=Ng(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:s,i})=>{if(!pn(s))return;let c=[];r.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:s[d],searcher:n}))}),c.length&&o.push({idx:i,item:s,matches:c})}),o}_findMatches({key:t,value:n,searcher:r}){if(!pn(n))return[];let a=[];if(ha(n))n.forEach(({v:o,i:s,n:i})=>{if(!pn(o))return;const{isMatch:c,score:u,indices:d}=r.searchIn(o);c&&a.push({score:u,key:t,value:o,idx:s,norm:i,indices:d})});else{const{v:o,n:s}=n,{isMatch:i,score:c,indices:u}=r.searchIn(o);i&&a.push({score:c,key:t,value:o,norm:s,indices:u})}return a}}xa.version="7.1.0";xa.createIndex=Ck;xa.parseIndex=H9;xa.config=le;xa.parseQuery=Tk;nB(tB);function cB(e,t){const n=p.useMemo(()=>e.map(i=>{var c,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:i.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=i.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new xa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:p.useMemo(()=>o.map(i=>i.item.originalBirthsign),[o]),searchResults:o,searchableBirthsigns:n}}const uB={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function dB(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function fB(e){const[t,n]=p.useReducer(dB,uB),r=p.useMemo(()=>{const w=t9(e),v=n9(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:w.map(g=>({id:`group-${g}`,label:g,value:g,category:"Birthsign Groups",description:`Birthsigns from ${g} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:v.map(g=>({id:`stat-${g}`,label:g.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase()),value:g,category:"Stats & Skills",description:`Birthsigns that affect ${g}`}))}]},[e]),a=p.useMemo(()=>t.selectedTags.length===0?e:e.filter(w=>t.selectedTags.every(v=>{switch(v.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return w.group===v.value;case"Stats & Skills":return[...w.stat_modifications.map(b=>b.stat),...w.skill_bonuses.map(b=>b.stat)].some(b=>b===v.value);default:return!0}})),[e,t.selectedTags]),o=p.useMemo(()=>t.selectedTags.filter(w=>w.category==="Fuzzy Search").map(w=>w.value).join(" "),[t.selectedTags]),{filteredBirthsigns:s}=cB(a,o),i=p.useMemo(()=>s.map(sk),[s]),c=p.useMemo(()=>[...i].sort((w,v)=>{var g,b;switch(t.sortBy){case"alphabetical":return w.name.localeCompare(v.name);case"group":{const S=N=>{switch(N){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},E=S(w.category),A=S(v.category);return E!==A?E-A:w.name.localeCompare(v.name)}case"power-count":{const S=((g=w.effects)==null?void 0:g.filter(A=>A.target==="power").length)||0,E=((b=v.effects)==null?void 0:b.filter(A=>A.target==="power").length)||0;return S!==E?E-S:w.name.localeCompare(v.name)}default:return 0}}),[i,t.sortBy]),u=p.useCallback(w=>{n({type:"ADD_TAG",payload:w})},[]),d=p.useCallback(w=>{n({type:"REMOVE_TAG",payload:w})},[]),h=p.useCallback(w=>{n({type:"SET_SORT",payload:w})},[]),f=p.useCallback(w=>{n({type:"SET_VIEW_MODE",payload:w})},[]),m=p.useCallback(w=>{n({type:"TOGGLE_EXPANDED",payload:w})},[]),y=p.useCallback(w=>{n({type:"EXPAND_ALL",payload:w})},[]),x=p.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:h,setViewMode:f,toggleExpanded:m,expandAll:y,collapseAll:x,searchCategories:r,fuzzySearchQuery:o,filteredBirthsigns:a,displayItems:i,sortedDisplayItems:c}}const hB={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function mB(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function pB(){const[e,t]=p.useReducer(mB,hB),n=p.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),r=p.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),a=p.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),o=p.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),s=p.useCallback(h=>{t({type:"TOGGLE_ALL",payload:h})},[]),i=p.useCallback(h=>{t({type:"SET_STATS",payload:h})},[]),c=p.useCallback(h=>{t({type:"SET_POWERS",payload:h})},[]),u=p.useCallback(h=>{t({type:"SET_SKILLS",payload:h})},[]),d=p.useCallback(h=>{t({type:"SET_EFFECTS",payload:h})},[]);return{...e,toggleStats:n,togglePowers:r,toggleSkills:a,toggleEffects:o,toggleAll:s,setStats:i,setPowers:c,setSkills:u,setEffects:d}}function gB(){const{birthsigns:e,loading:t,error:n}=wk(),{selectedTags:r,sortBy:a,viewMode:o,expandedBirthsigns:s,addTag:i,removeTag:c,setSort:u,setViewMode:d,toggleExpanded:h,expandAll:f,collapseAll:m,searchCategories:y,sortedDisplayItems:x}=fB(e),{showStats:w,showPowers:v,showSkills:g,showEffects:b,toggleStats:S,togglePowers:E,toggleSkills:A,toggleEffects:N,toggleAll:_,setStats:j,setPowers:C,setSkills:R,setEffects:B}=pB(),L=x.length>0&&x.every(k=>s.has(k.id));return x.some(k=>s.has(k.id)),t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(b9,{categories:y,onSelect:k=>{let M;typeof k=="string"?M={id:`custom-${k}`,label:k,value:k,category:"Fuzzy Search"}:M={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},r.some(T=>T.value===M.value&&T.category===M.category)||i(M)},onCustomSearch:k=>{let M;typeof k=="string"?M={id:`custom-${k}`,label:k,value:k,category:"Fuzzy Search"}:M={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},r.some(T=>T.value===M.value&&T.category===M.category)||i(M)}})}),l.jsxs(ev,{children:[l.jsx(tv,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(ct,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":a==="group"?"Type":"Count"]})}),l.jsxs(Kf,{align:"end",children:[l.jsx(oa,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(oa,{onClick:()=>u("group"),children:"Birthsign Group"}),l.jsx(oa,{onClick:()=>u("power-count"),children:"Power Count"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Cc,{className:"h-4 w-4"})}),l.jsx(ae,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(_c,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:L?m:k=>{f(x.map(M=>M.id))},className:"flex items-center justify-center",title:L?"Collapse all accordions":"Expand all accordions",children:L?l.jsx(g_,{className:"h-4 w-4"}):l.jsx(p_,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:r.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>r.forEach(k=>c(k.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(wn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(k=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>c(k.id),title:"Click to remove",children:[k.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},k.id))]})}),x.length>0&&l.jsx(cv,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(th,{value:"customize-display",className:"border-none",children:[l.jsxs(nh,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[l.jsx(v_,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),l.jsx(rh,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(qr,{checked:w&&v&&g&&b,onCheckedChange:_}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:S,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(vr,{className:"text-base font-medium",children:"Stats"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),l.jsx(qr,{checked:w,onCheckedChange:j,onClick:k=>k.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:E,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(vr,{className:"text-base font-medium",children:"Powers"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),l.jsx(qr,{checked:v,onCheckedChange:C,onClick:k=>k.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:A,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(vr,{className:"text-base font-medium",children:"Skills"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),l.jsx(qr,{checked:g,onCheckedChange:R,onClick:k=>k.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:N,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(vr,{className:"text-base font-medium",children:"Effects"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),l.jsx(qr,{checked:b,onCheckedChange:B,onClick:k=>k.stopPropagation()})]})]})]})})]})}),o==="grid"?l.jsx(nv,{columns:3,gap:"md",className:"w-full mt-6",children:x.map(k=>{const M=e.find(I=>{const O=k.id;return I.name.toLowerCase().replace(/\s+/g,"-")===O}),T=s.has(k.id);return l.jsx(xg,{item:k,originalBirthsign:M,isExpanded:T,onToggle:()=>h(k.id),className:"w-full",showStats:w,showPowers:v,showSkills:g,showEffects:b},k.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:x.map(k=>{const M=e.find(I=>{const O=k.id;return I.name.toLowerCase().replace(/\s+/g,"-")===O}),T=s.has(k.id);return l.jsx(xg,{item:k,originalBirthsign:M,isExpanded:T,onToggle:()=>h(k.id),className:"w-full",showStats:w,showPowers:v,showSkills:g,showEffects:b},k.id)})}),x.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function Rk({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:a=[]}){const[o,s]=p.useState(a),i=p.useMemo(()=>e.filter(g=>g.prerequisites.length===0),[e]),c=g=>e.filter(b=>b.prerequisites.includes(g)),u=p.useMemo(()=>{if(o.length===0)return i;const g=o[o.length-1];return c(g.name)},[o,i]),d=p.useMemo(()=>{const g=[],b=new Set,S=E=>{const A=E[E.length-1],N=c(A.name);if(N.length===0){g.push({path:[...E],isComplete:!0,endNode:A});return}N.forEach(_=>{const j=E.map(C=>C.id).join("->")+"->"+_.id;b.has(j)||(b.add(j),S([...E,_]))})};return o.length===0?i.forEach(E=>{S([E])}):u.forEach(E=>{S([...o,E])}),g},[o,u,i,e]),h=g=>t.some(b=>b.id===g),f=g=>{t.forEach(b=>{r(b.id)}),g.forEach(b=>{n(b.id)})};return{selectedPath:o,rootNodes:i,currentOptions:u,predictivePaths:d,isNodePlanned:h,getCurrentNodeName:()=>o.length===0?"Destiny":o[o.length-1].name,backtrack:g=>{const b=o.slice(0,g+1);s(b),f(b)},handleBreadcrumbClick:(g,b)=>{const S=g.slice(0,b+1);s(S),f(S)},startPath:g=>{s([g]),f([g])},startNewPath:()=>{s([]),f([])}}}var jm,fh="HoverCard",[Mk,JJ]=rn(fh,[Mi]),hh=Mi(),[yB,mv]=Mk(fh),Dk=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:o,openDelay:s=700,closeDelay:i=300}=e,c=hh(t),u=p.useRef(0),d=p.useRef(0),h=p.useRef(!1),f=p.useRef(!1),[m,y]=Cn({prop:r,defaultProp:a??!1,onChange:o,caller:fh}),x=p.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>y(!0),s)},[s,y]),w=p.useCallback(()=>{clearTimeout(u.current),!h.current&&!f.current&&(d.current=window.setTimeout(()=>y(!1),i))},[i,y]),v=p.useCallback(()=>y(!1),[y]);return p.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(yB,{scope:t,open:m,onOpenChange:y,onOpen:x,onClose:w,onDismiss:v,hasSelectionRef:h,isPointerDownOnContentRef:f,children:l.jsx(Hy,{...c,children:n})})};Dk.displayName=fh;var zk="HoverCardTrigger",Ok=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=mv(zk,n),o=hh(n);return l.jsx(Fy,{asChild:!0,...o,children:l.jsx(de.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:te(e.onPointerEnter,ef(a.onOpen)),onPointerLeave:te(e.onPointerLeave,ef(a.onClose)),onFocus:te(e.onFocus,a.onOpen),onBlur:te(e.onBlur,a.onClose),onTouchStart:te(e.onTouchStart,s=>s.preventDefault())})})});Ok.displayName=zk;var vB="HoverCardPortal",[eee,xB]=Mk(vB,{forceMount:void 0}),Jd="HoverCardContent",$k=p.forwardRef((e,t)=>{const n=xB(Jd,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,o=mv(Jd,e.__scopeHoverCard);return l.jsx(Bt,{present:r||o.open,children:l.jsx(bB,{"data-state":o.open?"open":"closed",...a,onPointerEnter:te(e.onPointerEnter,ef(o.onOpen)),onPointerLeave:te(e.onPointerLeave,ef(o.onClose)),ref:t})})});$k.displayName=Jd;var bB=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,...i}=e,c=mv(Jd,n),u=hh(n),d=p.useRef(null),h=Me(t,d),[f,m]=p.useState(!1);return p.useEffect(()=>{if(f){const y=document.body;return jm=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=jm,y.style.webkitUserSelect=jm}}},[f]),p.useEffect(()=>{if(d.current){const y=()=>{m(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),p.useEffect(()=>{d.current&&NB(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),l.jsx(Tc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:te(o,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(Uy,{...u,...i,onPointerDown:te(i.onPointerDown,y=>{y.currentTarget.contains(y.target)&&m(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:h,style:{...i.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),wB="HoverCardArrow",SB=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=hh(n);return l.jsx(Gy,{...a,...r,ref:t})});SB.displayName=wB;function ef(e){return t=>t.pointerType==="touch"?void 0:e()}function NB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var EB=Dk,_B=Ok,Lk=$k;const Pk=EB,Ik=_B,pv=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>l.jsx(Lk,{ref:a,align:t,sideOffset:n,className:K("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:vt.TOOLTIP},...r}));pv.displayName=Lk.displayName;function gv({node:e,isPlanned:t,children:n}){return l.jsxs(Pk,{openDelay:100,closeDelay:0,children:[l.jsx(Ik,{asChild:!0,children:n}),l.jsx(pv,{className:"w-80",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h4",{className:"font-medium text-lg",children:e.name})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.prerequisites.map((r,a)=>l.jsx(Ae,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},a))})]}),e.tags.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,a)=>l.jsx(Ae,{variant:"secondary",className:"text-xs",children:r},a))})]})]})})]})}function Bk({path:e,onNodeClick:t,showChevrons:n=!0,BreadcrumbHover:r}){return l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.map((a,o)=>{const s=l.jsx(Ae,{variant:o===e.length-1?"default":"secondary",className:"cursor-pointer hover:bg-primary/80",onClick:t?()=>t(o):void 0,children:a.name});return l.jsx(D.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[r?r(a,s):s,n&&o<e.length-1&&l.jsx(Of,{className:"w-4 h-4 text-muted-foreground"})]})},a.id)})})}function Hk({path:e,renderNode:t,onNodeClick:n}){return l.jsx("div",{className:"space-y-2",children:e.map((r,a)=>t?t(r,a):l.jsx("div",{className:`flex items-center p-2 border rounded ${n?"cursor-pointer":""}`,onClick:n?()=>n(r,a):void 0,children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"font-medium flex items-center gap-2",children:[l.jsxs(Ae,{variant:"secondary",className:"text-xs",children:["Step ",a+1]}),r.name]}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:r.description})]})},r.id))})}function CB({selectedPath:e,rootNodes:t,isPlanned:n,onBacktrack:r,onStartPath:a,action:o}){return l.jsxs(Nt,{children:[l.jsx(Et,{action:o,children:l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(mz,{className:"w-5 h-5"}),"Your Destiny Path"]})}),l.jsx(gt,{children:e.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No path started yet"}),l.jsx(ae,{onClick:()=>a(t[0]),children:"Start Your Journey"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(Bk,{path:e,onNodeClick:r,BreadcrumbHover:(s,i)=>l.jsx(gv,{node:s,isPlanned:n(s.id),children:i})}),l.jsx(Hk,{path:e})]})})]})}function AB({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r}){const a=p.useMemo(()=>{const o=new Map;e.forEach(h=>{h.path.forEach((f,m)=>{const y=m,x=o.get(f.name);(!x||y<x.level)&&o.set(f.name,{name:f.name,level:y})})});const s=new Set;e.forEach(h=>{h.isComplete&&s.add(h.endNode.name)});const i=Array.from(o.entries()).map(([h,{level:f}])=>({name:h,level:f})).sort((h,f)=>h.level!==f.level?h.level-f.level:h.name.localeCompare(f.name)),c=e.filter(h=>t.length===0?!0:t.every(f=>{const[m,y]=f.value.split(":");return m==="contains"?h.path.some(x=>x.name.toLowerCase().includes(y.toLowerCase())):m==="ends"?h.isComplete&&h.endNode.name.toLowerCase().includes(y.toLowerCase()):!0})),u=new Set;c.forEach(h=>{h.isComplete&&u.add(h.endNode.name)});const d=new Set;return c.forEach(h=>{h.path.forEach((f,m)=>{d.has(f.name)||d.add(f.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:i.filter(({name:h})=>d.has(h)).map(({name:h,level:f})=>({id:`contains-${h}`,label:`${h} (Level ${f})`,value:`contains:${h}`,category:"Contains Node",description:`Paths that include ${h}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(u).sort().map(h=>({id:`ends-${h}`,label:h,value:`ends:${h}`,category:"Ends With Node",description:`Paths that end at ${h}`}))}]},[e,t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ey,{categories:a,onSelect:n,className:"w-full"}),l.jsx(_y,{tags:t,onRemove:r,className:"justify-start"})]})}function kB({predictivePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r,getCurrentNodeName:a,selectedTags:o,onTagSelect:s,onTagRemove:i,hideFilters:c=!1}){const u=p.useMemo(()=>e.filter(d=>o.length===0?!0:o.every(h=>{const[f,m]=h.value.split(":");return f==="contains"?d.path.some(y=>y.name.toLowerCase().includes(m.toLowerCase())):f==="ends"?d.isComplete&&d.endNode.name.toLowerCase().includes(m.toLowerCase()):!0})),[e,o]);return e.length===0?null:l.jsxs("div",{className:"space-y-4",children:[!c&&l.jsx(AB,{predictivePaths:e,selectedTags:o,onTagSelect:s,onTagRemove:i}),l.jsx(Cg,{possiblePaths:u,selectedPath:t,isPlanned:n,onBreadcrumbClick:r})]})}function Cg({possiblePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r}){return e.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground",children:"No paths match your current filters."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search criteria."})]}):l.jsx("div",{className:"space-y-4",children:e.map((a,o)=>l.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("div",{className:"flex flex-wrap items-center gap-1",children:a.path.map((s,i)=>l.jsxs(D.Fragment,{children:[l.jsx(gv,{node:s,isPlanned:n(s.id),children:l.jsx(Ae,{variant:i<t.length?"default":i===t.length?"secondary":"outline",className:`text-xs cursor-pointer hover:scale-105 transition-transform ${i<t.length?"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600":a.isComplete&&i===a.path.length-1?"bg-red-800 text-red-100 border-red-700":""}`,onClick:c=>{c.stopPropagation(),r(a.path,i)},children:s.name})}),i<a.path.length-1&&l.jsx(Of,{className:"w-3 h-3 text-muted-foreground"})]},s.id))})}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Length: ",a.path.length," steps"]}),a.isComplete&&l.jsxs("span",{children:[" Ends at: ",a.endNode.name]}),a.path.length>t.length&&l.jsxs("span",{children:[" ",a.path.length-t.length," more choices"]})]})]},o))})}function jB({selectedPath:e,currentOptions:t,onStartNewPath:n}){return e.length===0||t.length>0?null:l.jsxs(Nt,{children:[l.jsx(Et,{children:l.jsx(Mt,{children:"Path Complete"})}),l.jsx(gt,{children:l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`You've reached the end of this path. "`,e[e.length-1].name,'" has no further progression options.']}),l.jsx(ae,{onClick:n,children:"Start New Path"})]})})]})}function yv({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:r,onTagRemove:a}={}){const[o,s]=p.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return p.useEffect(()=>{e&&s(e)},[e]),{filters:o,handleSearch:h=>{const f={...o,search:h};s(f),n==null||n(h)},handleTagSelect:h=>{const f={id:`${h.category}-${h.id}`,label:h.label,value:h.value,category:h.category};if(!o.selectedTags.some(y=>y.id===f.id)){const y={...o,selectedTags:[...o.selectedTags,f]};s(y),r==null||r(f),t==null||t(y)}},handleTagRemove:h=>{const f={...o,selectedTags:o.selectedTags.filter(m=>m.id!==h)};s(f),a==null||a(h),t==null||t(f)},updateFilters:h=>{s(h),t==null||t(h)}}}function Fk(e,t){const n=p.useMemo(()=>e.filter(s=>s.prerequisites.length===0),[e]),r=s=>e.filter(i=>i.prerequisites.includes(s)),a=(s,i)=>{const c=s[s.length-1],u=r(c.name);if(u.length===0){i.push([...s]);return}u.forEach(d=>{a([...s,d],i)})};return p.useMemo(()=>{const s=[];return t?a([t],s):n.forEach(i=>{a([i],s)}),s},[e,t,n])}function TB({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}){const{getDestinyPath:a,setDestinyPath:o}=Fn(),s=a(),i=D.useMemo(()=>s.map(_=>e.find(j=>j.id===_)).filter(_=>!!_),[s,e]),{selectedPath:c,rootNodes:u,currentOptions:d,isNodePlanned:h,getCurrentNodeName:f,backtrack:m,handleBreadcrumbClick:y,startPath:x,startNewPath:w}=Rk({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:i});D.useEffect(()=>{const _=a(),j=c.map(C=>C.id);(_.length!==j.length||_.some((C,R)=>C!==j[R]))&&o(j)},[c,a,o]);const{handleTagSelect:v,handleTagRemove:g,filters:{selectedTags:b}}=yv({onFiltersChange:()=>{},onSearch:()=>{}}),S=c.length>0?c[c.length-1]:void 0,E=Fk(e,S);function A(_){return e.every(j=>!j.prerequisites.includes(_.name))}const N=E.map(_=>({path:_,isComplete:_.length>0&&A(_[_.length-1]),endNode:_[_.length-1]}));return l.jsxs("div",{className:"space-y-6",children:[l.jsx(CB,{selectedPath:c,rootNodes:u,isPlanned:h,onBacktrack:m,onStartPath:x}),l.jsx(kB,{predictivePaths:N,selectedPath:c,isPlanned:h,onBreadcrumbClick:y,getCurrentNodeName:f,selectedTags:b,onTagSelect:v,onTagRemove:g}),l.jsx(jB,{selectedPath:c,currentOptions:d,onStartNewPath:w})]})}function RB(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function MB(){return this.eachAfter(RB)}function DB(e){var t=this,n,r=[t],a,o,s;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)r.push(a[o]);while(r.length);return this}function zB(e){for(var t=this,n=[t],r,a;t=n.pop();)if(e(t),r=t.children,r)for(a=r.length-1;a>=0;--a)n.push(r[a]);return this}function OB(e){for(var t=this,n=[t],r=[],a,o,s;t=n.pop();)if(r.push(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=r.pop();)e(t);return this}function $B(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function LB(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function PB(e){for(var t=this,n=IB(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function IB(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function BB(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function HB(){var e=[];return this.each(function(t){e.push(t)}),e}function FB(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function UB(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function vv(e,t){var n=new Wl(e),r=+e.value&&(n.value=e.value),a,o=[n],s,i,c,u;for(t==null&&(t=VB);a=o.pop();)if(r&&(a.value=+a.data.value),(i=t(a.data))&&(u=i.length))for(a.children=new Array(u),c=u-1;c>=0;--c)o.push(s=a.children[c]=new Wl(i[c])),s.parent=a,s.depth=a.depth+1;return n.eachBefore(YB)}function GB(){return vv(this).eachBefore(ZB)}function VB(e){return e.children}function ZB(e){e.data=e.data.data}function YB(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Wl(e){this.data=e,this.depth=this.height=0,this.parent=null}Wl.prototype=vv.prototype={constructor:Wl,count:MB,each:DB,eachAfter:OB,eachBefore:zB,sum:$B,sort:LB,path:PB,ancestors:BB,descendants:HB,leaves:FB,links:UB,copy:GB};function qB(e,t){return e.parent===t.parent?1:2}function Tm(e){var t=e.children;return t?t[0]:e.t}function Rm(e){var t=e.children;return t?t[t.length-1]:e.t}function XB(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function WB(e){for(var t=0,n=0,r=e.children,a=r.length,o;--a>=0;)o=r[a],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function KB(e,t,n){return e.a.parent===t.parent?e.a:n}function Qu(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Qu.prototype=Object.create(Wl.prototype);function QB(e){for(var t=new Qu(e,0),n,r=[t],a,o,s,i;n=r.pop();)if(o=n._.children)for(n.children=new Array(i=o.length),s=i-1;s>=0;--s)r.push(a=n.children[s]=new Qu(o[s],s)),a.parent=n;return(t.parent=new Qu(null,0)).children=[t],t}function JB(){var e=qB,t=1,n=1,r=null;function a(u){var d=QB(u);if(d.eachAfter(o),d.parent.m=-d.z,d.eachBefore(s),r)u.eachBefore(c);else{var h=u,f=u,m=u;u.eachBefore(function(g){g.x<h.x&&(h=g),g.x>f.x&&(f=g),g.depth>m.depth&&(m=g)});var y=h===f?1:e(h,f)/2,x=y-h.x,w=t/(f.x+y+x),v=n/(m.depth||1);u.eachBefore(function(g){g.x=(g.x+x)*w,g.y=g.depth*v})}return u}function o(u){var d=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(d){WB(u);var m=(d[0].z+d[d.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-m):u.z=m}else f&&(u.z=f.z+e(u._,f._));u.parent.A=i(u,f,u.parent.A||h[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function i(u,d,h){if(d){for(var f=u,m=u,y=d,x=f.parent.children[0],w=f.m,v=m.m,g=y.m,b=x.m,S;y=Rm(y),f=Tm(f),y&&f;)x=Tm(x),m=Rm(m),m.a=u,S=y.z+g-f.z-w+e(y._,f._),S>0&&(XB(KB(y,u,h),u,S),w+=S,v+=S),g+=y.m,w+=f.m,b+=x.m,v+=m.m;y&&!Rm(m)&&(m.t=y,m.m+=g-v),f&&!Tm(x)&&(x.t=f,x.m+=w-b,h=u)}return h}function c(u){u.x*=t,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(e=u,a):e},a.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],a):r?null:[t,n]},a.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],a):r?[t,n]:null},a}var Ag="http://www.w3.org/1999/xhtml";const Dw={svg:"http://www.w3.org/2000/svg",xhtml:Ag,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mh(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Dw.hasOwnProperty(t)?{space:Dw[t],local:e}:e}function eH(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ag&&t.documentElement.namespaceURI===Ag?t.createElement(e):t.createElementNS(n,e)}}function tH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Uk(e){var t=mh(e);return(t.local?tH:eH)(t)}function nH(){}function xv(e){return e==null?nH:function(){return this.querySelector(e)}}function rH(e){typeof e!="function"&&(e=xv(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=new Array(s),c,u,d=0;d<s;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),i[d]=u);return new _n(r,this._parents)}function aH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function oH(){return[]}function Gk(e){return e==null?oH:function(){return this.querySelectorAll(e)}}function sH(e){return function(){return aH(e.apply(this,arguments))}}function iH(e){typeof e=="function"?e=sH(e):e=Gk(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s=t[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),a.push(c));return new _n(r,a)}function Vk(e){return function(){return this.matches(e)}}function Zk(e){return function(t){return t.matches(e)}}var lH=Array.prototype.find;function cH(e){return function(){return lH.call(this.children,e)}}function uH(){return this.firstElementChild}function dH(e){return this.select(e==null?uH:cH(typeof e=="function"?e:Zk(e)))}var fH=Array.prototype.filter;function hH(){return Array.from(this.children)}function mH(e){return function(){return fH.call(this.children,e)}}function pH(e){return this.selectAll(e==null?hH:mH(typeof e=="function"?e:Zk(e)))}function gH(e){typeof e!="function"&&(e=Vk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new _n(r,this._parents)}function Yk(e){return new Array(e.length)}function yH(){return new _n(this._enter||this._groups.map(Yk),this._parents)}function tf(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tf.prototype={constructor:tf,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vH(e){return function(){return e}}function xH(e,t,n,r,a,o){for(var s=0,i,c=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new tf(e,o[s]);for(;s<c;++s)(i=t[s])&&(a[s]=i)}function bH(e,t,n,r,a,o,s){var i,c,u=new Map,d=t.length,h=o.length,f=new Array(d),m;for(i=0;i<d;++i)(c=t[i])&&(f[i]=m=s.call(c,c.__data__,i,t)+"",u.has(m)?a[i]=c:u.set(m,c));for(i=0;i<h;++i)m=s.call(e,o[i],i,o)+"",(c=u.get(m))?(r[i]=c,c.__data__=o[i],u.delete(m)):n[i]=new tf(e,o[i]);for(i=0;i<d;++i)(c=t[i])&&u.get(f[i])===c&&(a[i]=c)}function wH(e){return e.__data__}function SH(e,t){if(!arguments.length)return Array.from(this,wH);var n=t?bH:xH,r=this._parents,a=this._groups;typeof e!="function"&&(e=vH(e));for(var o=a.length,s=new Array(o),i=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],h=a[u],f=h.length,m=NH(e.call(d,d&&d.__data__,u,r)),y=m.length,x=i[u]=new Array(y),w=s[u]=new Array(y),v=c[u]=new Array(f);n(d,h,x,w,v,m,t);for(var g=0,b=0,S,E;g<y;++g)if(S=x[g]){for(g>=b&&(b=g+1);!(E=w[b])&&++b<y;);S._next=E||null}}return s=new _n(s,r),s._enter=i,s._exit=c,s}function NH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EH(){return new _n(this._exit||this._groups.map(Yk),this._parents)}function _H(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function CH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),c=0;c<s;++c)for(var u=n[c],d=r[c],h=u.length,f=i[c]=new Array(h),m,y=0;y<h;++y)(m=u[y]||d[y])&&(f[y]=m);for(;c<a;++c)i[c]=n[c];return new _n(i,this._parents)}function AH(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],s;--a>=0;)(s=r[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function kH(e){e||(e=jH);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],i=s.length,c=a[o]=new Array(i),u,d=0;d<i;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new _n(a,this._parents).order()}function jH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function TH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function RH(){return Array.from(this)}function MH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null}function DH(){let e=0;for(const t of this)++e;return e}function zH(){return!this.node()}function OH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,s=a.length,i;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function $H(e){return function(){this.removeAttribute(e)}}function LH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PH(e,t){return function(){this.setAttribute(e,t)}}function IH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function BH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function HH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function FH(e,t){var n=mh(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?LH:$H:typeof t=="function"?n.local?HH:BH:n.local?IH:PH)(n,t))}function qk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function UH(e){return function(){this.style.removeProperty(e)}}function GH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function VH(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ZH(e,t,n){return arguments.length>1?this.each((t==null?UH:typeof t=="function"?VH:GH)(e,t,n??"")):di(this.node(),e)}function di(e,t){return e.style.getPropertyValue(t)||qk(e).getComputedStyle(e,null).getPropertyValue(t)}function YH(e){return function(){delete this[e]}}function qH(e,t){return function(){this[e]=t}}function XH(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function WH(e,t){return arguments.length>1?this.each((t==null?YH:typeof t=="function"?XH:qH)(e,t)):this.node()[e]}function Xk(e){return e.trim().split(/^|\s+/)}function bv(e){return e.classList||new Wk(e)}function Wk(e){this._node=e,this._names=Xk(e.getAttribute("class")||"")}Wk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Kk(e,t){for(var n=bv(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Qk(e,t){for(var n=bv(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function KH(e){return function(){Kk(this,e)}}function QH(e){return function(){Qk(this,e)}}function JH(e,t){return function(){(t.apply(this,arguments)?Kk:Qk)(this,e)}}function e7(e,t){var n=Xk(e+"");if(arguments.length<2){for(var r=bv(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?JH:t?KH:QH)(n,t))}function t7(){this.textContent=""}function n7(e){return function(){this.textContent=e}}function r7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function a7(e){return arguments.length?this.each(e==null?t7:(typeof e=="function"?r7:n7)(e)):this.node().textContent}function o7(){this.innerHTML=""}function s7(e){return function(){this.innerHTML=e}}function i7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function l7(e){return arguments.length?this.each(e==null?o7:(typeof e=="function"?i7:s7)(e)):this.node().innerHTML}function c7(){this.nextSibling&&this.parentNode.appendChild(this)}function u7(){return this.each(c7)}function d7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function f7(){return this.each(d7)}function h7(e){var t=typeof e=="function"?e:Uk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function m7(){return null}function p7(e,t){var n=typeof e=="function"?e:Uk(e),r=t==null?m7:typeof t=="function"?t:xv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function g7(){var e=this.parentNode;e&&e.removeChild(this)}function y7(){return this.each(g7)}function v7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function x7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function b7(e){return this.select(e?x7:v7)}function w7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function S7(e){return function(t){e.call(this,t,this.__data__)}}function N7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function E7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function _7(e,t,n){return function(){var r=this.__on,a,o=S7(t);if(r){for(var s=0,i=r.length;s<i;++s)if((a=r[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function C7(e,t,n){var r=N7(e+""),a,o=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var c=0,u=i.length,d;c<u;++c)for(a=0,d=i[c];a<o;++a)if((s=r[a]).type===d.type&&s.name===d.name)return d.value}return}for(i=t?_7:E7,a=0;a<o;++a)this.each(i(r[a],t,n));return this}function Jk(e,t,n){var r=qk(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function A7(e,t){return function(){return Jk(this,e,t)}}function k7(e,t){return function(){return Jk(this,e,t.apply(this,arguments))}}function j7(e,t){return this.each((typeof t=="function"?k7:A7)(e,t))}function*T7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,s;a<o;++a)(s=r[a])&&(yield s)}var ej=[null];function _n(e,t){this._groups=e,this._parents=t}function Oc(){return new _n([[document.documentElement]],ej)}function R7(){return this}_n.prototype=Oc.prototype={constructor:_n,select:rH,selectAll:iH,selectChild:dH,selectChildren:pH,filter:gH,data:SH,enter:yH,exit:EH,join:_H,merge:CH,selection:R7,order:AH,sort:kH,call:TH,nodes:RH,node:MH,size:DH,empty:zH,each:OH,attr:FH,style:ZH,property:WH,classed:e7,text:a7,html:l7,raise:u7,lower:f7,append:h7,insert:p7,remove:y7,clone:b7,datum:w7,on:C7,dispatch:j7,[Symbol.iterator]:T7};function pt(e){return typeof e=="string"?new _n([[document.querySelector(e)]],[document.documentElement]):new _n([[e]],ej)}function M7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function hr(e,t){if(e=M7(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var D7={value:()=>{}};function ph(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ju(n)}function Ju(e){this._=e}function z7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ju.prototype=ph.prototype={constructor:Ju,on:function(e,t){var n=this._,r=z7(e+"",n),a,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((a=(e=r[o]).type)&&(a=O7(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=r[o]).type)n[a]=zw(n[a],e.name,t);else if(t==null)for(a in n)n[a]=zw(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ju(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function O7(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function zw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=D7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const $7={passive:!1},Kl={capture:!0,passive:!1};function Mm(e){e.stopImmediatePropagation()}function Vs(e){e.preventDefault(),e.stopImmediatePropagation()}function tj(e){var t=e.document.documentElement,n=pt(e).on("dragstart.drag",Vs,Kl);"onselectstart"in t?n.on("selectstart.drag",Vs,Kl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function nj(e,t){var n=e.document.documentElement,r=pt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vs,Kl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const hu=e=>()=>e;function kg(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:s,y:i,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}kg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function L7(e){return!e.ctrlKey&&!e.button}function P7(){return this.parentNode}function I7(e,t){return t??{x:e.x,y:e.y}}function B7(){return navigator.maxTouchPoints||"ontouchstart"in this}function H7(){var e=L7,t=P7,n=I7,r=B7,a={},o=ph("start","drag","end"),s=0,i,c,u,d,h=0;function f(S){S.on("mousedown.drag",m).filter(r).on("touchstart.drag",w).on("touchmove.drag",v,$7).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(S,E){if(!(d||!e.call(this,S,E))){var A=b(this,t.call(this,S,E),S,E,"mouse");A&&(pt(S.view).on("mousemove.drag",y,Kl).on("mouseup.drag",x,Kl),tj(S.view),Mm(S),u=!1,i=S.clientX,c=S.clientY,A("start",S))}}function y(S){if(Vs(S),!u){var E=S.clientX-i,A=S.clientY-c;u=E*E+A*A>h}a.mouse("drag",S)}function x(S){pt(S.view).on("mousemove.drag mouseup.drag",null),nj(S.view,u),Vs(S),a.mouse("end",S)}function w(S,E){if(e.call(this,S,E)){var A=S.changedTouches,N=t.call(this,S,E),_=A.length,j,C;for(j=0;j<_;++j)(C=b(this,N,S,E,A[j].identifier,A[j]))&&(Mm(S),C("start",S,A[j]))}}function v(S){var E=S.changedTouches,A=E.length,N,_;for(N=0;N<A;++N)(_=a[E[N].identifier])&&(Vs(S),_("drag",S,E[N]))}function g(S){var E=S.changedTouches,A=E.length,N,_;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<A;++N)(_=a[E[N].identifier])&&(Mm(S),_("end",S,E[N]))}function b(S,E,A,N,_,j){var C=o.copy(),R=hr(j||A,E),B,L,k;if((k=n.call(S,new kg("beforestart",{sourceEvent:A,target:f,identifier:_,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:C}),N))!=null)return B=k.x-R[0]||0,L=k.y-R[1]||0,function M(T,I,O){var z=R,P;switch(T){case"start":a[_]=M,P=s++;break;case"end":delete a[_],--s;case"drag":R=hr(O||I,E),P=s;break}C.call(T,S,new kg(T,{sourceEvent:I,subject:k,target:f,identifier:_,active:P,x:R[0]+B,y:R[1]+L,dx:R[0]-z[0],dy:R[1]-z[1],dispatch:C}),N)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:hu(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:hu(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:hu(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:hu(!!S),f):r},f.on=function(){var S=o.on.apply(o,arguments);return S===o?f:S},f.clickDistance=function(S){return arguments.length?(h=(S=+S)*S,f):Math.sqrt(h)},f}function wv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $c(){}var Ql=.7,nf=1/Ql,Zs="\\s*([+-]?\\d+)\\s*",Jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F7=/^#([0-9a-f]{3,8})$/,U7=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),G7=new RegExp(`^rgb\\(${_r},${_r},${_r}\\)$`),V7=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${Jl}\\)$`),Z7=new RegExp(`^rgba\\(${_r},${_r},${_r},${Jl}\\)$`),Y7=new RegExp(`^hsl\\(${Jl},${_r},${_r}\\)$`),q7=new RegExp(`^hsla\\(${Jl},${_r},${_r},${Jl}\\)$`),Ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wv($c,ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$w,formatHex:$w,formatHex8:X7,formatHsl:W7,formatRgb:Lw,toString:Lw});function $w(){return this.rgb().formatHex()}function X7(){return this.rgb().formatHex8()}function W7(){return aj(this).formatHsl()}function Lw(){return this.rgb().formatRgb()}function ec(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=F7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Pw(t):n===3?new Jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=U7.exec(e))?new Jt(t[1],t[2],t[3],1):(t=G7.exec(e))?new Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=V7.exec(e))?mu(t[1],t[2],t[3],t[4]):(t=Z7.exec(e))?mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Y7.exec(e))?Hw(t[1],t[2]/100,t[3]/100,1):(t=q7.exec(e))?Hw(t[1],t[2]/100,t[3]/100,t[4]):Ow.hasOwnProperty(e)?Pw(Ow[e]):e==="transparent"?new Jt(NaN,NaN,NaN,0):null}function Pw(e){return new Jt(e>>16&255,e>>8&255,e&255,1)}function mu(e,t,n,r){return r<=0&&(e=t=n=NaN),new Jt(e,t,n,r)}function K7(e){return e instanceof $c||(e=ec(e)),e?(e=e.rgb(),new Jt(e.r,e.g,e.b,e.opacity)):new Jt}function jg(e,t,n,r){return arguments.length===1?K7(e):new Jt(e,t,n,r??1)}function Jt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}wv(Jt,jg,rj($c,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Jt(Do(this.r),Do(this.g),Do(this.b),rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Iw,formatHex:Iw,formatHex8:Q7,formatRgb:Bw,toString:Bw}));function Iw(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function Q7(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bw(){const e=rf(this.opacity);return`${e===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${e===1?")":`, ${e})`}`}function rf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Do(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function No(e){return e=Do(e),(e<16?"0":"")+e.toString(16)}function Hw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Xn(e,t,n,r)}function aj(e){if(e instanceof Xn)return new Xn(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=ec(e)),!e)return new Xn;if(e instanceof Xn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,c=(o+a)/2;return i?(t===o?s=(n-r)/i+(n<r)*6:n===o?s=(r-t)/i+2:s=(t-n)/i+4,i/=c<.5?o+a:2-o-a,s*=60):i=c>0&&c<1?0:s,new Xn(s,i,c,e.opacity)}function J7(e,t,n,r){return arguments.length===1?aj(e):new Xn(e,t,n,r??1)}function Xn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}wv(Xn,J7,rj($c,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new Xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Jt(Dm(e>=240?e-240:e+120,a,r),Dm(e,a,r),Dm(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Xn(Fw(this.h),pu(this.s),pu(this.l),rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=rf(this.opacity);return`${e===1?"hsl(":"hsla("}${Fw(this.h)}, ${pu(this.s)*100}%, ${pu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fw(e){return e=(e||0)%360,e<0?e+360:e}function pu(e){return Math.max(0,Math.min(1,e||0))}function Dm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const oj=e=>()=>e;function eF(e,t){return function(n){return e+n*t}}function tF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nF(e){return(e=+e)==1?sj:function(t,n){return n-t?tF(t,n,e):oj(isNaN(t)?n:t)}}function sj(e,t){var n=t-e;return n?eF(e,n):oj(isNaN(e)?t:e)}const Uw=function e(t){var n=nF(t);function r(a,o){var s=n((a=jg(a)).r,(o=jg(o)).r),i=n(a.g,o.g),c=n(a.b,o.b),u=sj(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=i(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function Ra(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Tg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zm=new RegExp(Tg.source,"g");function rF(e){return function(){return e}}function aF(e){return function(t){return e(t)+""}}function oF(e,t){var n=Tg.lastIndex=zm.lastIndex=0,r,a,o,s=-1,i=[],c=[];for(e=e+"",t=t+"";(r=Tg.exec(e))&&(a=zm.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),i[s]?i[s]+=o:i[++s]=o),(r=r[0])===(a=a[0])?i[s]?i[s]+=a:i[++s]=a:(i[++s]=null,c.push({i:s,x:Ra(r,a)})),n=zm.lastIndex;return n<t.length&&(o=t.slice(n),i[s]?i[s]+=o:i[++s]=o),i.length<2?c[0]?aF(c[0].x):rF(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)i[(h=c[d]).i]=h.x(u);return i.join("")})}var Gw=180/Math.PI,Rg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ij(e,t,n,r,a,o){var s,i,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,c/=i),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Gw,skewX:Math.atan(c)*Gw,scaleX:s,scaleY:i}}var gu;function sF(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rg:ij(t.a,t.b,t.c,t.d,t.e,t.f)}function iF(e){return e==null||(gu||(gu=document.createElementNS("http://www.w3.org/2000/svg","g")),gu.setAttribute("transform",e),!(e=gu.transform.baseVal.consolidate()))?Rg:(e=e.matrix,ij(e.a,e.b,e.c,e.d,e.e,e.f))}function lj(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function o(u,d,h,f,m,y){if(u!==h||d!==f){var x=m.push("translate(",null,t,null,n);y.push({i:x-4,x:Ra(u,h)},{i:x-2,x:Ra(d,f)})}else(h||f)&&m.push("translate("+h+t+f+n)}function s(u,d,h,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:h.push(a(h)+"rotate(",null,r)-2,x:Ra(u,d)})):d&&h.push(a(h)+"rotate("+d+r)}function i(u,d,h,f){u!==d?f.push({i:h.push(a(h)+"skewX(",null,r)-2,x:Ra(u,d)}):d&&h.push(a(h)+"skewX("+d+r)}function c(u,d,h,f,m,y){if(u!==h||d!==f){var x=m.push(a(m)+"scale(",null,",",null,")");y.push({i:x-4,x:Ra(u,h)},{i:x-2,x:Ra(d,f)})}else(h!==1||f!==1)&&m.push(a(m)+"scale("+h+","+f+")")}return function(u,d){var h=[],f=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,h,f),s(u.rotate,d.rotate,h,f),i(u.skewX,d.skewX,h,f),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,h,f),u=d=null,function(m){for(var y=-1,x=f.length,w;++y<x;)h[(w=f[y]).i]=w.x(m);return h.join("")}}}var lF=lj(sF,"px, ","px)","deg)"),cF=lj(iF,", ",")",")"),uF=1e-12;function Vw(e){return((e=Math.exp(e))+1/e)/2}function dF(e){return((e=Math.exp(e))-1/e)/2}function fF(e){return((e=Math.exp(2*e))-1)/(e+1)}const hF=function e(t,n,r){function a(o,s){var i=o[0],c=o[1],u=o[2],d=s[0],h=s[1],f=s[2],m=d-i,y=h-c,x=m*m+y*y,w,v;if(x<uF)v=Math.log(f/u)/t,w=function(N){return[i+N*m,c+N*y,u*Math.exp(t*N*v)]};else{var g=Math.sqrt(x),b=(f*f-u*u+r*x)/(2*u*n*g),S=(f*f-u*u-r*x)/(2*f*n*g),E=Math.log(Math.sqrt(b*b+1)-b),A=Math.log(Math.sqrt(S*S+1)-S);v=(A-E)/t,w=function(N){var _=N*v,j=Vw(E),C=u/(n*g)*(j*fF(t*_+E)-dF(E));return[i+C*m,c+C*y,u*j/Vw(t*_+E)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return a.rho=function(o){var s=Math.max(.001,+o),i=s*s,c=i*i;return e(s,i,c)},a}(Math.SQRT2,2,4);var fi=0,al=0,Vi=0,cj=1e3,af,ol,of=0,Ho=0,gh=0,tc=typeof performance=="object"&&performance.now?performance:Date,uj=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sv(){return Ho||(uj(mF),Ho=tc.now()+gh)}function mF(){Ho=0}function sf(){this._call=this._time=this._next=null}sf.prototype=dj.prototype={constructor:sf,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Sv():+n)+(t==null?0:+t),!this._next&&ol!==this&&(ol?ol._next=this:af=this,ol=this),this._call=e,this._time=n,Mg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mg())}};function dj(e,t,n){var r=new sf;return r.restart(e,t,n),r}function pF(){Sv(),++fi;for(var e=af,t;e;)(t=Ho-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fi}function Zw(){Ho=(of=tc.now())+gh,fi=al=0;try{pF()}finally{fi=0,yF(),Ho=0}}function gF(){var e=tc.now(),t=e-of;t>cj&&(gh-=t,of=e)}function yF(){for(var e,t=af,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:af=n);ol=e,Mg(r)}function Mg(e){if(!fi){al&&(al=clearTimeout(al));var t=e-Ho;t>24?(e<1/0&&(al=setTimeout(Zw,e-tc.now()-gh)),Vi&&(Vi=clearInterval(Vi))):(Vi||(of=tc.now(),Vi=setInterval(gF,cj)),fi=1,uj(Zw))}}function Yw(e,t,n){var r=new sf;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var vF=ph("start","end","cancel","interrupt"),xF=[],fj=0,qw=1,Dg=2,ed=3,Xw=4,zg=5,td=6;function yh(e,t,n,r,a,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;bF(e,n,{name:t,index:r,group:a,on:vF,tween:xF,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fj})}function Nv(e,t){var n=ir(e,t);if(n.state>fj)throw new Error("too late; already scheduled");return n}function zr(e,t){var n=ir(e,t);if(n.state>ed)throw new Error("too late; already running");return n}function ir(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function bF(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=dj(o,0,n.time);function o(u){n.state=qw,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,h,f,m;if(n.state!==qw)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===ed)return Yw(s);m.state===Xw?(m.state=td,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=td,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(Yw(function(){n.state===ed&&(n.state=Xw,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=Dg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Dg){for(n.state=ed,a=new Array(f=n.tween.length),d=0,h=-1;d<f;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++h]=m);a.length=h+1}}function i(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=zg,1),h=-1,f=a.length;++h<f;)a[h].call(e,d);n.state===zg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=td,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function nd(e,t){var n=e.__transition,r,a,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}a=r.state>Dg&&r.state<zg,r.state=td,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function wF(e){return this.each(function(){nd(this,e)})}function SF(e,t){var n,r;return function(){var a=zr(this,e),o=a.tween;if(o!==n){r=n=o;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function NF(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=zr(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=i;break}c===u&&a.push(i)}o.tween=a}}function EF(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ir(this.node(),n).tween,a=0,o=r.length,s;a<o;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((t==null?SF:NF)(n,e,t))}function Ev(e,t,n){var r=e._id;return e.each(function(){var a=zr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return ir(a,r).value[t]}}function hj(e,t){var n;return(typeof t=="number"?Ra:t instanceof ec?Uw:(n=ec(t))?(t=n,Uw):oF)(e,t)}function _F(e){return function(){this.removeAttribute(e)}}function CF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AF(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function kF(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function jF(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function TF(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function RF(e,t){var n=mh(e),r=n==="transform"?cF:hj;return this.attrTween(e,typeof t=="function"?(n.local?TF:jF)(n,r,Ev(this,"attr."+e,t)):t==null?(n.local?CF:_F)(n):(n.local?kF:AF)(n,r,t))}function MF(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function DF(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function zF(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&DF(e,o)),n}return a._value=t,a}function OF(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&MF(e,o)),n}return a._value=t,a}function $F(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=mh(e);return this.tween(n,(r.local?zF:OF)(r,t))}function LF(e,t){return function(){Nv(this,e).delay=+t.apply(this,arguments)}}function PF(e,t){return t=+t,function(){Nv(this,e).delay=t}}function IF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?LF:PF)(t,e)):ir(this.node(),t).delay}function BF(e,t){return function(){zr(this,e).duration=+t.apply(this,arguments)}}function HF(e,t){return t=+t,function(){zr(this,e).duration=t}}function FF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?BF:HF)(t,e)):ir(this.node(),t).duration}function UF(e,t){if(typeof t!="function")throw new Error;return function(){zr(this,e).ease=t}}function GF(e){var t=this._id;return arguments.length?this.each(UF(t,e)):ir(this.node(),t).ease}function VF(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;zr(this,e).ease=n}}function ZF(e){if(typeof e!="function")throw new Error;return this.each(VF(this._id,e))}function YF(e){typeof e!="function"&&(e=Vk(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new ma(r,this._parents,this._name,this._id)}function qF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var c=t[i],u=n[i],d=c.length,h=s[i]=new Array(d),f,m=0;m<d;++m)(f=c[m]||u[m])&&(h[m]=f);for(;i<r;++i)s[i]=t[i];return new ma(s,this._parents,this._name,this._id)}function XF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function WF(e,t,n){var r,a,o=XF(t)?Nv:zr;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}function KF(e,t){var n=this._id;return arguments.length<2?ir(this.node(),n).on.on(e):this.each(WF(n,e,t))}function QF(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function JF(){return this.on("end.remove",QF(this._id))}function eU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xv(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i=r[s],c=i.length,u=o[s]=new Array(c),d,h,f=0;f<c;++f)(d=i[f])&&(h=e.call(d,d.__data__,f,i))&&("__data__"in d&&(h.__data__=d.__data__),u[f]=h,yh(u[f],t,n,f,u,ir(d,n)));return new ma(o,this._parents,t,n)}function tU(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gk(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var c=r[i],u=c.length,d,h=0;h<u;++h)if(d=c[h]){for(var f=e.call(d,d.__data__,h,c),m,y=ir(d,n),x=0,w=f.length;x<w;++x)(m=f[x])&&yh(m,t,n,x,f,y);o.push(f),s.push(d)}return new ma(o,s,t,n)}var nU=Oc.prototype.constructor;function rU(){return new nU(this._groups,this._parents)}function aU(e,t){var n,r,a;return function(){var o=di(this,e),s=(this.style.removeProperty(e),di(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}function mj(e){return function(){this.style.removeProperty(e)}}function oU(e,t,n){var r,a=n+"",o;return function(){var s=di(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}function sU(e,t,n){var r,a,o;return function(){var s=di(this,e),i=n(this),c=i+"";return i==null&&(c=i=(this.style.removeProperty(e),di(this,e))),s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i))}}function iU(e,t){var n,r,a,o="style."+t,s="end."+o,i;return function(){var c=zr(this,e),u=c.on,d=c.value[o]==null?i||(i=mj(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(s,a=d),c.on=r}}function lU(e,t,n){var r=(e+="")=="transform"?lF:hj;return t==null?this.styleTween(e,aU(e,r)).on("end.style."+e,mj(e)):typeof t=="function"?this.styleTween(e,sU(e,r,Ev(this,"style."+e,t))).each(iU(this._id,e)):this.styleTween(e,oU(e,r,t),n).on("end.style."+e,null)}function cU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function uU(e,t,n){var r,a;function o(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&cU(e,s,n)),r}return o._value=t,o}function dU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,uU(e,t,n??""))}function fU(e){return function(){this.textContent=e}}function hU(e){return function(){var t=e(this);this.textContent=t??""}}function mU(e){return this.tween("text",typeof e=="function"?hU(Ev(this,"text",e)):fU(e==null?"":e+""))}function pU(e){return function(t){this.textContent=e.call(this,t)}}function gU(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&pU(a)),t}return r._value=e,r}function yU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,gU(e))}function vU(){for(var e=this._name,t=this._id,n=pj(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)if(c=s[u]){var d=ir(c,t);yh(c,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new ma(r,this._parents,e,n)}function xU(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},c={value:function(){--a===0&&o()}};n.each(function(){var u=zr(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(c)),u.on=t}),a===0&&o()})}var bU=0;function ma(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function pj(){return++bU}var Zr=Oc.prototype;ma.prototype={constructor:ma,select:eU,selectAll:tU,selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:YF,merge:qF,selection:rU,transition:vU,call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:KF,attr:RF,attrTween:$F,style:lU,styleTween:dU,text:mU,textTween:yU,remove:JF,tween:EF,delay:IF,duration:FF,ease:GF,easeVarying:ZF,end:xU,[Symbol.iterator]:Zr[Symbol.iterator]};function wU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var SU={time:null,delay:0,duration:250,ease:wU};function NU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function EU(e){var t,n;e instanceof ma?(t=e._id,e=e._name):(t=pj(),(n=SU).time=Sv(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&yh(c,e,t,u,s,n||NU(c,t));return new ma(r,this._parents,e,t)}Oc.prototype.interrupt=wF;Oc.prototype.transition=EU;const yu=e=>()=>e;function _U(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function ta(e,t,n){this.k=e,this.x=t,this.y=n}ta.prototype={constructor:ta,scale:function(e){return e===1?this:new ta(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ta(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Cr=new ta(1,0,0);ta.prototype;function Om(e){e.stopImmediatePropagation()}function Zi(e){e.preventDefault(),e.stopImmediatePropagation()}function CU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function AU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ww(){return this.__zoom||Cr}function kU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function jU(){return navigator.maxTouchPoints||"ontouchstart"in this}function TU(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function rd(){var e=CU,t=AU,n=TU,r=kU,a=jU,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,c=hF,u=ph("start","zoom","end"),d,h,f,m=500,y=150,x=0,w=10;function v(k){k.property("__zoom",Ww).on("wheel.zoom",_,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",R).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(k,M,T,I){var O=k.selection?k.selection():k;O.property("__zoom",Ww),k!==O?E(k,M,T,I):O.interrupt().each(function(){A(this,arguments).event(I).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function(k,M,T,I){v.scaleTo(k,function(){var O=this.__zoom.k,z=typeof M=="function"?M.apply(this,arguments):M;return O*z},T,I)},v.scaleTo=function(k,M,T,I){v.transform(k,function(){var O=t.apply(this,arguments),z=this.__zoom,P=T==null?S(O):typeof T=="function"?T.apply(this,arguments):T,G=z.invert(P),V=typeof M=="function"?M.apply(this,arguments):M;return n(b(g(z,V),P,G),O,s)},T,I)},v.translateBy=function(k,M,T,I){v.transform(k,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,I)},v.translateTo=function(k,M,T,I,O){v.transform(k,function(){var z=t.apply(this,arguments),P=this.__zoom,G=I==null?S(z):typeof I=="function"?I.apply(this,arguments):I;return n(Cr.translate(G[0],G[1]).scale(P.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof T=="function"?-T.apply(this,arguments):-T),z,s)},I,O)};function g(k,M){return M=Math.max(o[0],Math.min(o[1],M)),M===k.k?k:new ta(M,k.x,k.y)}function b(k,M,T){var I=M[0]-T[0]*k.k,O=M[1]-T[1]*k.k;return I===k.x&&O===k.y?k:new ta(k.k,I,O)}function S(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function E(k,M,T,I){k.on("start.zoom",function(){A(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(I).end()}).tween("zoom",function(){var O=this,z=arguments,P=A(O,z).event(I),G=t.apply(O,z),V=T==null?S(G):typeof T=="function"?T.apply(O,z):T,U=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),$=O.__zoom,H=typeof M=="function"?M.apply(O,z):M,Z=c($.invert(V).concat(U/$.k),H.invert(V).concat(U/H.k));return function(F){if(F===1)F=H;else{var Y=Z(F),W=U/Y[2];F=new ta(W,V[0]-Y[0]*W,V[1]-Y[1]*W)}P.zoom(null,F)}})}function A(k,M,T){return!T&&k.__zooming||new N(k,M)}function N(k,M){this.that=k,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,M),this.taps=0}N.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,M){return this.mouse&&k!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var M=pt(this.that).datum();u.call(k,this.that,new _U(k,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),M)}};function _(k,...M){if(!e.apply(this,arguments))return;var T=A(this,M).event(k),I=this.__zoom,O=Math.max(o[0],Math.min(o[1],I.k*Math.pow(2,r.apply(this,arguments)))),z=hr(k);if(T.wheel)(T.mouse[0][0]!==z[0]||T.mouse[0][1]!==z[1])&&(T.mouse[1]=I.invert(T.mouse[0]=z)),clearTimeout(T.wheel);else{if(I.k===O)return;T.mouse=[z,I.invert(z)],nd(this),T.start()}Zi(k),T.wheel=setTimeout(P,y),T.zoom("mouse",n(b(g(I,O),T.mouse[0],T.mouse[1]),T.extent,s));function P(){T.wheel=null,T.end()}}function j(k,...M){if(f||!e.apply(this,arguments))return;var T=k.currentTarget,I=A(this,M,!0).event(k),O=pt(k.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",U,!0),z=hr(k,T),P=k.clientX,G=k.clientY;tj(k.view),Om(k),I.mouse=[z,this.__zoom.invert(z)],nd(this),I.start();function V($){if(Zi($),!I.moved){var H=$.clientX-P,Z=$.clientY-G;I.moved=H*H+Z*Z>x}I.event($).zoom("mouse",n(b(I.that.__zoom,I.mouse[0]=hr($,T),I.mouse[1]),I.extent,s))}function U($){O.on("mousemove.zoom mouseup.zoom",null),nj($.view,I.moved),Zi($),I.event($).end()}}function C(k,...M){if(e.apply(this,arguments)){var T=this.__zoom,I=hr(k.changedTouches?k.changedTouches[0]:k,this),O=T.invert(I),z=T.k*(k.shiftKey?.5:2),P=n(b(g(T,z),I,O),t.apply(this,M),s);Zi(k),i>0?pt(this).transition().duration(i).call(E,P,I,k):pt(this).call(v.transform,P,I,k)}}function R(k,...M){if(e.apply(this,arguments)){var T=k.touches,I=T.length,O=A(this,M,k.changedTouches.length===I).event(k),z,P,G,V;for(Om(k),P=0;P<I;++P)G=T[P],V=hr(G,this),V=[V,this.__zoom.invert(V),G.identifier],O.touch0?!O.touch1&&O.touch0[2]!==V[2]&&(O.touch1=V,O.taps=0):(O.touch0=V,z=!0,O.taps=1+!!d);d&&(d=clearTimeout(d)),z&&(O.taps<2&&(h=V[0],d=setTimeout(function(){d=null},m)),nd(this),O.start())}}function B(k,...M){if(this.__zooming){var T=A(this,M).event(k),I=k.changedTouches,O=I.length,z,P,G,V;for(Zi(k),z=0;z<O;++z)P=I[z],G=hr(P,this),T.touch0&&T.touch0[2]===P.identifier?T.touch0[0]=G:T.touch1&&T.touch1[2]===P.identifier&&(T.touch1[0]=G);if(P=T.that.__zoom,T.touch1){var U=T.touch0[0],$=T.touch0[1],H=T.touch1[0],Z=T.touch1[1],F=(F=H[0]-U[0])*F+(F=H[1]-U[1])*F,Y=(Y=Z[0]-$[0])*Y+(Y=Z[1]-$[1])*Y;P=g(P,Math.sqrt(F/Y)),G=[(U[0]+H[0])/2,(U[1]+H[1])/2],V=[($[0]+Z[0])/2,($[1]+Z[1])/2]}else if(T.touch0)G=T.touch0[0],V=T.touch0[1];else return;T.zoom("touch",n(b(P,G,V),T.extent,s))}}function L(k,...M){if(this.__zooming){var T=A(this,M).event(k),I=k.changedTouches,O=I.length,z,P;for(Om(k),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),z=0;z<O;++z)P=I[z],T.touch0&&T.touch0[2]===P.identifier?delete T.touch0:T.touch1&&T.touch1[2]===P.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(P=hr(P,this),Math.hypot(h[0]-P[0],h[1]-P[1])<w)){var G=pt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return v.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:yu(+k),v):r},v.filter=function(k){return arguments.length?(e=typeof k=="function"?k:yu(!!k),v):e},v.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:yu(!!k),v):a},v.extent=function(k){return arguments.length?(t=typeof k=="function"?k:yu([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),v):t},v.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],v):[o[0],o[1]]},v.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(k){return arguments.length?(n=k,v):n},v.duration=function(k){return arguments.length?(i=+k,v):i},v.interpolate=function(k){return arguments.length?(c=k,v):c},v.on=function(){var k=u.on.apply(u,arguments);return k===u?v:k},v.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,v):Math.sqrt(x)},v.tapDistance=function(k){return arguments.length?(w=+k,v):w},v}var Kw=Object.prototype.hasOwnProperty;function Cl(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Cl(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Kw.call(e,n)&&++r&&!Kw.call(t,n)||!(n in t)||!Cl(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var gj={exports:{}};(function(e){var t=function(){function n(f,m){return m!=null&&f instanceof m}var r;try{r=Map}catch{r=function(){}}var a;try{a=Set}catch{a=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(f,m,y,x,w){typeof m=="object"&&(y=m.depth,x=m.prototype,w=m.includeNonEnumerable,m=m.circular);var v=[],g=[],b=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof y>"u"&&(y=1/0);function S(E,A){if(E===null)return null;if(A===0)return E;var N,_;if(typeof E!="object")return E;if(n(E,r))N=new r;else if(n(E,a))N=new a;else if(n(E,o))N=new o(function(I,O){E.then(function(z){I(S(z,A-1))},function(z){O(S(z,A-1))})});else if(s.__isArray(E))N=[];else if(s.__isRegExp(E))N=new RegExp(E.source,h(E)),E.lastIndex&&(N.lastIndex=E.lastIndex);else if(s.__isDate(E))N=new Date(E.getTime());else{if(b&&Buffer.isBuffer(E))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(E.length):N=new Buffer(E.length),E.copy(N),N;n(E,Error)?N=Object.create(E):typeof x>"u"?(_=Object.getPrototypeOf(E),N=Object.create(_)):(N=Object.create(x),_=x)}if(m){var j=v.indexOf(E);if(j!=-1)return g[j];v.push(E),g.push(N)}n(E,r)&&E.forEach(function(I,O){var z=S(O,A-1),P=S(I,A-1);N.set(z,P)}),n(E,a)&&E.forEach(function(I){var O=S(I,A-1);N.add(O)});for(var C in E){var R;_&&(R=Object.getOwnPropertyDescriptor(_,C)),!(R&&R.set==null)&&(N[C]=S(E[C],A-1))}if(Object.getOwnPropertySymbols)for(var B=Object.getOwnPropertySymbols(E),C=0;C<B.length;C++){var L=B[C],k=Object.getOwnPropertyDescriptor(E,L);k&&!k.enumerable&&!w||(N[L]=S(E[L],A-1),k.enumerable||Object.defineProperty(N,L,{enumerable:!1}))}if(w)for(var M=Object.getOwnPropertyNames(E),C=0;C<M.length;C++){var T=M[C],k=Object.getOwnPropertyDescriptor(E,T);k&&k.enumerable||(N[T]=S(E[T],A-1),Object.defineProperty(N,T,{enumerable:!1}))}return N}return S(f,y)}s.clonePrototype=function(m){if(m===null)return null;var y=function(){};return y.prototype=m,new y};function i(f){return Object.prototype.toString.call(f)}s.__objToStr=i;function c(f){return typeof f=="object"&&i(f)==="[object Date]"}s.__isDate=c;function u(f){return typeof f=="object"&&i(f)==="[object Array]"}s.__isArray=u;function d(f){return typeof f=="object"&&i(f)==="[object RegExp]"}s.__isRegExp=d;function h(f){var m="";return f.global&&(m+="g"),f.ignoreCase&&(m+="i"),f.multiline&&(m+="m"),m}return s.__getRegExpFlags=h,s}();e.exports&&(e.exports=t)})(gj);var RU=gj.exports;const Ht=gf(RU);var vu,MU=new Uint8Array(16);function DU(){if(!vu&&(vu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vu(MU)}const zU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function OU(e){return typeof e=="string"&&zU.test(e)}var jt=[];for(var $m=0;$m<256;++$m)jt.push(($m+256).toString(16).substr(1));function $U(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(jt[e[t+0]]+jt[e[t+1]]+jt[e[t+2]]+jt[e[t+3]]+"-"+jt[e[t+4]]+jt[e[t+5]]+"-"+jt[e[t+6]]+jt[e[t+7]]+"-"+jt[e[t+8]]+jt[e[t+9]]+"-"+jt[e[t+10]]+jt[e[t+11]]+jt[e[t+12]]+jt[e[t+13]]+jt[e[t+14]]+jt[e[t+15]]).toLowerCase();if(!OU(n))throw TypeError("Stringified UUID is invalid");return n}function Lm(e,t,n){e=e||{};var r=e.random||(e.rng||DU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,$U(r)}var Og={exports:{}},yj={exports:{}},LU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PU=LU,IU=PU;function vj(){}function xj(){}xj.resetWarningCache=vj;var BU=function(){function e(r,a,o,s,i,c){if(c!==IU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:xj,resetWarningCache:vj};return n.PropTypes=n,n};yj.exports=BU();var vh=yj.exports,$g={exports:{}},HU=function(){for(var t=arguments.length,n=[],r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}})},FU=function(){},UU=FU;function bj(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function wj(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Sj(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}bj.__suppressDeprecationWarning=!0;wj.__suppressDeprecationWarning=!0;Sj.__suppressDeprecationWarning=!0;function GU(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=bj,t.componentWillReceiveProps=wj),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Sj;var i=t.componentDidUpdate;t.componentDidUpdate=function(u,d,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;i.call(this,u,d,f)}}return e}const VU=Object.freeze(Object.defineProperty({__proto__:null,polyfill:GU},Symbol.toStringTag,{value:"Module"})),ZU=LM(VU);var xh={};xh.__esModule=!0;xh.getChildMapping=qU;xh.mergeChildMappings=XU;var YU=p;function qU(e){if(!e)return e;var t={};return YU.Children.map(e,function(n){return n}).forEach(function(n){t[n.key]=n}),t}function XU(e,t){e=e||{},t=t||{};function n(d){return t.hasOwnProperty(d)?t[d]:e[d]}var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var s=void 0,i={};for(var c in t){if(r.hasOwnProperty(c))for(s=0;s<r[c].length;s++){var u=r[c][s];i[r[c][s]]=n(u)}i[c]=n(c)}for(s=0;s<a.length;s++)i[a[s]]=n(a[s]);return i}(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(g[E]=S[E])}return g},r=HU,a=f(r),o=p,s=f(o),i=vh,c=f(i),u=UU;f(u);var d=ZU,h=xh;function f(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function y(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function x(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}c.default.any,c.default.func,c.default.node;var w={component:"span",childFactory:function(b){return b}},v=function(g){x(b,g);function b(S,E){m(this,b);var A=y(this,g.call(this,S,E));return A.performAppear=function(N,_){A.currentlyTransitioningKeys[N]=!0,_.componentWillAppear?_.componentWillAppear(A._handleDoneAppearing.bind(A,N,_)):A._handleDoneAppearing(N,_)},A._handleDoneAppearing=function(N,_){_&&_.componentDidAppear&&_.componentDidAppear(),delete A.currentlyTransitioningKeys[N];var j=(0,h.getChildMapping)(A.props.children);(!j||!j.hasOwnProperty(N))&&A.performLeave(N,_)},A.performEnter=function(N,_){A.currentlyTransitioningKeys[N]=!0,_.componentWillEnter?_.componentWillEnter(A._handleDoneEntering.bind(A,N,_)):A._handleDoneEntering(N,_)},A._handleDoneEntering=function(N,_){_&&_.componentDidEnter&&_.componentDidEnter(),delete A.currentlyTransitioningKeys[N];var j=(0,h.getChildMapping)(A.props.children);(!j||!j.hasOwnProperty(N))&&A.performLeave(N,_)},A.performLeave=function(N,_){A.currentlyTransitioningKeys[N]=!0,_&&_.componentWillLeave?_.componentWillLeave(A._handleDoneLeaving.bind(A,N,_)):A._handleDoneLeaving(N,_)},A._handleDoneLeaving=function(N,_){_&&_.componentDidLeave&&_.componentDidLeave(),delete A.currentlyTransitioningKeys[N];var j=(0,h.getChildMapping)(A.props.children);j&&j.hasOwnProperty(N)?A.keysToEnter.push(N):A.setState(function(C){var R=n({},C.children);return delete R[N],{children:R}})},A.childRefs=Object.create(null),A.currentlyTransitioningKeys={},A.keysToEnter=[],A.keysToLeave=[],A.state={children:(0,h.getChildMapping)(S.children)},A}return b.prototype.componentDidMount=function(){var E=this.state.children;for(var A in E)E[A]&&this.performAppear(A,this.childRefs[A])},b.getDerivedStateFromProps=function(E,A){var N=(0,h.getChildMapping)(E.children),_=A.children;return{children:(0,h.mergeChildMappings)(_,N)}},b.prototype.componentDidUpdate=function(E,A){var N=this,_=(0,h.getChildMapping)(this.props.children),j=A.children;for(var C in _){var R=j&&j.hasOwnProperty(C);_[C]&&!R&&!this.currentlyTransitioningKeys[C]&&this.keysToEnter.push(C)}for(var B in j){var L=_&&_.hasOwnProperty(B);j[B]&&!L&&!this.currentlyTransitioningKeys[B]&&this.keysToLeave.push(B)}var k=this.keysToEnter;this.keysToEnter=[],k.forEach(function(T){return N.performEnter(T,N.childRefs[T])});var M=this.keysToLeave;this.keysToLeave=[],M.forEach(function(T){return N.performLeave(T,N.childRefs[T])})},b.prototype.render=function(){var E=this,A=[],N=function(R){var B=E.state.children[R];if(B){var L=typeof B.ref!="string",k=E.props.childFactory(B),M=function(I){E.childRefs[R]=I};k===B&&L&&(M=(0,a.default)(B.ref,M)),A.push(s.default.cloneElement(k,{key:R,ref:M}))}};for(var _ in this.state.children)N(_);var j=n({},this.props);return delete j.transitionLeave,delete j.transitionName,delete j.transitionAppear,delete j.transitionEnter,delete j.childFactory,delete j.transitionLeaveTimeout,delete j.transitionEnterTimeout,delete j.transitionAppearTimeout,delete j.component,s.default.createElement(this.props.component,j,A)},b}(s.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=w,t.default=(0,d.polyfill)(v),e.exports=t.default})($g,$g.exports);var Nj=$g.exports,Lg={exports:{}},Pg={exports:{}},Ej={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Ej);var _v=Ej.exports,xu={exports:{}},Qw;function WU(){return Qw||(Qw=1,function(e,t){t.__esModule=!0,t.default=n;function n(r,a){return r.classList?!!a&&r.classList.contains(a):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+a+" ")!==-1}e.exports=t.default}(xu,xu.exports)),xu.exports}(function(e,t){var n=_v;t.__esModule=!0,t.default=a;var r=n(WU());function a(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}e.exports=t.default})(Pg,Pg.exports);var KU=Pg.exports;function Jw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var QU=function(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=Jw(t.className,n):t.setAttribute("class",Jw(t.className&&t.className.baseVal||"",n))},Ig={exports:{}},bu={exports:{}},e1;function _j(){return e1||(e1=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);t.default=n,e.exports=t.default}(bu,bu.exports)),bu.exports}(function(e,t){var n=_v;t.__esModule=!0,t.default=void 0;var r=n(_j()),a=["","webkit","moz","o","ms"],o="clearTimeout",s=d,i,c=function(m,y){return m+(m?y[0].toUpperCase()+y.substr(1):y)+"AnimationFrame"};r.default&&a.some(function(f){var m=c(f,"request");if(m in window)return o=c(f,"cancel"),s=function(x){return window[m](x)}});var u=new Date().getTime();function d(f){var m=new Date().getTime(),y=Math.max(0,16-(m-u)),x=setTimeout(f,y);return u=m,x}i=function(m){return s(m)},i.cancel=function(f){window[o]&&typeof window[o]=="function"&&window[o](f)};var h=i;t.default=h,e.exports=t.default})(Ig,Ig.exports);var JU=Ig.exports,we={},eG=_v;we.__esModule=!0;we.default=we.animationEnd=we.animationDelay=we.animationTiming=we.animationDuration=we.animationName=we.transitionEnd=we.transitionDuration=we.transitionDelay=we.transitionTiming=we.transitionProperty=we.transform=void 0;var tG=eG(_j()),lf="transform";we.transform=lf;var fr,Cv,Cj;we.animationEnd=Cj;we.transitionEnd=Cv;var Av,kv,jv,Tv;we.transitionDelay=Tv;we.transitionTiming=jv;we.transitionDuration=kv;we.transitionProperty=Av;var Aj,kj,jj,Tj;we.animationDelay=Tj;we.animationTiming=jj;we.animationDuration=kj;we.animationName=Aj;if(tG.default){var Pm=rG();fr=Pm.prefix,we.transitionEnd=Cv=Pm.transitionEnd,we.animationEnd=Cj=Pm.animationEnd,we.transform=lf=fr+"-"+lf,we.transitionProperty=Av=fr+"-transition-property",we.transitionDuration=kv=fr+"-transition-duration",we.transitionDelay=Tv=fr+"-transition-delay",we.transitionTiming=jv=fr+"-transition-timing-function",we.animationName=Aj=fr+"-animation-name",we.animationDuration=kj=fr+"-animation-duration",we.animationTiming=jj=fr+"-animation-delay",we.animationDelay=Tj=fr+"-animation-timing-function"}var nG={transform:lf,end:Cv,property:Av,timing:jv,delay:Tv,duration:kv};we.default=nG;function rG(){for(var e=document.createElement("div").style,t={O:function(u){return"o"+u.toLowerCase()},Moz:function(u){return u.toLowerCase()},Webkit:function(u){return"webkit"+u},ms:function(u){return"MS"+u}},n=Object.keys(t),r,a,o="",s=0;s<n.length;s++){var i=n[s];if(i+"TransitionProperty"in e){o="-"+i.toLowerCase(),r=t[i]("TransitionEnd"),a=t[i]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:r,prefix:o}}var zi={};zi.__esModule=!0;zi.nameShape=void 0;zi.transitionTimeout=sG;var aG=p;Rj(aG);var oG=vh,un=Rj(oG);function Rj(e){return e&&e.__esModule?e:{default:e}}function sG(e){var t="transition"+e+"Timeout",n="transition"+e;return function(r){if(r[n]){if(r[t]==null)return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof r[t]!="number")return new Error(t+" must be a number (in milliseconds)")}return null}}zi.nameShape=un.default.oneOfType([un.default.string,un.default.shape({enter:un.default.string,leave:un.default.string,active:un.default.string}),un.default.shape({enter:un.default.string,enterActive:un.default.string,leave:un.default.string,leaveActive:un.default.string,appear:un.default.string,appearActive:un.default.string})]);(function(e,t){t.__esModule=!0;var n=Object.assign||function(N){for(var _=1;_<arguments.length;_++){var j=arguments[_];for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(N[C]=j[C])}return N},r=KU,a=w(r),o=QU,s=w(o),i=JU,c=w(i),u=we,d=p,h=w(d),f=vh,m=w(f),y=lc,x=zi;function w(N){return N&&N.__esModule?N:{default:N}}function v(N,_){if(!(N instanceof _))throw new TypeError("Cannot call a class as a function")}function g(N,_){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:N}function b(N,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);N.prototype=Object.create(_&&_.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(N,_):N.__proto__=_)}var S=[];u.transitionEnd&&S.push(u.transitionEnd),u.animationEnd&&S.push(u.animationEnd);function E(N,_){return S.length?S.forEach(function(j){return N.addEventListener(j,_,!1)}):setTimeout(_,0),function(){S.length&&S.forEach(function(j){return N.removeEventListener(j,_,!1)})}}m.default.node,x.nameShape.isRequired,m.default.bool,m.default.bool,m.default.bool,m.default.number,m.default.number,m.default.number;var A=function(N){b(_,N);function _(j,C){v(this,_);var R=g(this,N.call(this,j,C));return R.componentWillAppear=function(B){R.props.appear?R.transition("appear",B,R.props.appearTimeout):B()},R.componentWillEnter=function(B){R.props.enter?R.transition("enter",B,R.props.enterTimeout):B()},R.componentWillLeave=function(B){R.props.leave?R.transition("leave",B,R.props.leaveTimeout):B()},R.classNameAndNodeQueue=[],R.transitionTimeouts=[],R}return _.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(C){clearTimeout(C)}),this.classNameAndNodeQueue.length=0},_.prototype.transition=function(C,R,B){var L=(0,y.findDOMNode)(this);if(!L){R&&R();return}var k=this.props.name[C]||this.props.name+"-"+C,M=this.props.name[C+"Active"]||k+"-active",T=null,I=void 0;(0,a.default)(L,k),this.queueClassAndNode(M,L);var O=function(P){P&&P.target!==L||(clearTimeout(T),I&&I(),(0,s.default)(L,k),(0,s.default)(L,M),I&&I(),R&&R())};B?(T=setTimeout(O,B),this.transitionTimeouts.push(T)):u.transitionEnd&&(I=E(L,O))},_.prototype.queueClassAndNode=function(C,R){var B=this;this.classNameAndNodeQueue.push({className:C,node:R}),this.rafHandle||(this.rafHandle=(0,c.default)(function(){return B.flushClassNameAndNodeQueue()}))},_.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(C){C.node.scrollTop,(0,a.default)(C.node,C.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},_.prototype.render=function(){var C=n({},this.props);return delete C.name,delete C.appear,delete C.enter,delete C.leave,delete C.appearTimeout,delete C.enterTimeout,delete C.leaveTimeout,delete C.children,h.default.cloneElement(h.default.Children.only(this.props.children),C)},_}(h.default.Component);A.displayName="CSSTransitionGroupChild",A.propTypes={},t.default=A,e.exports=t.default})(Lg,Lg.exports);var iG=Lg.exports;(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var E in S)Object.prototype.hasOwnProperty.call(S,E)&&(g[E]=S[E])}return g},r=p,a=f(r),o=vh,s=f(o),i=Nj,c=f(i),u=iG,d=f(u),h=zi;function f(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function y(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function x(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}h.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,h.transitionTimeout)("Appear"),(0,h.transitionTimeout)("Enter"),(0,h.transitionTimeout)("Leave");var w={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},v=function(g){x(b,g);function b(){var S,E,A;m(this,b);for(var N=arguments.length,_=Array(N),j=0;j<N;j++)_[j]=arguments[j];return A=(S=(E=y(this,g.call.apply(g,[this].concat(_))),E),E._wrapChild=function(C){return a.default.createElement(d.default,{name:E.props.transitionName,appear:E.props.transitionAppear,enter:E.props.transitionEnter,leave:E.props.transitionLeave,appearTimeout:E.props.transitionAppearTimeout,enterTimeout:E.props.transitionEnterTimeout,leaveTimeout:E.props.transitionLeaveTimeout},C)},S),y(E,A)}return b.prototype.render=function(){return a.default.createElement(c.default,n({},this.props,{childFactory:this._wrapChild}))},b}(a.default.Component);v.displayName="CSSTransitionGroup",v.propTypes={},v.defaultProps=w,t.default=v,e.exports=t.default})(Og,Og.exports);var lG=Og.exports,cG=lG,uG=Mj(cG),dG=Nj,fG=Mj(dG);function Mj(e){return e&&e.__esModule?e:{default:e}}var hG={TransitionGroup:fG.default,CSSTransitionGroup:uG.default};const mG=e=>e.enableLegacyTransitions?D.createElement(hG.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):D.createElement("g",{className:e.className,transform:e.transform},e.children),pG=15,t1={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},gG=({nodeDatum:e,toggleNode:t,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:a})=>D.createElement(D.Fragment,null,D.createElement("circle",{r:pG,onClick:o=>{t(),n(o)},onMouseOver:r,onMouseOut:a}),D.createElement("g",{className:"rd3t-label"},D.createElement("text",Object.assign({className:"rd3t-label__title"},t1.title),e.name),D.createElement("text",{className:"rd3t-label__attributes"},e.attributes&&Object.entries(e.attributes).map(([o,s],i)=>D.createElement("tspan",Object.assign({key:`${o}-${i}`},t1.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));let yG=class extends D.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(t,n,r,a)=>n.subscriptions!==t.subscriptions||n.position.x!==t.position.x||n.position.y!==t.position.y||n.orientation!==t.orientation||a.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:t,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,a=typeof r=="function"?r:gG,o={hierarchyPointNode:n,nodeDatum:t,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return a(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=t=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,t)},this.handleOnMouseOver=t=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,t)},this.handleOnMouseOut=t=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,t)},this.handleAddChildren=t=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,t)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(t,n){return this.shouldNodeTransform(this.props,t,this.state,n)}setTransform(t,n,r,a=!1){if(a){const o=n!=null,s=o?n.x:0,i=o?n.y:0;return r==="horizontal"?`translate(${i},${s})`:`translate(${s},${i})`}return r==="horizontal"?`translate(${t.y},${t.x})`:`translate(${t.x},${t.y})`}applyTransform(t,n,r=1,a=()=>{}){this.props.enableLegacyTransitions?pt(this.nodeRef).transition().duration(n).attr("transform",t).style("opacity",r).on("end",a):(pt(this.nodeRef).attr("transform",t).style("opacity",r),a())}commitTransform(){const{orientation:t,transitionDuration:n,position:r,parent:a}=this.props,o=this.setTransform(r,a,t);this.applyTransform(o,n)}componentWillLeave(t){const{orientation:n,transitionDuration:r,position:a,parent:o}=this.props,s=this.setTransform(a,o,n,!0);this.applyTransform(s,r,0,t)}render(){const{data:t,nodeClassName:n}=this.props;return D.createElement("g",{id:t.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[t.children&&t.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}};var Bg=Math.PI,Hg=2*Bg,bo=1e-6,vG=Hg-bo;function Fg(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Dj(){return new Fg}Fg.prototype=Dj.prototype={constructor:Fg,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,s=this._y1,i=n-e,c=r-t,u=o-e,d=s-t,h=u*u+d*d;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>bo)if(!(Math.abs(d*i-c*u)>bo)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-o,m=r-s,y=i*i+c*c,x=f*f+m*m,w=Math.sqrt(y),v=Math.sqrt(h),g=a*Math.tan((Bg-Math.acos((y+h-x)/(2*w*v)))/2),b=g/v,S=g/w;Math.abs(b-1)>bo&&(this._+="L"+(e+b*u)+","+(t+b*d)),this._+="A"+a+","+a+",0,0,"+ +(d*f>u*m)+","+(this._x1=e+S*i)+","+(this._y1=t+S*c)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),i=n*Math.sin(r),c=e+s,u=t+i,d=1^o,h=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>bo||Math.abs(this._y1-u)>bo)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%Hg+Hg),h>vG?this._+="A"+n+","+n+",0,1,"+d+","+(e-s)+","+(t-i)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=u):h>bo&&(this._+="A"+n+","+n+",0,"+ +(h>=Bg)+","+d+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function n1(e){return function(){return e}}function xG(e){return e[0]}function bG(e){return e[1]}var wG=Array.prototype.slice;function SG(e){return e.source}function NG(e){return e.target}function zj(e){var t=SG,n=NG,r=xG,a=bG,o=null;function s(){var i,c=wG.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(o||(o=i=Dj()),e(o,+r.apply(this,(c[0]=u,c)),+a.apply(this,c),+r.apply(this,(c[0]=d,c)),+a.apply(this,c)),i)return o=null,i+""||null}return s.source=function(i){return arguments.length?(t=i,s):t},s.target=function(i){return arguments.length?(n=i,s):n},s.x=function(i){return arguments.length?(r=typeof i=="function"?i:n1(+i),s):r},s.y=function(i){return arguments.length?(a=typeof i=="function"?i:n1(+i),s):a},s.context=function(i){return arguments.length?(o=i??null,s):o},s}function EG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function _G(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+a)/2,r,n,r,a)}function CG(){return zj(EG)}function AG(){return zj(_G)}class kG extends D.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=t=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOver=t=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOut=t=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,t)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(t){this.applyOpacity(0,this.props.transitionDuration,t)}applyOpacity(t,n,r=()=>{}){this.props.enableLegacyTransitions?pt(this.linkRef).transition().duration(n).style("opacity",t).on("end",r):(pt(this.linkRef).style("opacity",t),r())}drawStepPath(t,n){const{source:r,target:a}=t,o=a.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${a.x} H${a.y}`:`M${r.x},${r.y} V${r.y+o/2} H${a.x} V${a.y}`}drawDiagonalPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?CG()({source:[r.y,r.x],target:[a.y,a.x]}):AG()({source:[r.x,r.y],target:[a.x,a.y]})}drawStraightPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?`M${r.y},${r.x}L${a.y},${a.x}`:`M${r.x},${r.y}L${a.x},${a.y}`}drawElbowPath(t,n){return n==="horizontal"?`M${t.source.y},${t.source.x}V${t.target.x}H${t.target.y}`:`M${t.source.x},${t.source.y}V${t.target.y}H${t.target.x}`}drawPath(){const{linkData:t,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(t,n):r==="elbow"?this.drawElbowPath(t,n):r==="straight"?this.drawStraightPath(t,n):r==="step"?this.drawStepPath(t,n):this.drawDiagonalPath(t,n)}getClassNames(){const{linkData:t,orientation:n,pathClassFunc:r}=this.props,a=["rd3t-link"];return typeof r=="function"&&a.push(r(t,n)),a.join(" ").trim()}render(){const{linkData:t}=this.props;return D.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":t.source.id,"data-target-id":t.target.id})}}const jG=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class jn extends D.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:jn.assignInternalProperties(Ht(this.props.data)),d3:jn.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${Lm()}`,this.gInstanceRef=`rd3t-g-${Lm()}`,this.handleNodeToggle=t=>{const n=Ht(this.state.data),a=this.findNodesById(t,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(a.__rd3t.collapsed?(jn.expandNode(a),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(a,n)):jn.collapseNode(a),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=a)},this.handleAddChildrenToNode=(t,n)=>{const r=Ht(this.state.data),a=this.findNodesById(t,r,[]);if(a.length>0){const o=a[0],s=o.__rd3t.depth,i=Ht(n).map(c=>jn.assignInternalProperties([c],s+1));o.children.push(...i.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(t,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkClickCb=(t,n,r)=>{const{onLinkClick:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.handleOnNodeMouseOverCb=(t,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkMouseOverCb=(t,n,r)=>{const{onLinkMouseOver:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.handleOnNodeMouseOutCb=(t,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ht(t),n))},this.handleOnLinkMouseOutCb=(t,n,r)=>{const{onLinkMouseOut:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ht(t),Ht(n),r))},this.centerNode=t=>{const{dimensions:n,orientation:r,zoom:a,centeringTransitionDuration:o}=this.props;if(n){const s=pt(`.${this.gInstanceRef}`),i=pt(`.${this.svgInstanceRef}`),c=this.state.d3.scale;let u,d;r==="horizontal"?(d=-t.x*c+n.height/2,u=-t.y*c+n.width/2):(u=-t.x*c+n.width/2,d=-t.y*c+n.height/2),s.transition().duration(o).attr("transform","translate("+u+","+d+")scale("+c+")"),i.call(rd().transform,Cr.translate(u,d).scale(a))}},this.getNodeClassName=(t,n)=>{const{rootNodeClassName:r,branchNodeClassName:a,leafNodeClassName:o}=this.props;return t!=null?n.children?a:o:r}}static getDerivedStateFromProps(t,n){let r=null;const a=!t.dataKey||n.dataKey!==t.dataKey;t.data!==n.dataRef&&a&&(r={dataRef:t.data,data:jn.assignInternalProperties(Ht(t.data)),isInitialRenderForDataset:!0,dataKey:t.dataKey});const o=jn.calculateD3Geometry(t);return Cl(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(t){this.props.data!==t.data&&this.setState({isInitialRenderForDataset:!1}),(!Cl(this.props.translate,t.translate)||!Cl(this.props.scaleExtent,t.scaleExtent)||this.props.zoomable!==t.zoomable||this.props.draggable!==t.draggable||this.props.zoom!==t.zoom||this.props.enableLegacyTransitions!==t.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?Ht(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(t,n){t.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(t){const{zoomable:n,scaleExtent:r,translate:a,zoom:o,onUpdate:s,hasInteractiveNodes:i}=t,c=pt(`.${this.svgInstanceRef}`),u=pt(`.${this.gInstanceRef}`);c.call(rd().transform,Cr.translate(a.x,a.y).scale(o)),c.call(rd().scaleExtent(n?[r.min,r.max]:[o,o]).filter(d=>i?d.target.classList.contains(this.svgInstanceRef)||d.target.classList.contains(this.gInstanceRef)||d.shiftKey:!0).on("zoom",d=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(d.sourceEvent.type)||(u.attr("transform",d.transform),typeof s=="function"&&(s({node:null,zoom:d.transform.k,translate:{x:d.transform.x,y:d.transform.y}}),this.state.d3.scale=d.transform.k,this.state.d3.translate={x:d.transform.x,y:d.transform.y}))}))}static assignInternalProperties(t,n=0){return(Array.isArray(t)?t:[t]).map(a=>{const o=a;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=Lm(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=jn.assignInternalProperties(o.children,n+1)),o})}findNodesById(t,n,r){return r.length>0||(r=r.concat(n.filter(a=>a.__rd3t.id===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesById(t,a.children,r))})),r}findNodesAtDepth(t,n,r){return r=r.concat(n.filter(a=>a.__rd3t.depth===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesAtDepth(t,a.children,r))}),r}static collapseNode(t){t.__rd3t.collapsed=!0,t.children&&t.children.length>0&&t.children.forEach(n=>{jn.collapseNode(n)})}static expandNode(t){t.__rd3t.collapsed=!1}collapseNeighborNodes(t,n){this.findNodesAtDepth(t.__rd3t.depth,n,[]).filter(a=>a.__rd3t.id!==t.__rd3t.id).forEach(a=>jn.collapseNode(a))}generateTree(){const{initialDepth:t,depthFactor:n,separation:r,nodeSize:a,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,c=JB().nodeSize(o==="horizontal"?[a.y,a.x]:[a.x,a.y]).separation((h,f)=>h.parent.data.__rd3t.id===f.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(vv(this.state.data[0],h=>h.__rd3t.collapsed?null:h.children));let u=c.descendants();const d=c.links();return t!==void 0&&s&&this.setInitialTreeDepth(u,t),n&&u.forEach(h=>{h.y=h.depth*n}),{nodes:u,links:d}}static calculateD3Geometry(t){let n;return t.zoom>t.scaleExtent.max?n=t.scaleExtent.max:t.zoom<t.scaleExtent.min?n=t.scaleExtent.min:n=t.zoom,{translate:t.translate,scale:n}}render(){const{nodes:t,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:a,pathFunc:o,transitionDuration:s,nodeSize:i,depthFactor:c,initialDepth:u,separation:d,enableLegacyTransitions:h,svgClassName:f,pathClassFunc:m}=this.props,{translate:y,scale:x}=this.state.d3,w=Object.assign(Object.assign(Object.assign({},i),d),{depthFactor:c,initialDepth:u});return D.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},D.createElement("style",null,jG),D.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${f}`,width:"100%",height:"100%"},D.createElement(mG,{enableLegacyTransitions:h,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${y.x},${y.y}) scale(${x})`},n.map((v,g)=>D.createElement(kG,{key:"link-"+g,orientation:a,pathFunc:o,pathClassFunc:m,linkData:v,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:h,transitionDuration:s})),t.map((v,g)=>{const{data:b,x:S,y:E,parent:A}=v;return D.createElement(yG,{key:"node-"+g,data:b,position:{x:S,y:E},hierarchyPointNode:v,parent:A,nodeClassName:this.getNodeClassName(A,b),renderCustomNodeElement:r,nodeSize:i,orientation:a,enableLegacyTransitions:h,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:w,centerNode:this.centerNode})}))))}}jn.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};function TG({items:e,filters:t=[]}){const[n,r]=p.useState(null),[a,o]=p.useState("grid"),[s,i]=p.useState({search:"",selectedFilters:{},selectedTags:[]}),c=p.useMemo(()=>{let y=e;if(s.search){const x=s.search.toLowerCase();y=y.filter(w=>w.name.toLowerCase().includes(x)||w.description.toLowerCase().includes(x)||w.tags.some(v=>v.toLowerCase().includes(x)))}return s.selectedTags.length>0&&(y=y.filter(x=>s.selectedTags.some(w=>x.tags.includes(w.value)||x.category===w.value||x.name.toLowerCase().includes(w.value.toLowerCase())))),y},[e,s]),u=p.useMemo(()=>t.length===0?[]:t.map(y=>({...y,options:y.options.map(x=>({...x,count:e.filter(w=>w.tags.includes(x.value)||w.category===x.value).length}))})),[t,e]),d=p.useCallback(y=>{r(y)},[]),h=p.useCallback(y=>{i(y)},[]),f=p.useCallback(y=>{i(x=>({...x,search:y}))},[]),m=p.useCallback(y=>{o(y)},[]);return{selectedItem:n,viewMode:a,currentFilters:s,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:h,handleSearch:f,handleViewModeChange:m,setSelectedItem:r}}function RG({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(o=>o.prerequisites.includes(a)).map(o=>o.name);return l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,o)=>l.jsx(Ae,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},o))})]}),t&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,o)=>l.jsx(Ae,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},o)),r(t.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>l.jsx(Ae,{variant:"secondary",className:"text-xs",children:a},o))})]})]})}function MG({items:e,allNodes:t}){return l.jsx(Hd,{className:"h-[calc(100vh-500px)]",children:l.jsx(cv,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>l.jsxs(th,{value:n.id,children:[l.jsx(nh,{className:"text-left hover:no-underline",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),l.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),l.jsx(rh,{children:l.jsx(RG,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}function DG(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]);p.useEffect(()=>{async function b(){try{r(!0);const S=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!S.ok)throw new Error("Failed to fetch destiny data");const A=(await S.json()).map((N,_)=>({id:N.globalFormId||`destiny-${_}`,name:N.name,description:N.description,tags:[],prerequisites:N.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:N.globalFormId}));A.forEach(N=>{const _=[];N.description.toLowerCase().includes("magicka")&&_.push("Magic"),N.description.toLowerCase().includes("health")&&_.push("Defensive"),N.description.toLowerCase().includes("stamina")&&_.push("Utility"),N.description.toLowerCase().includes("damage")&&_.push("Offensive"),N.description.toLowerCase().includes("armor")&&_.push("Defensive"),N.description.toLowerCase().includes("spell")&&_.push("Magic"),N.description.toLowerCase().includes("weapon")&&_.push("Combat"),N.tags=_}),t(A)}catch(S){o("Failed to load destiny data"),console.error("Error loading destiny data:",S)}finally{r(!1)}}b()},[]);const c=e.map(b=>({id:b.id,name:b.name,description:b.description,tags:b.tags,summary:b.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0})),d=(()=>{const b=[...new Set(e.flatMap(E=>E.tags))],S=[...new Set(e.flatMap(E=>E.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Search by tag...",options:b.map(E=>({id:`tag-${E}`,label:E,value:E,category:"Tags",description:`Destiny nodes with ${E} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Search by prerequisite...",options:S.map(E=>({id:`prereq-${E}`,label:E,value:E,category:"Prerequisites",description:`Destiny nodes requiring ${E}`}))}]})(),{filteredItems:h,currentFilters:f,handleFiltersChange:m,handleSearch:y}=TG({items:c,filters:[]}),{handleTagSelect:x,handleTagRemove:w}=yv({initialFilters:f,onFiltersChange:m,onSearch:y}),v=b=>{const S=e.find(E=>E.id===b);S&&i(E=>E.some(N=>N.id===b)?E.filter(N=>N.id!==b):[...E,{id:b,name:S.name,description:S.description,levelRequirement:S.levelRequirement}])},g=b=>{i(S=>S.filter(E=>E.id!==b))};return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsx(ki,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",className:"max-w-none",children:l.jsx("div",{className:"mb-6",children:l.jsxs(xk,{defaultValue:"path",className:"w-full",children:[l.jsxs(bk,{className:"grid w-full grid-cols-2",children:[l.jsx(Xd,{value:"path",children:"Path Builder"}),l.jsx(Xd,{value:"reference",children:"Reference"})]}),l.jsxs(Wd,{value:"reference",className:"space-y-4",children:[l.jsx(KL,{searchCategories:d,selectedTags:f.selectedTags,onTagSelect:x,onTagRemove:w}),l.jsx("div",{className:"w-full",children:l.jsx(MG,{items:h,allNodes:e})})]}),l.jsx(Wd,{value:"path",className:"space-y-4",children:l.jsx(TB,{nodes:e,plannedNodes:s,onNodePlan:v,onNodeUnplan:g})})]})})})}function Yt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Yt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Oj={exports:{}},$j={},Lj={exports:{}},Pj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=p;function zG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OG=typeof Object.is=="function"?Object.is:zG,$G=hi.useState,LG=hi.useEffect,PG=hi.useLayoutEffect,IG=hi.useDebugValue;function BG(e,t){var n=t(),r=$G({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return PG(function(){a.value=n,a.getSnapshot=t,Im(a)&&o({inst:a})},[e,n,t]),LG(function(){return Im(a)&&o({inst:a}),e(function(){Im(a)&&o({inst:a})})},[e]),IG(n),n}function Im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!OG(e,n)}catch{return!0}}function HG(e,t){return t()}var FG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HG:BG;Pj.useSyncExternalStore=hi.useSyncExternalStore!==void 0?hi.useSyncExternalStore:FG;Lj.exports=Pj;var UG=Lj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=p,GG=UG;function VG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZG=typeof Object.is=="function"?Object.is:VG,YG=GG.useSyncExternalStore,qG=bh.useRef,XG=bh.useEffect,WG=bh.useMemo,KG=bh.useDebugValue;$j.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=qG(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=WG(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&s.hasValue){var y=s.value;if(a(y,m))return h=y}return h=m}if(y=h,ZG(d,m))return y;var x=r(m);return a!==void 0&&a(y,x)?(d=m,y):(d=m,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,a]);var i=YG(e,o[0],o[1]);return XG(function(){s.hasValue=!0,s.value=i},[i]),KG(i),i};Oj.exports=$j;var QG=Oj.exports;const JG=gf(QG),eV={},r1=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(y=>y(t,m))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(eV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,c);return c},tV=e=>e?r1(e):r1,{useDebugValue:nV}=D,{useSyncExternalStoreWithSelector:rV}=JG,aV=e=>e;function Ij(e,t=aV,n){const r=rV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nV(r),r}const a1=(e,t)=>{const n=tV(e),r=(a,o=t)=>Ij(n,a,o);return Object.assign(r,n),r},oV=(e,t)=>e?a1(e,t):a1;function tn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const wh=p.createContext(null),sV=wh.Provider,pa={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Bj=pa.error001();function We(e,t){const n=p.useContext(wh);if(n===null)throw new Error(Bj);return Ij(n,e,t)}const Ct=()=>{const e=p.useContext(wh);if(e===null)throw new Error(Bj);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},iV=e=>e.userSelectionActive?"none":"all";function Hj({position:e,children:t,className:n,style:r,...a}){const o=We(iV),s=`${e}`.split("-");return D.createElement("div",{className:Yt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...a},t)}function lV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(Hj,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const cV=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:c,className:u,...d})=>{const h=p.useRef(null),[f,m]=p.useState({x:0,y:0,width:0,height:0}),y=Yt(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(h.current){const x=h.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:D.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:y,visibility:f.width?"visible":"hidden",...d},a&&D.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:i,ry:i}),D.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),c)};var uV=p.memo(cV);const Rv=e=>({width:e.offsetWidth,height:e.offsetHeight}),mi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Mv=(e={x:0,y:0},t)=>({x:mi(e.x,t[0][0],t[1][0]),y:mi(e.y,t[0][1],t[1][1])}),o1=(e,t,n)=>e<t?mi(Math.abs(e-t),1,50)/50:e>n?-mi(Math.abs(e-n),1,50)/50:0,Fj=(e,t)=>{const n=o1(e.x,35,t.width-35)*20,r=o1(e.y,35,t.height-35)*20;return[n,r]},Uj=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},dV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Dv=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),fV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),s1=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Ug=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},hV=e=>Pn(e.width)&&Pn(e.height)&&Pn(e.x)&&Pn(e.y),Pn=e=>!isNaN(e)&&isFinite(e),tt=Symbol.for("internals"),Gj=["Enter"," ","Escape"],mV=(e,t)=>{},pV=e=>"nativeEvent"in e;function Gg(e){var a,o;const t=pV(e)?e.nativeEvent:e,n=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Vj=e=>"clientX"in e,eo=(e,t)=>{var o,s;const n=Vj(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},cf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Lc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:m=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),m&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&Pn(n)&&Pn(r)?D.createElement(uV,{x:n,y:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u}):null);Lc.displayName="BaseEdge";function Yi(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(o=>o.id===e);a&&n(r,{...a})}}function Zj({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[o,i,a,s]}function Yj({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:i}){const c=e*.125+a*.375+s*.375+n*.125,u=t*.125+o*.375+i*.375+r*.125,d=Math.abs(c-e),h=Math.abs(u-t);return[c,u,d,h]}var Fo;(function(e){e.Strict="strict",e.Loose="loose"})(Fo||(Fo={}));var Eo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Eo||(Eo={}));var nc;(function(e){e.Partial="partial",e.Full="full"})(nc||(nc={}));var Pa;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Pa||(Pa={}));var uf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(uf||(uf={}));var oe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(oe||(oe={}));function i1({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===oe.Left||e===oe.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function qj({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top}){const[s,i]=i1({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,u]=i1({pos:o,x1:r,y1:a,x2:e,y2:t}),[d,h,f,m]=Yj({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${i} ${c},${u} ${r},${a}`,d,h,f,m]}const zv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:y,interactionWidth:x})=>{const[w,v,g]=qj({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o});return D.createElement(Lc,{path:w,labelX:v,labelY:g,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:y,interactionWidth:x})});zv.displayName="SimpleBezierEdge";const l1={[oe.Left]:{x:-1,y:0},[oe.Right]:{x:1,y:0},[oe.Top]:{x:0,y:-1},[oe.Bottom]:{x:0,y:1}},gV=({source:e,sourcePosition:t=oe.Bottom,target:n})=>t===oe.Left||t===oe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},c1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function yV({source:e,sourcePosition:t=oe.Bottom,target:n,targetPosition:r=oe.Top,center:a,offset:o}){const s=l1[t],i=l1[r],c={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+i.x*o,y:n.y+i.y*o},d=gV({source:c,sourcePosition:t,target:u}),h=d.x!==0?"x":"y",f=d[h];let m=[],y,x;const w={x:0,y:0},v={x:0,y:0},[g,b,S,E]=Zj({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[h]*i[h]===-1){y=a.x??g,x=a.y??b;const N=[{x:y,y:c.y},{x:y,y:u.y}],_=[{x:c.x,y:x},{x:u.x,y:x}];s[h]===f?m=h==="x"?N:_:m=h==="x"?_:N}else{const N=[{x:c.x,y:u.y}],_=[{x:u.x,y:c.y}];if(h==="x"?m=s.x===f?_:N:m=s.y===f?N:_,t===r){const L=Math.abs(e[h]-n[h]);if(L<=o){const k=Math.min(o-1,o-L);s[h]===f?w[h]=(c[h]>e[h]?-1:1)*k:v[h]=(u[h]>n[h]?-1:1)*k}}if(t!==r){const L=h==="x"?"y":"x",k=s[h]===i[L],M=c[L]>u[L],T=c[L]<u[L];(s[h]===1&&(!k&&M||k&&T)||s[h]!==1&&(!k&&T||k&&M))&&(m=h==="x"?N:_)}const j={x:c.x+w.x,y:c.y+w.y},C={x:u.x+v.x,y:u.y+v.y},R=Math.max(Math.abs(j.x-m[0].x),Math.abs(C.x-m[0].x)),B=Math.max(Math.abs(j.y-m[0].y),Math.abs(C.y-m[0].y));R>=B?(y=(j.x+C.x)/2,x=m[0].y):(y=m[0].x,x=(j.y+C.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...m,{x:u.x+v.x,y:u.y+v.y},n],y,x,S,E]}function vV(e,t,n,r){const a=Math.min(c1(e,t)/2,c1(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+a*u},${s}Q ${o},${s} ${o},${s+a*d}`}const i=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+a*c}Q ${o},${s} ${o+a*i},${s}`}function Vg({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top,borderRadius:s=5,centerX:i,centerY:c,offset:u=20}){const[d,h,f,m,y]=yV({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:i,y:c},offset:u});return[d.reduce((w,v,g)=>{let b="";return g>0&&g<d.length-1?b=vV(d[g-1],v,d[g+1],s):b=`${g===0?"M":"L"}${v.x} ${v.y}`,w+=b,w},""),h,f,m,y]}const Sh=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:h=oe.Bottom,targetPosition:f=oe.Top,markerEnd:m,markerStart:y,pathOptions:x,interactionWidth:w})=>{const[v,g,b]=Vg({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return D.createElement(Lc,{path:v,labelX:g,labelY:b,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:w})});Sh.displayName="SmoothStepEdge";const Ov=p.memo(e=>{var t;return D.createElement(Sh,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Ov.displayName="StepEdge";function xV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,s,i]=Zj({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,s,i]}const $v=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:m})=>{const[y,x,w]=xV({sourceX:e,sourceY:t,targetX:n,targetY:r});return D.createElement(Lc,{path:y,labelX:x,labelY:w,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:h,markerStart:f,interactionWidth:m})});$v.displayName="StraightEdge";function wu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function u1({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case oe.Left:return[t-wu(t-r,o),n];case oe.Right:return[t+wu(r-t,o),n];case oe.Top:return[t,n-wu(n-a,o)];case oe.Bottom:return[t,n+wu(a-n,o)]}}function Xj({sourceX:e,sourceY:t,sourcePosition:n=oe.Bottom,targetX:r,targetY:a,targetPosition:o=oe.Top,curvature:s=.25}){const[i,c]=u1({pos:n,x1:e,y1:t,x2:r,y2:a,c:s}),[u,d]=u1({pos:o,x1:r,y1:a,x2:e,y2:t,c:s}),[h,f,m,y]=Yj({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${i},${c} ${u},${d} ${r},${a}`,h,f,m,y]}const df=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=oe.Bottom,targetPosition:o=oe.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:y,pathOptions:x,interactionWidth:w})=>{const[v,g,b]=Xj({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o,curvature:x==null?void 0:x.curvature});return D.createElement(Lc,{path:v,labelX:g,labelY:b,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:m,markerStart:y,interactionWidth:w})});df.displayName="BezierEdge";const Lv=p.createContext(null),bV=Lv.Provider;Lv.Consumer;const wV=()=>p.useContext(Lv),SV=e=>"id"in e&&"source"in e&&"target"in e,NV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Zg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,EV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Wj=(e,t)=>{if(!e.source||!e.target)return t;let n;return SV(e)?n={...e}:n={...e,id:NV(e)},EV(n,t)?t:t.concat(n)},Yg=({x:e,y:t},[n,r,a],o,[s,i])=>{const c={x:(e-n)/a,y:(t-r)/a};return o?{x:s*Math.round(c.x/s),y:i*Math.round(c.y/i)}:c},Kj=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),Ys=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},Pv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:o,y:s}=Ys(a,t).positionAbsolute;return dV(r,Dv({x:o,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return fV(n)},Qj=(e,t,[n,r,a]=[0,0,1],o=!1,s=!1,i=[0,0])=>{const c={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:h,height:f,selectable:m=!0,hidden:y=!1}=d;if(s&&!m||y)return!1;const{positionAbsolute:x}=Ys(d,i),w={x:x.x,y:x.y,width:h||0,height:f||0},v=Ug(c,w),g=typeof h>"u"||typeof f>"u"||h===null||f===null,b=o&&v>0,S=(h||0)*(f||0);(g||b||v>=S||d.dragging)&&u.push(d)}),u},Jj=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},eT=(e,t,n,r,a,o=.1)=>{const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),c=Math.min(s,i),u=mi(c,r,a),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*u,m=n/2-h*u;return{x:f,y:m,zoom:u}},wo=(e,t=0)=>e.transition().duration(t);function d1(e,t,n,r){return(t[n]||[]).reduce((a,o)=>{var s,i;return`${e.id}-${o.id}-${n}`!==r&&a.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+o.y+o.height/2}),a},[])}function _V(e,t,n,r,a,o){const{x:s,y:i}=eo(e),u=t.elementsFromPoint(s,i).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const x=Iv(void 0,u),w=u.getAttribute("data-handleid"),v=o({nodeId:y,id:w,type:x});if(v){const g=a.find(b=>b.nodeId===y&&b.type===x&&b.id===w);return{handle:{id:w,type:x,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:v}}}}let d=[],h=1/0;if(a.forEach(y=>{const x=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(x<=r){const w=o(y);x<=h&&(x<h?d=[{handle:y,validHandleResult:w}]:x===h&&d.push({handle:y,validHandleResult:w}),h=x)}}),!d.length)return{handle:null,validHandleResult:tT()};if(d.length===1)return d[0];const f=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:x})=>m?y.type==="target":f?x.isValid:!0)||d[0]}const CV={source:null,target:null,sourceHandle:null,targetHandle:null},tT=()=>({handleDomNode:null,isValid:!1,connection:CV,endHandle:null});function nT(e,t,n,r,a,o,s){const i=a==="target",c=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...tT(),handleDomNode:c};if(c){const d=Iv(void 0,c),h=c.getAttribute("data-nodeid"),f=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),y=c.classList.contains("connectableend"),x={source:i?h:n,sourceHandle:i?f:r,target:i?n:h,targetHandle:i?r:f};u.connection=x,m&&y&&(t===Fo.Strict?i&&d==="source"||!i&&d==="target":h!==n||f!==r)&&(u.endHandle={nodeId:h,handleId:f,type:d},u.isValid=o(x))}return u}function AV({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,o)=>{if(o[tt]){const{handleBounds:s}=o[tt];let i=[],c=[];s&&(i=d1(o,s,"source",`${t}-${n}-${r}`),c=d1(o,s,"target",`${t}-${n}-${r}`)),a.push(...i,...c)}return a},[])}function Iv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Bm(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function kV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function rT({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:o,setState:s,isValidConnection:i,edgeUpdaterType:c,onReconnectEnd:u}){const d=Uj(e.target),{connectionMode:h,domNode:f,autoPanOnConnect:m,connectionRadius:y,onConnectStart:x,panBy:w,getNodes:v,cancelConnection:g}=o();let b=0,S;const{x:E,y:A}=eo(e),N=d==null?void 0:d.elementFromPoint(E,A),_=Iv(c,N),j=f==null?void 0:f.getBoundingClientRect();if(!j||!_)return;let C,R=eo(e,j),B=!1,L=null,k=!1,M=null;const T=AV({nodes:v(),nodeId:n,handleId:t,handleType:_}),I=()=>{if(!m)return;const[P,G]=Fj(R,j);w({x:P,y:G}),b=requestAnimationFrame(I)};s({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:_,connectionStartHandle:{nodeId:n,handleId:t,type:_},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:_});function O(P){const{transform:G}=o();R=eo(P,j);const{handle:V,validHandleResult:U}=_V(P,d,Yg(R,G,!1,[1,1]),y,T,$=>nT($,h,n,t,a?"target":"source",i,d));if(S=V,B||(I(),B=!0),M=U.handleDomNode,L=U.connection,k=U.isValid,s({connectionPosition:S&&k?Kj({x:S.x,y:S.y},G):R,connectionStatus:kV(!!S,k),connectionEndHandle:U.endHandle}),!S&&!k&&!M)return Bm(C);L.source!==L.target&&M&&(Bm(C),C=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",k),M.classList.toggle("react-flow__handle-valid",k))}function z(P){var G,V;(S||M)&&L&&k&&(r==null||r(L)),(V=(G=o()).onConnectEnd)==null||V.call(G,P),c&&(u==null||u(P)),Bm(C),g(),cancelAnimationFrame(b),B=!1,k=!1,L=null,M=null,d.removeEventListener("mousemove",O),d.removeEventListener("mouseup",z),d.removeEventListener("touchmove",O),d.removeEventListener("touchend",z)}d.addEventListener("mousemove",O),d.addEventListener("mouseup",z),d.addEventListener("touchmove",O),d.addEventListener("touchend",z)}const f1=()=>!0,jV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),TV=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},aT=p.forwardRef(({type:e="source",position:t=oe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:s,onConnect:i,children:c,className:u,onMouseDown:d,onTouchStart:h,...f},m)=>{var j,C;const y=s||null,x=e==="target",w=Ct(),v=wV(),{connectOnClick:g,noPanClassName:b}=We(jV,tn),{connecting:S,clickConnecting:E}=We(TV(v,y,e),tn);v||(C=(j=w.getState()).onError)==null||C.call(j,"010",pa.error010());const A=R=>{const{defaultEdgeOptions:B,onConnect:L,hasDefaultEdges:k}=w.getState(),M={...B,...R};if(k){const{edges:T,setEdges:I}=w.getState();I(Wj(M,T))}L==null||L(M),i==null||i(M)},N=R=>{if(!v)return;const B=Vj(R);a&&(B&&R.button===0||!B)&&rT({event:R,handleId:y,nodeId:v,onConnect:A,isTarget:x,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||f1}),B?d==null||d(R):h==null||h(R)},_=R=>{const{onClickConnectStart:B,onClickConnectEnd:L,connectionClickStartHandle:k,connectionMode:M,isValidConnection:T}=w.getState();if(!v||!k&&!a)return;if(!k){B==null||B(R,{nodeId:v,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:y}});return}const I=Uj(R.target),O=n||T||f1,{connection:z,isValid:P}=nT({nodeId:v,id:y,type:e},M,k.nodeId,k.handleId||null,k.type,O,I);P&&A(z),L==null||L(R),w.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":y,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${y}-${e}`,className:Yt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!x,target:x,connectable:r,connectablestart:a,connectableend:o,connecting:E,connectionindicator:r&&(a&&!S||o&&S)}]),onMouseDown:N,onTouchStart:N,onClick:g?_:void 0,ref:m,...f},c)});aT.displayName="Handle";var pi=p.memo(aT);const oT=({data:e,isConnectable:t,targetPosition:n=oe.Top,sourcePosition:r=oe.Bottom})=>D.createElement(D.Fragment,null,D.createElement(pi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,D.createElement(pi,{type:"source",position:r,isConnectable:t}));oT.displayName="DefaultNode";var qg=p.memo(oT);const sT=({data:e,isConnectable:t,sourcePosition:n=oe.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(pi,{type:"source",position:n,isConnectable:t}));sT.displayName="InputNode";var iT=p.memo(sT);const lT=({data:e,isConnectable:t,targetPosition:n=oe.Top})=>D.createElement(D.Fragment,null,D.createElement(pi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);lT.displayName="OutputNode";var cT=p.memo(lT);const Bv=()=>null;Bv.displayName="GroupNode";const RV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Su=e=>e.id;function MV(e,t){return tn(e.selectedNodes.map(Su),t.selectedNodes.map(Su))&&tn(e.selectedEdges.map(Su),t.selectedEdges.map(Su))}const uT=p.memo(({onSelectionChange:e})=>{const t=Ct(),{selectedNodes:n,selectedEdges:r}=We(RV,MV);return p.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[n,r,e]),null});uT.displayName="SelectionListener";const DV=e=>!!e.onSelectionChange;function zV({onSelectionChange:e}){const t=We(DV);return e||t?D.createElement(uT,{onSelectionChange:e}):null}const OV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function cs(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function xe(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const $V=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:o,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:h,edgesFocusable:f,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:x,maxZoom:w,nodeExtent:v,onNodesChange:g,onEdgesChange:b,elementsSelectable:S,connectionMode:E,snapGrid:A,snapToGrid:N,translateExtent:_,connectOnClick:j,defaultEdgeOptions:C,fitView:R,fitViewOptions:B,onNodesDelete:L,onEdgesDelete:k,onNodeDrag:M,onNodeDragStart:T,onNodeDragStop:I,onSelectionDrag:O,onSelectionDragStart:z,onSelectionDragStop:P,noPanClassName:G,nodeOrigin:V,rfId:U,autoPanOnConnect:$,autoPanOnNodeDrag:H,onError:Z,connectionRadius:F,isValidConnection:Y,nodeDragThreshold:W})=>{const{setNodes:Q,setEdges:he,setDefaultNodesAndEdges:me,setMinZoom:ue,setMaxZoom:ee,setTranslateExtent:Te,setNodeExtent:ot,reset:Ne}=We(OV,tn),J=Ct();return p.useEffect(()=>{const Ze=r==null?void 0:r.map(zt=>({...zt,...C}));return me(n,Ze),()=>{Ne()}},[]),xe("defaultEdgeOptions",C,J.setState),xe("connectionMode",E,J.setState),xe("onConnect",a,J.setState),xe("onConnectStart",o,J.setState),xe("onConnectEnd",s,J.setState),xe("onClickConnectStart",i,J.setState),xe("onClickConnectEnd",c,J.setState),xe("nodesDraggable",u,J.setState),xe("nodesConnectable",d,J.setState),xe("nodesFocusable",h,J.setState),xe("edgesFocusable",f,J.setState),xe("edgesUpdatable",m,J.setState),xe("elementsSelectable",S,J.setState),xe("elevateNodesOnSelect",y,J.setState),xe("snapToGrid",N,J.setState),xe("snapGrid",A,J.setState),xe("onNodesChange",g,J.setState),xe("onEdgesChange",b,J.setState),xe("connectOnClick",j,J.setState),xe("fitViewOnInit",R,J.setState),xe("fitViewOnInitOptions",B,J.setState),xe("onNodesDelete",L,J.setState),xe("onEdgesDelete",k,J.setState),xe("onNodeDrag",M,J.setState),xe("onNodeDragStart",T,J.setState),xe("onNodeDragStop",I,J.setState),xe("onSelectionDrag",O,J.setState),xe("onSelectionDragStart",z,J.setState),xe("onSelectionDragStop",P,J.setState),xe("noPanClassName",G,J.setState),xe("nodeOrigin",V,J.setState),xe("rfId",U,J.setState),xe("autoPanOnConnect",$,J.setState),xe("autoPanOnNodeDrag",H,J.setState),xe("onError",Z,J.setState),xe("connectionRadius",F,J.setState),xe("isValidConnection",Y,J.setState),xe("nodeDragThreshold",W,J.setState),cs(e,Q),cs(t,he),cs(x,ue),cs(w,ee),cs(_,Te),cs(v,ot),null},h1={display:"none"},LV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},dT="react-flow__node-desc",fT="react-flow__edge-desc",PV="react-flow__aria-live",IV=e=>e.ariaLiveMessage;function BV({rfId:e}){const t=We(IV);return D.createElement("div",{id:`${PV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:LV},t)}function HV({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${dT}-${e}`,style:h1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${fT}-${e}`,style:h1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(BV,{rfId:e}))}var rc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[s,i]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),d=u.reduce((h,f)=>h.concat(...f),[]);return[u,d]}return[[],[]]},[e]);return p.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Gg(m))return!1;const x=p1(m.code,i);o.current.add(m[x]),m1(s,o.current,!1)&&(m.preventDefault(),r(!0))},h=m=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Gg(m))return!1;const x=p1(m.code,i);m1(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[x]),m.key==="Meta"&&o.current.clear(),a.current=!1},f=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",h),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",h),window.removeEventListener("blur",f)}}},[e,r]),n};function m1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function p1(e,t){return t.includes(e)?"code":"key"}function hT(e,t,n,r){var i,c;const a=e.parentNode||e.parentId;if(!a)return n;const o=t.get(a),s=Ys(o,r);return hT(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((i=o[tt])==null?void 0:i.z)??0)>(n.z??0)?((c=o[tt])==null?void 0:c.z)??0:n.z??0},r)}function mT(e,t,n){e.forEach(r=>{var o;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:s,y:i,z:c}=hT(r,e,{...r.position,z:((o=r[tt])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:i},r[tt].z=c,n!=null&&n[r.id]&&(r[tt].isParent=!0)}})}function Hm(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(i=>{var m;const c=(Pn(i.zIndex)?i.zIndex:0)+(i.selected?s:0),u=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},h=i.parentNode||i.parentId;h&&(o[h]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(d,tt,{enumerable:!1,value:{handleBounds:f||(m=u==null?void 0:u[tt])==null?void 0:m.handleBounds,z:c}}),a.set(i.id,d)}),mT(a,n,o),a}function pT(e,t={}){const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:h}=e(),f=t.initial&&!u&&d;if(i&&c&&(f||!t.initial)){const y=n().filter(w=>{var g;const v=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(g=t.nodes)!=null&&g.length?v&&t.nodes.some(b=>b.id===w.id):v}),x=y.every(w=>w.width&&w.height);if(y.length>0&&x){const w=Pv(y,h),{x:v,y:g,zoom:b}=eT(w,r,a,t.minZoom??o,t.maxZoom??s,t.padding??.1),S=Cr.translate(v,g).scale(b);return typeof t.duration=="number"&&t.duration>0?i.transform(wo(c,t.duration),S):i.transform(c,S),!0}}return!1}function FV(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[tt]:r[tt],selected:n.selected})}),new Map(t)}function UV(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function Nu({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:FV(e,a)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:UV(t,o)}),i==null||i(t))}const us=()=>{},GV={zoomIn:us,zoomOut:us,zoomTo:us,getZoom:()=>1,setViewport:us,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:us,fitBounds:us,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},VV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),ZV=()=>{const e=Ct(),{d3Zoom:t,d3Selection:n}=We(VV,tn);return p.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(wo(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(wo(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(wo(n,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[s,i,c]=e.getState().transform,u=Cr.translate(a.x??s,a.y??i).scale(a.zoom??c);t.transform(wo(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[a,o,s]=e.getState().transform;return{x:a,y:o,zoom:s}},fitView:a=>pT(e.getState,a),setCenter:(a,o,s)=>{const{width:i,height:c,maxZoom:u}=e.getState(),d=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,h=i/2-a*d,f=c/2-o*d,m=Cr.translate(h,f).scale(d);t.transform(wo(n,s==null?void 0:s.duration),m)},fitBounds:(a,o)=>{const{width:s,height:i,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:h,zoom:f}=eT(a,s,i,c,u,(o==null?void 0:o.padding)??.1),m=Cr.translate(d,h).scale(f);t.transform(wo(n,o==null?void 0:o.duration),m)},project:a=>{const{transform:o,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Yg(a,o,s,i)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:s,snapGrid:i,domNode:c}=e.getState();if(!c)return a;const{x:u,y:d}=c.getBoundingClientRect(),h={x:a.x-u,y:a.y-d};return Yg(h,o,s,i)},flowToScreenPosition:a=>{const{transform:o,domNode:s}=e.getState();if(!s)return a;const{x:i,y:c}=s.getBoundingClientRect(),u=Kj(a,o);return{x:u.x+i,y:u.y+c}},viewportInitialized:!0}:GV,[t,n])};function Hv(){const e=ZV(),t=Ct(),n=p.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=p.useCallback(x=>t.getState().nodeInternals.get(x),[]),a=p.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(w=>({...w}))},[]),o=p.useCallback(x=>{const{edges:w=[]}=t.getState();return w.find(v=>v.id===x)},[]),s=p.useCallback(x=>{const{getNodes:w,setNodes:v,hasDefaultNodes:g,onNodesChange:b}=t.getState(),S=w(),E=typeof x=="function"?x(S):x;if(g)v(E);else if(b){const A=E.length===0?S.map(N=>({type:"remove",id:N.id})):E.map(N=>({item:N,type:"reset"}));b(A)}},[]),i=p.useCallback(x=>{const{edges:w=[],setEdges:v,hasDefaultEdges:g,onEdgesChange:b}=t.getState(),S=typeof x=="function"?x(w):x;if(g)v(S);else if(b){const E=S.length===0?w.map(A=>({type:"remove",id:A.id})):S.map(A=>({item:A,type:"reset"}));b(E)}},[]),c=p.useCallback(x=>{const w=Array.isArray(x)?x:[x],{getNodes:v,setNodes:g,hasDefaultNodes:b,onNodesChange:S}=t.getState();if(b){const A=[...v(),...w];g(A)}else if(S){const E=w.map(A=>({item:A,type:"add"}));S(E)}},[]),u=p.useCallback(x=>{const w=Array.isArray(x)?x:[x],{edges:v=[],setEdges:g,hasDefaultEdges:b,onEdgesChange:S}=t.getState();if(b)g([...v,...w]);else if(S){const E=w.map(A=>({item:A,type:"add"}));S(E)}},[]),d=p.useCallback(()=>{const{getNodes:x,edges:w=[],transform:v}=t.getState(),[g,b,S]=v;return{nodes:x().map(E=>({...E})),edges:w.map(E=>({...E})),viewport:{x:g,y:b,zoom:S}}},[]),h=p.useCallback(({nodes:x,edges:w})=>{const{nodeInternals:v,getNodes:g,edges:b,hasDefaultNodes:S,hasDefaultEdges:E,onNodesDelete:A,onEdgesDelete:N,onNodesChange:_,onEdgesChange:j}=t.getState(),C=(x||[]).map(M=>M.id),R=(w||[]).map(M=>M.id),B=g().reduce((M,T)=>{const I=T.parentNode||T.parentId,O=!C.includes(T.id)&&I&&M.find(P=>P.id===I);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(C.includes(T.id)||O)&&M.push(T),M},[]),L=b.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),k=L.filter(M=>R.includes(M.id));if(B||k){const M=Jj(B,L),T=[...k,...M],I=T.reduce((O,z)=>(O.includes(z.id)||O.push(z.id),O),[]);if((E||S)&&(E&&t.setState({edges:b.filter(O=>!I.includes(O.id))}),S&&(B.forEach(O=>{v.delete(O.id)}),t.setState({nodeInternals:new Map(v)}))),I.length>0&&(N==null||N(T),j&&j(I.map(O=>({id:O,type:"remove"})))),B.length>0&&(A==null||A(B),_)){const O=B.map(z=>({id:z.id,type:"remove"}));_(O)}}},[]),f=p.useCallback(x=>{const w=hV(x),v=w?null:t.getState().nodeInternals.get(x.id);return!w&&!v?[null,null,w]:[w?x:s1(v),v,w]},[]),m=p.useCallback((x,w=!0,v)=>{const[g,b,S]=f(x);return g?(v||t.getState().getNodes()).filter(E=>{if(!S&&(E.id===b.id||!E.positionAbsolute))return!1;const A=s1(E),N=Ug(A,g);return w&&N>0||N>=g.width*g.height}):[]},[]),y=p.useCallback((x,w,v=!0)=>{const[g]=f(x);if(!g)return!1;const b=Ug(g,w);return v&&b>0||b>=g.width*g.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:s,setEdges:i,addNodes:c,addEdges:u,toObject:d,deleteElements:h,getIntersectingNodes:m,isNodeIntersecting:y}),[e,n,r,a,o,s,i,c,u,d,h,m,y])}const YV={actInsideInputWithModifier:!1};var qV=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ct(),{deleteElements:r}=Hv(),a=rc(e,YV),o=rc(t);p.useEffect(()=>{if(a){const{edges:s,getNodes:i}=n.getState(),c=i().filter(d=>d.selected),u=s.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function XV(e){const t=Ct();p.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const a=Rv(e.current);(a.height===0||a.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",pa.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Fv={position:"absolute",width:"100%",height:"100%",top:0,left:0},WV=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Eu=e=>({x:e.x,y:e.y,zoom:e.k}),ds=(e,t)=>e.target.closest(`.${t}`),g1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),y1=e=>{const t=e.ctrlKey&&cf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},KV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),QV=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:c=Eo.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:m,minZoom:y,maxZoom:x,zoomActivationKeyCode:w,preventScrolling:v=!0,children:g,noWheelClassName:b,noPanClassName:S})=>{const E=p.useRef(),A=Ct(),N=p.useRef(!1),_=p.useRef(!1),j=p.useRef(null),C=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:B,d3ZoomHandler:L,userSelectionActive:k}=We(KV,tn),M=rc(w),T=p.useRef(0),I=p.useRef(!1),O=p.useRef();return XV(j),p.useEffect(()=>{if(j.current){const z=j.current.getBoundingClientRect(),P=rd().scaleExtent([y,x]).translateExtent(m),G=pt(j.current).call(P),V=Cr.translate(f.x,f.y).scale(mi(f.zoom,y,x)),U=[[0,0],[z.width,z.height]],$=P.constrain()(V,U,m);P.transform(G,$),P.wheelDelta(y1),A.setState({d3Zoom:P,d3Selection:G,d3ZoomHandler:G.on("wheel.zoom"),transform:[$.x,$.y,$.k],domNode:j.current.closest(".react-flow")})}},[]),p.useEffect(()=>{B&&R&&(s&&!M&&!k?B.on("wheel.zoom",z=>{if(ds(z,b))return!1;z.preventDefault(),z.stopImmediatePropagation();const P=B.property("__zoom").k||1;if(z.ctrlKey&&o){const Y=hr(z),W=y1(z),Q=P*Math.pow(2,W);R.scaleTo(B,Q,Y,z);return}const G=z.deltaMode===1?20:1;let V=c===Eo.Vertical?0:z.deltaX*G,U=c===Eo.Horizontal?0:z.deltaY*G;!cf()&&z.shiftKey&&c!==Eo.Vertical&&(V=z.deltaY*G,U=0),R.translateBy(B,-(V/P)*i,-(U/P)*i,{internal:!0});const $=Eu(B.property("__zoom")),{onViewportChangeStart:H,onViewportChange:Z,onViewportChangeEnd:F}=A.getState();clearTimeout(O.current),I.current||(I.current=!0,t==null||t(z,$),H==null||H($)),I.current&&(e==null||e(z,$),Z==null||Z($),O.current=setTimeout(()=>{n==null||n(z,$),F==null||F($),I.current=!1},150))},{passive:!1}):typeof L<"u"&&B.on("wheel.zoom",function(z,P){if(!v&&z.type==="wheel"&&!z.ctrlKey||ds(z,b))return null;z.preventDefault(),L.call(this,z,P)},{passive:!1}))},[k,s,c,B,R,L,M,o,v,b,t,e,n]),p.useEffect(()=>{R&&R.on("start",z=>{var V,U;if(!z.sourceEvent||z.sourceEvent.internal)return null;T.current=(V=z.sourceEvent)==null?void 0:V.button;const{onViewportChangeStart:P}=A.getState(),G=Eu(z.transform);N.current=!0,C.current=G,((U=z.sourceEvent)==null?void 0:U.type)==="mousedown"&&A.setState({paneDragging:!0}),P==null||P(G),t==null||t(z.sourceEvent,G)})},[R,t]),p.useEffect(()=>{R&&(k&&!N.current?R.on("zoom",null):k||R.on("zoom",z=>{var G;const{onViewportChange:P}=A.getState();if(A.setState({transform:[z.transform.x,z.transform.y,z.transform.k]}),_.current=!!(r&&g1(h,T.current??0)),(e||P)&&!((G=z.sourceEvent)!=null&&G.internal)){const V=Eu(z.transform);P==null||P(V),e==null||e(z.sourceEvent,V)}}))},[k,R,e,h,r]),p.useEffect(()=>{R&&R.on("end",z=>{if(!z.sourceEvent||z.sourceEvent.internal)return null;const{onViewportChangeEnd:P}=A.getState();if(N.current=!1,A.setState({paneDragging:!1}),r&&g1(h,T.current??0)&&!_.current&&r(z.sourceEvent),_.current=!1,(n||P)&&WV(C.current,z.transform)){const G=Eu(z.transform);C.current=G,clearTimeout(E.current),E.current=setTimeout(()=>{P==null||P(G),n==null||n(z.sourceEvent,G)},s?150:0)}})},[R,s,h,n,r]),p.useEffect(()=>{R&&R.filter(z=>{const P=M||a,G=o&&z.ctrlKey;if((h===!0||Array.isArray(h)&&h.includes(1))&&z.button===1&&z.type==="mousedown"&&(ds(z,"react-flow__node")||ds(z,"react-flow__edge")))return!0;if(!h&&!P&&!s&&!u&&!o||k||!u&&z.type==="dblclick"||ds(z,b)&&z.type==="wheel"||ds(z,S)&&(z.type!=="wheel"||s&&z.type==="wheel"&&!M)||!o&&z.ctrlKey&&z.type==="wheel"||!P&&!s&&!G&&z.type==="wheel"||!h&&(z.type==="mousedown"||z.type==="touchstart")||Array.isArray(h)&&!h.includes(z.button)&&z.type==="mousedown")return!1;const V=Array.isArray(h)&&h.includes(z.button)||!z.button||z.button<=1;return(!z.ctrlKey||z.type==="wheel")&&V})},[k,R,a,o,s,u,h,d,M]),D.createElement("div",{className:"react-flow__renderer",ref:j,style:Fv},g)},JV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eZ(){const{userSelectionActive:e,userSelectionRect:t}=We(JV,tn);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function v1(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function gT(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const o=e.filter(i=>i.id===a.id);if(o.length===0)return r.push(a),r;const s={...a};for(const i of o)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&v1(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&v1(r,s);break}case"remove":return r}return r.push(s),r},n)}function yT(e,t){return gT(e,t)}function tZ(e,t){return gT(e,t)}const Ma=(e,t)=>({id:e,type:"select",selected:t});function Ms(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Ma(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Ma(r.id,!1))),n},[])}const Fm=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},nZ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),vT=p.memo(({isSelecting:e,selectionMode:t=nc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:h})=>{const f=p.useRef(null),m=Ct(),y=p.useRef(0),x=p.useRef(0),w=p.useRef(),{userSelectionActive:v,elementsSelectable:g,dragging:b}=We(nZ,tn),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},E=L=>{o==null||o(L),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=L=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){L.preventDefault();return}s==null||s(L)},N=i?L=>i(L):void 0,_=L=>{const{resetSelectedElements:k,domNode:M}=m.getState();if(w.current=M==null?void 0:M.getBoundingClientRect(),!g||!e||L.button!==0||L.target!==f.current||!w.current)return;const{x:T,y:I}=eo(L,w.current);k(),m.setState({userSelectionRect:{width:0,height:0,startX:T,startY:I,x:T,y:I}}),r==null||r(L)},j=L=>{const{userSelectionRect:k,nodeInternals:M,edges:T,transform:I,onNodesChange:O,onEdgesChange:z,nodeOrigin:P,getNodes:G}=m.getState();if(!e||!w.current||!k)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const V=eo(L,w.current),U=k.startX??0,$=k.startY??0,H={...k,x:V.x<U?V.x:U,y:V.y<$?V.y:$,width:Math.abs(V.x-U),height:Math.abs(V.y-$)},Z=G(),F=Qj(M,H,I,t===nc.Partial,!0,P),Y=Jj(F,T).map(Q=>Q.id),W=F.map(Q=>Q.id);if(y.current!==W.length){y.current=W.length;const Q=Ms(Z,W);Q.length&&(O==null||O(Q))}if(x.current!==Y.length){x.current=Y.length;const Q=Ms(T,Y);Q.length&&(z==null||z(Q))}m.setState({userSelectionRect:H})},C=L=>{if(L.button!==0)return;const{userSelectionRect:k}=m.getState();!v&&k&&L.target===f.current&&(E==null||E(L)),m.setState({nodesSelectionActive:y.current>0}),S(),a==null||a(L)},R=L=>{v&&(m.setState({nodesSelectionActive:y.current>0}),a==null||a(L)),S()},B=g&&(e||v);return D.createElement("div",{className:Yt(["react-flow__pane",{dragging:b,selection:e}]),onClick:B?void 0:Fm(E,f),onContextMenu:Fm(A,f),onWheel:Fm(N,f),onMouseEnter:B?void 0:c,onMouseDown:B?_:void 0,onMouseMove:B?j:u,onMouseUp:B?C:void 0,onMouseLeave:B?R:d,ref:f,style:Fv},h,D.createElement(eZ,null))});vT.displayName="Pane";function xT(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:xT(r,t):!1}function x1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function rZ(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!xT(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,s;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=a.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function aZ(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function bT(e,t,n,r,a=[0,0],o){const s=aZ(e,e.extent||r);let i=s;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const h=n.get(c),{x:f,y:m}=Ys(h,a).positionAbsolute;i=h&&Pn(f)&&Pn(m)&&Pn(h.width)&&Pn(h.height)?[[f+e.width*a[0],m+e.height*a[1]],[f+h.width-e.width+e.width*a[0],m+h.height-e.height+e.height*a[1]]]:i}else o==null||o("005",pa.error005()),i=s;else if(e.extent&&c&&e.extent!=="parent"){const h=n.get(c),{x:f,y:m}=Ys(h,a).positionAbsolute;i=[[e.extent[0][0]+f,e.extent[0][1]+m],[e.extent[1][0]+f,e.extent[1][1]+m]]}let u={x:0,y:0};if(c){const h=n.get(c);u=Ys(h,a).positionAbsolute}const d=i&&i!=="parent"?Mv(t,i):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Um({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const b1=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return o.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-s.left-i.x)/n,y:(u.top-s.top-i.y)/n,...Rv(c)}})};function qi(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Xg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:i,onError:c}=t.getState(),u=i.get(e);if(!u){c==null||c("012",pa.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):a([e])}function oZ(){const e=Ct();return p.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,c={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:o?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function Gm(e){return(t,n,r)=>e==null?void 0:e(t,r)}function wT({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,selectNodesOnDrag:s}){const i=Ct(),[c,u]=p.useState(!1),d=p.useRef([]),h=p.useRef({x:null,y:null}),f=p.useRef(0),m=p.useRef(null),y=p.useRef({x:0,y:0}),x=p.useRef(null),w=p.useRef(!1),v=p.useRef(!1),g=p.useRef(!1),b=oZ();return p.useEffect(()=>{if(e!=null&&e.current){const S=pt(e.current),E=({x:_,y:j})=>{const{nodeInternals:C,onNodeDrag:R,onSelectionDrag:B,updateNodePositions:L,nodeExtent:k,snapGrid:M,snapToGrid:T,nodeOrigin:I,onError:O}=i.getState();h.current={x:_,y:j};let z=!1,P={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const V=Pv(d.current,I);P=Dv(V)}if(d.current=d.current.map(V=>{const U={x:_-V.distance.x,y:j-V.distance.y};T&&(U.x=M[0]*Math.round(U.x/M[0]),U.y=M[1]*Math.round(U.y/M[1]));const $=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!V.extent&&($[0][0]=V.positionAbsolute.x-P.x+k[0][0],$[1][0]=V.positionAbsolute.x+(V.width??0)-P.x2+k[1][0],$[0][1]=V.positionAbsolute.y-P.y+k[0][1],$[1][1]=V.positionAbsolute.y+(V.height??0)-P.y2+k[1][1]);const H=bT(V,U,C,$,I,O);return z=z||V.position.x!==H.position.x||V.position.y!==H.position.y,V.position=H.position,V.positionAbsolute=H.positionAbsolute,V}),!z)return;L(d.current,!0,!0),u(!0);const G=a?R:Gm(B);if(G&&x.current){const[V,U]=Um({nodeId:a,dragItems:d.current,nodeInternals:C});G(x.current,V,U)}},A=()=>{if(!m.current)return;const[_,j]=Fj(y.current,m.current);if(_!==0||j!==0){const{transform:C,panBy:R}=i.getState();h.current.x=(h.current.x??0)-_/C[2],h.current.y=(h.current.y??0)-j/C[2],R({x:_,y:j})&&E(h.current)}f.current=requestAnimationFrame(A)},N=_=>{var I;const{nodeInternals:j,multiSelectionActive:C,nodesDraggable:R,unselectNodesAndEdges:B,onNodeDragStart:L,onSelectionDragStart:k}=i.getState();v.current=!0;const M=a?L:Gm(k);(!s||!o)&&!C&&a&&((I=j.get(a))!=null&&I.selected||B()),a&&o&&s&&Xg({id:a,store:i,nodeRef:e});const T=b(_);if(h.current=T,d.current=rZ(j,R,T,a),M&&d.current){const[O,z]=Um({nodeId:a,dragItems:d.current,nodeInternals:j});M(_.sourceEvent,O,z)}};if(t)S.on(".drag",null);else{const _=H7().on("start",j=>{const{domNode:C,nodeDragThreshold:R}=i.getState();R===0&&N(j),g.current=!1;const B=b(j);h.current=B,m.current=(C==null?void 0:C.getBoundingClientRect())||null,y.current=eo(j.sourceEvent,m.current)}).on("drag",j=>{var L,k;const C=b(j),{autoPanOnNodeDrag:R,nodeDragThreshold:B}=i.getState();if(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!w.current&&v.current&&R&&(w.current=!0,A()),!v.current){const M=C.xSnapped-(((L=h==null?void 0:h.current)==null?void 0:L.x)??0),T=C.ySnapped-(((k=h==null?void 0:h.current)==null?void 0:k.y)??0);Math.sqrt(M*M+T*T)>B&&N(j)}(h.current.x!==C.xSnapped||h.current.y!==C.ySnapped)&&d.current&&v.current&&(x.current=j.sourceEvent,y.current=eo(j.sourceEvent,m.current),E(C))}}).on("end",j=>{if(!(!v.current||g.current)&&(u(!1),w.current=!1,v.current=!1,cancelAnimationFrame(f.current),d.current)){const{updateNodePositions:C,nodeInternals:R,onNodeDragStop:B,onSelectionDragStop:L}=i.getState(),k=a?B:Gm(L);if(C(d.current,!1,!1),k){const[M,T]=Um({nodeId:a,dragItems:d.current,nodeInternals:R});k(j.sourceEvent,M,T)}}}).filter(j=>{const C=j.target;return!j.button&&(!n||!x1(C,`.${n}`,e))&&(!r||x1(C,r,e))});return S.call(_),()=>{S.on(".drag",null)}}}},[e,t,n,r,o,i,a,s,b]),c}function ST(){const e=Ct();return p.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:o,getNodes:s,snapToGrid:i,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),h=s().filter(g=>g.selected&&(g.draggable||d&&typeof g.draggable>"u")),f=i?c[0]:5,m=i?c[1]:5,y=n.isShiftPressed?4:1,x=n.x*f*y,w=n.y*m*y,v=h.map(g=>{if(g.positionAbsolute){const b={x:g.positionAbsolute.x+x,y:g.positionAbsolute.y+w};i&&(b.x=c[0]*Math.round(b.x/c[0]),b.y=c[1]*Math.round(b.y/c[1]));const{positionAbsolute:S,position:E}=bT(g,b,r,a,void 0,u);g.position=E,g.positionAbsolute=S}return g});o(v,!0,!1)},[])}const qs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Xi=e=>{const t=({id:n,type:r,data:a,xPos:o,yPos:s,xPosOrigin:i,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:h,onMouseMove:f,onMouseLeave:m,onContextMenu:y,onDoubleClick:x,style:w,className:v,isDraggable:g,isSelectable:b,isConnectable:S,isFocusable:E,selectNodesOnDrag:A,sourcePosition:N,targetPosition:_,hidden:j,resizeObserver:C,dragHandle:R,zIndex:B,isParent:L,noDragClassName:k,noPanClassName:M,initialized:T,disableKeyboardA11y:I,ariaLabel:O,rfId:z,hasHandleBounds:P})=>{const G=Ct(),V=p.useRef(null),U=p.useRef(null),$=p.useRef(N),H=p.useRef(_),Z=p.useRef(r),F=b||g||d||h||f||m,Y=ST(),W=qi(n,G.getState,h),Q=qi(n,G.getState,f),he=qi(n,G.getState,m),me=qi(n,G.getState,y),ue=qi(n,G.getState,x),ee=Ne=>{const{nodeDragThreshold:J}=G.getState();if(b&&(!A||!g||J>0)&&Xg({id:n,store:G,nodeRef:V}),d){const Ze=G.getState().nodeInternals.get(n);Ze&&d(Ne,{...Ze})}},Te=Ne=>{if(!Gg(Ne)&&!I)if(Gj.includes(Ne.key)&&b){const J=Ne.key==="Escape";Xg({id:n,store:G,unselect:J,nodeRef:V})}else g&&u&&Object.prototype.hasOwnProperty.call(qs,Ne.key)&&(G.setState({ariaLiveMessage:`Moved selected node ${Ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),Y({x:qs[Ne.key].x,y:qs[Ne.key].y,isShiftPressed:Ne.shiftKey}))};p.useEffect(()=>()=>{U.current&&(C==null||C.unobserve(U.current),U.current=null)},[]),p.useEffect(()=>{if(V.current&&!j){const Ne=V.current;(!T||!P||U.current!==Ne)&&(U.current&&(C==null||C.unobserve(U.current)),C==null||C.observe(Ne),U.current=Ne)}},[j,T,P]),p.useEffect(()=>{const Ne=Z.current!==r,J=$.current!==N,Ze=H.current!==_;V.current&&(Ne||J||Ze)&&(Ne&&(Z.current=r),J&&($.current=N),Ze&&(H.current=_),G.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))},[n,r,N,_]);const ot=wT({nodeRef:V,disabled:j||!g,noDragClassName:k,handleSelector:R,nodeId:n,isSelectable:b,selectNodesOnDrag:A});return j?null:D.createElement("div",{className:Yt(["react-flow__node",`react-flow__node-${r}`,{[M]:g},v,{selected:u,selectable:b,parent:L,dragging:ot}]),ref:V,style:{zIndex:B,transform:`translate(${i}px,${c}px)`,pointerEvents:F?"all":"none",visibility:T?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:W,onMouseMove:Q,onMouseLeave:he,onContextMenu:me,onClick:ee,onDoubleClick:ue,onKeyDown:E?Te:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":I?void 0:`${dT}-${z}`,"aria-label":O},D.createElement(bV,{value:n},D.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:s,selected:u,isConnectable:S,sourcePosition:N,targetPosition:_,dragging:ot,dragHandle:R,zIndex:B})))};return t.displayName="NodeWrapper",p.memo(t)};const sZ=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Pv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function iZ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ct(),{width:a,height:o,x:s,y:i,transformString:c,userSelectionActive:u}=We(sZ,tn),d=ST(),h=p.useRef(null);if(p.useEffect(()=>{var y;n||(y=h.current)==null||y.focus({preventScroll:!0})},[n]),wT({nodeRef:h}),u||!a||!o)return null;const f=e?y=>{const x=r.getState().getNodes().filter(w=>w.selected);e(y,x)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(qs,y.key)&&d({x:qs[y.key].x,y:qs[y.key].y,isShiftPressed:y.shiftKey})};return D.createElement("div",{className:Yt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},D.createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o,top:i,left:s}}))}var lZ=p.memo(iZ);const cZ=e=>e.nodesSelectionActive,NT=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:i,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:m,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:v,zoomActivationKeyCode:g,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:E,panOnScroll:A,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:C,defaultViewport:R,translateExtent:B,minZoom:L,maxZoom:k,preventScrolling:M,onSelectionContextMenu:T,noWheelClassName:I,noPanClassName:O,disableKeyboardA11y:z})=>{const P=We(cZ),G=rc(h),V=rc(v),U=V||C,$=V||A,H=G||f&&U!==!0;return qV({deleteKeyCode:i,multiSelectionKeyCode:w}),D.createElement(QV,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:E,panOnScroll:$,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:j,panOnDrag:!G&&U,defaultViewport:R,translateExtent:B,minZoom:L,maxZoom:k,zoomActivationKeyCode:g,preventScrolling:M,noWheelClassName:I,noPanClassName:O},D.createElement(vT,{onSelectionStart:y,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:U,isSelecting:!!H,selectionMode:m},e,P&&D.createElement(lZ,{onSelectionContextMenu:T,noPanClassName:O,disableKeyboardA11y:z})))};NT.displayName="FlowRenderer";var uZ=p.memo(NT);function dZ(e){return We(p.useCallback(n=>e?Qj(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function fZ(e){const t={input:Xi(e.input||iT),default:Xi(e.default||qg),output:Xi(e.output||cT),group:Xi(e.group||Bv)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=Xi(e[o]||qg),a),n);return{...t,...r}}const hZ=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},mZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ET=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:s}=We(mZ,tn),i=dZ(e.onlyRenderVisibleElements),c=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(h=>{const f=h.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(f)});return c.current=d,d},[]);return p.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:Fv},i.map(d=>{var E,A,N;let h=d.type||"default";e.nodeTypes[h]||(s==null||s("003",pa.error003(h)),h="default");const f=e.nodeTypes[h]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||a&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),w=!!(d.focusable||r&&typeof d.focusable>"u"),v=e.nodeExtent?Mv(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,g=(v==null?void 0:v.x)??0,b=(v==null?void 0:v.y)??0,S=hZ({x:g,y:b,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return D.createElement(f,{key:d.id,id:d.id,className:d.className,style:d.style,type:h,data:d.data,sourcePosition:d.sourcePosition||oe.Bottom,targetPosition:d.targetPosition||oe.Top,hidden:d.hidden,xPos:g,yPos:b,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:x,isFocusable:w,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((E=d[tt])==null?void 0:E.z)??0,isParent:!!((A=d[tt])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((N=d[tt])!=null&&N.handleBounds)})}))};ET.displayName="NodeRenderer";var pZ=p.memo(ET);const gZ=(e,t,n)=>n===oe.Left?e-t:n===oe.Right?e+t:e,yZ=(e,t,n)=>n===oe.Top?e-t:n===oe.Bottom?e+t:e,w1="react-flow__edgeupdater",S1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:s,type:i})=>D.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:s,className:Yt([w1,`${w1}-${i}`]),cx:gZ(t,r,e),cy:yZ(n,r,e),r,stroke:"transparent",fill:"transparent"}),vZ=()=>!0;var fs=e=>{const t=({id:n,className:r,type:a,data:o,onClick:s,onEdgeDoubleClick:i,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,style:w,source:v,target:g,sourceX:b,sourceY:S,targetX:E,targetY:A,sourcePosition:N,targetPosition:_,elementsSelectable:j,hidden:C,sourceHandleId:R,targetHandleId:B,onContextMenu:L,onMouseEnter:k,onMouseMove:M,onMouseLeave:T,reconnectRadius:I,onReconnect:O,onReconnectStart:z,onReconnectEnd:P,markerEnd:G,markerStart:V,rfId:U,ariaLabel:$,isFocusable:H,isReconnectable:Z,pathOptions:F,interactionWidth:Y,disableKeyboardA11y:W})=>{const Q=p.useRef(null),[he,me]=p.useState(!1),[ue,ee]=p.useState(!1),Te=Ct(),ot=p.useMemo(()=>`url('#${Zg(V,U)}')`,[V,U]),Ne=p.useMemo(()=>`url('#${Zg(G,U)}')`,[G,U]);if(C)return null;const J=xt=>{var An;const{edges:At,addSelectedEdges:lr,unselectNodesAndEdges:Ir,multiSelectionActive:Br}=Te.getState(),Yn=At.find(fo=>fo.id===n);Yn&&(j&&(Te.setState({nodesSelectionActive:!1}),Yn.selected&&Br?(Ir({nodes:[],edges:[Yn]}),(An=Q.current)==null||An.blur()):lr([n])),s&&s(xt,Yn))},Ze=Yi(n,Te.getState,i),zt=Yi(n,Te.getState,L),qt=Yi(n,Te.getState,k),Gn=Yi(n,Te.getState,M),Xt=Yi(n,Te.getState,T),Vn=(xt,At)=>{if(xt.button!==0)return;const{edges:lr,isValidConnection:Ir}=Te.getState(),Br=At?g:v,Yn=(At?B:R)||null,An=At?"target":"source",fo=Ir||vZ,ie=At,Ee=lr.find(De=>De.id===n);ee(!0),z==null||z(xt,Ee,An);const Re=De=>{ee(!1),P==null||P(De,Ee,An)};rT({event:xt,handleId:Yn,nodeId:Br,onConnect:De=>O==null?void 0:O(Ee,De),isTarget:ie,getState:Te.getState,setState:Te.setState,isValidConnection:fo,edgeUpdaterType:An,onReconnectEnd:Re})},$r=xt=>Vn(xt,!0),Lr=xt=>Vn(xt,!1),Pr=()=>me(!0),Zn=()=>me(!1),wa=!j&&!s,Sa=xt=>{var At;if(!W&&Gj.includes(xt.key)&&j){const{unselectNodesAndEdges:lr,addSelectedEdges:Ir,edges:Br}=Te.getState();xt.key==="Escape"?((At=Q.current)==null||At.blur(),lr({edges:[Br.find(An=>An.id===n)]})):Ir([n])}};return D.createElement("g",{className:Yt(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:c,animated:u,inactive:wa,updating:he}]),onClick:J,onDoubleClick:Ze,onContextMenu:zt,onMouseEnter:qt,onMouseMove:Gn,onMouseLeave:Xt,onKeyDown:H?Sa:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":$===null?void 0:$||`Edge from ${v} to ${g}`,"aria-describedby":H?`${fT}-${U}`:void 0,ref:Q},!ue&&D.createElement(e,{id:n,source:v,target:g,selected:c,animated:u,label:d,labelStyle:h,labelShowBg:f,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,data:o,style:w,sourceX:b,sourceY:S,targetX:E,targetY:A,sourcePosition:N,targetPosition:_,sourceHandleId:R,targetHandleId:B,markerStart:ot,markerEnd:Ne,pathOptions:F,interactionWidth:Y}),Z&&D.createElement(D.Fragment,null,(Z==="source"||Z===!0)&&D.createElement(S1,{position:N,centerX:b,centerY:S,radius:I,onMouseDown:$r,onMouseEnter:Pr,onMouseOut:Zn,type:"source"}),(Z==="target"||Z===!0)&&D.createElement(S1,{position:_,centerX:E,centerY:A,radius:I,onMouseDown:Lr,onMouseEnter:Pr,onMouseOut:Zn,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function xZ(e){const t={default:fs(e.default||df),straight:fs(e.bezier||$v),step:fs(e.step||Ov),smoothstep:fs(e.step||Sh),simplebezier:fs(e.simplebezier||zv)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=fs(e[o]||df),a),n);return{...t,...r}}function N1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case oe.Top:return{x:r+o/2,y:a};case oe.Right:return{x:r+o,y:a+s/2};case oe.Bottom:return{x:r+o/2,y:a+s};case oe.Left:return{x:r,y:a+s/2}}}function E1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const bZ=(e,t,n,r,a,o)=>{const s=N1(n,e,t),i=N1(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function wZ({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:o,width:s,height:i,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Dv({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:i/c[2]}),h=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),f=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(h*f)>0}function _1(e){var r,a,o,s,i;const t=((r=e==null?void 0:e[tt])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const SZ=[{level:0,isMaxLevel:!0,edges:[]}];function NZ(e,t,n=!1){let r=-1;const a=e.reduce((s,i)=>{var d,h;const c=Pn(i.zIndex);let u=c?i.zIndex:0;if(n){const f=t.get(i.target),m=t.get(i.source),y=i.selected||(f==null?void 0:f.selected)||(m==null?void 0:m.selected),x=Math.max(((d=m==null?void 0:m[tt])==null?void 0:d.z)||0,((h=f==null?void 0:f[tt])==null?void 0:h.z)||0,1e3);u=(c?i.zIndex:0)+(y?x:0)}return s[u]?s[u].push(i):s[u]=[i],r=u>r?u:r,s},{}),o=Object.entries(a).map(([s,i])=>{const c=+s;return{edges:i,level:c,isMaxLevel:c===r}});return o.length===0?SZ:o}function EZ(e,t,n){const r=We(p.useCallback(a=>e?a.edges.filter(o=>{const s=t.get(o.source),i=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&wZ({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return NZ(r,t,n)}const _Z=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),CZ=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),C1={[uf.Arrow]:_Z,[uf.ArrowClosed]:CZ};function AZ(e){const t=Ct();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(C1,e)?C1[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",pa.error009(e)),null)},[e])}const kZ=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{const c=AZ(t);return c?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:i,refX:"0",refY:"0"},D.createElement(c,{color:n,strokeWidth:s})):null},jZ=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const i=Zg(s,t);r.includes(i)||(a.push({id:i,color:s.color||e,...s}),r.push(i))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},_T=({defaultColor:e,rfId:t})=>{const n=We(p.useCallback(jZ({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((o,s)=>o.id!==a[s].id)));return D.createElement("defs",null,n.map(r=>D.createElement(kZ,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};_T.displayName="MarkerDefinitions";var TZ=p.memo(_T);const RZ=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),CT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:x,children:w,disableKeyboardA11y:v})=>{const{edgesFocusable:g,edgesUpdatable:b,elementsSelectable:S,width:E,height:A,connectionMode:N,nodeInternals:_,onError:j}=We(RZ,tn),C=EZ(t,_,n);return E?D.createElement(D.Fragment,null,C.map(({level:R,edges:B,isMaxLevel:L})=>D.createElement("svg",{key:R,style:{zIndex:R},width:E,height:A,className:"react-flow__edges react-flow__container"},L&&D.createElement(TZ,{defaultColor:e,rfId:r}),D.createElement("g",null,B.map(k=>{const[M,T,I]=_1(_.get(k.source)),[O,z,P]=_1(_.get(k.target));if(!I||!P)return null;let G=k.type||"default";a[G]||(j==null||j("011",pa.error011(G)),G="default");const V=a[G]||a.default,U=N===Fo.Strict?z.target:(z.target??[]).concat(z.source??[]),$=E1(T.source,k.sourceHandle),H=E1(U,k.targetHandle),Z=($==null?void 0:$.position)||oe.Bottom,F=(H==null?void 0:H.position)||oe.Top,Y=!!(k.focusable||g&&typeof k.focusable>"u"),W=k.reconnectable||k.updatable,Q=typeof f<"u"&&(W||b&&typeof W>"u");if(!$||!H)return j==null||j("008",pa.error008($,k)),null;const{sourceX:he,sourceY:me,targetX:ue,targetY:ee}=bZ(M,$,Z,O,H,F);return D.createElement(V,{key:k.id,id:k.id,className:Yt([k.className,o]),type:G,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:he,sourceY:me,targetX:ue,targetY:ee,sourcePosition:Z,targetPosition:F,elementsSelectable:S,onContextMenu:s,onMouseEnter:i,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:x,rfId:r,ariaLabel:k.ariaLabel,isFocusable:Y,isReconnectable:Q,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:v})})))),w):null};CT.displayName="EdgeRenderer";var MZ=p.memo(CT);const DZ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function zZ({children:e}){const t=We(DZ);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function OZ(e){const t=Hv(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const $Z={[oe.Left]:oe.Right,[oe.Right]:oe.Left,[oe.Top]:oe.Bottom,[oe.Bottom]:oe.Top},AT=({nodeId:e,handleType:t,style:n,type:r=Pa.Bezier,CustomComponent:a,connectionStatus:o})=>{var A,N,_;const{fromNode:s,handleId:i,toX:c,toY:u,connectionMode:d}=We(p.useCallback(j=>({fromNode:j.nodeInternals.get(e),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[e]),tn),h=(A=s==null?void 0:s[tt])==null?void 0:A.handleBounds;let f=h==null?void 0:h[t];if(d===Fo.Loose&&(f=f||(h==null?void 0:h[t==="source"?"target":"source"])),!s||!f)return null;const m=i?f.find(j=>j.id===i):f[0],y=m?m.x+m.width/2:(s.width??0)/2,x=m?m.y+m.height/2:s.height??0,w=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,v=(((_=s.positionAbsolute)==null?void 0:_.y)??0)+x,g=m==null?void 0:m.position,b=g?$Z[g]:null;if(!g||!b)return null;if(a)return D.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:w,fromY:v,toX:c,toY:u,fromPosition:g,toPosition:b,connectionStatus:o});let S="";const E={sourceX:w,sourceY:v,sourcePosition:g,targetX:c,targetY:u,targetPosition:b};return r===Pa.Bezier?[S]=Xj(E):r===Pa.Step?[S]=Vg({...E,borderRadius:0}):r===Pa.SmoothStep?[S]=Vg(E):r===Pa.SimpleBezier?[S]=qj(E):S=`M${w},${v} ${c},${u}`,D.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};AT.displayName="ConnectionLine";const LZ=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function PZ({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:o,nodesConnectable:s,width:i,height:c,connectionStatus:u}=We(LZ,tn);return!(a&&o&&i&&s)?null:D.createElement("svg",{style:e,width:i,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:Yt(["react-flow__connection",u])},D.createElement(AT,{nodeId:a,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function A1(e,t){return p.useRef(null),Ct(),p.useMemo(()=>t(e),[e])}const kT=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:o,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:w,connectionLineType:v,connectionLineStyle:g,connectionLineComponent:b,connectionLineContainerStyle:S,selectionKeyCode:E,selectionOnDrag:A,selectionMode:N,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:C,deleteKeyCode:R,onlyRenderVisibleElements:B,elementsSelectable:L,selectNodesOnDrag:k,defaultViewport:M,translateExtent:T,minZoom:I,maxZoom:O,preventScrolling:z,defaultMarkerColor:P,zoomOnScroll:G,zoomOnPinch:V,panOnScroll:U,panOnScrollSpeed:$,panOnScrollMode:H,zoomOnDoubleClick:Z,panOnDrag:F,onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:Q,onPaneMouseLeave:he,onPaneScroll:me,onPaneContextMenu:ue,onEdgeContextMenu:ee,onEdgeMouseEnter:Te,onEdgeMouseMove:ot,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:Ze,onReconnectEnd:zt,reconnectRadius:qt,noDragClassName:Gn,noWheelClassName:Xt,noPanClassName:Vn,elevateEdgesOnSelect:$r,disableKeyboardA11y:Lr,nodeOrigin:Pr,nodeExtent:Zn,rfId:wa})=>{const Sa=A1(e,fZ),xt=A1(t,xZ);return OZ(o),D.createElement(uZ,{onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:Q,onPaneMouseLeave:he,onPaneContextMenu:ue,onPaneScroll:me,deleteKeyCode:R,selectionKeyCode:E,selectionOnDrag:A,selectionMode:N,onSelectionStart:x,onSelectionEnd:w,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:C,elementsSelectable:L,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:G,zoomOnPinch:V,zoomOnDoubleClick:Z,panOnScroll:U,panOnScrollSpeed:$,panOnScrollMode:H,panOnDrag:F,defaultViewport:M,translateExtent:T,minZoom:I,maxZoom:O,onSelectionContextMenu:y,preventScrolling:z,noDragClassName:Gn,noWheelClassName:Xt,noPanClassName:Vn,disableKeyboardA11y:Lr},D.createElement(zZ,null,D.createElement(MZ,{edgeTypes:xt,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:ee,onEdgeMouseEnter:Te,onEdgeMouseMove:ot,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:Ze,onReconnectEnd:zt,reconnectRadius:qt,defaultMarkerColor:P,noPanClassName:Vn,elevateEdgesOnSelect:!!$r,disableKeyboardA11y:Lr,rfId:wa},D.createElement(PZ,{style:g,type:v,component:b,containerStyle:S})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(pZ,{nodeTypes:Sa,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:m,selectNodesOnDrag:k,onlyRenderVisibleElements:B,noPanClassName:Vn,noDragClassName:Gn,disableKeyboardA11y:Lr,nodeOrigin:Pr,nodeExtent:Zn,rfId:wa})))};kT.displayName="GraphView";var IZ=p.memo(kT);const Wg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ca={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Wg,nodeExtent:Wg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Fo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:mV,isValidConnection:void 0},BZ=()=>oV((e,t)=>({...Ca,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Hm(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",o=typeof r<"u",s=a?Hm(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const h=window.getComputedStyle(d),{m22:f}=new window.DOMMatrixReadOnly(h.transform),m=n.reduce((x,w)=>{const v=a.get(w.id);if(v!=null&&v.hidden)a.set(v.id,{...v,[tt]:{...v[tt],handleBounds:void 0}});else if(v){const g=Rv(w.nodeElement);!!(g.width&&g.height&&(v.width!==g.width||v.height!==g.height||w.forceUpdate))&&(a.set(v.id,{...v,[tt]:{...v[tt],handleBounds:{source:b1(".source",w.nodeElement,f,u),target:b1(".target",w.nodeElement,f,u)}},...g}),x.push({id:v.id,type:"dimensions",dimensions:g}))}return x},[]);mT(a,u);const y=s||o&&!s&&pT(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(i=>{const c={id:i.id,type:"position",dragging:a};return r&&(c.positionAbsolute=i.positionAbsolute,c.position=i.position),c});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const u=yT(n,i()),d=Hm(u,a,s,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>Ma(c,!0)):(s=Ms(o(),n),i=Ms(a,[])),Nu({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>Ma(c,!0)):(s=Ms(a,n),i=Ms(o(),[])),Nu({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:o}=t(),s=n||o(),i=r||a,c=s.map(d=>(d.selected=!1,Ma(d.id,!1))),u=i.map(d=>Ma(d.id,!1));Nu({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(i=>i.selected).map(i=>Ma(i.id,!1)),s=n.filter(i=>i.selected).map(i=>Ma(i.id,!1));Nu({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=Mv(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:o,d3Zoom:s,d3Selection:i,translateExtent:c}=t();if(!s||!i||!n.x&&!n.y)return!1;const u=Cr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,o]],h=s==null?void 0:s.constrain()(u,d,c);return s.transform(i,h),r[0]!==h.x||r[1]!==h.y||r[2]!==h.k},cancelConnection:()=>e({connectionNodeId:Ca.connectionNodeId,connectionHandleId:Ca.connectionHandleId,connectionHandleType:Ca.connectionHandleType,connectionStatus:Ca.connectionStatus,connectionStartHandle:Ca.connectionStartHandle,connectionEndHandle:Ca.connectionEndHandle}),reset:()=>e({...Ca})}),Object.is),jT=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=BZ()),D.createElement(sV,{value:t.current},e)};jT.displayName="ReactFlowProvider";const TT=({children:e})=>p.useContext(wh)?D.createElement(D.Fragment,null,e):D.createElement(jT,null,e);TT.displayName="ReactFlowWrapper";const HZ={input:iT,default:qg,output:cT,group:Bv},FZ={default:df,straight:$v,step:Ov,smoothstep:Sh,simplebezier:zv},UZ=[0,0],GZ=[15,15],VZ={x:0,y:0,zoom:1},ZZ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},RT=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o=HZ,edgeTypes:s=FZ,onNodeClick:i,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:m,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:g,onNodeMouseMove:b,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:A,onNodeDragStart:N,onNodeDrag:_,onNodeDragStop:j,onNodesDelete:C,onEdgesDelete:R,onSelectionChange:B,onSelectionDragStart:L,onSelectionDrag:k,onSelectionDragStop:M,onSelectionContextMenu:T,onSelectionStart:I,onSelectionEnd:O,connectionMode:z=Fo.Strict,connectionLineType:P=Pa.Bezier,connectionLineStyle:G,connectionLineComponent:V,connectionLineContainerStyle:U,deleteKeyCode:$="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:Z=!1,selectionMode:F=nc.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:W=cf()?"Meta":"Control",zoomActivationKeyCode:Q=cf()?"Meta":"Control",snapToGrid:he=!1,snapGrid:me=GZ,onlyRenderVisibleElements:ue=!1,selectNodesOnDrag:ee=!0,nodesDraggable:Te,nodesConnectable:ot,nodesFocusable:Ne,nodeOrigin:J=UZ,edgesFocusable:Ze,edgesUpdatable:zt,elementsSelectable:qt,defaultViewport:Gn=VZ,minZoom:Xt=.5,maxZoom:Vn=2,translateExtent:$r=Wg,preventScrolling:Lr=!0,nodeExtent:Pr,defaultMarkerColor:Zn="#b1b1b7",zoomOnScroll:wa=!0,zoomOnPinch:Sa=!0,panOnScroll:xt=!1,panOnScrollSpeed:At=.5,panOnScrollMode:lr=Eo.Free,zoomOnDoubleClick:Ir=!0,panOnDrag:Br=!0,onPaneClick:Yn,onPaneMouseEnter:An,onPaneMouseMove:fo,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:Re,children:_e,onEdgeContextMenu:De,onEdgeDoubleClick:Ot,onEdgeMouseEnter:kt,onEdgeMouseMove:cr,onEdgeMouseLeave:sn,onEdgeUpdate:Hr,onEdgeUpdateStart:ur,onEdgeUpdateEnd:kn,onReconnect:ns,onReconnectStart:Bc,onReconnectEnd:fM,reconnectRadius:hM=10,edgeUpdaterRadius:mM=10,onNodesChange:pM,onEdgesChange:gM,noDragClassName:yM="nodrag",noWheelClassName:vM="nowheel",noPanClassName:tx="nopan",fitView:xM=!1,fitViewOptions:bM,connectOnClick:wM=!0,attributionPosition:SM,proOptions:NM,defaultEdgeOptions:EM,elevateNodesOnSelect:_M=!0,elevateEdgesOnSelect:CM=!1,disableKeyboardA11y:nx=!1,autoPanOnConnect:AM=!0,autoPanOnNodeDrag:kM=!0,connectionRadius:jM=20,isValidConnection:TM,onError:RM,style:MM,id:rx,nodeDragThreshold:DM,...zM},OM)=>{const Th=rx||"1";return D.createElement("div",{...zM,style:{...MM,...ZZ},ref:OM,className:Yt(["react-flow",a]),"data-testid":"rf__wrapper",id:rx},D.createElement(TT,null,D.createElement(IZ,{onInit:u,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:i,onEdgeClick:c,onNodeMouseEnter:g,onNodeMouseMove:b,onNodeMouseLeave:S,onNodeContextMenu:E,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:P,connectionLineStyle:G,connectionLineComponent:V,connectionLineContainerStyle:U,selectionKeyCode:H,selectionOnDrag:Z,selectionMode:F,deleteKeyCode:$,multiSelectionKeyCode:W,panActivationKeyCode:Y,zoomActivationKeyCode:Q,onlyRenderVisibleElements:ue,selectNodesOnDrag:ee,defaultViewport:Gn,translateExtent:$r,minZoom:Xt,maxZoom:Vn,preventScrolling:Lr,zoomOnScroll:wa,zoomOnPinch:Sa,zoomOnDoubleClick:Ir,panOnScroll:xt,panOnScrollSpeed:At,panOnScrollMode:lr,panOnDrag:Br,onPaneClick:Yn,onPaneMouseEnter:An,onPaneMouseMove:fo,onPaneMouseLeave:ie,onPaneScroll:Ee,onPaneContextMenu:Re,onSelectionContextMenu:T,onSelectionStart:I,onSelectionEnd:O,onEdgeContextMenu:De,onEdgeDoubleClick:Ot,onEdgeMouseEnter:kt,onEdgeMouseMove:cr,onEdgeMouseLeave:sn,onReconnect:ns??Hr,onReconnectStart:Bc??ur,onReconnectEnd:fM??kn,reconnectRadius:hM??mM,defaultMarkerColor:Zn,noDragClassName:yM,noWheelClassName:vM,noPanClassName:tx,elevateEdgesOnSelect:CM,rfId:Th,disableKeyboardA11y:nx,nodeOrigin:J,nodeExtent:Pr}),D.createElement($V,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:Te,nodesConnectable:ot,nodesFocusable:Ne,edgesFocusable:Ze,edgesUpdatable:zt,elementsSelectable:qt,elevateNodesOnSelect:_M,minZoom:Xt,maxZoom:Vn,nodeExtent:Pr,onNodesChange:pM,onEdgesChange:gM,snapToGrid:he,snapGrid:me,connectionMode:z,translateExtent:$r,connectOnClick:wM,defaultEdgeOptions:EM,fitView:xM,fitViewOptions:bM,onNodesDelete:C,onEdgesDelete:R,onNodeDragStart:N,onNodeDrag:_,onNodeDragStop:j,onSelectionDrag:k,onSelectionDragStart:L,onSelectionDragStop:M,noPanClassName:tx,nodeOrigin:J,rfId:Th,autoPanOnConnect:AM,autoPanOnNodeDrag:kM,onError:RM,connectionRadius:jM,isValidConnection:TM,nodeDragThreshold:DM}),D.createElement(zV,{onSelectionChange:B}),_e,D.createElement(lV,{proOptions:NM,position:SM}),D.createElement(HV,{rfId:Th,disableKeyboardA11y:nx})))});RT.displayName="ReactFlow";function MT(e){return t=>{const[n,r]=p.useState(t),a=p.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,a]}}const YZ=MT(yT),qZ=MT(tZ);function XZ(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function WZ(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function KZ(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function QZ(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function JZ(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function eY(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const sl=({children:e,className:t,...n})=>D.createElement("button",{type:"button",className:Yt(["react-flow__controls-button",t]),...n},e);sl.displayName="ControlButton";const tY=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),DT=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:s,onFitView:i,onInteractiveChange:c,className:u,children:d,position:h="bottom-left"})=>{const f=Ct(),[m,y]=p.useState(!1),{isInteractive:x,minZoomReached:w,maxZoomReached:v}=We(tY,XZ),{zoomIn:g,zoomOut:b,fitView:S}=Hv();if(p.useEffect(()=>{y(!0)},[]),!m)return null;const E=()=>{g(),o==null||o()},A=()=>{b(),s==null||s()},N=()=>{S(a),i==null||i()},_=()=>{f.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return D.createElement(Hj,{className:Yt(["react-flow__controls",u]),position:h,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(sl,{onClick:E,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},D.createElement(WZ,null)),D.createElement(sl,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},D.createElement(KZ,null))),n&&D.createElement(sl,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},D.createElement(QZ,null)),r&&D.createElement(sl,{className:"react-flow__controls-interactive",onClick:_,title:"toggle interactivity","aria-label":"toggle interactivity"},x?D.createElement(eY,null):D.createElement(JZ,null)),d)};DT.displayName="Controls";var nY=p.memo(DT);function rY(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Kn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Kn||(Kn={}));function aY({color:e,dimensions:t,lineWidth:n}){return D.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function oY({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const sY={[Kn.Dots]:"#91919a",[Kn.Lines]:"#eee",[Kn.Cross]:"#e2e2e2"},iY={[Kn.Dots]:1,[Kn.Lines]:1,[Kn.Cross]:6},lY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zT({id:e,variant:t=Kn.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=2,color:s,style:i,className:c}){const u=p.useRef(null),{transform:d,patternId:h}=We(lY,rY),f=s||sY[t],m=r||iY[t],y=t===Kn.Dots,x=t===Kn.Cross,w=Array.isArray(n)?n:[n,n],v=[w[0]*d[2]||1,w[1]*d[2]||1],g=m*d[2],b=x?[g,g]:v,S=y?[g/o,g/o]:[b[0]/o,b[1]/o];return D.createElement("svg",{className:Yt(["react-flow__background",c]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},D.createElement("pattern",{id:h+e,x:d[0]%v[0],y:d[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},y?D.createElement(oY,{color:f,radius:g/o}):D.createElement(aY,{dimensions:b,color:f,lineWidth:a})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}zT.displayName="Background";var cY=p.memo(zT);function uY({data:e,selected:t,onTogglePerk:n,onRankChange:r}){var d,h;const a=e.totalRanks,o=a>1?(e.currentRank||0)>0:e.selected||t,s=f=>{f.preventDefault(),f.stopPropagation();const m=e.edid,y=e.name;console.log(`Toggling perk: ${y} (${m}), currently selected: ${o}, current rank: ${e.currentRank}`),n&&n(m)},i=f=>{if(f.preventDefault(),f.stopPropagation(),!o){const v=e.name;if(console.log(`Selecting multi-rank perk: ${v} with rank 1`),n){const g=e.edid;n(g)}return}if(!r)return;const m=e.currentRank||0,y=(m+1)%(a+1),x=e.name;console.log(`Cycling rank for ${x}: ${m} -> ${y}`);const w=e.edid;r(w,y)},c=()=>{const f={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return o?{...f,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...f,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...f,borderColor:"hsl(var(--border))"}},u=((h=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:h.base)||"";return l.jsxs(Pk,{children:[l.jsx(Ik,{asChild:!0,children:l.jsxs("div",{style:c(),onClick:a>1?i:s,onMouseDown:f=>f.stopPropagation(),children:[!e.isRoot&&l.jsx(pi,{type:"target",position:oe.Bottom}),l.jsx("div",{className:"font-medium",children:e.name}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&l.jsx(pi,{type:"source",position:oe.Top})]})}),l.jsx(pv,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:1e3},children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:e.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:u}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,l.jsx("br",{}),l.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})}function q(e,t,n){function r(i,c){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,c);for(const d in s.prototype)d in i||Object.defineProperty(i,d,{value:s.prototype[d].bind(i)});i._zod.constr=s,i._zod.def=c}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(i){var c;const u=n!=null&&n.Parent?new o:this;r(u,i),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:i=>{var c,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(c=i==null?void 0:i._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class ac extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const OT={};function Uo(e){return OT}function dY(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function fY(e,t){return typeof t=="bigint"?t.toString():t}function $T(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Uv(e){return e==null}function Gv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function hY(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return o%s/10**a}function Be(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Vv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Wi(e){return JSON.stringify(e)}const LT=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Kg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const mY=$T(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Qg(e){if(Kg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Kg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const pY=new Set(["string","number","symbol"]);function Nh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ts(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function se(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function gY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const yY={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function vY(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return ts(e,{...e._zod.def,shape:n,checks:[]})}function xY(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return ts(e,{...e._zod.def,shape:n,checks:[]})}function bY(e,t){if(!Qg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Vv(this,"shape",r),r},checks:[]};return ts(e,n)}function wY(e,t){return ts(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Vv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function SY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return ts(t,{...t._zod.def,shape:a,checks:[]})}function NY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return ts(t,{...t._zod.def,shape:a,checks:[]})}function Al(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Zv(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function _u(e){return typeof e=="string"?e:e==null?void 0:e.message}function Go(e,t,n){var a,o,s,i,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=_u((s=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??_u((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??_u((c=n.customError)==null?void 0:c.call(n,e))??_u((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Yv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function oc(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const PT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,fY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},IT=q("$ZodError",PT),BT=q("$ZodError",PT,{Parent:Error});function EY(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function _Y(e,t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>a({issues:i}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let i=r,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(s))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return a(e),r}const CY=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new ac;if(s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>Go(c,o,Uo())));throw LT(i,a==null?void 0:a.callee),i}return s.value},AY=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>Go(c,o,Uo())));throw LT(i,a==null?void 0:a.callee),i}return s.value},HT=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new ac;return o.issues.length?{success:!1,error:new(e??IT)(o.issues.map(s=>Go(s,a,Uo())))}:{success:!0,data:o.value}},kY=HT(BT),FT=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Go(s,a,Uo())))}:{success:!0,data:o.value}},jY=FT(BT),TY=/^[cC][^\s-]{8,}$/,RY=/^[0-9a-z]+$/,MY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,DY=/^[0-9a-vA-V]{20}$/,zY=/^[A-Za-z0-9]{27}$/,OY=/^[a-zA-Z0-9_-]{21}$/,$Y=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,LY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,k1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,PY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,IY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function BY(){return new RegExp(IY,"u")}const HY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,UY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,GY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,UT=/^[A-Za-z0-9_-]*$/,ZY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,YY=/^\+(?:[0-9]){6,14}[0-9]$/,GT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",qY=new RegExp(`^${GT}$`);function VT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function XY(e){return new RegExp(`^${VT(e)}$`)}function WY(e){const t=VT({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${GT}T(?:${r})$`)}const KY=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},QY=/^\d+$/,JY=/^-?\d+(?:\.\d+)?/i,eq=/true|false/i,tq=/^[^A-Z]*$/,nq=/^[^a-z]*$/,on=q("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),ZT={number:"number",bigint:"bigint",object:"date"},YT=q("$ZodCheckLessThan",(e,t)=>{on.init(e,t);const n=ZT[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qT=q("$ZodCheckGreaterThan",(e,t)=>{on.init(e,t);const n=ZT[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),rq=q("$ZodCheckMultipleOf",(e,t)=>{on.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):hY(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),aq=q("$ZodCheckNumberFormat",(e,t)=>{var s;on.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[a,o]=yY[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=a,c.maximum=o,n&&(c.pattern=QY)}),e._zod.check=i=>{const c=i.value;if(n){if(!Number.isInteger(c)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>o&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),oq=q("$ZodCheckMaxLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Uv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=Yv(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),sq=q("$ZodCheckMinLength",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Uv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=Yv(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),iq=q("$ZodCheckLengthEquals",(e,t)=>{var n;on.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Uv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=Yv(a),i=o>t.length;r.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Eh=q("$ZodCheckStringFormat",(e,t)=>{var n,r;on.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),lq=q("$ZodCheckRegex",(e,t)=>{Eh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),cq=q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=tq),Eh.init(e,t)}),uq=q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=nq),Eh.init(e,t)}),dq=q("$ZodCheckIncludes",(e,t)=>{on.init(e,t);const n=Nh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),fq=q("$ZodCheckStartsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`^${Nh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),hq=q("$ZodCheckEndsWith",(e,t)=>{on.init(e,t);const n=new RegExp(`.*${Nh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),mq=q("$ZodCheckOverwrite",(e,t)=>{on.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class pq{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const gq={major:4,minor:0,patch:5},nt=q("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=gq;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,i,c)=>{let u=Al(s),d;for(const h of i){if(h._zod.def.when){if(!h._zod.def.when(s))continue}else if(u)continue;const f=s.issues.length,m=h._zod.check(s);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new ac;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==f&&(u||(u=Al(s,f)))});else{if(s.issues.length===f)continue;u||(u=Al(s,f))}}return d?d.then(()=>s):s};e._zod.run=(s,i)=>{const c=e._zod.parse(s,i);if(c instanceof Promise){if(i.async===!1)throw new ac;return c.then(u=>o(u,r,i))}return o(c,r,i)}}e["~standard"]={validate:o=>{var s;try{const i=kY(e,o);return i.success?{value:i.data}:{issues:(s=i.error)==null?void 0:s.issues}}catch{return jY(e,o).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),qv=q("$ZodString",(e,t)=>{var n;nt.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??KY(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ve=q("$ZodStringFormat",(e,t)=>{Eh.init(e,t),qv.init(e,t)}),yq=q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=LY),Ve.init(e,t)}),vq=q("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=k1(r))}else t.pattern??(t.pattern=k1());Ve.init(e,t)}),xq=q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=PY),Ve.init(e,t)}),bq=q("$ZodURL",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:ZY.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),wq=q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=BY()),Ve.init(e,t)}),Sq=q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=OY),Ve.init(e,t)}),Nq=q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=TY),Ve.init(e,t)}),Eq=q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=RY),Ve.init(e,t)}),_q=q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=MY),Ve.init(e,t)}),Cq=q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=DY),Ve.init(e,t)}),Aq=q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=zY),Ve.init(e,t)}),kq=q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WY(t)),Ve.init(e,t)}),jq=q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=qY),Ve.init(e,t)}),Tq=q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=XY(t)),Ve.init(e,t)}),Rq=q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=$Y),Ve.init(e,t)}),Mq=q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=HY),Ve.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Dq=q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=FY),Ve.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),zq=q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=UY),Ve.init(e,t)}),Oq=q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=GY),Ve.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function XT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const $q=q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=VY),Ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{XT(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Lq(e){if(!UT.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return XT(n)}const Pq=q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=UT),Ve.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Lq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Iq=q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=YY),Ve.init(e,t)});function Bq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const Hq=q("$ZodJWT",(e,t)=>{Ve.init(e,t),e._zod.check=n=>{Bq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),WT=q("$ZodNumber",(e,t)=>{nt.init(e,t),e._zod.pattern=e._zod.bag.pattern??JY,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),Fq=q("$ZodNumber",(e,t)=>{aq.init(e,t),WT.init(e,t)}),Uq=q("$ZodBoolean",(e,t)=>{nt.init(e,t),e._zod.pattern=eq,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),Gq=q("$ZodUnknown",(e,t)=>{nt.init(e,t),e._zod.parse=n=>n}),Vq=q("$ZodNever",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function j1(e,t,n){e.issues.length&&t.issues.push(...Zv(n,e.issues)),t.value[n]=e.value}const Zq=q("$ZodArray",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const i=a[s],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?o.push(c.then(u=>j1(u,n,s))):j1(c,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function Cu(e,t,n){e.issues.length&&t.issues.push(...Zv(n,e.issues)),t.value[n]=e.value}function T1(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Zv(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Yq=q("$ZodObject",(e,t)=>{nt.init(e,t);const n=$T(()=>{const h=Object.keys(t.shape);for(const m of h)if(!(t.shape[m]instanceof nt))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const f=gY(t.shape);return{shape:t.shape,keys:h,keySet:new Set(h),numKeys:h.length,optionalKeys:new Set(f)}});Be(e._zod,"propValues",()=>{const h=t.shape,f={};for(const m in h){const y=h[m]._zod;if(y.values){f[m]??(f[m]=new Set);for(const x of y.values)f[m].add(x)}}return f});const r=h=>{const f=new pq(["shape","payload","ctx"]),m=n.value,y=g=>{const b=Wi(g);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};f.write("const input = payload.value;");const x=Object.create(null);let w=0;for(const g of m.keys)x[g]=`key_${w++}`;f.write("const newResult = {}");for(const g of m.keys)if(m.optionalKeys.has(g)){const b=x[g];f.write(`const ${b} = ${y(g)};`);const S=Wi(g);f.write(`
        if (${b}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${b}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${b}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${b}.value;
        }
        `)}else{const b=x[g];f.write(`const ${b} = ${y(g)};`),f.write(`
          if (${b}.issues.length) payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Wi(g)}, ...iss.path] : [${Wi(g)}]
          })));`),f.write(`newResult[${Wi(g)}] = ${b}.value`)}f.write("payload.value = newResult;"),f.write("return payload;");const v=f.compile();return(g,b)=>v(h,g,b)};let a;const o=Kg,s=!OT.jitless,c=s&&mY.value,u=t.catchall;let d;e._zod.parse=(h,f)=>{d??(d=n.value);const m=h.value;if(!o(m))return h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h;const y=[];if(s&&c&&(f==null?void 0:f.async)===!1&&f.jitless!==!0)a||(a=r(t.shape)),h=a(h,f);else{h.value={};const b=d.shape;for(const S of d.keys){const E=b[S],A=E._zod.run({value:m[S],issues:[]},f),N=E._zod.optin==="optional"&&E._zod.optout==="optional";A instanceof Promise?y.push(A.then(_=>N?T1(_,h,S,m):Cu(_,h,S))):N?T1(A,h,S,m):Cu(A,h,S)}}if(!u)return y.length?Promise.all(y).then(()=>h):h;const x=[],w=d.keySet,v=u._zod,g=v.def.type;for(const b of Object.keys(m)){if(w.has(b))continue;if(g==="never"){x.push(b);continue}const S=v.run({value:m[b],issues:[]},f);S instanceof Promise?y.push(S.then(E=>Cu(E,h,b))):Cu(S,h,b)}return x.length&&h.issues.push({code:"unrecognized_keys",keys:x,input:m,inst:e}),y.length?Promise.all(y).then(()=>h):h}});function R1(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Go(o,r,Uo())))}),t}const qq=q("$ZodUnion",(e,t)=>{nt.init(e,t),Be(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Be(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Be(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Be(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Gv(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const s of t.options){const i=s._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)o.push(i),a=!0;else{if(i.issues.length===0)return i;o.push(i)}}return a?Promise.all(o).then(s=>R1(s,n,e,r)):R1(o,n,e,r)}}),Xq=q("$ZodIntersection",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,u])=>M1(n,c,u)):M1(n,o,s)}});function Jg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Qg(e)&&Qg(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Jg(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Jg(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function M1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Al(e))return e;const r=Jg(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Wq=q("$ZodEnum",(e,t)=>{nt.init(e,t);const n=dY(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>pY.has(typeof r)).map(r=>typeof r=="string"?Nh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),Kq=q("$ZodTransform",(e,t)=>{nt.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new ac;return n.value=a,n}}),Qq=q("$ZodOptional",(e,t)=>{nt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Gv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),Jq=q("$ZodNullable",(e,t)=>{nt.init(e,t),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Gv(n.source)}|null)$`):void 0}),Be(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),eX=q("$ZodDefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>D1(o,t)):D1(a,t)}});function D1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const tX=q("$ZodPrefault",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),nX=q("$ZodNonOptional",(e,t)=>{nt.init(e,t),Be(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>z1(o,e)):z1(a,e)}});function z1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const rX=q("$ZodCatch",(e,t)=>{nt.init(e,t),e._zod.optin="optional",Be(e._zod,"optout",()=>t.innerType._zod.optout),Be(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Go(s,r,Uo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Go(o,r,Uo()))},input:n.value}),n.issues=[]),n)}}),aX=q("$ZodPipe",(e,t)=>{nt.init(e,t),Be(e._zod,"values",()=>t.in._zod.values),Be(e._zod,"optin",()=>t.in._zod.optin),Be(e._zod,"optout",()=>t.out._zod.optout),Be(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>O1(o,t,r)):O1(a,t,r)}});function O1(e,t,n){return Al(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const oX=q("$ZodReadonly",(e,t)=>{nt.init(e,t),Be(e._zod,"propValues",()=>t.innerType._zod.propValues),Be(e._zod,"values",()=>t.innerType._zod.values),Be(e._zod,"optin",()=>t.innerType._zod.optin),Be(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then($1):$1(a)}});function $1(e){return e.value=Object.freeze(e.value),e}const sX=q("$ZodCustom",(e,t)=>{on.init(e,t),nt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>L1(o,n,r,e));L1(a,n,r,e)}});function L1(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(oc(a))}}class iX{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function lX(){return new iX}const Au=lX();function cX(e,t){return new e({type:"string",...se(t)})}function uX(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...se(t)})}function P1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...se(t)})}function dX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...se(t)})}function fX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...se(t)})}function hX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...se(t)})}function mX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...se(t)})}function pX(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...se(t)})}function gX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...se(t)})}function yX(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...se(t)})}function vX(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...se(t)})}function xX(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...se(t)})}function bX(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...se(t)})}function wX(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...se(t)})}function SX(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...se(t)})}function NX(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...se(t)})}function EX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...se(t)})}function _X(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...se(t)})}function CX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...se(t)})}function AX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...se(t)})}function kX(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...se(t)})}function jX(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...se(t)})}function TX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...se(t)})}function RX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...se(t)})}function MX(e,t){return new e({type:"string",format:"date",check:"string_format",...se(t)})}function DX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...se(t)})}function zX(e,t){return new e({type:"string",format:"duration",check:"string_format",...se(t)})}function OX(e,t){return new e({type:"number",checks:[],...se(t)})}function $X(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...se(t)})}function LX(e,t){return new e({type:"boolean",...se(t)})}function PX(e){return new e({type:"unknown"})}function IX(e,t){return new e({type:"never",...se(t)})}function I1(e,t){return new YT({check:"less_than",...se(t),value:e,inclusive:!1})}function Vm(e,t){return new YT({check:"less_than",...se(t),value:e,inclusive:!0})}function B1(e,t){return new qT({check:"greater_than",...se(t),value:e,inclusive:!1})}function Zm(e,t){return new qT({check:"greater_than",...se(t),value:e,inclusive:!0})}function H1(e,t){return new rq({check:"multiple_of",...se(t),value:e})}function KT(e,t){return new oq({check:"max_length",...se(t),maximum:e})}function ff(e,t){return new sq({check:"min_length",...se(t),minimum:e})}function QT(e,t){return new iq({check:"length_equals",...se(t),length:e})}function BX(e,t){return new lq({check:"string_format",format:"regex",...se(t),pattern:e})}function HX(e){return new cq({check:"string_format",format:"lowercase",...se(e)})}function FX(e){return new uq({check:"string_format",format:"uppercase",...se(e)})}function UX(e,t){return new dq({check:"string_format",format:"includes",...se(t),includes:e})}function GX(e,t){return new fq({check:"string_format",format:"starts_with",...se(t),prefix:e})}function VX(e,t){return new hq({check:"string_format",format:"ends_with",...se(t),suffix:e})}function Pc(e){return new mq({check:"overwrite",tx:e})}function ZX(e){return Pc(t=>t.normalize(e))}function YX(){return Pc(e=>e.trim())}function qX(){return Pc(e=>e.toLowerCase())}function XX(){return Pc(e=>e.toUpperCase())}function WX(e,t,n){return new e({type:"array",element:t,...se(n)})}function KX(e,t,n){return new e({type:"custom",check:"custom",fn:t,...se(n)})}const QX=q("ZodISODateTime",(e,t)=>{kq.init(e,t),Ke.init(e,t)});function JX(e){return RX(QX,e)}const eW=q("ZodISODate",(e,t)=>{jq.init(e,t),Ke.init(e,t)});function tW(e){return MX(eW,e)}const nW=q("ZodISOTime",(e,t)=>{Tq.init(e,t),Ke.init(e,t)});function rW(e){return DX(nW,e)}const aW=q("ZodISODuration",(e,t)=>{Rq.init(e,t),Ke.init(e,t)});function oW(e){return zX(aW,e)}const sW=(e,t)=>{IT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>_Y(e,n)},flatten:{value:n=>EY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},_h=q("ZodError",sW,{Parent:Error}),iW=CY(_h),lW=AY(_h),cW=HT(_h),uW=FT(_h),ut=q("ZodType",(e,t)=>(nt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>ts(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>iW(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>cW(e,n,r),e.parseAsync=async(n,r)=>lW(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>uW(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(rK(n,r)),e.superRefine=n=>e.check(aK(n)),e.overwrite=n=>e.check(Pc(n)),e.optional=()=>V1(e),e.nullable=()=>Z1(e),e.nullish=()=>V1(Z1(e)),e.nonoptional=n=>XW(e,n),e.array=()=>Vo(e),e.or=n=>PW([e,n]),e.and=n=>BW(e,n),e.transform=n=>Y1(e,UW(n)),e.default=n=>ZW(e,n),e.prefault=n=>qW(e,n),e.catch=n=>KW(e,n),e.pipe=n=>Y1(e,n),e.readonly=()=>eK(e),e.describe=n=>{const r=e.clone();return Au.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Au.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Au.get(e);const r=e.clone();return Au.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),JT=q("_ZodString",(e,t)=>{qv.init(e,t),ut.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(BX(...r)),e.includes=(...r)=>e.check(UX(...r)),e.startsWith=(...r)=>e.check(GX(...r)),e.endsWith=(...r)=>e.check(VX(...r)),e.min=(...r)=>e.check(ff(...r)),e.max=(...r)=>e.check(KT(...r)),e.length=(...r)=>e.check(QT(...r)),e.nonempty=(...r)=>e.check(ff(1,...r)),e.lowercase=r=>e.check(HX(r)),e.uppercase=r=>e.check(FX(r)),e.trim=()=>e.check(YX()),e.normalize=(...r)=>e.check(ZX(...r)),e.toLowerCase=()=>e.check(qX()),e.toUpperCase=()=>e.check(XX())}),dW=q("ZodString",(e,t)=>{qv.init(e,t),JT.init(e,t),e.email=n=>e.check(uX(fW,n)),e.url=n=>e.check(pX(hW,n)),e.jwt=n=>e.check(TX(kW,n)),e.emoji=n=>e.check(gX(mW,n)),e.guid=n=>e.check(P1(F1,n)),e.uuid=n=>e.check(dX(ku,n)),e.uuidv4=n=>e.check(fX(ku,n)),e.uuidv6=n=>e.check(hX(ku,n)),e.uuidv7=n=>e.check(mX(ku,n)),e.nanoid=n=>e.check(yX(pW,n)),e.guid=n=>e.check(P1(F1,n)),e.cuid=n=>e.check(vX(gW,n)),e.cuid2=n=>e.check(xX(yW,n)),e.ulid=n=>e.check(bX(vW,n)),e.base64=n=>e.check(AX(_W,n)),e.base64url=n=>e.check(kX(CW,n)),e.xid=n=>e.check(wX(xW,n)),e.ksuid=n=>e.check(SX(bW,n)),e.ipv4=n=>e.check(NX(wW,n)),e.ipv6=n=>e.check(EX(SW,n)),e.cidrv4=n=>e.check(_X(NW,n)),e.cidrv6=n=>e.check(CX(EW,n)),e.e164=n=>e.check(jX(AW,n)),e.datetime=n=>e.check(JX(n)),e.date=n=>e.check(tW(n)),e.time=n=>e.check(rW(n)),e.duration=n=>e.check(oW(n))});function Gt(e){return cX(dW,e)}const Ke=q("ZodStringFormat",(e,t)=>{Ve.init(e,t),JT.init(e,t)}),fW=q("ZodEmail",(e,t)=>{xq.init(e,t),Ke.init(e,t)}),F1=q("ZodGUID",(e,t)=>{yq.init(e,t),Ke.init(e,t)}),ku=q("ZodUUID",(e,t)=>{vq.init(e,t),Ke.init(e,t)}),hW=q("ZodURL",(e,t)=>{bq.init(e,t),Ke.init(e,t)}),mW=q("ZodEmoji",(e,t)=>{wq.init(e,t),Ke.init(e,t)}),pW=q("ZodNanoID",(e,t)=>{Sq.init(e,t),Ke.init(e,t)}),gW=q("ZodCUID",(e,t)=>{Nq.init(e,t),Ke.init(e,t)}),yW=q("ZodCUID2",(e,t)=>{Eq.init(e,t),Ke.init(e,t)}),vW=q("ZodULID",(e,t)=>{_q.init(e,t),Ke.init(e,t)}),xW=q("ZodXID",(e,t)=>{Cq.init(e,t),Ke.init(e,t)}),bW=q("ZodKSUID",(e,t)=>{Aq.init(e,t),Ke.init(e,t)}),wW=q("ZodIPv4",(e,t)=>{Mq.init(e,t),Ke.init(e,t)}),SW=q("ZodIPv6",(e,t)=>{Dq.init(e,t),Ke.init(e,t)}),NW=q("ZodCIDRv4",(e,t)=>{zq.init(e,t),Ke.init(e,t)}),EW=q("ZodCIDRv6",(e,t)=>{Oq.init(e,t),Ke.init(e,t)}),_W=q("ZodBase64",(e,t)=>{$q.init(e,t),Ke.init(e,t)}),CW=q("ZodBase64URL",(e,t)=>{Pq.init(e,t),Ke.init(e,t)}),AW=q("ZodE164",(e,t)=>{Iq.init(e,t),Ke.init(e,t)}),kW=q("ZodJWT",(e,t)=>{Hq.init(e,t),Ke.init(e,t)}),eR=q("ZodNumber",(e,t)=>{WT.init(e,t),ut.init(e,t),e.gt=(r,a)=>e.check(B1(r,a)),e.gte=(r,a)=>e.check(Zm(r,a)),e.min=(r,a)=>e.check(Zm(r,a)),e.lt=(r,a)=>e.check(I1(r,a)),e.lte=(r,a)=>e.check(Vm(r,a)),e.max=(r,a)=>e.check(Vm(r,a)),e.int=r=>e.check(U1(r)),e.safe=r=>e.check(U1(r)),e.positive=r=>e.check(B1(0,r)),e.nonnegative=r=>e.check(Zm(0,r)),e.negative=r=>e.check(I1(0,r)),e.nonpositive=r=>e.check(Vm(0,r)),e.multipleOf=(r,a)=>e.check(H1(r,a)),e.step=(r,a)=>e.check(H1(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _o(e){return OX(eR,e)}const jW=q("ZodNumberFormat",(e,t)=>{Fq.init(e,t),eR.init(e,t)});function U1(e){return $X(jW,e)}const TW=q("ZodBoolean",(e,t)=>{Uq.init(e,t),ut.init(e,t)});function RW(e){return LX(TW,e)}const MW=q("ZodUnknown",(e,t)=>{Gq.init(e,t),ut.init(e,t)});function G1(){return PX(MW)}const DW=q("ZodNever",(e,t)=>{Vq.init(e,t),ut.init(e,t)});function zW(e){return IX(DW,e)}const OW=q("ZodArray",(e,t)=>{Zq.init(e,t),ut.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(ff(n,r)),e.nonempty=n=>e.check(ff(1,n)),e.max=(n,r)=>e.check(KT(n,r)),e.length=(n,r)=>e.check(QT(n,r)),e.unwrap=()=>e.element});function Vo(e,t){return WX(OW,e,t)}const $W=q("ZodObject",(e,t)=>{Yq.init(e,t),ut.init(e,t),Be(e,"shape",()=>t.shape),e.keyof=()=>HW(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:G1()}),e.loose=()=>e.clone({...e._zod.def,catchall:G1()}),e.strict=()=>e.clone({...e._zod.def,catchall:zW()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>bY(e,n),e.merge=n=>wY(e,n),e.pick=n=>vY(e,n),e.omit=n=>xY(e,n),e.partial=(...n)=>SY(tR,e,n[0]),e.required=(...n)=>NY(nR,e,n[0])});function ba(e,t){const n={type:"object",get shape(){return Vv(this,"shape",{...e}),this.shape},...se(t)};return new $W(n)}const LW=q("ZodUnion",(e,t)=>{qq.init(e,t),ut.init(e,t),e.options=t.options});function PW(e,t){return new LW({type:"union",options:e,...se(t)})}const IW=q("ZodIntersection",(e,t)=>{Xq.init(e,t),ut.init(e,t)});function BW(e,t){return new IW({type:"intersection",left:e,right:t})}const e0=q("ZodEnum",(e,t)=>{Wq.init(e,t),ut.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new e0({...t,checks:[],...se(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new e0({...t,checks:[],...se(a),entries:o})}});function HW(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new e0({type:"enum",entries:n,...se(t)})}const FW=q("ZodTransform",(e,t)=>{Kq.init(e,t),ut.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(oc(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(oc(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function UW(e){return new FW({type:"transform",transform:e})}const tR=q("ZodOptional",(e,t)=>{Qq.init(e,t),ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function V1(e){return new tR({type:"optional",innerType:e})}const GW=q("ZodNullable",(e,t)=>{Jq.init(e,t),ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Z1(e){return new GW({type:"nullable",innerType:e})}const VW=q("ZodDefault",(e,t)=>{eX.init(e,t),ut.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function ZW(e,t){return new VW({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const YW=q("ZodPrefault",(e,t)=>{tX.init(e,t),ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qW(e,t){return new YW({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const nR=q("ZodNonOptional",(e,t)=>{nX.init(e,t),ut.init(e,t),e.unwrap=()=>e._zod.def.innerType});function XW(e,t){return new nR({type:"nonoptional",innerType:e,...se(t)})}const WW=q("ZodCatch",(e,t)=>{rX.init(e,t),ut.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function KW(e,t){return new WW({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const QW=q("ZodPipe",(e,t)=>{aX.init(e,t),ut.init(e,t),e.in=t.in,e.out=t.out});function Y1(e,t){return new QW({type:"pipe",in:e,out:t})}const JW=q("ZodReadonly",(e,t)=>{oX.init(e,t),ut.init(e,t)});function eK(e){return new JW({type:"readonly",innerType:e})}const tK=q("ZodCustom",(e,t)=>{sX.init(e,t),ut.init(e,t)});function nK(e){const t=new on({check:"custom"});return t._zod.check=e,t}function rK(e,t={}){return KX(tK,e,t)}function aK(e){const t=nK(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(oc(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(oc(a))}},e(n.value,n)));return t}const oK=ba({type:Gt(),id:Gt()}),sK=ba({skill:Gt(),level:_o()}),iK=ba({skillLevel:sK.optional(),items:Vo(oK).optional()}),lK=ba({base:Gt(),subtext:Gt()}),cK=ba({rank:_o(),edid:Gt(),name:Gt(),description:lK,prerequisites:iK}),uK=ba({x:_o(),y:_o(),horizontal:_o(),vertical:_o()}),dK=ba({parents:Vo(Gt()),children:Vo(Gt())}),fK=ba({edid:Gt(),name:Gt(),ranks:Vo(cK),totalRanks:_o(),connections:dK,isRoot:RW(),position:uK}),rR=ba({treeId:Gt(),treeName:Gt(),treeDescription:Gt(),category:Gt(),perks:Vo(fK)});Vo(rR);const hK=e=>rR.parse(e);function mK(e){try{return{success:!0,data:hK(e)}}catch(t){return{success:!1,error:t}}}function pK(e){const t=new Set,n=[],r=(a,o)=>{if(t.has(a))return;t.add(a),o.push(e.find(i=>i.edid===a));const s=e.find(i=>i.edid===a);s.connection.children.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)}),s.connection.parents.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)})};return e.forEach(a=>{if(!t.has(a.edid)){const o=[];r(a.edid,o),n.push(o)}}),n}function gK(e,t){try{if(console.log("=== STARTING CLEAN HIERARCHICAL LAYOUT ==="),console.log(`Total perks to layout: ${e.length}`),e.length===0)return console.log("No perks to layout, returning empty array"),[];console.log("=== STEP 1: IDENTIFYING TREES ===");const n=pK(e);console.log(`Found ${n.length} trees:`,n.map(i=>i.map(c=>c.edid.split("_").pop()))),console.log("=== STEP 2: BUILDING HIERARCHY ===");const r=n.map(i=>yK(i));console.log("=== STEP 3: LAYOUTING TREES ===");const a=r.map((i,c)=>(console.log(`Layouting tree ${c+1} with ${i.nodes.size} nodes`),vK(i,t)));console.log("=== STEP 4: POSITIONING TREES AS SIBLINGS ===");const o=bK(a,t);console.log("=== STEP 5: APPLYING MILD FORCES ===");const s=aR(o,t);return console.log("Clean hierarchical layout completed"),console.log("Final positions:",s.map(i=>`${i.id}: (${i.x.toFixed(0)}, ${i.y.toFixed(0)})`)),s}catch(n){return console.error("Error in hierarchical layout algorithm:",n),e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function yK(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,c)=>{i.parents.length===0&&n.push(c)}),console.log(`  Tree has ${n.length} roots:`,n.map(i=>i.split("_").pop()));const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:c}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!a.has(d)&&r.push({id:d,depth:c+1})}))}console.log("  Second pass: Handling multi-parent nodes at different levels");let o=!0,s=0;for(;o&&s<10;)o=!1,s++,t.forEach((i,c)=>{if(i.parents.length>1){const u=i.parents.map(d=>{const h=t.get(d);return h?h.depth:-1}).filter(d=>d!==-1);if(u.length>0){const h=Math.min(...u)+1;i.depth!==h&&(console.log(`    ${c.split("_").pop()}: depth ${i.depth} -> ${h} (parents: ${i.parents.map(f=>f.split("_").pop()).join(", ")})`),i.depth=h,o=!0)}}});return console.log("  Third pass: Ensuring children are at higher depth than parents"),t.forEach((i,c)=>{i.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=i.depth){const h=i.depth+1;console.log(`    ${u.split("_").pop()}: depth ${d.depth} -> ${h} (child of ${c.split("_").pop()} at depth ${i.depth})`),d.depth=h}})}),s>=10&&console.log("  Warning: Depth calculation reached maximum iterations"),{nodes:t,roots:n}}function vK(e,t){const{nodes:n,roots:r}=e;console.log(`Layout single tree with ${n.size} nodes and ${r.length} roots`);const a=[];if(n.forEach((h,f)=>{a.push({id:f,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:h.children})}),a.some(h=>{try{const f=new Set,m=t0(h.id,n,t,f);return!1}catch{return console.log(`Circular reference detected in tree, will use original positions for ${h.id}`),!0}}))return console.log("Using original position data due to circular references"),console.log(`Tree has ${a.length} nodes, checking original positions...`),a.forEach(h=>{const f=n.get(h.id);if(f&&f.perk){const m=f.perk.position.x*t.gridScaleX,y=-f.perk.position.y*t.gridScaleY;console.log(`${h.id.split("_").pop()}: original pos (${f.perk.position.x}, ${f.perk.position.y}) -> scaled (${m.toFixed(0)}, ${y.toFixed(0)})`),h.x=m,h.y=y,h.originalX=m,h.originalY=y}else console.warn(`No original position data for node: ${h.id}`)}),xK(a,t),a;console.log("No circular references detected, using hierarchical layout");const s=a.filter(h=>!a.some(m=>{var y;return m.id!==h.id&&((y=m.children)==null?void 0:y.includes(h.id))}));console.log(`Found ${s.length} root nodes: ${s.map(h=>h.id.split("_").pop()).join(", ")}`),s.forEach(h=>{h.y=0,h.originalY=0});const i=new Set,c=s.map(h=>({node:h,depth:0}));for(;c.length>0;){const{node:h,depth:f}=c.shift();i.has(h.id)||(i.add(h.id),f>0&&(h.y=-f*t.verticalSpacing,h.originalY=h.y),h.children&&h.children.forEach(m=>{const y=a.find(x=>x.id===m);y&&!i.has(m)&&c.push({node:y,depth:f+1})}))}const u=new Map;return a.forEach(h=>{const f=Math.round(h.y/t.verticalSpacing);u.has(f)||u.set(f,[]),u.get(f).push(h)}),Array.from(u.keys()).sort((h,f)=>f-h).forEach(h=>{u.get(h).forEach(m=>{if(m.children){const y=new Map;m.children.forEach(x=>{const w=a.find(v=>v.id===x);if(w){const v=a.filter(g=>{var b;return((b=g.children)==null?void 0:b.includes(x))&&Math.abs(g.y-w.y)===t.verticalSpacing});v.length>0&&v.some(g=>g.id===m.id)&&(y.has(m.id)||y.set(m.id,[]),y.get(m.id).push(w))}}),y.forEach((x,w)=>{if(x.length>0){const v=a.find(g=>g.id===w);if(v){const g=x.map(N=>{const _=t0(N.id,n,t);return{child:N,subtreeWidth:_}}),b=g.reduce((N,{subtreeWidth:_})=>N+_,0),S=(x.length-1)*t.horizontalSpacing,E=b+S;let A=v.x-E/2;g.forEach(({child:N,subtreeWidth:_})=>{N.x=A+_/2,N.originalX=N.x,A+=_+t.horizontalSpacing})}}})}})}),aR(a,t),a}function aR(e,t){console.log("=== APPLYING MILD FORCES ===");const n=.03,r=.02,a=t.horizontalSpacing*.4,o=new Map;e.forEach(s=>{o.set(s.id,{x:s.x,y:s.y})});for(let s=0;s<5;s++){let i=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],h=e[u],f=d.x+t.nodeWidth*.5,m=d.y+t.nodeHeight*.5,y=h.x+t.nodeWidth*.5,x=h.y+t.nodeHeight*.5,w=y-f,v=x-m,g=Math.sqrt(w*w+v*v);if(g<a&&g>0){const b=w/g*n,S=v/g*n;d.x-=b,d.y-=S,h.x+=b,h.y+=S,i++,s===0&&console.log(`   Repulsion between ${d.id.split("_").pop()} and ${h.id.split("_").pop()}: force=(${b.toFixed(2)}, ${S.toFixed(2)})`)}}if(console.log(`  Iteration ${s+1}: Applied repulsion to ${i} node pairs`),i===0){console.log(`  No more repulsion needed after iteration ${s+1}`);break}}return console.log("=== APPLYING ATTRACTION WITH DEPTH CONSTRAINTS ==="),e.forEach(s=>{const i=o.get(s.id);if(!i)return;const c=i.x-s.x,u=i.y-s.y,d=s.x+c*r,h=s.y+u*r,m=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,y=Math.max(h,m);(Math.abs(y-s.y)>1||Math.abs(d-s.x)>1)&&console.log(`   Attraction for ${s.id.split("_").pop()}: x=${s.x.toFixed(0)}->${d.toFixed(0)}, y=${s.y.toFixed(0)}->${y.toFixed(0)} (depth constraint: ${m.toFixed(0)})`),s.x=d,s.y=y,s.originalX=d,s.originalY=y}),console.log("Mild forces completed"),e}function xK(e,t){console.log("=== APPLYING CIRCULAR TREE FORCES ===");const n=.08,r=.03,a=t.nodeHeight*.8,o=50,s=new Map;e.forEach(u=>{s.set(u.id,{x:u.x,y:u.y})}),console.log("=== PHASE 1: VERTICAL-ONLY REPULSION ===");let i=0,c=1;for(;c>0&&i<o;){i++,c=0;let u=0;for(let d=0;d<e.length;d++)for(let h=d+1;h<e.length;h++){const f=e[d],m=e[h],y=Math.max(0,Math.min(f.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(f.x,m.x)),x=Math.max(0,Math.min(f.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(f.y,m.y)),w=f.y+t.nodeHeight*.5,v=m.y+t.nodeHeight*.5,g=Math.abs(v-w),b=g<a;if(y>0&&x>0||b){c++;let S=0;y>0&&x>0?S=x*n:b&&(S=(a-g)*n),f.y<m.y?(f.y-=S,m.y+=S):(f.y+=S,m.y-=S),u=Math.max(u,S),i===1&&(y>0&&x>0?console.log(`   Vertical repulsion (overlap) between ${f.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${S.toFixed(2)}`):console.log(`   Vertical separation between ${f.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${S.toFixed(2)}`))}}if(console.log(`  Iteration ${i}: ${c} touching/close pairs, max force: ${u.toFixed(2)}`),c===0){console.log(`  No more touching or close nodes after iteration ${i}`);break}}return i>=o&&console.log(`  Warning: Reached maximum iterations (${o}) with ${c} still touching/close`),console.log("=== PHASE 2: VERTICAL ATTRACTION TO ORIGINAL POSITIONS ==="),e.forEach(u=>{const d=s.get(u.id);if(!d)return;const h=d.y-u.y,f=u.y+h*r;Math.abs(f-u.y)>1&&console.log(`   Vertical attraction for ${u.id.split("_").pop()}: y=${u.y.toFixed(0)}->${f.toFixed(0)}`),u.y=f,u.originalY=f}),console.log("Circular tree forces completed"),e}function bK(e,t){console.log(`Positioning ${e.length} trees as siblings`);const n=[],r=e.map((c,u)=>{const d=Math.max(...c.map(S=>S.y)),h=c.filter(S=>Math.abs(S.y-d)<1),f=h.map(S=>S.x),m=Math.min(...f),y=Math.max(...f),x=y-m,w=f.reduce((S,E)=>S+E,0)/f.length,v=Math.min(...c.map(S=>S.x)),g=Math.max(...c.map(S=>S.x+S.width)),b=g-v;return{treeIndex:u,treeNodes:c,rootNodes:h,minRootX:m,maxRootX:y,rootWidth:x,rootCenterX:w,minX:v,maxX:g,treeWidth:b}}),a=Math.min(...r.map(c=>c.minRootX)),o=Math.max(...r.map(c=>c.maxRootX)),s=o-a;console.log(`Overall root range: ${a.toFixed(0)} to ${o.toFixed(0)} (width: ${s.toFixed(0)})`);let i=0;return r.forEach((c,u)=>{console.log(`  Tree ${u+1}: root range ${c.minRootX.toFixed(0)}-${c.maxRootX.toFixed(0)}, tree width=${c.treeWidth.toFixed(0)}`),console.log(`    Root nodes: ${c.rootNodes.map(f=>f.id.split("_").pop()).join(", ")}`);const d=s>0?c.rootWidth/s:1,h=c.minRootX-a;i-c.minX+h*d,c.treeNodes.forEach(f=>{const y=(f.x-c.minRootX)*d,x=i+y;n.push({...f,x,originalX:x})}),i+=c.treeWidth*d+t.horizontalSpacing}),n}function t0(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const o=a.children||[],s=o.map(c=>t0(c,t,n,new Set(r)));if(s.length===0)return n.nodeWidth;let i=0;return s.forEach((c,u)=>{i+=c,u<o.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function wK(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const SK=(e,t)=>n=>l.jsx(uY,{...n,onTogglePerk:e,onRankChange:t}),NK=(e,t)=>({perkNode:SK(e,t)});function EK({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,o]=D.useState(null),s=D.useCallback((S,E)=>{console.log(` Node ${E.id} moved to: (${E.position.x.toFixed(0)}, ${E.position.y.toFixed(0)})`)},[]),i=p.useMemo(()=>{if(!e)return null;const S=mK(e);return S.success?S.data:(console.error("Invalid perk tree data:",S.error),null)},[e]),c=p.useMemo(()=>NK(t,n),[t,n]),u=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),d=p.useMemo(()=>{if(!i)return[];const S=wK(i);return gK(S,u)},[i,u]),h=p.useMemo(()=>!i||d.length===0?[]:i.perks.map(S=>{const E=S.edid,A=d.find(C=>C.id===E),N=A?{x:A.x,y:A.y}:{x:0,y:0},_=S.connections.children.length>0,j=S.connections.parents.length===0;return{id:E,type:"perkNode",position:N,draggable:!0,data:{...S,selected:!1,hasChildren:_,isRoot:j}}}),[i,d]),f=p.useMemo(()=>{if(!i)return[];const S=[];return i.perks.forEach(E=>{const A=E.edid;E.connections.children.length>0&&E.connections.children.forEach(N=>{if(N===A)return;i.perks.some(j=>j.edid===N)&&S.push({id:`${A}-${N}`,source:A,target:N,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),S},[i]),[m,y,x]=YZ(h),[w,v,g]=qZ(f);D.useEffect(()=>{y(h)},[h,y]),D.useEffect(()=>{i&&y(S=>S.map(E=>{const A=r.find(_=>_.edid===E.id),N=A!==void 0;return{...E,data:{...E.data,selected:N,currentRank:(A==null?void 0:A.currentRank)||0}}}))},[r,y,i]),D.useEffect(()=>{v(f)},[f,v]),D.useEffect(()=>{i&&m.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const b=p.useCallback(S=>v(E=>Wj(S,E)),[v]);return i?l.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},children:[l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),l.jsxs(RT,{nodes:m,edges:w,onNodesChange:x,onEdgesChange:g,onConnect:b,onInit:o,nodeTypes:c,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:s,children:[l.jsx(cY,{}),l.jsx(nY,{})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}const Ch=p.createContext(null);Ch.displayName="PanelGroupContext";const Je={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Xv=10,zo=p.useLayoutEffect,q1=f0.useId,_K=typeof q1=="function"?q1:()=>null;let CK=0;function Wv(e=null){const t=_K(),n=p.useRef(e||t||null);return n.current===null&&(n.current=""+CK++),e??n.current}function oR({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:s,maxSize:i,minSize:c,onCollapse:u,onExpand:d,onResize:h,order:f,style:m,tagName:y="div",...x}){const w=p.useContext(Ch);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:g,getPanelSize:b,getPanelStyle:S,groupId:E,isPanelCollapsed:A,reevaluatePanelConstraints:N,registerPanel:_,resizePanel:j,unregisterPanel:C}=w,R=Wv(s),B=p.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:h},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:c},id:R,idIsFromProps:s!==void 0,order:f});p.useRef({didLogMissingDefaultSizeWarning:!1}),zo(()=>{const{callbacks:k,constraints:M}=B.current,T={...M};B.current.id=R,B.current.idIsFromProps=s!==void 0,B.current.order=f,k.onCollapse=u,k.onExpand=d,k.onResize=h,M.collapsedSize=n,M.collapsible=r,M.defaultSize=a,M.maxSize=i,M.minSize=c,(T.collapsedSize!==M.collapsedSize||T.collapsible!==M.collapsible||T.maxSize!==M.maxSize||T.minSize!==M.minSize)&&N(B.current,T)}),zo(()=>{const k=B.current;return _(k),()=>{C(k)}},[f,R,_,C]),p.useImperativeHandle(o,()=>({collapse:()=>{v(B.current)},expand:k=>{g(B.current,k)},getId(){return R},getSize(){return b(B.current)},isCollapsed(){return A(B.current)},isExpanded(){return!A(B.current)},resize:k=>{j(B.current,k)}}),[v,g,b,A,R,j]);const L=S(B.current,a);return p.createElement(y,{...x,children:e,className:t,id:R,style:{...L,...m},[Je.groupId]:E,[Je.panel]:"",[Je.panelCollapsible]:r||void 0,[Je.panelId]:R,[Je.panelSize]:parseFloat(""+L.flexGrow).toFixed(1)})}const sR=p.forwardRef((e,t)=>p.createElement(oR,{...e,forwardedRef:t}));oR.displayName="Panel";sR.displayName="forwardRef(Panel)";let n0=null,ad=-1,Ia=null;function AK(e,t){if(t){const n=(t&dR)!==0,r=(t&fR)!==0,a=(t&hR)!==0,o=(t&mR)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function kK(){Ia!==null&&(document.head.removeChild(Ia),n0=null,Ia=null,ad=-1)}function Ym(e,t){var n,r;const a=AK(e,t);if(n0!==a){if(n0=a,Ia===null&&(Ia=document.createElement("style"),document.head.appendChild(Ia)),ad>=0){var o;(o=Ia.sheet)===null||o===void 0||o.removeRule(ad)}ad=(n=(r=Ia.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function iR(e){return e.type==="keydown"}function lR(e){return e.type.startsWith("pointer")}function cR(e){return e.type.startsWith("mouse")}function Ah(e){if(lR(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(cR(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function jK(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function TK(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function RK(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:K1(e),b:K1(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;pe(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:W1(X1(n.a)),b:W1(X1(n.b))};if(a.a===a.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=o.length;for(;i--;){const c=o[i];if(c===s.a)return 1;if(c===s.b)return-1}}return Math.sign(a.a-a.b)}const MK=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function DK(e){var t;const n=getComputedStyle((t=uR(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function zK(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||DK(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||MK.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function X1(e){let t=e.length;for(;t--;){const n=e[t];if(pe(n,"Missing node"),zK(n))return n}return null}function W1(e){return e&&Number(getComputedStyle(e).zIndex)||0}function K1(e){const t=[];for(;e;)t.push(e),e=uR(e);return t}function uR(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const dR=1,fR=2,hR=4,mR=8,OK=jK()==="coarse";let Qn=[],Xs=!1,Ba=new Map,kh=new Map;const sc=new Set;function $K(e,t,n,r,a){var o;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},c=(o=Ba.get(s))!==null&&o!==void 0?o:0;return Ba.set(s,c+1),sc.add(i),hf(),function(){var d;kh.delete(e),sc.delete(i);const h=(d=Ba.get(s))!==null&&d!==void 0?d:1;if(Ba.set(s,h-1),hf(),h===1&&Ba.delete(s),Qn.includes(i)){const f=Qn.indexOf(i);f>=0&&Qn.splice(f,1),Qv(),a("up",!0,null)}}}function LK(e){const{target:t}=e,{x:n,y:r}=Ah(e);Xs=!0,Kv({target:t,x:n,y:r}),hf(),Qn.length>0&&(mf("down",e),e.preventDefault(),pR(t)||e.stopImmediatePropagation())}function qm(e){const{x:t,y:n}=Ah(e);if(Xs&&e.buttons===0&&(Xs=!1,mf("up",e)),!Xs){const{target:r}=e;Kv({target:r,x:t,y:n})}mf("move",e),Qv(),Qn.length>0&&e.preventDefault()}function Xm(e){const{target:t}=e,{x:n,y:r}=Ah(e);kh.clear(),Xs=!1,Qn.length>0&&(e.preventDefault(),pR(t)||e.stopImmediatePropagation()),mf("up",e),Kv({target:t,x:n,y:r}),Qv(),hf()}function pR(e){let t=e;for(;t;){if(t.hasAttribute(Je.resizeHandle))return!0;t=t.parentElement}return!1}function Kv({target:e,x:t,y:n}){Qn.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),sc.forEach(a=>{const{element:o,hitAreaMargins:s}=a,i=o.getBoundingClientRect(),{bottom:c,left:u,right:d,top:h}=i,f=OK?s.coarse:s.fine;if(t>=u-f&&t<=d+f&&n>=h-f&&n<=c+f){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&RK(r,o)>0){let y=r,x=!1;for(;y&&!y.contains(o);){if(TK(y.getBoundingClientRect(),i)){x=!0;break}y=y.parentElement}if(x)return}Qn.push(a)}})}function Wm(e,t){kh.set(e,t)}function Qv(){let e=!1,t=!1;Qn.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;kh.forEach(r=>{n|=r}),e&&t?Ym("intersection",n):e?Ym("horizontal",n):t?Ym("vertical",n):kK()}let Km;function hf(){var e;(e=Km)===null||e===void 0||e.abort(),Km=new AbortController;const t={capture:!0,signal:Km.signal};sc.size&&(Xs?(Qn.length>0&&Ba.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Xm,t),a.addEventListener("pointerleave",qm,t),a.addEventListener("pointermove",qm,t))}),Ba.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Xm,t),a.addEventListener("pointercancel",Xm,t)})):Ba.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",LK,t),a.addEventListener("pointermove",qm,t))}))}function mf(e,t){sc.forEach(n=>{const{setResizeHandlerState:r}=n,a=Qn.includes(n);r(e,a,t)})}function PK(){const[e,t]=p.useState(0);return p.useCallback(()=>t(n=>n+1),[])}function pe(e,t){if(!e)throw console.error(t),Error(t)}function Zo(e,t,n=Xv){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Xr(e,t,n=Xv){return Zo(e,t,n)===0}function hn(e,t,n){return Zo(e,t,n)===0}function IK(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!hn(a,o,n))return!1}return!0}function Ds({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];pe(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:s=100,minSize:i=0}=r;if(Zo(n,i)<0)if(o){const c=(a+i)/2;Zo(n,c)<0?n=a:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(Xv)),n}function il({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(hn(e,0))return t;const s=[...t],[i,c]=r;pe(i!=null,"Invalid first pivot index"),pe(c!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const h=e<0?c:i,f=n[h];pe(f,`Panel constraints not found for index ${h}`);const{collapsedSize:m=0,collapsible:y,minSize:x=0}=f;if(y){const w=t[h];if(pe(w!=null,`Previous layout not found for panel index ${h}`),hn(w,m)){const v=x-w;Zo(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}{const h=e<0?i:c,f=n[h];pe(f,`No panel constraints found for index ${h}`);const{collapsedSize:m=0,collapsible:y,minSize:x=0}=f;if(y){const w=t[h];if(pe(w!=null,`Previous layout not found for panel index ${h}`),hn(w,x)){const v=w-m;Zo(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}}{const h=e<0?1:-1;let f=e<0?c:i,m=0;for(;;){const x=t[f];pe(x!=null,`Previous layout not found for panel index ${f}`);const v=Ds({panelConstraints:n,panelIndex:f,size:100})-x;if(m+=v,f+=h,f<0||f>=n.length)break}const y=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-y:y}{let f=e<0?i:c;for(;f>=0&&f<n.length;){const m=Math.abs(e)-Math.abs(u),y=t[f];pe(y!=null,`Previous layout not found for panel index ${f}`);const x=y-m,w=Ds({panelConstraints:n,panelIndex:f,size:x});if(!hn(y,w)&&(u+=y-w,s[f]=w,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if(IK(a,s))return a;{const h=e<0?c:i,f=t[h];pe(f!=null,`Previous layout not found for panel index ${h}`);const m=f+u,y=Ds({panelConstraints:n,panelIndex:h,size:m});if(s[h]=y,!hn(y,m)){let x=m-y,v=e<0?c:i;for(;v>=0&&v<n.length;){const g=s[v];pe(g!=null,`Previous layout not found for panel index ${v}`);const b=g+x,S=Ds({panelConstraints:n,panelIndex:v,size:b});if(hn(g,S)||(x-=S-g,s[v]=S),hn(x,0))break;e>0?v--:v++}}}const d=s.reduce((h,f)=>f+h,0);return hn(d,100)?s:a}function BK({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,s=0;const i=n[0];pe(i!=null,"No pivot index found"),t.forEach((h,f)=>{const{constraints:m}=h,{maxSize:y=100,minSize:x=0}=m;f===i?(r=x,a=y):(o+=x,s+=y)});const c=Math.min(a,100-o),u=Math.max(r,100-s),d=e[i];return{valueMax:c,valueMin:u,valueNow:d}}function ic(e,t=document){return Array.from(t.querySelectorAll(`[${Je.resizeHandleId}][data-panel-group-id="${e}"]`))}function gR(e,t,n=document){const a=ic(e,n).findIndex(o=>o.getAttribute(Je.resizeHandleId)===t);return a??null}function yR(e,t,n){const r=gR(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function HK(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function vR(e,t=document){if(HK(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function jh(e,t=document){const n=t.querySelector(`[${Je.resizeHandleId}="${e}"]`);return n||null}function FK(e,t,n,r=document){var a,o,s,i;const c=jh(t,r),u=ic(e,r),d=c?u.indexOf(c):-1,h=(a=(o=n[d])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,f=(s=(i=n[d+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[h,f]}function UK({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:s}){p.useRef({didWarnAboutMissingResizeHandle:!1}),zo(()=>{if(!o)return;const i=ic(n,o);for(let c=0;c<a.length-1;c++){const{valueMax:u,valueMin:d,valueNow:h}=BK({layout:r,panelsArray:a,pivotIndices:[c,c+1]}),f=i[c];if(f!=null){const m=a[c];pe(m,`No panel data found for index "${c}"`),f.setAttribute("aria-controls",m.id),f.setAttribute("aria-valuemax",""+Math.round(u)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",h!=null?""+Math.round(h):"")}}return()=>{i.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,a,o]),p.useEffect(()=>{if(!o)return;const i=t.current;pe(i,"Eager values not found");const{panelDataArray:c}=i,u=vR(n,o);pe(u!=null,`No group found for id "${n}"`);const d=ic(n,o);pe(d,`No resize handles found for group id "${n}"`);const h=d.map(f=>{const m=f.getAttribute(Je.resizeHandleId);pe(m,"Resize handle element has no handle id attribute");const[y,x]=FK(n,m,c,o);if(y==null||x==null)return()=>{};const w=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const g=c.findIndex(b=>b.id===y);if(g>=0){const b=c[g];pe(b,`No panel data found for index ${g}`);const S=r[g],{collapsedSize:E=0,collapsible:A,minSize:N=0}=b.constraints;if(S!=null&&A){const _=il({delta:hn(S,E)?N-E:E-S,initialLayout:r,panelConstraints:c.map(j=>j.constraints),pivotIndices:yR(n,m,o),prevLayout:r,trigger:"keyboard"});r!==_&&s(_)}}break}}};return f.addEventListener("keydown",w),()=>{f.removeEventListener("keydown",w)}});return()=>{h.forEach(f=>f())}},[o,e,t,n,r,a,s])}function Q1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function xR(e,t){const n=e==="horizontal",{x:r,y:a}=Ah(t);return n?r:a}function GK(e,t,n,r,a){const o=n==="horizontal",s=jh(t,a);pe(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute(Je.groupId);pe(i,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=xR(n,e),d=vR(i,a);pe(d,`No group element found for id "${i}"`);const h=d.getBoundingClientRect(),f=o?h.width:h.height;return(u-c)/f*100}function VK(e,t,n,r,a,o){if(iR(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:a!=null?i=a:i=10;let c=0;switch(e.key){case"ArrowDown":c=s?0:i;break;case"ArrowLeft":c=s?-i:0;break;case"ArrowRight":c=s?i:0;break;case"ArrowUp":c=s?0:-i;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:GK(e,t,n,r,o)}function ZK({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const s=n[o];pe(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;i!=null&&(r++,t[o]=i,a-=i)}for(let o=0;o<e.length;o++){const s=n[o];pe(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;if(i!=null)continue;const c=e.length-r,u=a/c;r++,t[o]=u,a-=u}return t}function hs(e,t,n){t.forEach((r,a)=>{const o=e[a];pe(o,`Panel data not found for index ${a}`);const{callbacks:s,constraints:i,id:c}=o,{collapsedSize:u=0,collapsible:d}=i,h=n[c];if(h==null||r!==h){n[c]=r;const{onCollapse:f,onExpand:m,onResize:y}=s;y&&y(r,h),d&&(f||m)&&(m&&(h==null||Xr(h,u))&&!Xr(r,u)&&m(),f&&(h==null||!Xr(h,u))&&Xr(r,u)&&f())}})}function ju(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function YK({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const s=n[a];let i;return s==null?i=e!=null?e.toPrecision(o):"1":r.length===1?i="1":i=s.toPrecision(o),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function qK(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function J1(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function bR(e){return`react-resizable-panels:${e}`}function wR(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function SR(e,t){try{const n=bR(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function XK(e,t,n){var r,a;const o=(r=SR(e,n))!==null&&r!==void 0?r:{},s=wR(t);return(a=o[s])!==null&&a!==void 0?a:null}function WK(e,t,n,r,a){var o;const s=bR(e),i=wR(t),c=(o=SR(e,a))!==null&&o!==void 0?o:{};c[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(s,JSON.stringify(c))}catch(u){console.error(u)}}function eS({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!hn(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const s=n[o];pe(s!=null,`No layout data found for index ${o}`);const i=100/r*s;n[o]=i}let a=0;for(let o=0;o<t.length;o++){const s=n[o];pe(s!=null,`No layout data found for index ${o}`);const i=Ds({panelConstraints:t,panelIndex:o,size:s});s!=i&&(a+=s-i,n[o]=i)}if(!hn(a,0))for(let o=0;o<t.length;o++){const s=n[o];pe(s!=null,`No layout data found for index ${o}`);const i=s+a,c=Ds({panelConstraints:t,panelIndex:o,size:i});if(s!==c&&(a-=c-s,n[o]=c,hn(a,0)))break}return n}const KK=100,ll={getItem:e=>(J1(ll),ll.getItem(e)),setItem:(e,t)=>{J1(ll),ll.setItem(e,t)}},tS={};function NR({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:s=null,keyboardResizeBy:i=null,storage:c=ll,style:u,tagName:d="div",...h}){const f=Wv(o),m=p.useRef(null),[y,x]=p.useState(null),[w,v]=p.useState([]),g=PK(),b=p.useRef({}),S=p.useRef(new Map),E=p.useRef(0),A=p.useRef({autoSaveId:e,direction:r,dragState:y,id:f,keyboardResizeBy:i,onLayout:s,storage:c}),N=p.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});p.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),p.useImperativeHandle(a,()=>({getId:()=>A.current.id,getLayout:()=>{const{layout:U}=N.current;return U},setLayout:U=>{const{onLayout:$}=A.current,{layout:H,panelDataArray:Z}=N.current,F=eS({layout:U,panelConstraints:Z.map(Y=>Y.constraints)});Q1(H,F)||(v(F),N.current.layout=F,$&&$(F),hs(Z,F,b.current))}}),[]),zo(()=>{A.current.autoSaveId=e,A.current.direction=r,A.current.dragState=y,A.current.id=f,A.current.onLayout=s,A.current.storage=c}),UK({committedValuesRef:A,eagerValuesRef:N,groupId:f,layout:w,panelDataArray:N.current.panelDataArray,setLayout:v,panelGroupElement:m.current}),p.useEffect(()=>{const{panelDataArray:U}=N.current;if(e){if(w.length===0||w.length!==U.length)return;let $=tS[e];$==null&&($=qK(WK,KK),tS[e]=$);const H=[...U],Z=new Map(S.current);$(e,H,Z,w,c)}},[e,w,c]),p.useEffect(()=>{});const _=p.useCallback(U=>{const{onLayout:$}=A.current,{layout:H,panelDataArray:Z}=N.current;if(U.constraints.collapsible){const F=Z.map(he=>he.constraints),{collapsedSize:Y=0,panelSize:W,pivotIndices:Q}=po(Z,U,H);if(pe(W!=null,`Panel size not found for panel "${U.id}"`),!Xr(W,Y)){S.current.set(U.id,W);const me=xs(Z,U)===Z.length-1?W-Y:Y-W,ue=il({delta:me,initialLayout:H,panelConstraints:F,pivotIndices:Q,prevLayout:H,trigger:"imperative-api"});ju(H,ue)||(v(ue),N.current.layout=ue,$&&$(ue),hs(Z,ue,b.current))}}},[]),j=p.useCallback((U,$)=>{const{onLayout:H}=A.current,{layout:Z,panelDataArray:F}=N.current;if(U.constraints.collapsible){const Y=F.map(ee=>ee.constraints),{collapsedSize:W=0,panelSize:Q=0,minSize:he=0,pivotIndices:me}=po(F,U,Z),ue=$??he;if(Xr(Q,W)){const ee=S.current.get(U.id),Te=ee!=null&&ee>=ue?ee:ue,Ne=xs(F,U)===F.length-1?Q-Te:Te-Q,J=il({delta:Ne,initialLayout:Z,panelConstraints:Y,pivotIndices:me,prevLayout:Z,trigger:"imperative-api"});ju(Z,J)||(v(J),N.current.layout=J,H&&H(J),hs(F,J,b.current))}}},[]),C=p.useCallback(U=>{const{layout:$,panelDataArray:H}=N.current,{panelSize:Z}=po(H,U,$);return pe(Z!=null,`Panel size not found for panel "${U.id}"`),Z},[]),R=p.useCallback((U,$)=>{const{panelDataArray:H}=N.current,Z=xs(H,U);return YK({defaultSize:$,dragState:y,layout:w,panelData:H,panelIndex:Z})},[y,w]),B=p.useCallback(U=>{const{layout:$,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:F,panelSize:Y}=po(H,U,$);return pe(Y!=null,`Panel size not found for panel "${U.id}"`),F===!0&&Xr(Y,Z)},[]),L=p.useCallback(U=>{const{layout:$,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:F,panelSize:Y}=po(H,U,$);return pe(Y!=null,`Panel size not found for panel "${U.id}"`),!F||Zo(Y,Z)>0},[]),k=p.useCallback(U=>{const{panelDataArray:$}=N.current;$.push(U),$.sort((H,Z)=>{const F=H.order,Y=Z.order;return F==null&&Y==null?0:F==null?-1:Y==null?1:F-Y}),N.current.panelDataArrayChanged=!0,g()},[g]);zo(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:$,storage:H}=A.current,{layout:Z,panelDataArray:F}=N.current;let Y=null;if(U){const Q=XK(U,F,H);Q&&(S.current=new Map(Object.entries(Q.expandToSizes)),Y=Q.layout)}Y==null&&(Y=ZK({panelDataArray:F}));const W=eS({layout:Y,panelConstraints:F.map(Q=>Q.constraints)});Q1(Z,W)||(v(W),N.current.layout=W,$&&$(W),hs(F,W,b.current))}}),zo(()=>{const U=N.current;return()=>{U.layout=[]}},[]);const M=p.useCallback(U=>{let $=!1;const H=m.current;return H&&window.getComputedStyle(H,null).getPropertyValue("direction")==="rtl"&&($=!0),function(F){F.preventDefault();const Y=m.current;if(!Y)return()=>null;const{direction:W,dragState:Q,id:he,keyboardResizeBy:me,onLayout:ue}=A.current,{layout:ee,panelDataArray:Te}=N.current,{initialLayout:ot}=Q??{},Ne=yR(he,U,Y);let J=VK(F,U,W,Q,me,Y);const Ze=W==="horizontal";Ze&&$&&(J=-J);const zt=Te.map(Xt=>Xt.constraints),qt=il({delta:J,initialLayout:ot??ee,panelConstraints:zt,pivotIndices:Ne,prevLayout:ee,trigger:iR(F)?"keyboard":"mouse-or-touch"}),Gn=!ju(ee,qt);(lR(F)||cR(F))&&E.current!=J&&(E.current=J,!Gn&&J!==0?Ze?Wm(U,J<0?dR:fR):Wm(U,J<0?hR:mR):Wm(U,0)),Gn&&(v(qt),N.current.layout=qt,ue&&ue(qt),hs(Te,qt,b.current))}},[]),T=p.useCallback((U,$)=>{const{onLayout:H}=A.current,{layout:Z,panelDataArray:F}=N.current,Y=F.map(ee=>ee.constraints),{panelSize:W,pivotIndices:Q}=po(F,U,Z);pe(W!=null,`Panel size not found for panel "${U.id}"`);const me=xs(F,U)===F.length-1?W-$:$-W,ue=il({delta:me,initialLayout:Z,panelConstraints:Y,pivotIndices:Q,prevLayout:Z,trigger:"imperative-api"});ju(Z,ue)||(v(ue),N.current.layout=ue,H&&H(ue),hs(F,ue,b.current))},[]),I=p.useCallback((U,$)=>{const{layout:H,panelDataArray:Z}=N.current,{collapsedSize:F=0,collapsible:Y}=$,{collapsedSize:W=0,collapsible:Q,maxSize:he=100,minSize:me=0}=U.constraints,{panelSize:ue}=po(Z,U,H);ue!=null&&(Y&&Q&&Xr(ue,F)?Xr(F,W)||T(U,W):ue<me?T(U,me):ue>he&&T(U,he))},[T]),O=p.useCallback((U,$)=>{const{direction:H}=A.current,{layout:Z}=N.current;if(!m.current)return;const F=jh(U,m.current);pe(F,`Drag handle element not found for id "${U}"`);const Y=xR(H,$);x({dragHandleId:U,dragHandleRect:F.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:Z})},[]),z=p.useCallback(()=>{x(null)},[]),P=p.useCallback(U=>{const{panelDataArray:$}=N.current,H=xs($,U);H>=0&&($.splice(H,1),delete b.current[U.id],N.current.panelDataArrayChanged=!0,g())},[g]),G=p.useMemo(()=>({collapsePanel:_,direction:r,dragState:y,expandPanel:j,getPanelSize:C,getPanelStyle:R,groupId:f,isPanelCollapsed:B,isPanelExpanded:L,reevaluatePanelConstraints:I,registerPanel:k,registerResizeHandle:M,resizePanel:T,startDragging:O,stopDragging:z,unregisterPanel:P,panelGroupElement:m.current}),[_,y,r,j,C,R,f,B,L,I,k,M,T,O,z,P]),V={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return p.createElement(Ch.Provider,{value:G},p.createElement(d,{...h,children:t,className:n,id:o,ref:m,style:{...V,...u},[Je.group]:"",[Je.groupDirection]:r,[Je.groupId]:f}))}const ER=p.forwardRef((e,t)=>p.createElement(NR,{...e,forwardedRef:t}));NR.displayName="PanelGroup";ER.displayName="forwardRef(PanelGroup)";function xs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function po(e,t,n){const r=xs(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function QK({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){p.useEffect(()=>{if(e||n==null||r==null)return;const a=jh(t,r);if(a==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=a.getAttribute(Je.groupId);pe(i,`No group element found for id "${i}"`);const c=ic(i,r),u=gR(i,t,r);pe(u!==null,`No resize element found for id "${t}"`);const d=s.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function _R({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:s,onDragging:i,onFocus:c,onPointerDown:u,onPointerUp:d,style:h={},tabIndex:f=0,tagName:m="div",...y}){var x,w;const v=p.useRef(null),g=p.useRef({onClick:s,onDragging:i,onPointerDown:u,onPointerUp:d});p.useEffect(()=>{g.current.onClick=s,g.current.onDragging=i,g.current.onPointerDown=u,g.current.onPointerUp=d});const b=p.useContext(Ch);if(b===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:S,groupId:E,registerResizeHandle:A,startDragging:N,stopDragging:_,panelGroupElement:j}=b,C=Wv(a),[R,B]=p.useState("inactive"),[L,k]=p.useState(!1),[M,T]=p.useState(null),I=p.useRef({state:R});zo(()=>{I.current.state=R}),p.useEffect(()=>{if(n)T(null);else{const G=A(C);T(()=>G)}},[n,C,A]);const O=(x=r==null?void 0:r.coarse)!==null&&x!==void 0?x:15,z=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;p.useEffect(()=>{if(n||M==null)return;const G=v.current;pe(G,"Element ref not attached");let V=!1;return $K(C,G,S,{coarse:O,fine:z},($,H,Z)=>{if(!H){B("inactive");return}switch($){case"down":{B("drag"),V=!1,pe(Z,'Expected event to be defined for "down" action'),N(C,Z);const{onDragging:F,onPointerDown:Y}=g.current;F==null||F(!0),Y==null||Y();break}case"move":{const{state:F}=I.current;V=!0,F!=="drag"&&B("hover"),pe(Z,'Expected event to be defined for "move" action'),M(Z);break}case"up":{B("hover"),_();const{onClick:F,onDragging:Y,onPointerUp:W}=g.current;Y==null||Y(!1),W==null||W(),V||F==null||F();break}}})},[O,S,n,z,A,C,M,N,_]),QK({disabled:n,handleId:C,resizeHandler:M,panelGroupElement:j});const P={touchAction:"none",userSelect:"none"};return p.createElement(m,{...y,children:e,className:t,id:a,onBlur:()=>{k(!1),o==null||o()},onFocus:()=>{k(!0),c==null||c()},ref:v,role:"separator",style:{...P,...h},tabIndex:f,[Je.groupDirection]:S,[Je.groupId]:E,[Je.resizeHandle]:"",[Je.resizeHandleActive]:R==="drag"?"pointer":L?"keyboard":void 0,[Je.resizeHandleEnabled]:!n,[Je.resizeHandleId]:C,[Je.resizeHandleState]:R})}_R.displayName="PanelResizeHandle";function JK({className:e,...t}){return l.jsx(ER,{"data-slot":"resizable-panel-group",className:K("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function nS({...e}){return l.jsx(sR,{"data-slot":"resizable-panel",...e})}function eQ({withHandle:e,className:t,...n}){return l.jsx(_R,{"data-slot":"resizable-handle",className:K("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&l.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:l.jsx(az,{className:"size-2.5"})})})}function tQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const c=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!c.ok)throw new Error("Failed to load perk trees data");const d=(await c.json()).map(h=>({...h,perks:h.perks.map(f=>({...f,currentRank:0,selected:!1}))}));t(d)}catch(c){o(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(c=>c.treeId===i),loading:n,error:a}}function nQ(e){const[t,n]=p.useState({selectedPerks:{},minLevels:{},totalPerks:0}),r=(u,d=new Set)=>{var m;if(!e||d.has(u))return[];d.add(u);const h=e.perks.find(y=>y.perkId===u);if(!h||!((m=h.prerequisites)!=null&&m.perks))return[];const f=[];return h.prerequisites.perks.forEach(y=>{if(y.type==="PERK"&&e.perks.some(w=>w.perkId===y.id)){f.push(y.id);const w=r(y.id,d);f.push(...w)}}),[...new Set(f)]},a=(u,d=new Set)=>{if(!e||d.has(u))return[];d.add(u);const h=[];return e.perks.forEach(f=>{var m,y;if((y=(m=f.prerequisites)==null?void 0:m.perks)!=null&&y.some(x=>x.type==="PERK"&&x.id===u)){h.push(f.perkId);const x=a(f.perkId,d);h.push(...x)}}),[...new Set(h)]},o=p.useCallback(u=>{e&&(console.log(`togglePerk called for ${u} in tree ${e.treeName}`),n(d=>{var x,w;const h=e.treeName,f=d.selectedPerks[h]||[],m=f.findIndex(v=>v.perkId===u),y=e.perks.find(v=>v.perkId===u);if(!y)return d;if(m>=0){const v=f[m];if(y.ranks>1){const b=((v.currentRank||0)+1)%(y.ranks+1);if(b===0)if(((w=(x=y.prerequisites)==null?void 0:x.perks)==null?void 0:w.some(E=>E.type==="PERK"&&E.id!==u&&f.some(A=>A.perkId===E.id)))||!1){const E=[...f];return E[m]={...v,currentRank:0},console.log(`Cycling ${y.perkName} to rank 0 (kept due to other parents)`),{...d,selectedPerks:{...d.selectedPerks,[h]:E}}}else{const E=a(u),A=new Set([u,...E]),N=f.filter(j=>A.has(j.perkId)),_=f.filter(j=>!A.has(j.perkId));return console.log(`Cycling to rank 0, removing ${N.length} perks:`,N.map(j=>j.perkName)),{...d,selectedPerks:{...d.selectedPerks,[h]:_},totalPerks:d.totalPerks-N.length}}else{const S=[...f];return S[m]={...v,currentRank:b},console.log(`Cycling ${y.perkName} to rank ${b}`),{...d,selectedPerks:{...d.selectedPerks,[h]:S}}}}else{const g=a(u),b=new Set([u,...g]),S=f.filter(A=>b.has(A.perkId)),E=f.filter(A=>!b.has(A.perkId));return console.log(`Removing ${S.length} perks:`,S.map(A=>A.perkName)),{...d,selectedPerks:{...d.selectedPerks,[h]:E},totalPerks:d.totalPerks-S.length}}}else{const v=r(u),g=new Set([u,...v]),b=Array.from(g).map(j=>e.perks.find(C=>C.perkId===j)).filter(j=>j!==void 0).map(j=>{const C=f.find(R=>R.perkId===j.perkId);if(C)return{...j,selected:!0,currentRank:C.currentRank||0};{const R=j.perkId===u||j.ranks>1&&g.has(j.perkId);return{...j,selected:!0,currentRank:R&&j.ranks>1?1:0}}}),S=new Set(f.map(j=>j.perkId)),E=b.filter(j=>S.has(j.perkId)),A=b.filter(j=>!S.has(j.perkId)),_=[...f.map(j=>{const C=E.find(R=>R.perkId===j.perkId);return C?{...j,...C}:j}),...A];return console.log(`Adding ${A.length} new perks and updating ${E.length} existing perks:`,A.map(j=>j.perkName)),{...d,selectedPerks:{...d.selectedPerks,[h]:_},totalPerks:d.totalPerks+A.length}}}))},[e]),s=p.useCallback((u,d)=>{e&&n(h=>{const f=e.treeName,m=h.selectedPerks[f]||[],y=m.findIndex(w=>w.perkId===u),x=e.perks.find(w=>w.perkId===u);if(!x)return h;if(y>=0){const w=[...m],v=x.ranks>1?Math.max(0,Math.min(d,x.ranks)):0;return w[y]={...w[y],currentRank:v},console.log(`Updated ${x.perkName} rank to ${v}`),{...h,selectedPerks:{...h.selectedPerks,[f]:w}}}else return console.log(`Attempted to update rank for unselected perk: ${x.perkName}`),h})},[e]),i=p.useCallback(()=>{e&&n(u=>{const d=e.treeName,h=u.selectedPerks[d]||[],f={...u.selectedPerks};return delete f[d],{...u,selectedPerks:f,totalPerks:u.totalPerks-h.length}})},[e]),c=p.useCallback(()=>{n({selectedPerks:{},minLevels:{},totalPerks:0})},[]);return{perkPlan:t,togglePerk:o,updatePerkRank:s,clearSkill:i,clearAll:c}}function rQ(){const{perkTrees:e,loading:t,error:n}=tQ(),[r,a]=p.useState(null),o=e.find(y=>y.treeId===r),{perkPlan:s,togglePerk:i,updatePerkRank:c,clearSkill:u,clearAll:d}=nQ(o||void 0),h=o?s.selectedPerks[o.treeName]||[]:[],f=p.useMemo(()=>[{id:"skills",name:"Skills",placeholder:"Search skills...",options:e.map(x=>{const w=s.selectedPerks[x.treeName]||[];return{id:x.treeId,label:x.treeName,value:x.treeId,category:"skills",description:`${w.length} perks selected  ${x.treeDescription}`}})}],[e,s.selectedPerks]),m=y=>{a(y.value)};return D.useEffect(()=>{!r&&e.length>0&&a(e[0].treeId)},[r,e]),t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading perk trees..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perk Planner"}),l.jsx("p",{className:"text-muted-foreground",children:"Plan your character's perk progression through skill trees"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Skill Selection"}),l.jsx(Qo,{categories:f,onSelect:m,placeholder:"Search for a skill...",className:"max-w-md"})]}),l.jsxs(JK,{direction:"vertical",className:"min-h-[800px]",children:[l.jsx(nS,{defaultSize:100,children:l.jsxs(Nt,{className:"h-full",children:[l.jsx(Et,{children:l.jsx(Mt,{children:o?o.treeName:"Select a Skill"})}),l.jsx(gt,{className:"h-full p-0",children:l.jsx(EK,{tree:o,onTogglePerk:i,onRankChange:c,selectedPerks:h})})]})}),l.jsx(eQ,{withHandle:!0}),l.jsx(nS,{defaultSize:0})]}),l.jsxs(Nt,{children:[l.jsx(Et,{children:l.jsx(Mt,{children:"Summary"})}),l.jsx(gt,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Total Perks:"}),l.jsx("span",{className:"text-lg font-bold",children:s.totalPerks})]}),o&&l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:[o.treeName,":"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.length," perks selected"]})]}),l.jsx(ae,{size:"sm",variant:"outline",onClick:u,children:"Clear"})]}),l.jsx("div",{className:"flex justify-center items-center",children:l.jsx(ae,{size:"sm",variant:"outline",onClick:d,className:"w-full",children:"Clear All"})})]})})]})]})}function aQ({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),f(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var B;return R.label.toLowerCase().includes(u.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),f(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),f(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),f(-1))},E=C=>{C.key==="ArrowDown"?(C.preventDefault(),f(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),f(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),h>=0&&w[h]?b(w[h]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),f(-1))},A=()=>{s(!0)},N=i||x,_=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:E,className:"pl-10 pr-20"}),j&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Jn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:vt.AUTOCOMPLETE+10},children:[_&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[l.jsx("span",{children:C.name}),l.jsx(ct,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center gap-2 transition-all duration-200 cursor-pointer",children:[l.jsx(Jn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${R===h?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function oQ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="keywords"),o=e.filter(s=>s.id!=="keywords");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(aQ,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Qo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function CR({raceName:e,size:t="md",className:n}){return l.jsx(ik,{entityName:e,entityType:"race",size:t,className:n})}function r0({item:e,originalRace:t,isExpanded:n=!1,onToggle:r,className:a,showToggle:o=!0}){var s;return l.jsxs(dv,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[o&&l.jsx(ih,{children:l.jsx(Ty,{itemId:(t==null?void 0:t.edid)||e.id,itemType:"race",itemName:e.name})}),l.jsxs(lh,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(CR,{raceName:e.name,size:"md"}),l.jsx(Hf,{className:"text-primary font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.category&&l.jsx(Ae,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(ch,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx($t,{className:"text-sm text-muted-foreground",children:e.summary||e.description})}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(s=e.effects)==null?void 0:s.slice(0,2).map((i,c)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:i.description,children:[l.jsx($n,{className:"h-3 w-3 text-yellow-500"}),l.jsx("span",{className:"font-medium",children:i.name})]},c))})]})}),l.jsx(uh,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx($t,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(t==null?void 0:t.startingStats)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Stats"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(t.startingStats).map(([i,c])=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($n,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"font-medium capitalize",children:i})]}),l.jsxs("span",{className:"font-bold text-green-600",children:["+",c]})]},i))})]}),e.effects&&e.effects.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),l.jsx("div",{className:"space-y-3",children:e.effects.map((i,c)=>l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx($n,{className:"h-4 w-4 text-yellow-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx($t,{className:"font-medium text-sm mb-1",children:i.name}),l.jsx($t,{className:"text-sm text-muted-foreground",children:i.description})]})]})},c))})]})]})})]})}function sQ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(c=>c.name),skills:i.skillBonuses.map(c=>c.skill),keywords:i.keywords.map(c=>c.edid),originalRace:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new xa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:p.useMemo(()=>o.map(i=>i.item.originalRace),[o]),searchResults:o,searchableRaces:n}}const AR={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function kR(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function jR(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function TR(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function RR(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=AR[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function MR(e){const t=e.racialSpells.map(r=>({name:r.name,type:kR(r.name,r.description),description:r.description,value:jR(r.description),target:TR(r.description)})),n=RR(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.category}}function iQ(e){const t=e.racialSpells.map(r=>({name:r.name,type:kR(r.name,r.description),description:r.description,value:jR(r.description),target:TR(r.description)})),n=RR(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function a0(e){return AR[e]||e}function lQ(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=a0(r.edid);t.add(a)})}),Array.from(t).sort()}function cQ(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function uQ(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function dQ(){const e=ar(),{build:t}=Fn(),[n,r]=p.useState([]),[a,o]=p.useState(!0),[s,i]=p.useState(null),[c,u]=p.useState(new Set),[d,h]=p.useState("grid");p.useEffect(()=>{async function N(){try{o(!0);const _=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!_.ok)throw new Error("Failed to fetch race data");const j=await _.json();r(j.races)}catch(_){i("Failed to load race data"),console.error("Error loading races:",_)}finally{o(!1)}}N()},[]);const m=(()=>{const N=[...new Set(n.flatMap(C=>C.keywords.map(R=>R.edid)))],_=[...new Set(n.flatMap(C=>C.skillBonuses.map(R=>R.skill)))],j=[...new Set(n.map(C=>C.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:N.map(C=>({id:`keyword-${C}`,label:C,value:C,category:"Fuzzy Search",description:`Races with ${C} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:_.map(C=>({id:`skill-${C}`,label:C,value:C,category:"Skill Bonuses",description:`Races with ${C} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:j.map(C=>({id:`category-${C}`,label:C,value:C,category:"Race Categories",description:`${C} races`}))}]})(),[y,x]=p.useState([]),w=N=>{let _;typeof N=="string"?_={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:_={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},y.some(j=>j.value===_.value&&j.category===_.category)||x(j=>[...j,_])},v=N=>{x(_=>_.filter(j=>j.id!==N))},g=n.filter(N=>y.length===0?!0:y.every(_=>{switch(_.category){case"Fuzzy Search":return!0;case"Race Categories":return N.category===_.value;case"Skill Bonuses":return N.skillBonuses.some(j=>j.skill===_.value);case"Keywords":return N.keywords.some(j=>j.edid===_.value);default:return!0}})),b=y.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRaces:S}=sQ(g,b),E=S.map(N=>MR(N)),A=N=>{const _=new Set(c);if(d==="grid"){const C=E.findIndex(M=>M.id===N),B=Math.floor(C/3)*3,L=Math.min(B+3,E.length);E.slice(B,L).some(M=>_.has(M.id))?E.slice(B,L).forEach(M=>{_.delete(M.id)}):E.slice(B,L).forEach(M=>{_.add(M.id)})}else _.has(N)?_.delete(N):_.add(N);u(_)};return a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs(ae,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[l.jsx(F4,{className:"h-4 w-4"}),"Back to Build"]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(oQ,{categories:m,onSelect:w,onCustomSearch:w})}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>h("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Cc,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>h("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(_c,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:y.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>x([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(wn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),y.map(N=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(N.id),title:"Click to remove",children:[N.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),d==="grid"?l.jsx(nv,{columns:3,gap:"md",className:"w-full",children:E.map(N=>{const _=n.find(R=>R.edid.toLowerCase().replace("race","")===N.id),j=c.has(N.id),C=t.race===(_==null?void 0:_.edid);return l.jsx(r0,{item:N,originalRace:_,isExpanded:j,onToggle:()=>A(N.id),className:K("w-full",C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full",children:E.map(N=>{const _=n.find(R=>R.edid.toLowerCase().replace("race","")===N.id),j=c.has(N.id),C=t.race===(_==null?void 0:_.edid);return l.jsx(r0,{item:N,originalRace:_,isExpanded:j,onToggle:()=>A(N.id),className:K("w-full",C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function fQ({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),f(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var B;return R.label.toLowerCase().includes(u.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),f(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),f(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),f(-1))},E=C=>{C.key==="ArrowDown"?(C.preventDefault(),f(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),f(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),h>=0&&w[h]?b(w[h]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),f(-1))},A=()=>{s(!0)},N=i||x,_=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:E,className:"pl-10 pr-20"}),j&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Jn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:vt.AUTOCOMPLETE},children:[_&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(ct,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Jn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===h?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function hQ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(fQ,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Qo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function Qm({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return l.jsx("div",{className:t,children:r.map((a,o)=>{if(a.startsWith("<")&&a.endsWith(">")){const s=a.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:s},o)}return a})})}function mQ({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return l.jsx($t,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function Jm({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const o=a.split(/(<[^>]+>)/g);return l.jsx($t,{className:"text-xs text-muted-foreground",children:o.map((s,i)=>{if(s.startsWith("<")&&s.endsWith(">")){const c=s.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},i)}return s})})}function ep(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function tp(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(o=>o.test(e)),a=n.some(o=>o.test(e));return{hasMagnitude:r,hasDuration:a}}const pQ={Restoration:l.jsx(m_,{className:"h-4 w-4 text-green-500"}),Destruction:l.jsx(ng,{className:"h-4 w-4 text-red-500"}),Alteration:l.jsx(La,{className:"h-4 w-4 text-blue-500"}),Illusion:l.jsx(Tb,{className:"h-4 w-4 text-purple-500"}),Conjuration:l.jsx(_l,{className:"h-4 w-4 text-purple-500"}),Enchanting:l.jsx(El,{className:"h-4 w-4 text-blue-500"}),Alchemy:l.jsx(h_,{className:"h-4 w-4 text-green-500"}),"Light Armor":l.jsx(La,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":l.jsx(La,{className:"h-4 w-4 text-gray-500"}),"One-Handed":l.jsx(rg,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":l.jsx(rg,{className:"h-4 w-4 text-red-500"}),Archery:l.jsx(x_,{className:"h-4 w-4 text-green-500"}),Block:l.jsx(La,{className:"h-4 w-4 text-yellow-500"}),Smithing:l.jsx(La,{className:"h-4 w-4 text-gray-500"}),Speechcraft:l.jsx(Tb,{className:"h-4 w-4 text-blue-500"}),Sneak:l.jsx(Vu,{className:"h-4 w-4 text-purple-500"}),Lockpicking:l.jsx($d,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:l.jsx($d,{className:"h-4 w-4 text-purple-500"})},gQ={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},rS={sm:"text-xs px-2 py-0.5"};function aS({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:o=!0,showTenets:s=!0,showBoons:i=!0,showFavoredRaces:c=!0}){var h,f,m;const u=y=>{switch(y){case"positive":return l.jsx(Jn,{className:"h-4 w-4 text-green-500"});case"negative":return l.jsx(Db,{className:"h-4 w-4 text-red-500"});case"neutral":return l.jsx(Fs,{className:"h-4 w-4 text-blue-500"})}},d=y=>pQ[y]||l.jsx($n,{className:"h-4 w-4 text-skyrim-gold"});return l.jsxs(dv,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[l.jsx(ih,{children:l.jsx(Ty,{itemId:e.id,itemType:"religion",itemName:e.name})}),l.jsxs(lh,{children:[l.jsx("div",{className:"flex-1",children:l.jsx(Hf,{className:"text-primary font-semibold",children:e.name})}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.category&&l.jsx(Ae,{variant:"outline",className:K(gQ[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",rS.sm,"font-medium transition-colors"),children:e.category}),(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((y,x)=>l.jsxs(Ae,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",rS.sm,"font-medium transition-colors"),children:[l.jsx($n,{className:"h-3 w-3 mr-1"}),"Favors ",y]},x))}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx($n,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(ch,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx(Qm,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(h=e.effects)==null?void 0:h.slice(0,2).map((y,x)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:y.description,children:[u(y.type),l.jsx("span",{className:"font-medium",children:y.name})]},x)),(f=t==null?void 0:t.favoredRaces)==null?void 0:f.slice(0,2).map((y,x)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[l.jsx($n,{className:"h-3 w-3 text-skyrim-gold"}),l.jsx("span",{className:"font-medium",children:y})]},`race-${x}`))]})]})}),l.jsx(uh,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(Qm,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((y,x)=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[l.jsx($n,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"text-sm font-medium",children:y})]},x))})]}),(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),l.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((y,x)=>l.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Db,{className:"h-4 w-4 text-red-500 mt-0.5"}),l.jsx(Qm,{text:y,className:"text-sm text-muted-foreground"})]})},x))})]}),o&&(t==null?void 0:t.blessing)&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),l.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(y=>y.effectType!=="1"&&y.effectType!=="3").map((y,x)=>{const{hasDuration:w}=tp(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx($t,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Jm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs($t,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",ep(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},x)})})]}),s&&((m=t==null?void 0:t.tenet)==null?void 0:m.effects)&&t.tenet.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((y,x)=>y.effectDescription.split(".").filter(v=>v.trim().length>0).map((v,g)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.targetAttribute&&d(y.targetAttribute)]}),l.jsx("div",{className:"flex-1",children:l.jsx(mQ,{description:v.trim()+"."})})]},`${x}-${g}`)))})]}),i&&((t==null?void 0:t.boon1)||(t==null?void 0:t.boon2))&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),l.jsxs("div",{className:"space-y-4",children:[(t==null?void 0:t.boon1)&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((y,x)=>{const{hasDuration:w}=tp(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx($t,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Jm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs($t,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",ep(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},x)})})]}),(t==null?void 0:t.boon2)&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((y,x)=>{const{hasDuration:w}=tp(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx($t,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Jm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs($t,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",ep(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},x)})})]})]})]})]})})]})}function yQ(e,t){const n=p.useMemo(()=>e.map(i=>{var c,u,d,h,f,m,y,x,w;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((c=i.tenet)==null?void 0:c.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((d=(u=i.tenet)==null?void 0:u.effects)==null?void 0:d.map(v=>`${v.effectName} ${v.effectDescription}`))||[],blessingEffects:((f=(h=i.blessing)==null?void 0:h.effects)==null?void 0:f.map(v=>`${v.effectName} ${v.effectDescription}`))||[],followerPowers:((y=(m=i.boon1)==null?void 0:m.effects)==null?void 0:y.map(v=>`${v.effectName} ${v.effectDescription}`))||[],devoteePowers:((w=(x=i.boon2)==null?void 0:x.effects)==null?void 0:w.map(v=>`${v.effectName} ${v.effectDescription}`))||[],originalReligion:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new xa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:p.useMemo(()=>o.map(i=>i.item.originalReligion),[o]),searchResults:o,searchableReligions:n}}function vQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(new Set),[c,u]=p.useState("alphabetical"),[d,h]=p.useState("grid"),[f,m]=p.useState(!0),[y,x]=p.useState(!0),[w,v]=p.useState(!0),[g,b]=p.useState(!0);p.useEffect(()=>{async function P(){try{r(!0);const G=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!G.ok)throw new Error("Failed to fetch religion data");const U=(await G.json()).flatMap($=>$.deities.map(H=>({...H,pantheon:$.type})));t(U)}catch(G){o("Failed to load religion data"),console.error("Error loading religions:",G)}finally{r(!1)}}P()},[]);const S=e.map(P=>{var G,V,U,$,H,Z;return{id:`religion-${P.name.toLowerCase().replace(/\s+/g,"-")}`,name:P.name,description:((G=P.tenet)==null?void 0:G.description)||"",tags:P.favoredRaces||[],summary:((V=P.tenet)==null?void 0:V.description)||"",effects:[...(($=(U=P.tenet)==null?void 0:U.effects)==null?void 0:$.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[],...((Z=(H=P.blessing)==null?void 0:H.effects)==null?void 0:Z.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:P.type}}),A=(()=>{const P=[...new Set(e.map(V=>V.type))],G=[...new Set(S.flatMap(V=>V.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:P.map(V=>({id:`pantheon-${V}`,label:V,value:V,category:"Pantheons",description:`Religions from ${V} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:G.map(V=>({id:`race-${V}`,label:V,value:V,category:"Favored Races",description:`Religions that favor ${V}`}))}]})(),[N,_]=p.useState([]),j=P=>{let G;typeof P=="string"?G={id:`custom-${P}`,label:P,value:P,category:"Fuzzy Search"}:G={id:`${P.category}-${P.id}`,label:P.label,value:P.value,category:P.category},N.some(V=>V.value===G.value&&V.category===G.category)||_(V=>[...V,G])},C=P=>{_(G=>G.filter(V=>V.id!==P))},R=e.filter(P=>N.length===0?!0:N.every(G=>{switch(G.category){case"Fuzzy Search":return!0;case"Pantheons":return P.type===G.value;case"Favored Races":return P.favoredRaces.some(V=>V===G.value);default:return!0}})),B=N.filter(P=>P.category==="Fuzzy Search").map(P=>P.value).join(" "),{filteredReligions:L}=yQ(R,B),M=[...L.map(P=>{var G,V,U,$,H,Z;return{id:`religion-${P.name.toLowerCase().replace(/\s+/g,"-")}`,name:P.name,description:((G=P.tenet)==null?void 0:G.description)||"",tags:P.favoredRaces||[],summary:((V=P.tenet)==null?void 0:V.description)||"",effects:[...(($=(U=P.tenet)==null?void 0:U.effects)==null?void 0:$.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[],...((Z=(H=P.blessing)==null?void 0:H.effects)==null?void 0:Z.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:P.type}})].sort((P,G)=>{switch(c){case"alphabetical":return P.name.localeCompare(G.name);case"divine-type":const V=H=>{switch(H){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},U=V(P.category),$=V(G.category);return U!==$?U-$:P.name.localeCompare(G.name);default:return 0}}),T=P=>{const G=new Set(s);if(d==="grid"){const U=M.findIndex(Y=>Y.id===P),H=Math.floor(U/3)*3,Z=Math.min(H+3,M.length);M.slice(H,Z).some(Y=>G.has(Y.id))?M.slice(H,Z).forEach(Y=>{G.delete(Y.id)}):M.slice(H,Z).forEach(Y=>{G.add(Y.id)})}else G.has(P)?G.delete(P):G.add(P);i(G)},I=()=>{const P=M.map(G=>G.id);i(new Set(P))},O=()=>{i(new Set)},z=M.length>0&&M.every(P=>s.has(P.id));return M.some(P=>s.has(P.id)),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(hQ,{categories:A,onSelect:j,onCustomSearch:j})}),l.jsxs(ev,{children:[l.jsx(tv,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(ct,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":"Type"]})}),l.jsxs(Kf,{align:"end",children:[l.jsx(oa,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(oa,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>h("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Cc,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>h("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(_c,{className:"h-4 w-4"})})]}),l.jsx(ae,{variant:"outline",size:"sm",onClick:z?O:I,className:"flex items-center justify-center",title:z?"Collapse all accordions":"Expand all accordions",children:z?l.jsx(g_,{className:"h-4 w-4"}):l.jsx(p_,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:N.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>_([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(wn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map(P=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>C(P.id),title:"Click to remove",children:[P.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},P.id))]})}),M.length>0&&l.jsxs(AI,{children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(qr,{checked:f&&y&&w&&g,onCheckedChange:P=>{m(P),x(P),v(P),b(P)}}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs(lI,{columns:4,children:[l.jsx(du,{title:"Blessings",description:"Deity blessings and effects",checked:f,onCheckedChange:m}),l.jsx(du,{title:"Tenets",description:"Religious tenets and rules",checked:y,onCheckedChange:x}),l.jsx(du,{title:"Boons",description:"Follower and devotee powers",checked:w,onCheckedChange:v}),l.jsx(du,{title:"Favored Races",description:"Races favored by this deity",checked:g,onCheckedChange:b})]})]}),d==="grid"?l.jsx(nv,{columns:3,gap:"md",className:"w-full mt-6",children:M.map(P=>{const G=e.find(U=>{const $=P.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===$}),V=s.has(P.id);return l.jsx(aS,{item:P,originalReligion:G,isExpanded:V,onToggle:()=>T(P.id),className:"w-full",showBlessings:f,showTenets:y,showBoons:w,showFavoredRaces:g},P.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:M.map(P=>{const G=e.find(U=>{const $=P.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===$}),V=s.has(P.id);return l.jsx(aS,{item:P,originalReligion:G,isExpanded:V,onToggle:()=>T(P.id),className:"w-full",showBlessings:f,showTenets:y,showBoons:w,showFavoredRaces:g},P.id)})}),M.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function xQ({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),f(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var B;return R.label.toLowerCase().includes(u.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),f(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),f(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),f(-1))},E=C=>{C.key==="ArrowDown"?(C.preventDefault(),f(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),f(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),h>=0&&w[h]?b(w[h]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),f(-1))},A=()=>{s(!0)},N=i||x,_=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:E,className:"pl-10 pr-20"}),j&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Jn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:vt.AUTOCOMPLETE},children:[_&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(ct,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Jn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===h?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function bQ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(xQ,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Qo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function wQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const DR=D.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Ic=()=>{const e=D.useContext(DR);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};wQ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function SQ(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function NQ(){return Jv(/^Mac/)}function EQ(){return Jv(/^iPhone/)}function oS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function _Q(){return Jv(/^iPad/)||NQ()&&navigator.maxTouchPoints>1}function zR(){return EQ()||_Q()}function Jv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const CQ=24,AQ=typeof window<"u"?p.useLayoutEffect:p.useEffect;function sS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const np=typeof document<"u"&&window.visualViewport;function iS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function OR(e){for(iS(e)&&(e=e.parentElement);e&&!iS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const kQ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Tu=0,rp;function jQ(e={}){let{isDisabled:t}=e;AQ(()=>{if(!t)return Tu++,Tu===1&&zR()&&(rp=TQ()),()=>{Tu--,Tu===0&&(rp==null||rp())}},[t])}function TQ(){let e,t=0,n=h=>{e=OR(h.target),!(e===document.documentElement&&e===document.body)&&(t=h.changedTouches[0].pageY)},r=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let f=h.changedTouches[0].pageY,m=e.scrollTop,y=e.scrollHeight-e.clientHeight;y!==0&&((m<=0&&f>t||m>=y&&f<t)&&h.preventDefault(),t=f)},a=h=>{let f=h.target;o0(f)&&f!==document.activeElement&&(h.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},o=h=>{let f=h.target;o0(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",np&&(np.height<window.innerHeight?requestAnimationFrame(()=>{lS(f)}):np.addEventListener("resize",()=>lS(f),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},i=window.pageXOffset,c=window.pageYOffset,u=sS(RQ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=sS(Ki(document,"touchstart",n,{passive:!1,capture:!0}),Ki(document,"touchmove",r,{passive:!1,capture:!0}),Ki(document,"touchend",a,{passive:!1,capture:!0}),Ki(document,"focus",o,!0),Ki(window,"scroll",s));return()=>{u(),d(),window.scrollTo(i,c)}}function RQ(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Ki(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function lS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=OR(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+CQ;o>s&&(n.scrollTop+=a-r)}e=n.parentElement}}function o0(e){return e instanceof HTMLInputElement&&!kQ.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function MQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function DQ(...e){return t=>e.forEach(n=>MQ(n,t))}function $R(...e){return p.useCallback(DQ(...e),e)}const LR=new WeakMap;function ft(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&LR.set(e,r)}function zQ(e,t){if(!e||!(e instanceof HTMLElement))return;let n=LR.get(e);n&&(e.style[t]=n[t])}const st=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ru(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[st(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[st(t)?5:4]):null)}function OQ(e){return 8*(Math.log(e+1)-2)}function ap(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function $Q(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const qe={DURATION:.5,EASE:[.32,.72,0,1]},PR=.4,LQ=.25,PQ=100,IR=8,go=16,s0=26,op="vaul-dragging";function BR(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function IQ({defaultProp:e,onChange:t}){const n=D.useState(e),[r]=n,a=D.useRef(r),o=BR(t);return D.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function HR({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=IQ({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,i=BR(n),c=D.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&i(h)}else a(u)},[o,e,a,i]);return[s,c]}function BQ({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:s,direction:i="bottom",container:c,snapToSequentialPoint:u}){const[d,h]=HR({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[f,m]=D.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);D.useEffect(()=>{function N(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const y=D.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),x=D.useMemo(()=>{var N;return(N=n==null?void 0:n.findIndex(_=>_===d))!=null?N:null},[n,d]),w=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===d||!n,v=D.useMemo(()=>{const N=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var _;return(_=n==null?void 0:n.map(j=>{const C=typeof j=="string";let R=0;if(C&&(R=parseInt(j,10)),st(i)){const L=C?R:f?j*N.height:0;return f?i==="bottom"?N.height-L:-N.height+L:L}const B=C?R:f?j*N.width:0;return f?i==="right"?N.width-B:-N.width+B:B}))!=null?_:[]},[n,f,c]),g=D.useMemo(()=>x!==null?v==null?void 0:v[x]:null,[v,x]),b=D.useCallback(N=>{var _;const j=(_=v==null?void 0:v.findIndex(C=>C===N))!=null?_:null;s(j),ft(r.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:st(i)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),v&&j!==v.length-1&&o!==void 0&&j!==o&&j<o?ft(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"0"}):ft(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),h(n==null?void 0:n[Math.max(j,0)])},[r.current,n,v,o,a,h]);D.useEffect(()=>{if(d||e){var N;const _=(N=n==null?void 0:n.findIndex(j=>j===e||j===d))!=null?N:-1;v&&_!==-1&&typeof v[_]=="number"&&b(v[_])}},[d,e,n,v,b]);function S({draggedDistance:N,closeDrawer:_,velocity:j,dismissible:C}){if(o===void 0)return;const R=i==="bottom"||i==="right"?(g??0)-N:(g??0)+N,B=x===o-1,L=x===0,k=N>0;if(B&&ft(a.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),!u&&j>2&&!k){C?_():b(v[0]);return}if(!u&&j>2&&k&&v&&n){b(v[n.length-1]);return}const M=v==null?void 0:v.reduce((I,O)=>typeof I!="number"||typeof O!="number"?I:Math.abs(O-R)<Math.abs(I-R)?O:I),T=st(i)?window.innerHeight:window.innerWidth;if(j>PR&&Math.abs(N)<T*.4){const I=k?1:-1;if(I>0&&y&&n){b(v[n.length-1]);return}if(L&&I<0&&C&&_(),x===null)return;b(v[x+I]);return}b(M)}function E({draggedDistance:N}){if(g===null)return;const _=i==="bottom"||i==="right"?g-N:g+N;(i==="bottom"||i==="right")&&_<v[v.length-1]||(i==="top"||i==="left")&&_>v[v.length-1]||ft(r.current,{transform:st(i)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function A(N,_){if(!n||typeof x!="number"||!v||o===void 0)return null;const j=x===o-1;if(x>=o&&_)return 0;if(j&&!_)return 1;if(!w&&!j)return null;const R=j?x+1:x-1,B=j?v[R]-v[R-1]:v[R+1]-v[R],L=N/Math.abs(B);return j?1-L:L}return{isLastSnapPoint:y,activeSnapPoint:d,shouldFade:w,getPercentageDragged:A,setActiveSnapPoint:h,activeSnapPointIndex:x,onRelease:S,onDrag:E,snapPointsOffset:v}}const HQ=()=>()=>{};function FQ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=Ic(),o=D.useRef(null),s=p.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-s0)/window.innerWidth}D.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;$Q(r&&!a?ap(document.body,{background:"black"}):HQ,ap(c,{transformOrigin:st(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`}));const u=ap(c,{borderRadius:`${IR}px`,overflow:"hidden",...st(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},qe.DURATION*1e3)}}},[t,n,s])}let Qi=null;function UQ({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[s,i]=D.useState(()=>typeof window<"u"?window.location.href:""),c=D.useRef(0),u=D.useCallback(()=>{if(oS()&&Qi===null&&e&&!o){Qi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=f-window.innerHeight;m&&c.current>=f&&(document.body.style.top=`${-(c.current+m)}px`)}),300)}},[e]),d=D.useCallback(()=>{if(oS()&&Qi!==null&&!o){const h=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Qi),window.requestAnimationFrame(()=>{if(a&&s!==window.location.href){i(window.location.href);return}window.scrollTo(f,h)}),Qi=null}},[s]);return D.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),D.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[t,d]),D.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{d()},500)):d())},[e,r,s,t,n,u,d]),{restorePositionSetting:d}}function GQ({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:o,shouldScaleBackground:s=!1,setBackgroundColorOnScale:i=!0,closeThreshold:c=LQ,scrollLockTimeout:u=PQ,dismissible:d=!0,handleOnly:h=!1,fadeFromIndex:f=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:y,fixed:x,modal:w=!0,onClose:v,nested:g,noBodyStyles:b=!1,direction:S="bottom",defaultOpen:E=!1,disablePreventScroll:A=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:_=!1,repositionInputs:j=!0,onAnimationEnd:C,container:R,autoFocus:B=!1}){var L,k;const[M=!1,T]=HR({defaultProp:E,prop:e,onChange:ie=>{t==null||t(ie),!ie&&!g&&Pr(),setTimeout(()=>{C==null||C(ie)},qe.DURATION*1e3),ie&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ie||(document.body.style.pointerEvents="auto")}}),[I,O]=D.useState(!1),[z,P]=D.useState(!1),[G,V]=D.useState(!1),U=D.useRef(null),$=D.useRef(null),H=D.useRef(null),Z=D.useRef(null),F=D.useRef(null),Y=D.useRef(!1),W=D.useRef(null),Q=D.useRef(0),he=D.useRef(!1),me=D.useRef(!E),ue=D.useRef(0),ee=D.useRef(null),Te=D.useRef(((L=ee.current)==null?void 0:L.getBoundingClientRect().height)||0),ot=D.useRef(((k=ee.current)==null?void 0:k.getBoundingClientRect().width)||0),Ne=D.useRef(0),J=D.useCallback(ie=>{o&&ie===Xt.length-1&&($.current=new Date)},[]),{activeSnapPoint:Ze,activeSnapPointIndex:zt,setActiveSnapPoint:qt,onRelease:Gn,snapPointsOffset:Xt,onDrag:Vn,shouldFade:$r,getPercentageDragged:Lr}=BQ({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:y,drawerRef:ee,fadeFromIndex:f,overlayRef:U,onSnapPointChange:J,direction:S,container:R,snapToSequentialPoint:N});jQ({isDisabled:!M||z||!w||G||!I||!j||!A});const{restorePositionSetting:Pr}=UQ({isOpen:M,modal:w,nested:g??!1,hasBeenOpened:I,preventScrollRestoration:_,noBodyStyles:b});function Zn(){return(window.innerWidth-s0)/window.innerWidth}function wa(ie){var Ee,Re;!d&&!o||ee.current&&!ee.current.contains(ie.target)||(Te.current=((Ee=ee.current)==null?void 0:Ee.getBoundingClientRect().height)||0,ot.current=((Re=ee.current)==null?void 0:Re.getBoundingClientRect().width)||0,P(!0),H.current=new Date,zR()&&window.addEventListener("touchend",()=>Y.current=!1,{once:!0}),ie.target.setPointerCapture(ie.pointerId),Q.current=st(S)?ie.pageY:ie.pageX)}function Sa(ie,Ee){var Re;let _e=ie;const De=(Re=window.getSelection())==null?void 0:Re.toString(),Ot=ee.current?Ru(ee.current,S):null,kt=new Date;if(_e.tagName==="SELECT"||_e.hasAttribute("data-vaul-no-drag")||_e.closest("[data-vaul-no-drag]"))return!1;if(S==="right"||S==="left")return!0;if($.current&&kt.getTime()-$.current.getTime()<500)return!1;if(Ot!==null&&(S==="bottom"?Ot>0:Ot<0))return!0;if(De&&De.length>0)return!1;if(F.current&&kt.getTime()-F.current.getTime()<u&&Ot===0||Ee)return F.current=kt,!1;for(;_e;){if(_e.scrollHeight>_e.clientHeight){if(_e.scrollTop!==0)return F.current=new Date,!1;if(_e.getAttribute("role")==="dialog")return!0}_e=_e.parentNode}return!0}function xt(ie){if(ee.current&&z){const Ee=S==="bottom"||S==="right"?1:-1,Re=(Q.current-(st(S)?ie.pageY:ie.pageX))*Ee,_e=Re>0,De=o&&!d&&!_e;if(De&&zt===0)return;const Ot=Math.abs(Re),kt=document.querySelector("[data-vaul-drawer-wrapper]"),cr=S==="bottom"||S==="top"?Te.current:ot.current;let sn=Ot/cr;const Hr=Lr(Ot,_e);if(Hr!==null&&(sn=Hr),De&&sn>=1||!Y.current&&!Sa(ie.target,_e))return;if(ee.current.classList.add(op),Y.current=!0,ft(ee.current,{transition:"none"}),ft(U.current,{transition:"none"}),o&&Vn({draggedDistance:Re}),_e&&!o){const kn=OQ(Re),ns=Math.min(kn*-1,0)*Ee;ft(ee.current,{transform:st(S)?`translate3d(0, ${ns}px, 0)`:`translate3d(${ns}px, 0, 0)`});return}const ur=1-sn;if(($r||f&&zt===f-1)&&(r==null||r(ie,sn),ft(U.current,{opacity:`${ur}`,transition:"none"},!0)),kt&&U.current&&s){const kn=Math.min(Zn()+sn*(1-Zn()),1),ns=8-sn*8,Bc=Math.max(0,14-sn*14);ft(kt,{borderRadius:`${ns}px`,transform:st(S)?`scale(${kn}) translate3d(0, ${Bc}px, 0)`:`scale(${kn}) translate3d(${Bc}px, 0, 0)`,transition:"none"},!0)}if(!o){const kn=Ot*Ee;ft(ee.current,{transform:st(S)?`translate3d(0, ${kn}px, 0)`:`translate3d(${kn}px, 0, 0)`})}}}D.useEffect(()=>{window.requestAnimationFrame(()=>{me.current=!0})},[]),D.useEffect(()=>{var ie;function Ee(){if(!ee.current||!j)return;const Re=document.activeElement;if(o0(Re)||he.current){var _e;const De=((_e=window.visualViewport)==null?void 0:_e.height)||0,Ot=window.innerHeight;let kt=Ot-De;const cr=ee.current.getBoundingClientRect().height||0,sn=cr>Ot*.8;Ne.current||(Ne.current=cr);const Hr=ee.current.getBoundingClientRect().top;if(Math.abs(ue.current-kt)>60&&(he.current=!he.current),o&&o.length>0&&Xt&&zt){const ur=Xt[zt]||0;kt+=ur}if(ue.current=kt,cr>De||he.current){const ur=ee.current.getBoundingClientRect().height;let kn=ur;ur>De&&(kn=De-(sn?Hr:s0)),x?ee.current.style.height=`${ur-Math.max(kt,0)}px`:ee.current.style.height=`${Math.max(kn,De-Hr)}px`}else SQ()||(ee.current.style.height=`${Ne.current}px`);o&&o.length>0&&!he.current?ee.current.style.bottom="0px":ee.current.style.bottom=`${Math.max(kt,0)}px`}}return(ie=window.visualViewport)==null||ie.addEventListener("resize",Ee),()=>{var Re;return(Re=window.visualViewport)==null?void 0:Re.removeEventListener("resize",Ee)}},[zt,o,Xt]);function At(ie){Ir(),v==null||v(),ie||T(!1),setTimeout(()=>{o&&qt(o[0])},qe.DURATION*1e3)}function lr(){if(!ee.current)return;const ie=document.querySelector("[data-vaul-drawer-wrapper]"),Ee=Ru(ee.current,S);ft(ee.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`}),ft(U.current,{transition:`opacity ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,opacity:"1"}),s&&Ee&&Ee>0&&M&&ft(ie,{borderRadius:`${IR}px`,overflow:"hidden",...st(S)?{transform:`scale(${Zn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Zn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${qe.DURATION}s`,transitionTimingFunction:`cubic-bezier(${qe.EASE.join(",")})`},!0)}function Ir(){!z||!ee.current||(ee.current.classList.remove(op),Y.current=!1,P(!1),Z.current=new Date)}function Br(ie){if(!z||!ee.current)return;ee.current.classList.remove(op),Y.current=!1,P(!1),Z.current=new Date;const Ee=Ru(ee.current,S);if(!ie||!Sa(ie.target,!1)||!Ee||Number.isNaN(Ee)||H.current===null)return;const Re=Z.current.getTime()-H.current.getTime(),_e=Q.current-(st(S)?ie.pageY:ie.pageX),De=Math.abs(_e)/Re;if(De>.05&&(V(!0),setTimeout(()=>{V(!1)},200)),o){Gn({draggedDistance:_e*(S==="bottom"||S==="right"?1:-1),closeDrawer:At,velocity:De,dismissible:d}),a==null||a(ie,!0);return}if(S==="bottom"||S==="right"?_e>0:_e<0){lr(),a==null||a(ie,!0);return}if(De>PR){At(),a==null||a(ie,!1);return}var Ot;const kt=Math.min((Ot=ee.current.getBoundingClientRect().height)!=null?Ot:0,window.innerHeight);var cr;const sn=Math.min((cr=ee.current.getBoundingClientRect().width)!=null?cr:0,window.innerWidth),Hr=S==="left"||S==="right";if(Math.abs(Ee)>=(Hr?sn:kt)*c){At(),a==null||a(ie,!1);return}a==null||a(ie,!0),lr()}D.useEffect(()=>(M&&(ft(document.documentElement,{scrollBehavior:"auto"}),$.current=new Date),()=>{zQ(document.documentElement,"scrollBehavior")}),[M]);function Yn(ie){const Ee=ie?(window.innerWidth-go)/window.innerWidth:1,Re=ie?-go:0;W.current&&window.clearTimeout(W.current),ft(ee.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:st(S)?`scale(${Ee}) translate3d(0, ${Re}px, 0)`:`scale(${Ee}) translate3d(${Re}px, 0, 0)`}),!ie&&ee.current&&(W.current=setTimeout(()=>{const _e=Ru(ee.current,S);ft(ee.current,{transition:"none",transform:st(S)?`translate3d(0, ${_e}px, 0)`:`translate3d(${_e}px, 0, 0)`})},500))}function An(ie,Ee){if(Ee<0)return;const Re=(window.innerWidth-go)/window.innerWidth,_e=Re+Ee*(1-Re),De=-go+Ee*go;ft(ee.current,{transform:st(S)?`scale(${_e}) translate3d(0, ${De}px, 0)`:`scale(${_e}) translate3d(${De}px, 0, 0)`,transition:"none"})}function fo(ie,Ee){const Re=st(S)?window.innerHeight:window.innerWidth,_e=Ee?(Re-go)/Re:1,De=Ee?-go:0;Ee&&ft(ee.current,{transition:`transform ${qe.DURATION}s cubic-bezier(${qe.EASE.join(",")})`,transform:st(S)?`scale(${_e}) translate3d(0, ${De}px, 0)`:`scale(${_e}) translate3d(${De}px, 0, 0)`})}return D.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),D.createElement(CC,{defaultOpen:E,onOpenChange:ie=>{!d&&!ie||(ie?O(!0):At(!0),T(ie))},open:M},D.createElement(DR.Provider,{value:{activeSnapPoint:Ze,snapPoints:o,setActiveSnapPoint:qt,drawerRef:ee,overlayRef:U,onOpenChange:t,onPress:wa,onRelease:Br,onDrag:xt,dismissible:d,shouldAnimate:me,handleOnly:h,isOpen:M,isDragging:z,shouldFade:$r,closeDrawer:At,onNestedDrag:An,onNestedOpenChange:Yn,onNestedRelease:fo,keyboardIsOpen:he,modal:w,snapPointsOffset:Xt,activeSnapPointIndex:zt,direction:S,shouldScaleBackground:s,setBackgroundColorOnScale:i,noBodyStyles:b,container:R,autoFocus:B}},n))}const FR=D.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:o,isOpen:s,modal:i,shouldAnimate:c}=Ic(),u=$R(t,n),d=r&&r.length>0;if(!i)return null;const h=D.useCallback(f=>a(f),[a]);return D.createElement(by,{onMouseUp:h,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":s&&d?"true":"false","data-vaul-snap-points-overlay":s&&o?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});FR.displayName="Drawer.Overlay";const UR=D.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:o,onPress:s,onRelease:i,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:h,modal:f,isOpen:m,direction:y,snapPoints:x,container:w,handleOnly:v,shouldAnimate:g,autoFocus:b}=Ic(),[S,E]=D.useState(!1),A=$R(a,o),N=D.useRef(null),_=D.useRef(null),j=D.useRef(!1),C=x&&x.length>0;FQ();const R=(L,k,M=0)=>{if(j.current)return!0;const T=Math.abs(L.y),I=Math.abs(L.x),O=I>T,z=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(L.x*z<0)&&I>=0&&I<=M)return O}else if(!(L.y*z<0)&&T>=0&&T<=M)return!O;return j.current=!0,!0};D.useEffect(()=>{C&&window.requestAnimationFrame(()=>{E(!0)})},[]);function B(L){N.current=null,j.current=!1,i(L)}return D.createElement(wy,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":S?"true":"false","data-vaul-snap-points":m&&C?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":g!=null&&g.current?"true":"false",...r,ref:A,style:d&&d.length>0?{"--snap-point-height":`${d[h??0]}px`,...t}:t,onPointerDown:L=>{v||(r.onPointerDown==null||r.onPointerDown.call(r,L),N.current={x:L.pageX,y:L.pageY},s(L))},onOpenAutoFocus:L=>{n==null||n(L),b||L.preventDefault()},onPointerDownOutside:L=>{if(e==null||e(L),!f||L.defaultPrevented){L.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:L=>{if(!f){L.preventDefault();return}},onPointerMove:L=>{if(_.current=L,v||(r.onPointerMove==null||r.onPointerMove.call(r,L),!N.current))return;const k=L.pageY-N.current.y,M=L.pageX-N.current.x,T=L.pointerType==="touch"?10:2;R({x:M,y:k},y,T)?c(L):(Math.abs(M)>T||Math.abs(k)>T)&&(N.current=null)},onPointerUp:L=>{r.onPointerUp==null||r.onPointerUp.call(r,L),N.current=null,j.current=!1,i(L)},onPointerOut:L=>{r.onPointerOut==null||r.onPointerOut.call(r,L),B(_.current)},onContextMenu:L=>{r.onContextMenu==null||r.onContextMenu.call(r,L),_.current&&B(_.current)}})});UR.displayName="Drawer.Content";const VQ=250,ZQ=120,YQ=D.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:o,snapPoints:s,activeSnapPoint:i,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:h,onPress:f,onDrag:m}=Ic(),y=D.useRef(null),x=D.useRef(!1);function w(){if(x.current){b();return}window.setTimeout(()=>{v()},ZQ)}function v(){if(o||e||x.current){b();return}if(b(),!s||s.length===0){u||a();return}if(i===s[s.length-1]&&u){a();return}const E=s.findIndex(N=>N===i);if(E===-1)return;const A=s[E+1];c(A)}function g(){y.current=window.setTimeout(()=>{x.current=!0},VQ)}function b(){y.current&&window.clearTimeout(y.current),x.current=!1}return D.createElement("div",{onClick:w,onPointerCancel:b,onPointerDown:S=>{d&&f(S),g()},onPointerMove:S=>{d&&m(S)},ref:r,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},D.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});YQ.displayName="Drawer.Handle";function qQ(e){const t=Ic(),{container:n=t.container,...r}=e;return D.createElement(kC,{container:n,...r})}const Or={Root:GQ,Content:UR,Overlay:FR,Trigger:AC,Portal:qQ,Title:Sy,Description:Ny},GR=({shouldScaleBackground:e=!0,...t})=>l.jsx(Or.Root,{shouldScaleBackground:e,...t});GR.displayName="Drawer";const XQ=Or.Trigger,WQ=Or.Portal,VR=p.forwardRef(({className:e,...t},n)=>l.jsx(Or.Overlay,{ref:n,className:K("fixed inset-0 bg-black/40",e),style:{zIndex:vt.MODAL},...t}));VR.displayName=Or.Overlay.displayName;const ZR=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(WQ,{children:[l.jsx(VR,{}),l.jsxs(Or.Content,{ref:r,className:K("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:vt.MODAL+1},...n,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));ZR.displayName="DrawerContent";const YR=({className:e,...t})=>l.jsx("div",{className:K("grid gap-1.5 p-4 text-center sm:text-left",e),...t});YR.displayName="DrawerHeader";const qR=({className:e,...t})=>l.jsx("div",{className:K("mt-auto flex flex-col gap-2 p-4",e),...t});qR.displayName="DrawerFooter";const XR=p.forwardRef(({className:e,...t},n)=>l.jsx(Or.Title,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));XR.displayName=Or.Title.displayName;const WR=p.forwardRef(({className:e,...t},n)=>l.jsx(Or.Description,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));WR.displayName=Or.Description.displayName;var KR="Toggle",QR=p.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...o}=e,[s,i]=Cn({prop:n,onChange:a,defaultProp:r??!1,caller:KR});return l.jsx(de.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:te(e.onClick,()=>{e.disabled||i(!s)})})});QR.displayName=KR;var uo="ToggleGroup",[JR,nee]=rn(uo,[Di]),eM=Di(),ex=D.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return l.jsx(KQ,{...a,ref:t})}if(n==="multiple"){const a=r;return l.jsx(QQ,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${uo}\``)});ex.displayName=uo;var[tM,nM]=JR(uo),KQ=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Cn({prop:n,defaultProp:r??"",onChange:a,caller:uo});return l.jsx(tM,{scope:e.__scopeToggleGroup,type:"single",value:D.useMemo(()=>s?[s]:[],[s]),onItemActivate:i,onItemDeactivate:D.useCallback(()=>i(""),[i]),children:l.jsx(rM,{...o,ref:t})})}),QQ=D.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=Cn({prop:n,defaultProp:r??[],onChange:a,caller:uo}),c=D.useCallback(d=>i((h=[])=>[...h,d]),[i]),u=D.useCallback(d=>i((h=[])=>h.filter(f=>f!==d)),[i]);return l.jsx(tM,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:l.jsx(rM,{...o,ref:t})})});ex.displayName=uo;var[JQ,eJ]=JR(uo),rM=D.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:o,dir:s,loop:i=!0,...c}=e,u=eM(n),d=ji(s),h={role:"group",dir:d,...c};return l.jsx(JQ,{scope:n,rovingFocus:a,disabled:r,children:a?l.jsx(Vy,{asChild:!0,...u,orientation:o,dir:d,loop:i,children:l.jsx(de.div,{...h,ref:t})}):l.jsx(de.div,{...h,ref:t})})}),pf="ToggleGroupItem",aM=D.forwardRef((e,t)=>{const n=nM(pf,e.__scopeToggleGroup),r=eJ(pf,e.__scopeToggleGroup),a=eM(e.__scopeToggleGroup),o=n.value.includes(e.value),s=r.disabled||e.disabled,i={...e,pressed:o,disabled:s},c=D.useRef(null);return r.rovingFocus?l.jsx(Zy,{asChild:!0,...a,focusable:!s,active:o,ref:c,children:l.jsx(cS,{...i,ref:t})}):l.jsx(cS,{...i,ref:t})});aM.displayName=pf;var cS=D.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,o=nM(pf,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=o.type==="single"?s:void 0;return l.jsx(QR,{...i,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(r):o.onItemDeactivate(r)}})}),oM=ex,sM=aM;const iM=Ei("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),lM=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(oM,{ref:o,className:K(iM({variant:t,size:n}),e),...a,children:r}));lM.displayName=oM.displayName;const od=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(sM,{ref:o,className:K(iM({variant:t,size:n}),e),...a,children:r}));od.displayName=sM.displayName;function tJ({skill:e,skillLevel:t,onSkillLevelChange:n,compact:r=!1,showCategory:a=!0,className:o,majorCount:s=0,minorCount:i=0,maxMajors:c=3,maxMinors:u=3}){const d=s>=c,h=i>=u,m=t==="major"?"primary":t==="minor"?"secondary":"none",y=v=>{v?v==="primary"?m==="primary"?n(e.edid,"none"):n(e.edid,"major"):v==="secondary"&&(m==="secondary"?n(e.edid,"none"):n(e.edid,"minor")):n(e.edid,"none")},x=[{value:"primary",label:"+ Major",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:m!=="primary"&&d,tooltip:m!=="primary"&&d?`Maximum ${c} major skills reached`:void 0},{value:"secondary",label:"+ Minor",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:m!=="secondary"&&h,tooltip:m!=="secondary"&&h?`Maximum ${u} minor skills reached`:void 0}],w=v=>v==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":v==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return l.jsxs(GR,{children:[l.jsx(XQ,{asChild:!0,children:l.jsx(ak,{title:e.name,options:x,selectedValue:m,onValueChange:y,minWidth:"min-w-[240px]",className:K(r&&"p-2",o),showCategory:a,category:e.category,cardClassName:w,showCardTheming:!0,mutuallyExclusive:!0})}),l.jsx(ZR,{children:l.jsxs("div",{className:"mx-auto w-full max-w-2xl",children:[l.jsxs(YR,{children:[l.jsx(XR,{className:"text-xl",children:e.name}),l.jsxs(WR,{className:"text-base",children:[e.category," "," ",e.abbreviation&&`${e.abbreviation}  `,"Skill"]})]}),l.jsxs("div",{className:"p-4 pb-0 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Description"}),l.jsx("p",{className:"text-sm leading-relaxed",children:e.description})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Scaling"}),l.jsx("p",{className:"text-sm leading-relaxed",children:e.scaling})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Key Abilities"}),l.jsx("ul",{className:"space-y-1",children:e.keyAbilities.map((v,g)=>l.jsxs("li",{className:"text-sm flex items-start gap-2",children:[l.jsx("span",{className:"text-skyrim-gold mt-1",children:""}),l.jsx("span",{children:v})]},g))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:e.metaTags.map((v,g)=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground",children:v},g))})]})]}),l.jsx(qR,{children:l.jsxs("div",{className:"w-full",children:[l.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-3",children:"Assign Skill"}),l.jsxs(lM,{type:"single",value:t,onValueChange:y,className:"flex gap-2",children:[l.jsx(od,{value:"major",disabled:d&&t!=="major",className:K("flex-1 px-4 py-2 text-sm font-medium border transition-colors","data-[state=on]:bg-yellow-500 data-[state=on]:text-white data-[state=on]:border-yellow-600","disabled:opacity-50 disabled:pointer-events-none","hover:bg-yellow-50 hover:border-yellow-300"),children:"+ Major Skill"}),l.jsx(od,{value:"minor",disabled:h&&t!=="minor",className:K("flex-1 px-4 py-2 text-sm font-medium border transition-colors","data-[state=on]:bg-gray-400 data-[state=on]:text-white data-[state=on]:border-gray-500","disabled:opacity-50 disabled:pointer-events-none","hover:bg-gray-50 hover:border-gray-300"),children:"+ Minor Skill"}),l.jsx(od,{value:"none",className:K("px-4 py-2 text-sm font-medium border border-muted-foreground/30 transition-colors","data-[state=on]:bg-muted data-[state=on]:text-muted-foreground","hover:bg-muted/50"),children:"Clear"})]})]})})]})})]})}const uS=3,dS=3;function nJ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),{majorSkills:c,minorSkills:u,addMajorSkill:d,removeMajorSkill:h,addMinorSkill:f,removeMinorSkill:m,hasMajorSkill:y,hasMinorSkill:x,updateBuild:w}=Fn();p.useEffect(()=>{async function L(){try{r(!0);const k=await fetch("/lorerim-arcaneum/data/skills.json");if(!k.ok)throw new Error("Failed to fetch skills data");const T=((await k.json()).skills||[]).sort((I,O)=>I.name.localeCompare(O.name));t(T)}catch(k){o("Failed to load skills data"),console.error("Error loading skills:",k)}finally{r(!1)}}L()},[]);const v=(L,k)=>{k==="major"?(m(L),d(L)):k==="minor"?(h(L),f(L)):y(L)?h(L):x(L)&&m(L)},g=L=>y(L)?"major":x(L)?"minor":"none",b=c.length,S=u.length,E=()=>{w({skills:{major:[],minor:[]}})},N=(()=>{const L=[...new Set(e.map(M=>M.category))],k=[...new Set(e.flatMap(M=>M.metaTags))];return[{id:"fuzzy",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Skill Categories",placeholder:"Filter by category...",options:L.map(M=>({id:`category-${M}`,label:M,value:M,category:"Skill Categories",description:`${M} skills`}))},{id:"meta-tags",name:"Meta Tags",placeholder:"Filter by tags...",options:k.map(M=>({id:`tag-${M}`,label:M,value:M,category:"Meta Tags",description:`Skills with ${M} tag`}))}]})(),_=L=>{let k;typeof L=="string"?k={id:`custom-${L}`,label:L,value:L,category:"Fuzzy Search"}:k={id:`${L.category}-${L.id}`,label:L.label,value:L.value,category:L.category},s.some(M=>M.value===k.value&&M.category===k.category)||i(M=>[...M,k])},j=L=>{i(k=>k.filter(M=>M.id!==L))},C=e.filter(L=>s.length===0?!0:s.every(k=>{switch(k.category){case"Fuzzy Search":return!0;case"Skill Categories":return L.category===k.value;case"Meta Tags":return L.metaTags.includes(k.value);default:return!0}})),R=s.filter(L=>L.category==="Fuzzy Search").map(L=>L.value).join(" "),B=R?C.filter(L=>{const k=R.toLowerCase();return L.name.toLowerCase().includes(k)||L.description.toLowerCase().includes(k)||L.keyAbilities.some(M=>M.toLowerCase().includes(k))||L.metaTags.some(M=>M.toLowerCase().includes(k))}):C;return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Skills",description:"Choose your character's skills. Select up to 3 Major and 3 Minor skills to define your character's expertise and abilities.",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx(bQ,{categories:N,onSelect:_,onCustomSearch:_}),l.jsx("div",{className:"my-4",children:s.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(wn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(L=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>j(L.id),title:"Click to remove",children:[L.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},L.id))]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between h-10",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Current Skill Levels"}),(b>0||S>0)&&l.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 border border-red-200 hover:border-red-300 transition-colors duration-200",title:"Reset all skill selections",children:[l.jsx("span",{className:"text-lg",children:""}),"Reset All Skills"]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-lg border bg-gradient-to-r from-yellow-50/50 to-amber-50/50 p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("h4",{className:"font-semibold text-yellow-800 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Major Skills (",b,"/",uS,")"]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.map(L=>{const k=e.find(M=>M.edid===L);return k?l.jsxs("div",{className:"flex items-center gap-2 bg-yellow-100 border border-yellow-300 rounded-full px-3 py-1.5 text-sm font-medium text-yellow-800 hover:bg-yellow-200 transition-colors group",children:[l.jsx("span",{children:k.name}),l.jsx("button",{onClick:()=>v(k.edid,"none"),className:"w-4 h-4 rounded-full bg-yellow-300 hover:bg-yellow-400 flex items-center justify-center text-yellow-800 hover:text-white transition-colors text-xs font-bold",title:"Remove skill",children:""})]},L):null}),c.length===0&&l.jsx("p",{className:"text-yellow-600/70 text-sm italic",children:"No major skills selected"})]})]}),l.jsxs("div",{className:"rounded-lg border bg-gradient-to-r from-gray-50/50 to-slate-50/50 p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("h4",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[l.jsx("span",{className:"w-3 h-3 bg-gray-500 rounded-full"}),"Minor Skills (",S,"/",dS,")"]})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.map(L=>{const k=e.find(M=>M.edid===L);return k?l.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 border border-gray-300 rounded-full px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-200 transition-colors group",children:[l.jsx("span",{children:k.name}),l.jsx("button",{onClick:()=>v(k.edid,"none"),className:"w-4 h-4 rounded-full bg-gray-300 hover:bg-gray-400 flex items-center justify-center text-gray-700 hover:text-white transition-colors text-xs font-bold",title:"Remove skill",children:""})]},L):null}),u.length===0&&l.jsx("p",{className:"text-gray-500/70 text-sm italic",children:"No minor skills selected"})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"text-lg font-semibold",children:["Available Skills (",B.length," of"," ",e.length,")"]})}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 3xl:grid-cols-7 gap-4",children:B.map(L=>l.jsx(tJ,{skill:L,skillLevel:g(L.edid),onSkillLevelChange:v,compact:!0,showCategory:!1,majorCount:b,minorCount:S,maxMajors:uS,maxMinors:dS},L.edid))}),B.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No skills found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})]})}function rJ({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[h,f]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),f(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var B;return R.label.toLowerCase().includes(u.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),f(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),f(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),f(-1))},E=C=>{C.key==="ArrowDown"?(C.preventDefault(),f(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),f(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),h>=0&&w[h]?b(w[h]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),f(-1))},A=()=>{s(!0)},N=i||x,_=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:E,className:"pl-10 pr-20"}),j&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Jn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:vt.AUTOCOMPLETE},children:[_&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(ct,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Jn,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===h?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function aJ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(rJ,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(Qo,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function sp({traits:e,onSelect:t,placeholder:n="Search traits...",className:r="",disabled:a=!1}){const[o,s]=p.useState(!1),[i,c]=p.useState(""),[u,d]=p.useState(-1),h=p.useRef(null),f=p.useRef(null);p.useEffect(()=>{const b=S=>{h.current&&!h.current.contains(S.target)&&(s(!1),d(-1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const m=e.filter(b=>{var S;return b.name.toLowerCase().includes(i.toLowerCase())||b.description.toLowerCase().includes(i.toLowerCase())||((S=b.category)==null?void 0:S.toLowerCase().includes(i.toLowerCase()))||b.tags.some(E=>E.toLowerCase().includes(i.toLowerCase()))}),y=b=>{c(b),s(!0),d(-1)},x=b=>{t(b),c(""),s(!1),d(-1)},w=b=>{b.key==="ArrowDown"?(b.preventDefault(),d(S=>Math.min(S+1,m.length-1))):b.key==="ArrowUp"?(b.preventDefault(),d(S=>Math.max(S-1,-1))):b.key==="Enter"?(b.preventDefault(),u>=0&&m[u]&&x(m[u])):b.key==="Escape"&&(s(!1),d(-1))},v=()=>{s(!0)},g=()=>{var b;c(""),(b=f.current)==null||b.focus()};return l.jsxs("div",{ref:h,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:f,type:"text",placeholder:n,value:i,onChange:b=>y(b.target.value),onFocus:v,onKeyDown:w,className:"pl-10 pr-20",disabled:a}),i&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:g,disabled:a,children:l.jsx(wn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),disabled:a,children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:vt.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:m.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No traits found"}):m.map((b,S)=>l.jsx("button",{onClick:()=>x(b),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${S===u?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,disabled:a,children:l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:b.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.category&&l.jsx(Ae,{variant:"outline",className:"text-xs",children:b.category}),b.effects.length>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[b.effects.length," effect",b.effects.length!==1?"s":""]})]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:b.description})]})})},b.edid))})})]})}function fS(e){const t=e.effects.map(r=>({type:r.flags.includes("Detrimental")?"negative":"positive",name:r.type,description:r.condition||"",value:r.value,target:r.type})),n=[e.category,...e.tags].filter((r,a,o)=>o.indexOf(r)===a);return{id:e.edid,name:e.name,description:e.description,tags:n,effects:t,category:e.category}}function cM(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function oJ(e){const t=e.flatMap(n=>n.effects.map(r=>r.type));return[...new Set(t)].sort()}function uM(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}function sJ(e){let t=e.replace(/\*\*\*(.*?)\*\*\*/g,"$1");return t=t.replace(/\*\*(.*?)\*\*/g,"$1"),t=t.replace(/\*(.*?)\*/g,"$1"),t}function hS({item:e}){const{hasRegularTrait:t,hasBonusTrait:n,addRegularTrait:r,addBonusTrait:a,removeTrait:o,getRegularTraitLimit:s,getBonusTraitLimit:i,canAddRegularTrait:c,canAddBonusTrait:u}=Fn(),h=t(e.id)?"primary":n(e.id)?"secondary":"none",f=s(),m=i(),y=sJ(e.description),x=S=>{S?S==="primary"?h==="primary"?o(e.id):c()&&(o(e.id),r(e.id)):S==="secondary"&&(h==="secondary"?o(e.id):u()&&(o(e.id),a(e.id))):o(e.id)},w=!c()&&h!=="primary",v=!u()&&h!=="secondary",g=[{value:"primary",label:"+ Regular",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:w,tooltip:w?`Maximum ${f} regular traits reached`:void 0},{value:"secondary",label:"+ Extra Unlock",color:{selected:"skyrim-gold",hover:"skyrim-gold/10",border:"skyrim-gold"},disabled:v,tooltip:v?`Maximum ${m} extra unlock traits reached`:void 0}],b=S=>S==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":S==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return l.jsx(ak,{title:e.name,description:y,options:g,selectedValue:h,onValueChange:x,minWidth:"min-w-[320px]",cardClassName:b,showCardTheming:!0,mutuallyExclusive:!0})}const iJ=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],lJ={traits:iJ};function cJ(){const[e,t]=p.useState({search:"",category:"",tags:[]}),n=p.useMemo(()=>{const i=lJ.traits;if(!i||!Array.isArray(i))return console.error("Invalid trait data structure detected"),[];const c=i.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${c.length} traits`),c},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,i.category,...i.tags,...i.effects.map(d=>d.type)].join(" ").toLowerCase().includes(c))return!1}return!(e.category&&i.category!==e.category||e.tags.length>0&&!e.tags.some(u=>i.tags.includes(u)||i.category===u||i.effects.some(d=>d.type===u)))}),[n,e]),a=p.useMemo(()=>cM(n),[n]),o=p.useMemo(()=>oJ(n),[n]),s=p.useMemo(()=>uM(n),[n]);return{traits:r,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:a,allEffectTypes:o,allTags:s}}function uJ({className:e}){const{allTraits:t}=cJ(),{build:n,addTraitToSlot:r,removeTrait:a,getRegularTraitLimit:o,getBonusTraitLimit:s}=Fn(),i=ar();o(),s();const c=n.traits.regular.map(y=>t.find(x=>x.edid===y)).filter(Boolean),u=n.traits.bonus.map(y=>t.find(x=>x.edid===y)).filter(Boolean),d=(y,x)=>{r(y.edid,x)},h=y=>{a(y)},f=()=>{i("/traits")},m=t.filter(y=>!n.traits.regular.includes(y.edid)&&!n.traits.bonus.includes(y.edid));return l.jsx(Xl,{title:"Traits",navigateTo:"traits",onNavigate:f,className:e,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ae,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&l.jsx(Ae,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[0].name}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:c[0].description})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>h(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(wn,{className:"h-3 w-3"})})]}):l.jsx(sp,{traits:m,onSelect:y=>d(y,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ae,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&l.jsx(Ae,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[1].name}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:c[1].description})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>h(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(wn,{className:"h-3 w-3"})})]}):l.jsx(sp,{traits:m,onSelect:y=>d(y,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ae,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&l.jsx(Ae,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:u[0].name}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:u[0].description})]}),l.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>h(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(wn,{className:"h-3 w-3"})})]}):l.jsx(sp,{traits:m,onSelect:y=>d(y,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function dJ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(c=>`${c.type} ${c.condition||""} ${c.value}`),tags:i.tags,originalTrait:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new xa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:p.useMemo(()=>o.map(i=>i.item.originalTrait),[o]),searchResults:o,searchableTraits:n}}function fJ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),[c,u]=p.useState("alphabetical"),[d,h]=p.useState("grid");p.useEffect(()=>{async function E(){try{r(!0);const A=await fetch("/lorerim-arcaneum/data/traits.json");if(!A.ok)throw new Error("Failed to fetch trait data");const N=await A.json();t(N.traits)}catch(A){o("Failed to load trait data"),console.error("Error loading traits:",A)}finally{r(!1)}}E()},[]),p.useMemo(()=>e.map(fS),[e]);const m=(()=>{const E=cM(e),A=uM(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:E.map(N=>({id:`category-${N}`,label:N,value:N,category:"Categories",description:`Traits in ${N} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:A.map(N=>({id:`tag-${N}`,label:N,value:N,category:"Tags",description:`Traits tagged with ${N}`}))}]})(),y=E=>{let A;typeof E=="string"?A={id:`custom-${E}`,label:E,value:E,category:"Fuzzy Search"}:A={id:`${E.category}-${E.id}`,label:E.label,value:E.value,category:E.category},s.some(N=>N.value===A.value&&N.category===A.category)||i(N=>[...N,A])},x=E=>{i(A=>A.filter(N=>N.id!==E))},w=e.filter(E=>s.length===0?!0:s.every(A=>{switch(A.category){case"Fuzzy Search":return!0;case"Categories":return E.category===A.value;case"Tags":return E.tags.some(N=>N===A.value);default:return!0}})),v=s.filter(E=>E.category==="Fuzzy Search").map(E=>E.value).join(" "),{filteredTraits:g}=dJ(w,v),S=[...g.map(fS)].sort((E,A)=>{var N,_;switch(c){case"alphabetical":return E.name.localeCompare(A.name);case"category":const j=k=>({combat:1,magic:2,survival:3,social:4,crafting:5,other:6})[k||"other"]||6,C=j(E.category),R=j(A.category);return C!==R?C-R:E.name.localeCompare(A.name);case"effect-count":const B=((N=E.effects)==null?void 0:N.length)||0,L=((_=A.effects)==null?void 0:_.length)||0;return B!==L?L-B:E.name.localeCompare(A.name);default:return 0}});return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(ki,{title:"Traits",description:"Choose your character's traits. Each trait provides unique abilities, bonuses, and sometimes drawbacks that will define your character's strengths and playstyle.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(aJ,{categories:m,onSelect:y,onCustomSearch:y})}),l.jsxs(ev,{children:[l.jsx(tv,{asChild:!0,children:l.jsxs(ae,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(ct,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":c==="category"?"Type":"Count"]})}),l.jsxs(Kf,{align:"end",children:[l.jsx(oa,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(oa,{onClick:()=>u("category"),children:"Category"}),l.jsx(oa,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[l.jsx(ae,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>h("list"),className:"h-8 px-3",title:"List view",children:l.jsx(Cc,{className:"h-4 w-4"})}),l.jsx(ae,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>h("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(_c,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:s.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(wn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(E=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>x(E.id),title:"Click to remove",children:[E.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},E.id))]})}),d==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:S.map(E=>l.jsx(hS,{item:E,isSelected:!1},E.id))}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:S.map(E=>l.jsx(hS,{item:E,isSelected:!1},E.id))}),S.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function mS({races:e,onSelect:t,placeholder:n="Search races...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[c,u]=p.useState(-1),d=p.useRef(null),h=p.useRef(null);p.useEffect(()=>{const g=b=>{d.current&&!d.current.contains(b.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const f=e.filter(g=>{var b;return g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||((b=g.category)==null?void 0:b.toLowerCase().includes(s.toLowerCase()))}),m=g=>{i(g),o(!0),u(-1)},y=g=>{t(g),i(""),o(!1),u(-1)},x=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(b=>Math.min(b+1,f.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(b=>Math.max(b-1,-1))):g.key==="Enter"?(g.preventDefault(),c>=0&&f[c]&&y(f[c])):g.key==="Escape"&&(o(!1),u(-1))},w=()=>{o(!0)},v=()=>{var g;i(""),(g=h.current)==null||g.focus()};return l.jsxs("div",{ref:d,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Sn,{ref:h,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:w,onKeyDown:x,className:"pl-10 pr-20"}),s&&l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:v,children:l.jsx(wn,{className:"h-4 w-4"})}),l.jsx(ae,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(ct,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:vt.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:f.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No races found"}):f.map((g,b)=>l.jsx("button",{onClick:()=>y(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${b===c?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(CR,{raceName:g.name,size:"sm"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:g.name}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.category&&l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.category}),g.startingStats&&l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/80"}),l.jsx("span",{className:"text-muted-foreground",children:"HP"}),l.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.health})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/80"}),l.jsx("span",{className:"text-muted-foreground",children:"MP"}),l.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.magicka})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/80"}),l.jsx("span",{className:"text-muted-foreground",children:"SP"}),l.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.stamina})]})]})]})]})]})},g.edid))})})]})}function hJ(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>pS(t)):pS(e)}function pS(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return mJ(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(pJ);case"racialSpells":return Array.isArray(e[n])&&e[n].every(gJ);case"keywords":return Array.isArray(e[n])&&e[n].every(yJ);default:return!0}})}function mJ(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function pJ(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function gJ(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function yJ(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function vJ(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function xJ(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const o=iQ(r);n++,(!o.id||!o.name||!o.category)&&t.push(`Race ${a}: Missing required transformed fields`),o.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(o){t.push(`Race ${a}: Transformation failed - ${o}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const bJ=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],wJ={races:bJ};function SJ(){const[e,t]=p.useState({search:"",type:"",tags:[]}),n=p.useMemo(()=>{const i=wJ.races;if(!hJ({races:i}))return console.error("Invalid race data structure detected"),[];const c=i.map(d=>vJ(d)),u=xJ(c);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),c},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(d=>d.name),...i.skillBonuses.map(d=>d.skill),...i.keywords.map(d=>a0(d.edid))].join(" ").toLowerCase().includes(c))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const c=i.keywords.map(f=>a0(f.edid)),u=i.skillBonuses.map(f=>f.skill),d=i.racialSpells.map(f=>f.name);if(!e.tags.some(f=>c.includes(f)||u.includes(f)||d.includes(f)||i.category===f))return!1}return!0}),[n,e]),a=p.useMemo(()=>lQ(n),[n]),o=p.useMemo(()=>cQ(n),[n]),s=p.useMemo(()=>uQ(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:o,allAbilities:s}}function NJ({className:e}){const{allRaces:t}=SJ(),{build:n,setRace:r}=Fn(),a=ar(),[o,s]=p.useState(!0),i=n.race?t.find(f=>f.edid===n.race):null,c=f=>{r(f.edid)},u=()=>{a("/race")},d=()=>{s(!o)};if(!i)return l.jsxs(Xl,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),l.jsx(mS,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const h=MR(i);return l.jsxs(Xl,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx(mS,{races:t,onSelect:c,placeholder:`Race: Select a race (${i.name})`,className:"w-full"}),l.jsx(r0,{item:h,originalRace:i,isExpanded:o,onToggle:d,showToggle:!1,className:"border-0 shadow-none"})]})}function EJ({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r,className:a=""}){const o=p.useMemo(()=>{const s=new Map;e.forEach(f=>{f.path.forEach((m,y)=>{const x=y,w=s.get(m.name);(!w||x<w.level)&&s.set(m.name,{name:m.name,level:x})})});const i=new Set;e.forEach(f=>{f.isComplete&&i.add(f.endNode.name)});const c=Array.from(s.entries()).map(([f,{level:m}])=>({name:f,level:m})).sort((f,m)=>f.level!==m.level?f.level-m.level:f.name.localeCompare(m.name)),u=e.filter(f=>t.length===0?!0:t.every(m=>{const[y,x]=m.value.split(":");return y==="contains"?f.path.some(w=>w.name.toLowerCase().includes(x.toLowerCase())):y==="ends"?f.isComplete&&f.endNode.name.toLowerCase().includes(x.toLowerCase()):!0})),d=new Set;u.forEach(f=>{f.isComplete&&d.add(f.endNode.name)});const h=new Set;return u.forEach(f=>{f.path.forEach((m,y)=>{h.has(m.name)||h.add(m.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:c.filter(({name:f})=>h.has(f)).map(({name:f,level:m})=>({id:`contains-${f}`,label:`${f} (Level ${m})`,value:`contains:${f}`,category:"Contains Node",description:`Paths that include ${f}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(d).sort().map(f=>({id:`ends-${f}`,label:f,value:`ends:${f}`,category:"Ends With Node",description:`Paths that end at ${f}`}))}]},[e,t]);return l.jsxs("div",{className:`space-y-4 ${a}`,children:[l.jsx(Ey,{categories:o,onSelect:n,className:"w-full"}),l.jsx(_y,{tags:t,onRemove:r,className:"justify-start"})]})}function _J({destinyNodes:e,buildDestinyPath:t,setDestinyPath:n,loading:r,error:a,navigate:o,predictivePaths:s,onBuildPathSelect:i,isNodePlanned:c,onBreadcrumbClick:u,selectedTags:d,onTagSelect:h,onTagRemove:f}){const m=t.map(v=>e.find(g=>g.id===v)).filter(v=>!!v),y=m.length>0?m[m.length-1]:void 0,x=y?e.every(v=>!v.prerequisites.includes(y.name)):!1,w=D.useMemo(()=>s.filter(v=>d.length===0?!0:d.every(g=>{const[b,S]=g.value.split(":");return b==="contains"?v.path.some(E=>E.name.toLowerCase().includes(S.toLowerCase())):b==="ends"?v.isComplete&&v.endNode.name.toLowerCase().includes(S.toLowerCase()):!0})),[s,d]);return l.jsxs(Nt,{className:"mb-6",children:[l.jsx(Et,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(Mt,{className:"text-lg",children:"Destiny"}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>o("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:"View All"})]})}),l.jsx(gt,{className:"space-y-4",children:r?l.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):a?l.jsx("div",{className:"text-destructive",children:a}):l.jsx(l.Fragment,{children:m.length===0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-muted-foreground font-medium mb-2",children:"Select a node to start building your destiny:"}),l.jsx(Hd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:l.jsx(Cg,{possiblePaths:w,selectedPath:[],isPlanned:c,onBreadcrumbClick:i})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted transition-colors cursor-pointer",title:"Reset Destiny Path",onClick:()=>n([]),children:l.jsx(y_,{className:"w-4 h-4 text-muted-foreground"})}),l.jsx(Bk,{path:m,BreadcrumbHover:(v,g)=>l.jsx(gv,{node:v,isPlanned:!1,children:g}),onNodeClick:u})]}),l.jsx(Hk,{path:m}),!x&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-4 h-px bg-gray-300 dark:bg-gray-600"}),l.jsx(EJ,{predictivePaths:s,selectedTags:d,onTagSelect:h,onTagRemove:f}),l.jsx(Hd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:l.jsx(Cg,{possiblePaths:w,selectedPath:[],isPlanned:c,onBreadcrumbClick:i})})]})]})})})]})}function CJ(e){const{build:t,setDestinyPath:n}=Fn(),r=t.destinyPath.length===0?[]:t.destinyPath.map(u=>e.find(d=>d.id===u)).filter(u=>!!u),{predictivePaths:a,isNodePlanned:o}=Rk({nodes:e,plannedNodes:[],onNodePlan:()=>{},onNodeUnplan:()=>{},initialPath:r});let s=a;if(r.length>0){const u=r[r.length-1];s=a.filter(d=>d.path.length>0&&d.path[0].id===u.id)}return{build:t,selectedDestinyPath:r,filteredPredictivePaths:s,isNodePlanned:o,handleBuildPathSelect:(u,d)=>{const h=u.slice(0,d+1).map(f=>f.id);n(h)},handleBreadcrumbClick:u=>{const d=r.slice(0,u+1).map(h=>h.id);n(d)},setDestinyPath:n}}const AJ=({navigate:e})=>{const[t,n]=p.useState([]),[r,a]=p.useState(!0),[o,s]=p.useState(null);p.useEffect(()=>{async function E(){try{a(!0);const A=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!A.ok)throw new Error("Failed to fetch destiny data");const N=await A.json();n(N.map((_,j)=>({id:_.globalFormId||`destiny-${j}`,name:_.name,description:_.description,tags:[],prerequisites:_.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:_.globalFormId})))}catch{s("Failed to load destiny data")}finally{a(!1)}}E()},[]);const{selectedDestinyPath:i,isNodePlanned:c,handleBuildPathSelect:u,handleBreadcrumbClick:d,build:h,setDestinyPath:f}=CJ(t),m=t.find(E=>E.prerequisites.length===0),y=Fk(t,m);let x=y;i.length>0&&(x=y.filter(E=>i.every((A,N)=>E[N]&&E[N].id===A.id)));function w(E){return t.every(A=>!A.prerequisites.includes(E.name))}const v=x.map(E=>({path:E,isComplete:E.length>0&&w(E[E.length-1]),endNode:E[E.length-1]})),{handleTagSelect:g,handleTagRemove:b,filters:{selectedTags:S}}=yv({onFiltersChange:()=>{},onSearch:()=>{}});return l.jsx(_J,{selectedPath:i,destinyNodes:t,buildDestinyPath:h.destinyPath,setDestinyPath:f,loading:r,error:o,navigate:e,predictivePaths:v,onBuildPathSelect:u,isNodePlanned:c,onBreadcrumbClick:d,selectedTags:S,onTagSelect:g,onTagRemove:b})};function kJ(){const{build:e,setBuildName:t,setBuildNotes:n,updateBuild:r,resetBuild:a}=Fn(),[o,s]=p.useState(e.traitLimits.regular),[i,c]=p.useState(e.traitLimits.bonus),[u,d]=p.useState(!1),[h,f]=p.useState(!1),m=ar(),y=v=>{const g=parseInt(v)||0;s(g),r({traitLimits:{...e.traitLimits,regular:g}})},x=v=>{const g=parseInt(v)||0;c(g),r({traitLimits:{...e.traitLimits,bonus:g}})},w=o!==2||i!==1;return l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h1",{className:"text-3xl font-bold",children:"Character Builder"})}),l.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[l.jsxs(ae,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:()=>d(!0),children:[l.jsx(y_,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),l.jsxs(ae,{variant:"outline",size:"sm",className:"cursor-pointer hover:opacity-90",onClick:()=>{navigator.clipboard.writeText(window.location.href),f(!0),setTimeout(()=>f(!1),1500)},children:[l.jsx(jz,{className:"w-4 h-4 mr-2"}),"Export / Share"]}),h&&l.jsx("span",{className:"text-green-600 text-sm ml-2",children:"Link copied!"})]}),u&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ob,{className:"text-yellow-600 dark:text-yellow-400 h-5 w-5"}),l.jsx("span",{className:"font-semibold",children:"Reset Build?"})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"This will clear all selections and start a new build. This action cannot be undone."}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>d(!1),children:"Cancel"}),l.jsx(ae,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:()=>{a(),d(!1)},children:"Confirm Reset"})]})]})}),l.jsxs(xk,{defaultValue:"build",className:"w-full",children:[l.jsxs(bk,{className:"mb-4",children:[l.jsx(Xd,{value:"build",children:"Build"}),l.jsx(Xd,{value:"config",children:"Config"})]}),l.jsxs(Wd,{value:"build",children:[l.jsxs(Nt,{className:"mb-6",children:[l.jsx(Et,{children:l.jsx(Mt,{children:"Basic Information"})}),l.jsxs(gt,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(vr,{htmlFor:"name",children:"Character Name"}),l.jsx(Sn,{id:"name",value:e.name,onChange:v=>t(v.target.value),placeholder:"Enter character name..."})]}),l.jsxs("div",{children:[l.jsx(vr,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",{id:"notes",value:e.notes,onChange:v=>n(v.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsx(NJ,{}),l.jsx(N9,{}),l.jsx(uJ,{})]}),l.jsx(AJ,{navigate:m}),l.jsxs(Nt,{children:[l.jsx(Et,{children:l.jsx(Mt,{children:"Build Summary"})}),l.jsx(gt,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Race:"}),l.jsx("div",{className:"text-muted-foreground",children:e.race||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Birth Sign:"}),l.jsx("div",{className:"text-muted-foreground",children:e.stone||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Religion:"}),l.jsx("div",{className:"text-muted-foreground",children:e.religion||"Not selected"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Traits:"}),l.jsxs("div",{className:"text-muted-foreground",children:[e.traits.regular.length,"/",o," starting,"," ",e.traits.bonus.length,"/",i," late game"]})]})]})})]})]}),l.jsx(Wd,{value:"config",children:l.jsxs(Nt,{children:[l.jsx(Et,{children:l.jsxs(Mt,{className:"flex items-center gap-2",children:["Trait Limits Configuration",l.jsx(Mb,{className:"h-4 w-4 text-muted-foreground"})]})}),l.jsxs(gt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start gap-2 p-4 rounded-lg border border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:[l.jsx(Ob,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Default configuration is 2 starting + 1 late game traits."}),"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(vr,{htmlFor:"regular-limit",children:"Starting Traits Limit"}),l.jsx(Sn,{id:"regular-limit",type:"number",min:"0",max:"10",value:o,onChange:v=>y(v.target.value),className:"mt-1"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",e.traits.regular.length]})]}),l.jsxs("div",{children:[l.jsx(vr,{htmlFor:"bonus-limit",children:"Late Game Traits Limit"}),l.jsx(Sn,{id:"bonus-limit",type:"number",min:"0",max:"5",value:i,onChange:v=>x(v.target.value),className:"mt-1"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",e.traits.bonus.length]})]})]}),w&&l.jsxs("div",{className:"flex items-start gap-2 p-4 rounded-lg border border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950",children:[l.jsx(Mb,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:"Custom limits detected:"})," ",o," starting + ",i," late game traits. Remember to update your MCM settings accordingly."]})]})]})]})})]})]})}function jJ(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ai,{children:"Crafting"}),l.jsx(Ul,{children:"Plan your crafting recipes and material requirements"})]}),l.jsxs(Nt,{children:[l.jsxs(Et,{children:[l.jsx(Mt,{children:"Coming Soon"}),l.jsx(Va,{children:"Crafting system is under development"})]}),l.jsx(gt,{children:l.jsx(Ul,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function TJ(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(Ai,{children:"Equipment"}),l.jsx(Ul,{children:"Browse and compare weapons, armor, and items"})]}),l.jsxs(Nt,{children:[l.jsxs(Et,{children:[l.jsx(Mt,{children:"Coming Soon"}),l.jsx(Va,{children:"Equipment database is under development"})]}),l.jsx(gt,{children:l.jsx(Ul,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const RJ=()=>{const{build:e,getSummary:t}=Fn(),n=ar(),r=t();return!e.name&&!e.race?l.jsxs(Nt,{className:"border-dashed border-2 border-muted",children:[l.jsxs(Et,{children:[l.jsx(Mt,{className:"text-lg",children:"No Character Build"}),l.jsx(Va,{children:"Start building your character to see it here"})]}),l.jsx(gt,{children:l.jsx(ae,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):l.jsxs(Nt,{children:[l.jsxs(Et,{children:[l.jsxs(Mt,{className:"text-lg flex items-center justify-between",children:[l.jsx("span",{children:r.name}),l.jsx(ae,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),l.jsx(Va,{children:"Current character build status"})]}),l.jsxs(gt,{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Race:"}),l.jsx(Ae,{variant:"secondary",className:"ml-2",children:r.race})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),l.jsx(Ae,{variant:"secondary",className:"ml-2",children:r.stone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),l.jsx(Ae,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),l.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[r.traitCount," traits"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.majorSkillCount," major skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function MJ(){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx(Ai,{children:"Welcome to Lorerim Arcaneum"}),l.jsx(UC,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),l.jsx("div",{className:"max-w-md",children:l.jsx(RJ,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(Nt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Et,{children:[l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(Zu,{className:"h-5 w-5"}),"Player Creation"]}),l.jsx(Va,{children:"Design your character with races, traits, and birthsigns"})]}),l.jsx(gt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),l.jsxs(Nt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Et,{children:[l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(La,{className:"h-5 w-5"}),"Equipment"]}),l.jsx(Va,{children:"Browse and compare weapons, armor, and items"})]}),l.jsx(gt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),l.jsxs(Nt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Et,{children:[l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(sz,{className:"h-5 w-5"}),"Crafting"]}),l.jsx(Va,{children:"Plan your crafting recipes and material requirements"})]}),l.jsx(gt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),l.jsxs(Nt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(Et,{children:[l.jsxs(Mt,{className:"flex items-center gap-2",children:[l.jsx(El,{className:"h-5 w-5"}),"Skills"]}),l.jsx(Va,{children:"Explore skill trees and perk combinations"})]}),l.jsx(gt,{children:l.jsx(ae,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function DJ(){const e=ar();return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[l.jsx(Ai,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),l.jsx($t,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),l.jsx(ae,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const zJ=()=>l.jsxs(BO,{children:[l.jsx(dn,{path:"/",element:l.jsx(MJ,{})}),l.jsx(dn,{path:"/build",element:l.jsx(kJ,{})}),l.jsx(dn,{path:"/race",element:l.jsx(dQ,{})}),l.jsx(dn,{path:"/destiny",element:l.jsx(DG,{})}),l.jsx(dn,{path:"/perks",element:l.jsx(rQ,{})}),l.jsx(dn,{path:"/birth-signs",element:l.jsx(gB,{})}),l.jsx(dn,{path:"/traits",element:l.jsx(fJ,{})}),l.jsx(dn,{path:"/skills",element:l.jsx(nJ,{})}),l.jsx(dn,{path:"/religions",element:l.jsx(vQ,{})}),l.jsx(dn,{path:"/equipment",element:l.jsx(TJ,{})}),l.jsx(dn,{path:"/crafting",element:l.jsx(jJ,{})}),l.jsx(dn,{path:"*",element:l.jsx(DJ,{})})]}),dM=p.createContext(void 0);function OJ({children:e}){const[t,n]=p.useState("system"),[r,a]=p.useState("dark");return p.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o)},[]),p.useEffect(()=>{localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,a(o);const s=document.documentElement;o==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]),p.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const i=o.matches?"dark":"light";a(i);const c=document.documentElement;i==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]),l.jsx(dM.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function $J(){const e=p.useContext(dM);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function LJ(){const{theme:e,setTheme:t}=$J(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return l.jsx(zb,{className:"h-4 w-4"});case"dark":return l.jsx(Nz,{className:"h-4 w-4"});case"system":return l.jsx(wz,{className:"h-4 w-4"});default:return l.jsx(zb,{className:"h-4 w-4"})}};return l.jsxs(ae,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function PJ({sidebarCollapsed:e,onToggleSidebar:t}){return l.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm",style:{zIndex:vt.NAVIGATION},children:[l.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:l.jsx(yz,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),l.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),l.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),l.jsx("div",{className:"ml-auto",children:l.jsx(LJ,{})})]})}const IJ=[{label:"Character Creation",items:[{to:"/build",label:"Character Builder"},{to:"/race",label:"Races"},{to:"/birth-signs",label:"Birth Signs"},{to:"/traits",label:"Traits"},{to:"/skills",label:"Skill Selection"},{to:"/religions",label:"Religion"}]},{label:"Progression",items:[{to:"/destiny",label:"Destiny "},{to:"/perks",label:"Perks"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]}];function BJ({collapsed:e}){const t=ar(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const o=window.location.hash,[s,i]=o.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return l.jsxs(zC,{collapsed:e,children:[l.jsx(LC,{children:!e&&l.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[l.jsx(uz,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),l.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),l.jsx(OC,{children:IJ.map(a=>l.jsxs($C,{children:[!e&&l.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),l.jsx(PC,{children:a.items.map(o=>{const s=n===o.to;return l.jsx(BC,{children:l.jsx(IC,{asChild:!0,isActive:s,onClick:()=>r(o.to),tabIndex:0,children:l.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},a.label))}),!e&&l.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[l.jsx($t,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),l.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),l.jsx(HC,{})]})}function HJ(){const[e,t]=p.useState(!1);return HL(),l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(PJ,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:vt.SIDEBAR},children:l.jsx(BJ,{collapsed:e})}),l.jsx("main",{className:"flex-1 p-8 transition-all duration-300 ease-in-out",children:l.jsx(zJ,{})})]}),l.jsx(PL,{})]})}function FJ(){return l.jsx(u5,{children:l.jsx(HJ,{})})}D4.createRoot(document.getElementById("root")).render(l.jsx(p.StrictMode,{children:l.jsx(OJ,{children:l.jsx(FJ,{})})}));
