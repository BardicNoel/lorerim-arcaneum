function mM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function ef(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var rS={exports:{}},tf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gM=Symbol.for("react.transitional.element"),yM=Symbol.for("react.fragment");function aS(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:gM,type:e,key:r,ref:t!==void 0?t:null,props:n}}tf.Fragment=yM;tf.jsx=aS;tf.jsxs=aS;rS.exports=tf;var l=rS.exports,oS={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg=Symbol.for("react.transitional.element"),vM=Symbol.for("react.portal"),xM=Symbol.for("react.fragment"),bM=Symbol.for("react.strict_mode"),wM=Symbol.for("react.profiler"),SM=Symbol.for("react.consumer"),NM=Symbol.for("react.context"),_M=Symbol.for("react.forward_ref"),EM=Symbol.for("react.suspense"),CM=Symbol.for("react.memo"),sS=Symbol.for("react.lazy"),Hv=Symbol.iterator;function AM(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var iS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lS=Object.assign,cS={};function ni(e,t,n){this.props=e,this.context=t,this.refs=cS,this.updater=n||iS}ni.prototype.isReactComponent={};ni.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ni.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uS(){}uS.prototype=ni.prototype;function Fg(e,t,n){this.props=e,this.context=t,this.refs=cS,this.updater=n||iS}var Ug=Fg.prototype=new uS;Ug.constructor=Fg;lS(Ug,ni.prototype);Ug.isPureReactComponent=!0;var Fv=Array.isArray,Pe={H:null,A:null,T:null,S:null,V:null},dS=Object.prototype.hasOwnProperty;function Gg(e,t,n,r,a,o){return n=o.ref,{$$typeof:Hg,type:e,key:t,ref:n!==void 0?n:null,props:o}}function kM(e,t){return Gg(e.type,t,void 0,void 0,void 0,e.props)}function Vg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hg}function jM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uv=/\/+/g;function gh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jM(""+e.key):t.toString(36)}function Gv(){}function TM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Gv,Gv):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Jo(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Hg:case vM:s=!0;break;case sS:return s=e._init,Jo(s(e._payload),t,n,r,a)}}if(s)return a=a(e),s=r===""?"."+gh(e,0):r,Fv(a)?(n="",s!=null&&(n=s.replace(Uv,"$&/")+"/"),Jo(a,t,n,"",function(u){return u})):a!=null&&(Vg(a)&&(a=kM(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(Uv,"$&/")+"/")+s)),t.push(a)),1;s=0;var i=r===""?".":r+":";if(Fv(e))for(var c=0;c<e.length;c++)r=e[c],o=i+gh(r,c),s+=Jo(r,t,n,o,a);else if(c=AM(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,o=i+gh(r,c++),s+=Jo(r,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return Jo(TM(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Rc(e,t,n){if(e==null)return e;var r=[],a=0;return Jo(e,r,"","",function(o){return t.call(n,o,a++)}),r}function RM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vv=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function MM(){}fe.Children={map:Rc,forEach:function(e,t,n){Rc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rc(e,function(){t++}),t},toArray:function(e){return Rc(e,function(t){return t})||[]},only:function(e){if(!Vg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fe.Component=ni;fe.Fragment=xM;fe.Profiler=wM;fe.PureComponent=Fg;fe.StrictMode=bM;fe.Suspense=EM;fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;fe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Pe.H.useMemoCache(e)}};fe.cache=function(e){return function(){return e.apply(null,arguments)}};fe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=lS({},e.props),a=e.key,o=void 0;if(t!=null)for(s in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(a=""+t.key),t)!dS.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];r.children=i}return Gg(e.type,a,void 0,void 0,o,r)};fe.createContext=function(e){return e={$$typeof:NM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:SM,_context:e},e};fe.createElement=function(e,t,n){var r,a={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)dS.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var i=Array(s),c=0;c<s;c++)i[c]=arguments[c+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return Gg(e,o,void 0,void 0,null,a)};fe.createRef=function(){return{current:null}};fe.forwardRef=function(e){return{$$typeof:_M,render:e}};fe.isValidElement=Vg;fe.lazy=function(e){return{$$typeof:sS,_payload:{_status:-1,_result:e},_init:RM}};fe.memo=function(e,t){return{$$typeof:CM,type:e,compare:t===void 0?null:t}};fe.startTransition=function(e){var t=Pe.T,n={};Pe.T=n;try{var r=e(),a=Pe.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(MM,Vv)}catch(o){Vv(o)}finally{Pe.T=t}};fe.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};fe.use=function(e){return Pe.H.use(e)};fe.useActionState=function(e,t,n){return Pe.H.useActionState(e,t,n)};fe.useCallback=function(e,t){return Pe.H.useCallback(e,t)};fe.useContext=function(e){return Pe.H.useContext(e)};fe.useDebugValue=function(){};fe.useDeferredValue=function(e,t){return Pe.H.useDeferredValue(e,t)};fe.useEffect=function(e,t,n){var r=Pe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};fe.useId=function(){return Pe.H.useId()};fe.useImperativeHandle=function(e,t,n){return Pe.H.useImperativeHandle(e,t,n)};fe.useInsertionEffect=function(e,t){return Pe.H.useInsertionEffect(e,t)};fe.useLayoutEffect=function(e,t){return Pe.H.useLayoutEffect(e,t)};fe.useMemo=function(e,t){return Pe.H.useMemo(e,t)};fe.useOptimistic=function(e,t){return Pe.H.useOptimistic(e,t)};fe.useReducer=function(e,t,n){return Pe.H.useReducer(e,t,n)};fe.useRef=function(e){return Pe.H.useRef(e)};fe.useState=function(e){return Pe.H.useState(e)};fe.useSyncExternalStore=function(e,t,n){return Pe.H.useSyncExternalStore(e,t,n)};fe.useTransition=function(){return Pe.H.useTransition()};fe.version="19.1.0";oS.exports=fe;var p=oS.exports;const L=ef(p),Zg=mM({__proto__:null,default:L},[p]);var fS={exports:{}},nf={},hS={exports:{}},mS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var z=T.length;T.push(P);e:for(;0<z;){var M=z-1>>>1,$=T[M];if(0<a($,P))T[M]=P,T[z]=$,z=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var P=T[0],z=T.pop();if(z!==P){T[0]=z;e:for(var M=0,$=T.length,U=$>>>1;M<U;){var V=2*(M+1)-1,G=T[V],D=V+1,H=T[D];if(0>a(G,z))D<$&&0>a(H,G)?(T[M]=H,T[D]=z,M=D):(T[M]=G,T[V]=z,M=V);else if(D<$&&0>a(H,z))T[M]=H,T[D]=z,M=D;else break e}}return P}function a(T,P){var z=T.sortIndex-P.sortIndex;return z!==0?z:T.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,x=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function S(T){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=T)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function _(T){if(x=!1,S(T),!y)if(n(c)!==null)y=!0,A||(A=!0,I());else{var P=n(u);P!==null&&O(_,P.startTime-T)}}var A=!1,N=-1,E=5,j=-1;function C(){return w?!0:!(e.unstable_now()-j<E)}function R(){if(w=!1,A){var T=e.unstable_now();j=T;var P=!0;try{e:{y=!1,x&&(x=!1,g(N),N=-1),m=!0;var z=h;try{t:{for(S(T),f=n(c);f!==null&&!(f.expirationTime>T&&C());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var $=M(f.expirationTime<=T);if(T=e.unstable_now(),typeof $=="function"){f.callback=$,S(T),P=!0;break t}f===n(c)&&r(c),S(T)}else r(c);f=n(c)}if(f!==null)P=!0;else{var U=n(u);U!==null&&O(_,U.startTime-T),P=!1}}break e}finally{f=null,h=z,m=!1}P=void 0}}finally{P?I():A=!1}}}var I;if(typeof b=="function")I=function(){b(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=R,I=function(){k.postMessage(null)}}else I=function(){v(R,0)};function O(T,P){N=v(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var z=h;h=P;try{return T()}finally{h=z}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=h;h=T;try{return P()}finally{h=z}},e.unstable_scheduleCallback=function(T,P,z){var M=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,T){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=z+$,T={id:d++,callback:P,priorityLevel:T,startTime:z,expirationTime:$,sortIndex:-1},z>M?(T.sortIndex=z,t(u,T),n(c)===null&&T===n(u)&&(x?(g(N),N=-1):x=!0,O(_,z-M))):(T.sortIndex=$,t(c,T),y||m||(y=!0,A||(A=!0,I()))),T},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(T){var P=h;return function(){var z=h;h=P;try{return T.apply(this,arguments)}finally{h=z}}}})(mS);hS.exports=mS;var DM=hS.exports,pS={exports:{}},zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zM=p;function gS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ea(){}var Mt={d:{f:ea,r:function(){throw Error(gS(522))},D:ea,C:ea,L:ea,m:ea,X:ea,S:ea,M:ea},p:0,findDOMNode:null},OM=Symbol.for("react.portal");function $M(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:OM,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Xi=zM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function rf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Mt;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(gS(299));return $M(e,t,null,n)};zt.flushSync=function(e){var t=Xi.T,n=Mt.p;try{if(Xi.T=null,Mt.p=2,e)return e()}finally{Xi.T=t,Mt.p=n,Mt.d.f()}};zt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Mt.d.C(e,t))};zt.prefetchDNS=function(e){typeof e=="string"&&Mt.d.D(e)};zt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=rf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Mt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n==="script"&&Mt.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};zt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=rf(t.as,t.crossOrigin);Mt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Mt.d.M(e)};zt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=rf(n,t.crossOrigin);Mt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};zt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=rf(t.as,t.crossOrigin);Mt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Mt.d.m(e)};zt.requestFormReset=function(e){Mt.d.r(e)};zt.unstable_batchedUpdates=function(e,t){return e(t)};zt.useFormState=function(e,t,n){return Xi.H.useFormState(e,t,n)};zt.useFormStatus=function(){return Xi.H.useHostTransitionStatus()};zt.version="19.1.0";function yS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yS)}catch(e){console.error(e)}}yS(),pS.exports=zt;var Kl=pS.exports;const LM=ef(Kl);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=DM,vS=p,PM=Kl;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zv(e){if(Wl(e)!==e)throw Error(X(188))}function IM(e){var t=e.alternate;if(!t){if(t=Wl(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return Zv(a),e;if(o===r)return Zv(a),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function wS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=wS(e),t!==null)return t;e=e.sibling}return null}var $e=Object.assign,BM=Symbol.for("react.element"),Mc=Symbol.for("react.transitional.element"),Ii=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),SS=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),HM=Symbol.for("react.provider"),NS=Symbol.for("react.consumer"),Cr=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),Gm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),Zm=Symbol.for("react.activity"),FM=Symbol.for("react.memo_cache_sentinel"),Yv=Symbol.iterator;function Ni(e){return e===null||typeof e!="object"?null:(e=Yv&&e[Yv]||e["@@iterator"],typeof e=="function"?e:null)}var UM=Symbol.for("react.client.reference");function Ym(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===UM?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case Um:return"Profiler";case SS:return"StrictMode";case Gm:return"Suspense";case Vm:return"SuspenseList";case Zm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ii:return"Portal";case Cr:return(e.displayName||"Context")+".Provider";case NS:return(e._context.displayName||"Context")+".Consumer";case Yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qg:return t=e.displayName||null,t!==null?t:Ym(e.type)||"Memo";case sa:t=e._payload,e=e._init;try{return Ym(e(t))}catch{}}return null}var Bi=Array.isArray,ie=vS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee=PM.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lo={pending:!1,data:null,method:null,action:null},qm=[],ss=-1;function sr(e){return{current:e}}function gt(e){0>ss||(e.current=qm[ss],qm[ss]=null,ss--)}function Ie(e,t){ss++,qm[ss]=e.current,e.current=t}var Qn=sr(null),ml=sr(null),Na=sr(null),Zu=sr(null);function Yu(e,t){switch(Ie(Na,t),Ie(ml,e),Ie(Qn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Qx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Qx(t),e=B_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}gt(Qn),Ie(Qn,e)}function $s(){gt(Qn),gt(ml),gt(Na)}function Xm(e){e.memoizedState!==null&&Ie(Zu,e);var t=Qn.current,n=B_(t,e.type);t!==n&&(Ie(ml,e),Ie(Qn,n))}function qu(e){ml.current===e&&(gt(Qn),gt(ml)),Zu.current===e&&(gt(Zu),_l._currentValue=lo)}var Km=Object.prototype.hasOwnProperty,Xg=dt.unstable_scheduleCallback,yh=dt.unstable_cancelCallback,GM=dt.unstable_shouldYield,VM=dt.unstable_requestPaint,Jn=dt.unstable_now,ZM=dt.unstable_getCurrentPriorityLevel,_S=dt.unstable_ImmediatePriority,ES=dt.unstable_UserBlockingPriority,Xu=dt.unstable_NormalPriority,YM=dt.unstable_LowPriority,CS=dt.unstable_IdlePriority,qM=dt.log,XM=dt.unstable_setDisableYieldValue,Ql=null,an=null;function va(e){if(typeof qM=="function"&&XM(e),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Ql,e)}catch{}}var on=Math.clz32?Math.clz32:QM,KM=Math.log,WM=Math.LN2;function QM(e){return e>>>=0,e===0?32:31-(KM(e)/WM|0)|0}var Dc=256,zc=4194304;function Ja(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function af(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~o,r!==0?a=Ja(r):(s&=i,s!==0?a=Ja(s):n||(n=i&~e,n!==0&&(a=Ja(n))))):(i=r&~o,i!==0?a=Ja(i):s!==0?a=Ja(s):n||(n=r&~e,n!==0&&(a=Ja(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function Jl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function JM(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AS(){var e=Dc;return Dc<<=1,!(Dc&4194048)&&(Dc=256),e}function kS(){var e=zc;return zc<<=1,!(zc&62914560)&&(zc=4194304),e}function vh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ec(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eD(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-on(n),f=1<<d;i[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&jS(e,r,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function jS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-on(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function TS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-on(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Kg(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function RS(){var e=Ee.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function tD(e,t){var n=Ee.p;try{return Ee.p=e,t()}finally{Ee.p=n}}var Pa=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Pa,Ut="__reactProps$"+Pa,ri="__reactContainer$"+Pa,Wm="__reactEvents$"+Pa,nD="__reactListeners$"+Pa,rD="__reactHandles$"+Pa,qv="__reactResources$"+Pa,tc="__reactMarker$"+Pa;function Qg(e){delete e[Ct],delete e[Ut],delete e[Wm],delete e[nD],delete e[rD]}function is(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ri]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tb(e);e!==null;){if(n=e[Ct])return n;e=tb(e)}return t}e=n,n=e.parentNode}return null}function ai(e){if(e=e[Ct]||e[ri]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Hi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function xs(e){var t=e[qv];return t||(t=e[qv]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[tc]=!0}var MS=new Set,DS={};function Ro(e,t){Ls(e,t),Ls(e+"Capture",t)}function Ls(e,t){for(DS[e]=t,e=0;e<t.length;e++)MS.add(t[e])}var aD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xv={},Kv={};function oD(e){return Km.call(Kv,e)?!0:Km.call(Xv,e)?!1:aD.test(e)?Kv[e]=!0:(Xv[e]=!0,!1)}function bu(e,t,n){if(oD(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Oc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function vr(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var xh,Wv;function es(e){if(xh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xh=t&&t[1]||"",Wv=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xh+e+Wv}var bh=!1;function wh(e,t){if(!e||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var c=s.split(`
`),u=i.split(`
`);for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===u.length)for(r=c.length-1,a=u.length-1;1<=r&&0<=a&&c[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||c[r]!==u[a]){var d=`
`+c[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=r&&0<=a);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?es(n):""}function sD(e){switch(e.tag){case 26:case 27:case 5:return es(e.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 15:return wh(e.type,!1);case 11:return wh(e.type.render,!1);case 1:return wh(e.type,!0);case 31:return es("Activity");default:return""}}function Qv(e){try{var t="";do t+=sD(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function pn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iD(e){var t=zS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ku(e){e._valueTracker||(e._valueTracker=iD(e))}function OS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lD=/[\n"\\]/g;function vn(e){return e.replace(lD,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qm(e,t,n,r,a,o,s,i){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+pn(t)):e.value!==""+pn(t)&&(e.value=""+pn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Jm(e,s,pn(t)):n!=null?Jm(e,s,pn(n)):r!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+pn(i):e.removeAttribute("name")}function $S(e,t,n,r,a,o,s,i){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+pn(n):"",t=t!=null?""+pn(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function Jm(e,t,n){t==="number"&&Wu(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bs(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function LS(e,t,n){if(t!=null&&(t=""+pn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+pn(n):""}function PS(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(X(92));if(Bi(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=pn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Ps(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jv(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||cD.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function IS(e,t,n){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Jv(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Jv(e,o,t[o])}function Jg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wu(e){return dD.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ep=null;function e0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ls=null,ws=null;function ex(e){var t=ai(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Ut]||null;if(!a)throw Error(X(90));Qm(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&OS(r)}break e;case"textarea":LS(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&bs(e,!!n.multiple,t,!1)}}}var Sh=!1;function BS(e,t,n){if(Sh)return e(t,n);Sh=!0;try{var r=e(t);return r}finally{if(Sh=!1,(ls!==null||ws!==null)&&(pf(),ls&&(t=ls,e=ws,ws=ls=null,ex(t),e)))for(t=0;t<e.length;t++)ex(e[t])}}function pl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Ut]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=!1;if(Ir)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){tp=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{tp=!1}var xa=null,t0=null,Su=null;function HS(){if(Su)return Su;var e,t=t0,n=t.length,r,a="value"in xa?xa.value:xa.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return Su=a.slice(e,1<r?1-r:void 0)}function Nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $c(){return!0}function tx(){return!1}function Vt(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$c:tx,this.isPropagationStopped=tx,this}return $e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},of=Vt(Mo),nc=$e({},Mo,{view:0,detail:0}),fD=Vt(nc),Nh,_h,Ei,sf=$e({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Nh=e.screenX-Ei.screenX,_h=e.screenY-Ei.screenY):_h=Nh=0,Ei=e),Nh)},movementY:function(e){return"movementY"in e?e.movementY:_h}}),nx=Vt(sf),hD=$e({},sf,{dataTransfer:0}),mD=Vt(hD),pD=$e({},nc,{relatedTarget:0}),Eh=Vt(pD),gD=$e({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),yD=Vt(gD),vD=$e({},Mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xD=Vt(vD),bD=$e({},Mo,{data:0}),rx=Vt(bD),wD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ND={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _D(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ND[e])?!!t[e]:!1}function n0(){return _D}var ED=$e({},nc,{key:function(e){if(e.key){var t=wD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n0,charCode:function(e){return e.type==="keypress"?Nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CD=Vt(ED),AD=$e({},sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ax=Vt(AD),kD=$e({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n0}),jD=Vt(kD),TD=$e({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),RD=Vt(TD),MD=$e({},sf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DD=Vt(MD),zD=$e({},Mo,{newState:0,oldState:0}),OD=Vt(zD),$D=[9,13,27,32],r0=Ir&&"CompositionEvent"in window,Ki=null;Ir&&"documentMode"in document&&(Ki=document.documentMode);var LD=Ir&&"TextEvent"in window&&!Ki,FS=Ir&&(!r0||Ki&&8<Ki&&11>=Ki),ox=" ",sx=!1;function US(e,t){switch(e){case"keyup":return $D.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cs=!1;function PD(e,t){switch(e){case"compositionend":return GS(t);case"keypress":return t.which!==32?null:(sx=!0,ox);case"textInput":return e=t.data,e===ox&&sx?null:e;default:return null}}function ID(e,t){if(cs)return e==="compositionend"||!r0&&US(e,t)?(e=HS(),Su=t0=xa=null,cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return FS&&t.locale!=="ko"?null:t.data;default:return null}}var BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BD[e.type]:t==="textarea"}function VS(e,t,n,r){ls?ws?ws.push(r):ws=[r]:ls=r,t=pd(t,"onChange"),0<t.length&&(n=new of("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wi=null,gl=null;function HD(e){L_(e,0)}function lf(e){var t=Hi(e);if(OS(t))return e}function lx(e,t){if(e==="change")return t}var ZS=!1;if(Ir){var Ch;if(Ir){var Ah="oninput"in document;if(!Ah){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),Ah=typeof cx.oninput=="function"}Ch=Ah}else Ch=!1;ZS=Ch&&(!document.documentMode||9<document.documentMode)}function ux(){Wi&&(Wi.detachEvent("onpropertychange",YS),gl=Wi=null)}function YS(e){if(e.propertyName==="value"&&lf(gl)){var t=[];VS(t,gl,e,e0(e)),BS(HD,t)}}function FD(e,t,n){e==="focusin"?(ux(),Wi=t,gl=n,Wi.attachEvent("onpropertychange",YS)):e==="focusout"&&ux()}function UD(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(gl)}function GD(e,t){if(e==="click")return lf(t)}function VD(e,t){if(e==="input"||e==="change")return lf(t)}function ZD(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:ZD;function yl(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Km.call(t,a)||!un(e[a],t[a]))return!1}return!0}function dx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fx(e,t){var n=dx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dx(n)}}function qS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function XS(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wu(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wu(e.document)}return t}function a0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var YD=Ir&&"documentMode"in document&&11>=document.documentMode,us=null,np=null,Qi=null,rp=!1;function hx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rp||us==null||us!==Wu(r)||(r=us,"selectionStart"in r&&a0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&yl(Qi,r)||(Qi=r,r=pd(np,"onSelect"),0<r.length&&(t=new of("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=us)))}function Ka(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ds={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},kh={},KS={};Ir&&(KS=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Do(e){if(kh[e])return kh[e];if(!ds[e])return e;var t=ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in KS)return kh[e]=t[n];return e}var WS=Do("animationend"),QS=Do("animationiteration"),JS=Do("animationstart"),qD=Do("transitionrun"),XD=Do("transitionstart"),KD=Do("transitioncancel"),eN=Do("transitionend"),tN=new Map,ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ap.push("scrollEnd");function Pn(e,t){tN.set(e,t),Ro(t,[e])}var mx=new WeakMap;function xn(e,t){if(typeof e=="object"&&e!==null){var n=mx.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qv(t)},mx.set(e,t),t)}return{value:e,source:t,stack:Qv(t)}}var mn=[],fs=0,o0=0;function cf(){for(var e=fs,t=o0=fs=0;t<e;){var n=mn[t];mn[t++]=null;var r=mn[t];mn[t++]=null;var a=mn[t];mn[t++]=null;var o=mn[t];if(mn[t++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}o!==0&&nN(n,a,o)}}function uf(e,t,n,r){mn[fs++]=e,mn[fs++]=t,mn[fs++]=n,mn[fs++]=r,o0|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function s0(e,t,n,r){return uf(e,t,n,r),Qu(e)}function oi(e,t){return uf(e,null,null,t),Qu(e)}function nN(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-on(n),e=o.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),o):null}function Qu(e){if(50<ll)throw ll=0,Ep=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hs={};function WD(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,t,n,r){return new WD(e,t,n,r)}function i0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return n===null?(n=rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rN(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _u(e,t,n,r,a,o){var s=0;if(r=e,typeof e=="function")i0(e)&&(s=1);else if(typeof e=="string")s=J4(e,n,Qn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Zm:return e=rn(31,n,t,a),e.elementType=Zm,e.lanes=o,e;case os:return co(n.children,a,o,t);case SS:s=8,a|=24;break;case Um:return e=rn(12,n,t,a|2),e.elementType=Um,e.lanes=o,e;case Gm:return e=rn(13,n,t,a),e.elementType=Gm,e.lanes=o,e;case Vm:return e=rn(19,n,t,a),e.elementType=Vm,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HM:case Cr:s=10;break e;case NS:s=9;break e;case Yg:s=11;break e;case qg:s=14;break e;case sa:s=16,r=null;break e}s=29,n=Error(X(130,e===null?"null":typeof e,"")),r=null}return t=rn(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function co(e,t,n,r){return e=rn(7,e,r,t),e.lanes=n,e}function jh(e,t,n){return e=rn(6,e,null,t),e.lanes=n,e}function Th(e,t,n){return t=rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ms=[],ps=0,Ju=null,ed=0,gn=[],yn=0,uo=null,Ar=1,kr="";function eo(e,t){ms[ps++]=ed,ms[ps++]=Ju,Ju=e,ed=t}function aN(e,t,n){gn[yn++]=Ar,gn[yn++]=kr,gn[yn++]=uo,uo=e;var r=Ar;e=kr;var a=32-on(r)-1;r&=~(1<<a),n+=1;var o=32-on(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ar=1<<32-on(t)+a|n<<a|r,kr=o+e}else Ar=1<<o|n<<a|r,kr=e}function l0(e){e.return!==null&&(eo(e,1),aN(e,1,0))}function c0(e){for(;e===Ju;)Ju=ms[--ps],ms[ps]=null,ed=ms[--ps],ms[ps]=null;for(;e===uo;)uo=gn[--yn],gn[yn]=null,kr=gn[--yn],gn[yn]=null,Ar=gn[--yn],gn[yn]=null}var Rt=null,Ve=null,_e=!1,fo=null,Yn=!1,op=Error(X(519));function xo(e){var t=Error(X(418,""));throw vl(xn(t,e)),op}function px(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ct]=e,t[Ut]=r,n){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(n=0;n<wl.length;n++)ye(wl[n],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),$S(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ku(t);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),PS(t,r.value,r.defaultValue,r.children),Ku(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||I_(t.textContent,n)?(r.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),r.onScroll!=null&&ye("scroll",t),r.onScrollEnd!=null&&ye("scrollend",t),r.onClick!=null&&(t.onclick=vf),t=!0):t=!1,t||xo(e)}function gx(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Rt=Rt.return}}function Ci(e){if(e!==Rt)return!1;if(!_e)return gx(e),_e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Rp(e.type,e.memoizedProps)),n=!n),n&&Ve&&xo(e),gx(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ve=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ve=null}}else t===27?(t=Ve,Ia(e.type)?(e=zp,zp=null,Ve=e):Ve=t):Ve=Rt?Dn(e.stateNode.nextSibling):null;return!0}function rc(){Ve=Rt=null,_e=!1}function yx(){var e=fo;return e!==null&&(Bt===null?Bt=e:Bt.push.apply(Bt,e),fo=null),e}function vl(e){fo===null?fo=[e]:fo.push(e)}var sp=sr(null),zo=null,jr=null;function ua(e,t,n){Ie(sp,t._currentValue),t._currentValue=n}function zr(e){e._currentValue=sp.current,gt(sp)}function ip(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lp(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var i=o;o=a;for(var c=0;c<t.length;c++)if(i.context===t[c]){o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),ip(o.return,n,e),r||(s=null);break e}o=i.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(X(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ip(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function ac(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(X(387));if(s=s.memoizedProps,s!==null){var i=a.type;un(a.pendingProps.value,s.value)||(e!==null?e.push(i):e=[i])}}else if(a===Zu.current){if(s=a.alternate,s===null)throw Error(X(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}a=a.return}e!==null&&lp(t,e,n,r),t.flags|=262144}function td(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bo(e){zo=e,jr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return oN(zo,e)}function Lc(e,t){return zo===null&&bo(e),oN(e,t)}function oN(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},jr===null){if(e===null)throw Error(X(308));jr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jr=jr.next=t;return n}var QD=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},JD=dt.unstable_scheduleCallback,e4=dt.unstable_NormalPriority,it={$$typeof:Cr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function u0(){return{controller:new QD,data:new Map,refCount:0}}function oc(e){e.refCount--,e.refCount===0&&JD(e4,function(){e.controller.abort()})}var Ji=null,cp=0,Is=0,Ss=null;function t4(e,t){if(Ji===null){var n=Ji=[];cp=0,Is=D0(),Ss={status:"pending",value:void 0,then:function(r){n.push(r)}}}return cp++,t.then(vx,vx),t}function vx(){if(--cp===0&&Ji!==null){Ss!==null&&(Ss.status="fulfilled");var e=Ji;Ji=null,Is=0,Ss=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n4(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var xx=ie.S;ie.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&t4(e,t),xx!==null&&xx(e,t)};var ho=sr(null);function d0(){var e=ho.current;return e!==null?e:ze.pooledCache}function Eu(e,t){t===null?Ie(ho,ho.current):Ie(ho,t.pool)}function sN(){var e=d0();return e===null?null:{parent:it._currentValue,pool:e}}var sc=Error(X(460)),iN=Error(X(474)),df=Error(X(542)),up={then:function(){}};function bx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pc(){}function lN(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Pc,Pc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sx(e),e;default:if(typeof t.status=="string")t.then(Pc,Pc);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sx(e),e}throw el=t,sc}}var el=null;function wx(){if(el===null)throw Error(X(459));var e=el;return el=null,e}function Sx(e){if(e===sc||e===df)throw Error(X(483))}var ia=!1;function f0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ea(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Qu(e),nN(e,null,n),t}return uf(e,r,t,n),Qu(e)}function tl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TS(e,n)}}function Rh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var fp=!1;function nl(){if(fp){var e=Ss;if(e!==null)throw e}}function rl(e,t,n,r){fp=!1;var a=e.updateQueue;ia=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==s&&(i===null?d.firstBaseUpdate=u:i.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=a.baseState;s=0,d=u=c=null,i=o;do{var h=i.lane&-536870913,m=h!==i.lane;if(m?(Se&h)===h:(r&h)===h){h!==0&&h===Is&&(fp=!0),d!==null&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var y=e,x=i;h=t;var w=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(w,f,h):y,h==null)break e;f=$e({},f,h);break e;case 2:ia=!0}}h=i.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;m=i,i=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,o===null&&(a.shared.lanes=0),Oa|=s,e.lanes=s,e.memoizedState=f}}function cN(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function uN(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)cN(n[e],t)}var Bs=sr(null),nd=sr(0);function Nx(e,t){e=Fr,Ie(nd,e),Ie(Bs,t),Fr=e|t.baseLanes}function hp(){Ie(nd,Fr),Ie(Bs,Bs.current)}function h0(){Fr=nd.current,gt(Bs),gt(nd)}var Da=0,me=null,Te=null,rt=null,rd=!1,Ns=!1,wo=!1,ad=0,xl=0,_s=null,r4=0;function Qe(){throw Error(X(321))}function m0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!un(e[n],t[n]))return!1;return!0}function p0(e,t,n,r,a,o){return Da=o,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ie.H=e===null||e.memoizedState===null?HN:FN,wo=!1,o=n(r,a),wo=!1,Ns&&(o=fN(t,n,r,a)),dN(e),o}function dN(e){ie.H=od;var t=Te!==null&&Te.next!==null;if(Da=0,rt=Te=me=null,rd=!1,xl=0,_s=null,t)throw Error(X(300));e===null||pt||(e=e.dependencies,e!==null&&td(e)&&(pt=!0))}function fN(e,t,n,r){me=e;var a=0;do{if(Ns&&(_s=null),xl=0,Ns=!1,25<=a)throw Error(X(301));if(a+=1,rt=Te=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}ie.H=u4,o=t(n,r)}while(Ns);return o}function a4(){var e=ie.H,t=e.useState()[0];return t=typeof t.then=="function"?ic(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(me.flags|=1024),t}function g0(){var e=ad!==0;return ad=0,e}function y0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function v0(e){if(rd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rd=!1}Da=0,rt=Te=me=null,Ns=!1,xl=ad=0,_s=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?me.memoizedState=rt=e:rt=rt.next=e,rt}function at(){if(Te===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=rt===null?me.memoizedState:rt.next;if(t!==null)rt=t,Te=e;else{if(e===null)throw me.alternate===null?Error(X(467)):Error(X(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},rt===null?me.memoizedState=rt=e:rt=rt.next=e}return rt}function x0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(e){var t=xl;return xl+=1,_s===null&&(_s=[]),e=lN(_s,e,t),t=me,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,ie.H=t===null||t.memoizedState===null?HN:FN),e}function ff(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ic(e);if(e.$$typeof===Cr)return At(e)}throw Error(X(438,String(e)))}function b0(e){var t=null,n=me.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=me.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=x0(),me.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=FM;return t.index++,n}function Br(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=at();return w0(t,Te,e)}function w0(e,t,n){var r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var i=s=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Se&f)===f:(Da&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Is&&(d=!0);else if((Da&h)===h){u=u.next,h===Is&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=f,s=o):c=c.next=f,me.lanes|=h,Oa|=h;f=u.action,wo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(i=c=h,s=o):c=c.next=h,me.lanes|=f,Oa|=f;u=u.next}while(u!==null&&u!==t);if(c===null?s=o:c.next=i,!un(o,e.memoizedState)&&(pt=!0,d&&(n=Ss,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Mh(e){var t=at(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);un(o,t.memoizedState)||(pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hN(e,t,n){var r=me,a=at(),o=_e;if(o){if(n===void 0)throw Error(X(407));n=n()}else n=t();var s=!un((Te||a).memoizedState,n);s&&(a.memoizedState=n,pt=!0),a=a.queue;var i=gN.bind(null,r,a,e);if(lc(2048,8,i,[e]),a.getSnapshot!==t||s||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,Hs(9,hf(),pN.bind(null,r,a,n,t),null),ze===null)throw Error(X(349));o||Da&124||mN(r,t,n)}return n}function mN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t=x0(),me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pN(e,t,n,r){t.value=n,t.getSnapshot=r,yN(t)&&vN(e)}function gN(e,t,n){return n(function(){yN(t)&&vN(e)})}function yN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!un(e,n)}catch{return!0}}function vN(e){var t=oi(e,2);t!==null&&ln(t,e,2)}function mp(e){var t=Pt();if(typeof e=="function"){var n=e;if(e=n(),wo){va(!0);try{n()}finally{va(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t}function xN(e,t,n,r){return e.baseState=n,w0(e,Te,typeof r=="function"?r:Br)}function o4(e,t,n,r,a){if(mf(e))throw Error(X(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};ie.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,bN(t,o)):(o.next=n.next,t.pending=n.next=o)}}function bN(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=ie.T,s={};ie.T=s;try{var i=n(a,r),c=ie.S;c!==null&&c(s,i),_x(e,t,i)}catch(u){pp(e,t,u)}finally{ie.T=o}}else try{o=n(a,r),_x(e,t,o)}catch(u){pp(e,t,u)}}function _x(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Ex(e,t,r)},function(r){return pp(e,t,r)}):Ex(e,t,n)}function Ex(e,t,n){t.status="fulfilled",t.value=n,wN(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bN(e,n)))}function pp(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,wN(t),t=t.next;while(t!==r)}e.action=null}function wN(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function SN(e,t){return t}function Cx(e,t){if(_e){var n=ze.formState;if(n!==null){e:{var r=me;if(_e){if(Ve){t:{for(var a=Ve,o=Yn;a.nodeType!==8;){if(!o){a=null;break t}if(a=Dn(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){Ve=Dn(a.nextSibling),r=a.data==="F!";break e}}xo(r)}r=!1}r&&(t=n[0])}}return n=Pt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SN,lastRenderedState:t},n.queue=r,n=PN.bind(null,me,r),r.dispatch=n,r=mp(!1),o=E0.bind(null,me,!1,r.queue),r=Pt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=o4.bind(null,me,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ax(e){var t=at();return NN(t,Te,e)}function NN(e,t,n){if(t=w0(e,t,SN)[0],e=Cu(Br)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ic(t)}catch(s){throw s===sc?df:s}else r=t;t=at();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(me.flags|=2048,Hs(9,hf(),s4.bind(null,a,n),null)),[r,o,e]}function s4(e,t){e.action=t}function kx(e){var t=at(),n=Te;if(n!==null)return NN(t,n,e);at(),t=t.memoizedState,n=at();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Hs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=me.updateQueue,t===null&&(t=x0(),me.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function hf(){return{destroy:void 0,resource:void 0}}function _N(){return at().memoizedState}function Au(e,t,n,r){var a=Pt();r=r===void 0?null:r,me.flags|=e,a.memoizedState=Hs(1|t,hf(),n,r)}function lc(e,t,n,r){var a=at();r=r===void 0?null:r;var o=a.memoizedState.inst;Te!==null&&r!==null&&m0(r,Te.memoizedState.deps)?a.memoizedState=Hs(t,o,n,r):(me.flags|=e,a.memoizedState=Hs(1|t,o,n,r))}function jx(e,t){Au(8390656,8,e,t)}function EN(e,t){lc(2048,8,e,t)}function CN(e,t){return lc(4,2,e,t)}function AN(e,t){return lc(4,4,e,t)}function kN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jN(e,t,n){n=n!=null?n.concat([e]):null,lc(4,4,kN.bind(null,t,e),n)}function S0(){}function TN(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&m0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function RN(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&m0(t,r[1]))return r[0];if(r=e(),wo){va(!0);try{e()}finally{va(!1)}}return n.memoizedState=[r,t],r}function N0(e,t,n){return n===void 0||Da&1073741824?e.memoizedState=t:(e.memoizedState=n,e=w_(),me.lanes|=e,Oa|=e,n)}function MN(e,t,n,r){return un(n,t)?n:Bs.current!==null?(e=N0(e,n,r),un(e,t)||(pt=!0),e):Da&42?(e=w_(),me.lanes|=e,Oa|=e,t):(pt=!0,e.memoizedState=n)}function DN(e,t,n,r,a){var o=Ee.p;Ee.p=o!==0&&8>o?o:8;var s=ie.T,i={};ie.T=i,E0(e,!1,t,n);try{var c=a(),u=ie.S;if(u!==null&&u(i,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=n4(c,r);al(e,t,d,sn(e))}else al(e,t,r,sn(e))}catch(f){al(e,t,{then:function(){},status:"rejected",reason:f},sn())}finally{Ee.p=o,ie.T=s}}function i4(){}function gp(e,t,n,r){if(e.tag!==5)throw Error(X(476));var a=zN(e).queue;DN(e,a,t,lo,n===null?i4:function(){return ON(e),n(r)})}function zN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:lo,baseState:lo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:lo},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ON(e){var t=zN(e).next.queue;al(e,t,{},sn())}function _0(){return At(_l)}function $N(){return at().memoizedState}function LN(){return at().memoizedState}function l4(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=sn();e=_a(n);var r=Ea(t,e,n);r!==null&&(ln(r,t,n),tl(r,t,n)),t={cache:u0()},e.payload=t;return}t=t.return}}function c4(e,t,n){var r=sn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},mf(e)?IN(t,n):(n=s0(e,t,n,r),n!==null&&(ln(n,e,r),BN(n,t,r)))}function PN(e,t,n){var r=sn();al(e,t,n,r)}function al(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(mf(e))IN(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,un(i,s))return uf(e,t,a,0),ze===null&&cf(),!1}catch{}finally{}if(n=s0(e,t,a,r),n!==null)return ln(n,e,r),BN(n,t,r),!0}return!1}function E0(e,t,n,r){if(r={lane:2,revertLane:D0(),action:r,hasEagerState:!1,eagerState:null,next:null},mf(e)){if(t)throw Error(X(479))}else t=s0(e,n,r,2),t!==null&&ln(t,e,2)}function mf(e){var t=e.alternate;return e===me||t!==null&&t===me}function IN(e,t){Ns=rd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function BN(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TS(e,n)}}var od={readContext:At,use:ff,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},HN={readContext:At,use:ff,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:jx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Au(4194308,4,kN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Au(4194308,4,e,t)},useInsertionEffect:function(e,t){Au(4,2,e,t)},useMemo:function(e,t){var n=Pt();t=t===void 0?null:t;var r=e();if(wo){va(!0);try{e()}finally{va(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Pt();if(n!==void 0){var a=n(t);if(wo){va(!0);try{n(t)}finally{va(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=c4.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=mp(e);var t=e.queue,n=PN.bind(null,me,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:S0,useDeferredValue:function(e,t){var n=Pt();return N0(n,e,t)},useTransition:function(){var e=mp(!1);return e=DN.bind(null,me,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=me,a=Pt();if(_e){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),ze===null)throw Error(X(349));Se&124||mN(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,jx(gN.bind(null,r,o,e),[e]),r.flags|=2048,Hs(9,hf(),pN.bind(null,r,o,n,t),null),n},useId:function(){var e=Pt(),t=ze.identifierPrefix;if(_e){var n=kr,r=Ar;n=(r&~(1<<32-on(r)-1)).toString(32)+n,t="«"+t+"R"+n,n=ad++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=r4++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:_0,useFormState:Cx,useActionState:Cx,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=E0.bind(null,me,!0,n),n.dispatch=t,[e,t]},useMemoCache:b0,useCacheRefresh:function(){return Pt().memoizedState=l4.bind(null,me)}},FN={readContext:At,use:ff,useCallback:TN,useContext:At,useEffect:EN,useImperativeHandle:jN,useInsertionEffect:CN,useLayoutEffect:AN,useMemo:RN,useReducer:Cu,useRef:_N,useState:function(){return Cu(Br)},useDebugValue:S0,useDeferredValue:function(e,t){var n=at();return MN(n,Te.memoizedState,e,t)},useTransition:function(){var e=Cu(Br)[0],t=at().memoizedState;return[typeof e=="boolean"?e:ic(e),t]},useSyncExternalStore:hN,useId:$N,useHostTransitionStatus:_0,useFormState:Ax,useActionState:Ax,useOptimistic:function(e,t){var n=at();return xN(n,Te,e,t)},useMemoCache:b0,useCacheRefresh:LN},u4={readContext:At,use:ff,useCallback:TN,useContext:At,useEffect:EN,useImperativeHandle:jN,useInsertionEffect:CN,useLayoutEffect:AN,useMemo:RN,useReducer:Mh,useRef:_N,useState:function(){return Mh(Br)},useDebugValue:S0,useDeferredValue:function(e,t){var n=at();return Te===null?N0(n,e,t):MN(n,Te.memoizedState,e,t)},useTransition:function(){var e=Mh(Br)[0],t=at().memoizedState;return[typeof e=="boolean"?e:ic(e),t]},useSyncExternalStore:hN,useId:$N,useHostTransitionStatus:_0,useFormState:kx,useActionState:kx,useOptimistic:function(e,t){var n=at();return Te!==null?xN(n,Te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:b0,useCacheRefresh:LN},Es=null,bl=0;function Ic(e){var t=bl;return bl+=1,Es===null&&(Es=[]),lN(Es,e,t)}function Ai(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bc(e,t){throw t.$$typeof===BM?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Tx(e){var t=e._init;return t(e._payload)}function UN(e){function t(v,g){if(e){var b=v.deletions;b===null?(v.deletions=[g],v.flags|=16):b.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(v,g){return v=Dr(v,g),v.index=0,v.sibling=null,v}function o(v,g,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<g?(v.flags|=67108866,g):b):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function i(v,g,b,S){return g===null||g.tag!==6?(g=jh(b,v.mode,S),g.return=v,g):(g=a(g,b),g.return=v,g)}function c(v,g,b,S){var _=b.type;return _===os?d(v,g,b.props.children,S,b.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sa&&Tx(_)===g.type)?(g=a(g,b.props),Ai(g,b),g.return=v,g):(g=_u(b.type,b.key,b.props,null,v.mode,S),Ai(g,b),g.return=v,g)}function u(v,g,b,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==b.containerInfo||g.stateNode.implementation!==b.implementation?(g=Th(b,v.mode,S),g.return=v,g):(g=a(g,b.children||[]),g.return=v,g)}function d(v,g,b,S,_){return g===null||g.tag!==7?(g=co(b,v.mode,S,_),g.return=v,g):(g=a(g,b),g.return=v,g)}function f(v,g,b){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=jh(""+g,v.mode,b),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Mc:return b=_u(g.type,g.key,g.props,null,v.mode,b),Ai(b,g),b.return=v,b;case Ii:return g=Th(g,v.mode,b),g.return=v,g;case sa:var S=g._init;return g=S(g._payload),f(v,g,b)}if(Bi(g)||Ni(g))return g=co(g,v.mode,b,null),g.return=v,g;if(typeof g.then=="function")return f(v,Ic(g),b);if(g.$$typeof===Cr)return f(v,Lc(v,g),b);Bc(v,g)}return null}function h(v,g,b,S){var _=g!==null?g.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return _!==null?null:i(v,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mc:return b.key===_?c(v,g,b,S):null;case Ii:return b.key===_?u(v,g,b,S):null;case sa:return _=b._init,b=_(b._payload),h(v,g,b,S)}if(Bi(b)||Ni(b))return _!==null?null:d(v,g,b,S,null);if(typeof b.then=="function")return h(v,g,Ic(b),S);if(b.$$typeof===Cr)return h(v,g,Lc(v,b),S);Bc(v,b)}return null}function m(v,g,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return v=v.get(b)||null,i(g,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mc:return v=v.get(S.key===null?b:S.key)||null,c(g,v,S,_);case Ii:return v=v.get(S.key===null?b:S.key)||null,u(g,v,S,_);case sa:var A=S._init;return S=A(S._payload),m(v,g,b,S,_)}if(Bi(S)||Ni(S))return v=v.get(b)||null,d(g,v,S,_,null);if(typeof S.then=="function")return m(v,g,b,Ic(S),_);if(S.$$typeof===Cr)return m(v,g,b,Lc(g,S),_);Bc(g,S)}return null}function y(v,g,b,S){for(var _=null,A=null,N=g,E=g=0,j=null;N!==null&&E<b.length;E++){N.index>E?(j=N,N=null):j=N.sibling;var C=h(v,N,b[E],S);if(C===null){N===null&&(N=j);break}e&&N&&C.alternate===null&&t(v,N),g=o(C,g,E),A===null?_=C:A.sibling=C,A=C,N=j}if(E===b.length)return n(v,N),_e&&eo(v,E),_;if(N===null){for(;E<b.length;E++)N=f(v,b[E],S),N!==null&&(g=o(N,g,E),A===null?_=N:A.sibling=N,A=N);return _e&&eo(v,E),_}for(N=r(N);E<b.length;E++)j=m(N,v,E,b[E],S),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?E:j.key),g=o(j,g,E),A===null?_=j:A.sibling=j,A=j);return e&&N.forEach(function(R){return t(v,R)}),_e&&eo(v,E),_}function x(v,g,b,S){if(b==null)throw Error(X(151));for(var _=null,A=null,N=g,E=g=0,j=null,C=b.next();N!==null&&!C.done;E++,C=b.next()){N.index>E?(j=N,N=null):j=N.sibling;var R=h(v,N,C.value,S);if(R===null){N===null&&(N=j);break}e&&N&&R.alternate===null&&t(v,N),g=o(R,g,E),A===null?_=R:A.sibling=R,A=R,N=j}if(C.done)return n(v,N),_e&&eo(v,E),_;if(N===null){for(;!C.done;E++,C=b.next())C=f(v,C.value,S),C!==null&&(g=o(C,g,E),A===null?_=C:A.sibling=C,A=C);return _e&&eo(v,E),_}for(N=r(N);!C.done;E++,C=b.next())C=m(N,v,E,C.value,S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?E:C.key),g=o(C,g,E),A===null?_=C:A.sibling=C,A=C);return e&&N.forEach(function(I){return t(v,I)}),_e&&eo(v,E),_}function w(v,g,b,S){if(typeof b=="object"&&b!==null&&b.type===os&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Mc:e:{for(var _=b.key;g!==null;){if(g.key===_){if(_=b.type,_===os){if(g.tag===7){n(v,g.sibling),S=a(g,b.props.children),S.return=v,v=S;break e}}else if(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===sa&&Tx(_)===g.type){n(v,g.sibling),S=a(g,b.props),Ai(S,b),S.return=v,v=S;break e}n(v,g);break}else t(v,g);g=g.sibling}b.type===os?(S=co(b.props.children,v.mode,S,b.key),S.return=v,v=S):(S=_u(b.type,b.key,b.props,null,v.mode,S),Ai(S,b),S.return=v,v=S)}return s(v);case Ii:e:{for(_=b.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===b.containerInfo&&g.stateNode.implementation===b.implementation){n(v,g.sibling),S=a(g,b.children||[]),S.return=v,v=S;break e}else{n(v,g);break}else t(v,g);g=g.sibling}S=Th(b,v.mode,S),S.return=v,v=S}return s(v);case sa:return _=b._init,b=_(b._payload),w(v,g,b,S)}if(Bi(b))return y(v,g,b,S);if(Ni(b)){if(_=Ni(b),typeof _!="function")throw Error(X(150));return b=_.call(b),x(v,g,b,S)}if(typeof b.then=="function")return w(v,g,Ic(b),S);if(b.$$typeof===Cr)return w(v,g,Lc(v,b),S);Bc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,g!==null&&g.tag===6?(n(v,g.sibling),S=a(g,b),S.return=v,v=S):(n(v,g),S=jh(b,v.mode,S),S.return=v,v=S),s(v)):n(v,g)}return function(v,g,b,S){try{bl=0;var _=w(v,g,b,S);return Es=null,_}catch(N){if(N===sc||N===df)throw N;var A=rn(29,N,null,v.mode);return A.lanes=S,A.return=v,A}finally{}}}var Fs=UN(!0),GN=UN(!1),_n=sr(null),er=null;function da(e){var t=e.alternate;Ie(lt,lt.current&1),Ie(_n,e),er===null&&(t===null||Bs.current!==null||t.memoizedState!==null)&&(er=e)}function VN(e){if(e.tag===22){if(Ie(lt,lt.current),Ie(_n,e),er===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(er=e)}}else fa()}function fa(){Ie(lt,lt.current),Ie(_n,_n.current)}function Tr(e){gt(_n),er===e&&(er=null),gt(lt)}var lt=sr(0);function sd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Dp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Dh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:$e({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var yp={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sn(),a=_a(r);a.payload=t,n!=null&&(a.callback=n),t=Ea(e,a,r),t!==null&&(ln(t,e,r),tl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sn(),a=_a(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ea(e,a,r),t!==null&&(ln(t,e,r),tl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sn(),r=_a(n);r.tag=2,t!=null&&(r.callback=t),t=Ea(e,r,n),t!==null&&(ln(t,e,n),tl(t,e,n))}};function Rx(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!yl(n,r)||!yl(a,o):!0}function Mx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yp.enqueueReplaceState(t,t.state,null)}function So(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=$e({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var id=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ZN(e){id(e)}function YN(e){console.error(e)}function qN(e){id(e)}function ld(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Dx(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function vp(e,t,n){return n=_a(n),n.tag=3,n.payload={element:null},n.callback=function(){ld(e,t)},n}function XN(e){return e=_a(e),e.tag=3,e}function KN(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Dx(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Dx(t,n,r),typeof a!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function d4(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&ac(t,n,a,!0),n=_n.current,n!==null){switch(n.tag){case 13:return er===null?Cp():n.alternate===null&&Ye===0&&(Ye=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===up?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Gh(e,r,a)),!1;case 22:return n.flags|=65536,r===up?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Gh(e,r,a)),!1}throw Error(X(435,n.tag))}return Gh(e,r,a),Cp(),!1}if(_e)return t=_n.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==op&&(e=Error(X(422),{cause:r}),vl(xn(e,n)))):(r!==op&&(t=Error(X(423),{cause:r}),vl(xn(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=xn(r,n),a=vp(e.stateNode,r,a),Rh(e,a),Ye!==4&&(Ye=2)),!1;var o=Error(X(520),{cause:r});if(o=xn(o,n),il===null?il=[o]:il.push(o),Ye!==4&&(Ye=2),t===null)return!0;r=xn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=vp(n.stateNode,r,e),Rh(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ca===null||!Ca.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=XN(a),KN(a,e,n,r),Rh(n,a),!1}n=n.return}while(n!==null);return!1}var WN=Error(X(461)),pt=!1;function wt(e,t,n,r){t.child=e===null?GN(t,null,n,r):Fs(t,e.child,n,r)}function zx(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)i!=="ref"&&(s[i]=r[i])}else s=r;return bo(t),r=p0(e,t,n,s,o,a),i=g0(),e!==null&&!pt?(y0(e,t,a),Hr(e,t,a)):(_e&&i&&l0(t),t.flags|=1,wt(e,t,r,a),t.child)}function Ox(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!i0(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,QN(e,t,o,r,a)):(e=_u(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!C0(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(s,r)&&e.ref===t.ref)return Hr(e,t,a)}return t.flags|=1,e=Dr(o,r),e.ref=t.ref,e.return=t,t.child=e}function QN(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(yl(o,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=o,C0(e,a))e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,Hr(e,t,a)}return xp(e,t,n,r,a)}function JN(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return $x(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Eu(t,o!==null?o.cachePool:null),o!==null?Nx(t,o):hp(),VN(t);else return t.lanes=t.childLanes=536870912,$x(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Eu(t,o.cachePool),Nx(t,o),fa(),t.memoizedState=null):(e!==null&&Eu(t,null),hp(),fa());return wt(e,t,a,n),t.child}function $x(e,t,n,r){var a=d0();return a=a===null?null:{parent:it._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Eu(t,null),hp(),VN(t),e!==null&&ac(e,t,r,!0),null}function ku(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xp(e,t,n,r,a){return bo(t),n=p0(e,t,n,r,void 0,a),r=g0(),e!==null&&!pt?(y0(e,t,a),Hr(e,t,a)):(_e&&r&&l0(t),t.flags|=1,wt(e,t,n,a),t.child)}function Lx(e,t,n,r,a,o){return bo(t),t.updateQueue=null,n=fN(t,r,n,a),dN(e),r=g0(),e!==null&&!pt?(y0(e,t,o),Hr(e,t,o)):(_e&&r&&l0(t),t.flags|=1,wt(e,t,n,o),t.child)}function Px(e,t,n,r,a){if(bo(t),t.stateNode===null){var o=hs,s=n.contextType;typeof s=="object"&&s!==null&&(o=At(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yp,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},f0(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?At(s):hs,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Dh(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&yp.enqueueReplaceState(o,o.state,null),rl(t,r,o,a),nl(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var i=t.memoizedProps,c=So(n,i);o.props=c;var u=o.context,d=n.contextType;s=hs,typeof d=="object"&&d!==null&&(s=At(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i||u!==s)&&Mx(t,o,r,s),ia=!1;var h=t.memoizedState;o.state=h,rl(t,r,o,a),nl(),u=t.memoizedState,i||h!==u||ia?(typeof f=="function"&&(Dh(t,n,f,r),u=t.memoizedState),(c=ia||Rx(t,n,c,r,h,u,s))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dp(e,t),s=t.memoizedProps,d=So(n,s),o.props=d,f=t.pendingProps,h=o.context,u=n.contextType,c=hs,typeof u=="object"&&u!==null&&(c=At(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&Mx(t,o,r,c),ia=!1,h=t.memoizedState,o.state=h,rl(t,r,o,a),nl();var m=t.memoizedState;s!==f||h!==m||ia||e!==null&&e.dependencies!==null&&td(e.dependencies)?(typeof i=="function"&&(Dh(t,n,i,r),m=t.memoizedState),(d=ia||Rx(t,n,d,r,h,m,c)||e!==null&&e.dependencies!==null&&td(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,ku(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=Fs(t,e.child,null,a),t.child=Fs(t,null,n,a)):wt(e,t,n,a),t.memoizedState=o.state,e=t.child):e=Hr(e,t,a),e}function Ix(e,t,n,r){return rc(),t.flags|=256,wt(e,t,n,r),t.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(e){return{baseLanes:e,cachePool:sN()}}function $h(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=bn),e}function e_(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(a?da(t):fa(),_e){var i=Ve,c;if(c=i){e:{for(c=i,i=Yn;c.nodeType!==8;){if(!i){i=null;break e}if(c=Dn(c.nextSibling),c===null){i=null;break e}}i=c}i!==null?(t.memoizedState={dehydrated:i,treeContext:uo!==null?{id:Ar,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},c=rn(18,null,null,0),c.stateNode=i,c.return=t,t.child=c,Rt=t,Ve=null,c=!0):c=!1}c||xo(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Dp(i)?t.lanes=32:t.lanes=536870912,null;Tr(t)}return i=r.children,r=r.fallback,a?(fa(),a=t.mode,i=cd({mode:"hidden",children:i},a),r=co(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=Oh(n),a.childLanes=$h(e,s,n),t.memoizedState=zh,r):(da(t),bp(t,i))}if(c=e.memoizedState,c!==null&&(i=c.dehydrated,i!==null)){if(o)t.flags&256?(da(t),t.flags&=-257,t=Lh(e,t,n)):t.memoizedState!==null?(fa(),t.child=e.child,t.flags|=128,t=null):(fa(),a=r.fallback,i=t.mode,r=cd({mode:"visible",children:r.children},i),a=co(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,Fs(t,e.child,null,n),r=t.child,r.memoizedState=Oh(n),r.childLanes=$h(e,s,n),t.memoizedState=zh,t=a);else if(da(t),Dp(i)){if(s=i.nextSibling&&i.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(X(419)),r.stack="",r.digest=s,vl({value:r,source:null,stack:null}),t=Lh(e,t,n)}else if(pt||ac(e,t,n,!1),s=(n&e.childLanes)!==0,pt||s){if(s=ze,s!==null&&(r=n&-n,r=r&42?1:Kg(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,oi(e,r),ln(s,e,r),WN;i.data==="$?"||Cp(),t=Lh(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Ve=Dn(i.nextSibling),Rt=t,_e=!0,fo=null,Yn=!1,e!==null&&(gn[yn++]=Ar,gn[yn++]=kr,gn[yn++]=uo,Ar=e.id,kr=e.overflow,uo=t),t=bp(t,r.children),t.flags|=4096);return t}return a?(fa(),a=r.fallback,i=t.mode,c=e.child,u=c.sibling,r=Dr(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=Dr(u,a):(a=co(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=Oh(n):(c=i.cachePool,c!==null?(u=it._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=sN(),i={baseLanes:i.baseLanes|n,cachePool:c}),a.memoizedState=i,a.childLanes=$h(e,s,n),t.memoizedState=zh,r):(da(t),n=e.child,e=n.sibling,n=Dr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function bp(e,t){return t=cd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function cd(e,t){return e=rn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lh(e,t,n){return Fs(t,e.child,null,n),e=bp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ip(e.return,t,n)}function Ph(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function t_(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(wt(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bx(e,n,t);else if(e.tag===19)Bx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ie(lt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&sd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ph(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ph(t,!0,n,null,o);break;case"together":Ph(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oa|=t.lanes,!(n&t.childLanes))if(e!==null){if(ac(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function C0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&td(e)))}function f4(e,t,n){switch(t.tag){case 3:Yu(t,t.stateNode.containerInfo),ua(t,it,e.memoizedState.cache),rc();break;case 27:case 5:Xm(t);break;case 4:Yu(t,t.stateNode.containerInfo);break;case 10:ua(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(da(t),t.flags|=128,null):n&t.child.childLanes?e_(e,t,n):(da(t),e=Hr(e,t,n),e!==null?e.sibling:null);da(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(ac(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return t_(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ie(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,JN(e,t,n);case 24:ua(t,it,e.memoizedState.cache)}return Hr(e,t,n)}function n_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!C0(e,n)&&!(t.flags&128))return pt=!1,f4(e,t,n);pt=!!(e.flags&131072)}else pt=!1,_e&&t.flags&1048576&&aN(t,ed,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")i0(r)?(e=So(r,e),t.tag=1,t=Px(null,t,r,e,n)):(t.tag=0,t=xp(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===Yg){t.tag=11,t=zx(null,t,r,e,n);break e}else if(a===qg){t.tag=14,t=Ox(null,t,r,e,n);break e}}throw t=Ym(r)||r,Error(X(306,t,""))}}return t;case 0:return xp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=So(r,t.pendingProps),Px(e,t,r,a,n);case 3:e:{if(Yu(t,t.stateNode.containerInfo),e===null)throw Error(X(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,dp(e,t),rl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ua(t,it,r),r!==o.cache&&lp(t,[it],n,!0),nl(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Ix(e,t,r,n);break e}else if(r!==a){a=xn(Error(X(424)),t),vl(a),t=Ix(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Dn(e.firstChild),Rt=t,_e=!0,fo=null,Yn=!0,n=GN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(rc(),r===a){t=Hr(e,t,n);break e}wt(e,t,r,n)}t=t.child}return t;case 26:return ku(e,t),e===null?(n=rb(t.type,null,t.pendingProps,null))?t.memoizedState=n:_e||(n=t.type,e=t.pendingProps,r=gd(Na.current).createElement(n),r[Ct]=t,r[Ut]=e,Nt(r,n,e),mt(r),t.stateNode=r):t.memoizedState=rb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Xm(t),e===null&&_e&&(r=t.stateNode=F_(t.type,t.pendingProps,Na.current),Rt=t,Yn=!0,a=Ve,Ia(t.type)?(zp=a,Ve=Dn(r.firstChild)):Ve=a),wt(e,t,t.pendingProps.children,n),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((a=r=Ve)&&(r=B4(r,t.type,t.pendingProps,Yn),r!==null?(t.stateNode=r,Rt=t,Ve=Dn(r.firstChild),Yn=!1,a=!0):a=!1),a||xo(t)),Xm(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,Rp(a,o)?r=null:s!==null&&Rp(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=p0(e,t,a4,null,null,n),_l._currentValue=a),ku(e,t),wt(e,t,r,n),t.child;case 6:return e===null&&_e&&((e=n=Ve)&&(n=H4(n,t.pendingProps,Yn),n!==null?(t.stateNode=n,Rt=t,Ve=null,e=!0):e=!1),e||xo(t)),null;case 13:return e_(e,t,n);case 4:return Yu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fs(t,null,r,n):wt(e,t,r,n),t.child;case 11:return zx(e,t,t.type,t.pendingProps,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ua(t,t.type,r.value),wt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,bo(t),a=At(a),r=r(a),t.flags|=1,wt(e,t,r,n),t.child;case 14:return Ox(e,t,t.type,t.pendingProps,n);case 15:return QN(e,t,t.type,t.pendingProps,n);case 19:return t_(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=cd(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Dr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return JN(e,t,n);case 24:return bo(t),r=At(it),e===null?(a=d0(),a===null&&(a=ze,o=u0(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},f0(t),ua(t,it,a)):(e.lanes&n&&(dp(e,t),rl(t,null,null,n),nl()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ua(t,it,r)):(r=o.cache,ua(t,it,r),r!==a.cache&&lp(t,[it],n,!0))),wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function xr(e){e.flags|=4}function Hx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!V_(t)){if(t=_n.current,t!==null&&((Se&4194048)===Se?er!==null:(Se&62914560)!==Se&&!(Se&536870912)||t!==er))throw el=up,iN;e.flags|=8192}}function Hc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?kS():536870912,e.lanes|=t,Us|=t)}function ki(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function h4(e,t,n){var r=t.pendingProps;switch(c0(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),zr(it),$s(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ci(t)?xr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yx())),He(t),null;case 26:return n=t.memoizedState,e===null?(xr(t),n!==null?(He(t),Hx(t,n)):(He(t),t.flags&=-16777217)):n?n!==e.memoizedState?(xr(t),He(t),Hx(t,n)):(He(t),t.flags&=-16777217):(e.memoizedProps!==r&&xr(t),He(t),t.flags&=-16777217),null;case 27:qu(t),n=Na.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return He(t),null}e=Qn.current,Ci(t)?px(t):(e=F_(a,r,n),t.stateNode=e,xr(t))}return He(t),null;case 5:if(qu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return He(t),null}if(e=Qn.current,Ci(t))px(t);else{switch(a=gd(Na.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Ct]=t,e[Ut]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Nt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xr(t)}}return He(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&xr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(e=Na.current,Ci(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Rt,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ct]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||I_(e.nodeValue,n)),e||xo(t)}else e=gd(e).createTextNode(r),e[Ct]=t,t.stateNode=e}return He(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Ct]=t}else rc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),a=!1}else a=yx(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Tr(t),t):(Tr(t),null)}if(Tr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Hc(t,t.updateQueue),He(t),null;case 4:return $s(),e===null&&z0(t.stateNode.containerInfo),He(t),null;case 10:return zr(t.type),He(t),null;case 19:if(gt(lt),a=t.memoizedState,a===null)return He(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)ki(a,!1);else{if(Ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=sd(e),o!==null){for(t.flags|=128,ki(a,!1),e=o.updateQueue,t.updateQueue=e,Hc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)rN(n,e),n=n.sibling;return Ie(lt,lt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Jn()>dd&&(t.flags|=128,r=!0,ki(a,!1),t.lanes=4194304)}else{if(!r)if(e=sd(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Hc(t,e),ki(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!_e)return He(t),null}else 2*Jn()-a.renderingStartTime>dd&&n!==536870912&&(t.flags|=128,r=!0,ki(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Jn(),t.sibling=null,e=lt.current,Ie(lt,r?e&1|2:e&1),t):(He(t),null);case 22:case 23:return Tr(t),h0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),n=t.updateQueue,n!==null&&Hc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&gt(ho),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),zr(it),He(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function m4(e,t){switch(c0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(it),$s(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qu(t),null;case 13:if(Tr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));rc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return gt(lt),null;case 4:return $s(),null;case 10:return zr(t.type),null;case 22:case 23:return Tr(t),h0(),e!==null&&gt(ho),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return zr(it),null;case 25:return null;default:return null}}function r_(e,t){switch(c0(t),t.tag){case 3:zr(it),$s();break;case 26:case 27:case 5:qu(t);break;case 4:$s();break;case 13:Tr(t);break;case 19:gt(lt);break;case 10:zr(t.type);break;case 22:case 23:Tr(t),h0(),e!==null&&gt(ho);break;case 24:zr(it)}}function cc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){De(t,t.return,i)}}function za(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(i!==void 0){s.destroy=void 0,a=t;var c=n,u=i;try{u()}catch(d){De(a,c,d)}}}r=r.next}while(r!==o)}}catch(d){De(t,t.return,d)}}function a_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{uN(t,n)}catch(r){De(e,e.return,r)}}}function o_(e,t,n){n.props=So(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){De(e,t,r)}}function ol(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){De(e,t,a)}}function Xn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){De(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){De(e,t,a)}else n.current=null}function s_(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){De(e,e.return,a)}}function Ih(e,t,n){try{var r=e.stateNode;O4(r,e.type,n,t),r[Ut]=t}catch(a){De(e,e.return,a)}}function i_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ia(e.type)||e.tag===4}function Bh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vf));else if(r!==4&&(r===27&&Ia(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(wp(e,t,n),e=e.sibling;e!==null;)wp(e,t,n),e=e.sibling}function ud(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Ia(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ud(e,t,n),e=e.sibling;e!==null;)ud(e,t,n),e=e.sibling}function l_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Nt(t,r,n),t[Ct]=e,t[Ut]=n}catch(o){De(e,e.return,o)}}var Nr=!1,et=!1,Hh=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,ht=null;function p4(e,t){if(e=e.containerInfo,jp=bd,e=XS(e),a0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(i=s+a),f!==o||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===a&&(i=s),h===o&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tp={focusedElem:e,selectionRange:n},bd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var y=So(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(y,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){De(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Mp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function c_(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ta(e,n),r&4&&cc(5,n);break;case 1:if(ta(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){De(n,n.return,s)}else{var a=So(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){De(n,n.return,s)}}r&64&&a_(n),r&512&&ol(n,n.return);break;case 3:if(ta(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{uN(e,t)}catch(s){De(n,n.return,s)}}break;case 27:t===null&&r&4&&l_(n);case 26:case 5:ta(e,n),t===null&&r&4&&s_(n),r&512&&ol(n,n.return);break;case 12:ta(e,n);break;case 13:ta(e,n),r&4&&f_(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=_4.bind(null,n),F4(e,n))));break;case 22:if(r=n.memoizedState!==null||Nr,!r){t=t!==null&&t.memoizedState!==null||et,a=Nr;var o=et;Nr=r,(et=t)&&!o?aa(e,n,(n.subtreeFlags&8772)!==0):ta(e,n),Nr=a,et=o}break;case 30:break;default:ta(e,n)}}function u_(e){var t=e.alternate;t!==null&&(e.alternate=null,u_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Qg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,It=!1;function br(e,t,n){for(n=n.child;n!==null;)d_(e,t,n),n=n.sibling}function d_(e,t,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ql,n)}catch{}switch(n.tag){case 26:et||Xn(n,t),br(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||Xn(n,t);var r=Le,a=It;Ia(n.type)&&(Le=n.stateNode,It=!1),br(e,t,n),cl(n.stateNode),Le=r,It=a;break;case 5:et||Xn(n,t);case 6:if(r=Le,a=It,Le=null,br(e,t,n),Le=r,It=a,Le!==null)if(It)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(n.stateNode)}catch(o){De(n,t,o)}else try{Le.removeChild(n.stateNode)}catch(o){De(n,t,o)}break;case 18:Le!==null&&(It?(e=Le,eb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Al(e)):eb(Le,n.stateNode));break;case 4:r=Le,a=It,Le=n.stateNode.containerInfo,It=!0,br(e,t,n),Le=r,It=a;break;case 0:case 11:case 14:case 15:et||za(2,n,t),et||za(4,n,t),br(e,t,n);break;case 1:et||(Xn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&o_(n,t,r)),br(e,t,n);break;case 21:br(e,t,n);break;case 22:et=(r=et)||n.memoizedState!==null,br(e,t,n),et=r;break;default:br(e,t,n)}}function f_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(n){De(t,t.return,n)}}function g4(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fx),t;default:throw Error(X(435,e.tag))}}function Fh(e,t){var n=g4(e);t.forEach(function(r){var a=E4.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function Kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 27:if(Ia(i.type)){Le=i.stateNode,It=!1;break e}break;case 5:Le=i.stateNode,It=!1;break e;case 3:case 4:Le=i.stateNode.containerInfo,It=!0;break e}i=i.return}if(Le===null)throw Error(X(160));d_(o,s,a),Le=null,It=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)h_(t,e),t=t.sibling}var Rn=null;function h_(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Kt(t,e),Wt(e),r&4&&(za(3,e,e.return),cc(3,e),za(5,e,e.return));break;case 1:Kt(t,e),Wt(e),r&512&&(et||n===null||Xn(n,n.return)),r&64&&Nr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Rn;if(Kt(t,e),Wt(e),r&512&&(et||n===null||Xn(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":o=a.getElementsByTagName("title")[0],(!o||o[tc]||o[Ct]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Nt(o,r,n),o[Ct]=e,mt(o),r=o;break e;case"link":var s=ob("link","href",a).get(r+(n.href||""));if(s){for(var i=0;i<s.length;i++)if(o=s[i],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(i,1);break t}}o=a.createElement(r),Nt(o,r,n),a.head.appendChild(o);break;case"meta":if(s=ob("meta","content",a).get(r+(n.content||""))){for(i=0;i<s.length;i++)if(o=s[i],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(i,1);break t}}o=a.createElement(r),Nt(o,r,n),a.head.appendChild(o);break;default:throw Error(X(468,r))}o[Ct]=e,mt(o),r=o}e.stateNode=r}else sb(a,e.type,e.stateNode);else e.stateNode=ab(a,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?sb(a,e.type,e.stateNode):ab(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ih(e,e.memoizedProps,n.memoizedProps)}break;case 27:Kt(t,e),Wt(e),r&512&&(et||n===null||Xn(n,n.return)),n!==null&&r&4&&Ih(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Kt(t,e),Wt(e),r&512&&(et||n===null||Xn(n,n.return)),e.flags&32){a=e.stateNode;try{Ps(a,"")}catch(m){De(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Ih(e,a,n!==null?n.memoizedProps:a)),r&1024&&(Hh=!0);break;case 6:if(Kt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(X(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){De(e,e.return,m)}}break;case 3:if(Ru=null,a=Rn,Rn=yd(t.containerInfo),Kt(t,e),Rn=a,Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(m){De(e,e.return,m)}Hh&&(Hh=!1,m_(e));break;case 4:r=Rn,Rn=yd(e.stateNode.containerInfo),Kt(t,e),Wt(e),Rn=r;break;case 12:Kt(t,e),Wt(e);break;case 13:Kt(t,e),Wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(R0=Jn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fh(e,r)));break;case 22:a=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Nr,d=et;if(Nr=u||a,et=d||c,Kt(t,e),et=d,Nr=u,Wt(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||c||Nr||et||to(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(o=c.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{i=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;i.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){De(c,c.return,m)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){De(c,c.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Fh(e,n))));break;case 19:Kt(t,e),Wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Fh(e,r)));break;case 30:break;case 21:break;default:Kt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(i_(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var a=n.stateNode,o=Bh(e);ud(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Ps(s,""),n.flags&=-33);var i=Bh(e);ud(e,i,s);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Bh(e);wp(e,u,c);break;default:throw Error(X(161))}}catch(d){De(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;m_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ta(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)c_(e,t.alternate,t),t=t.sibling}function to(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),to(t);break;case 1:Xn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&o_(t,t.return,n),to(t);break;case 27:cl(t.stateNode);case 26:case 5:Xn(t,t.return),to(t);break;case 22:t.memoizedState===null&&to(t);break;case 30:to(t);break;default:to(t)}e=e.sibling}}function aa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:aa(a,o,n),cc(4,o);break;case 1:if(aa(a,o,n),r=o,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){De(r,r.return,u)}if(r=o,a=r.updateQueue,a!==null){var i=r.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)cN(c[a],i)}catch(u){De(r,r.return,u)}}n&&s&64&&a_(o),ol(o,o.return);break;case 27:l_(o);case 26:case 5:aa(a,o,n),n&&r===null&&s&4&&s_(o),ol(o,o.return);break;case 12:aa(a,o,n);break;case 13:aa(a,o,n),n&&s&4&&f_(a,o);break;case 22:o.memoizedState===null&&aa(a,o,n),ol(o,o.return);break;case 30:break;default:aa(a,o,n)}t=t.sibling}}function A0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&oc(n))}function k0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oc(e))}function Gn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(e,t,n,r),t=t.sibling}function p_(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Gn(e,t,n,r),a&2048&&cc(9,t);break;case 1:Gn(e,t,n,r);break;case 3:Gn(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&oc(e)));break;case 12:if(a&2048){Gn(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;typeof i=="function"&&i(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){De(t,t.return,c)}}else Gn(e,t,n,r);break;case 13:Gn(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?Gn(e,t,n,r):sl(e,t):o._visibility&2?Gn(e,t,n,r):(o._visibility|=2,ts(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&A0(s,t);break;case 24:Gn(e,t,n,r),a&2048&&k0(t.alternate,t);break;default:Gn(e,t,n,r)}}function ts(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,s=t,i=n,c=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:ts(o,s,i,c,a),cc(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?ts(o,s,i,c,a):sl(o,s):(d._visibility|=2,ts(o,s,i,c,a)),a&&u&2048&&A0(s.alternate,s);break;case 24:ts(o,s,i,c,a),a&&u&2048&&k0(s.alternate,s);break;default:ts(o,s,i,c,a)}t=t.sibling}}function sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:sl(n,r),a&2048&&A0(r.alternate,r);break;case 24:sl(n,r),a&2048&&k0(r.alternate,r);break;default:sl(n,r)}t=t.sibling}}var Fi=8192;function Fo(e){if(e.subtreeFlags&Fi)for(e=e.child;e!==null;)g_(e),e=e.sibling}function g_(e){switch(e.tag){case 26:Fo(e),e.flags&Fi&&e.memoizedState!==null&&t3(Rn,e.memoizedState,e.memoizedProps);break;case 5:Fo(e);break;case 3:case 4:var t=Rn;Rn=yd(e.stateNode.containerInfo),Fo(e),Rn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Fi,Fi=16777216,Fo(e),Fi=t):Fo(e));break;default:Fo(e)}}function y_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ji(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ht=r,x_(r,e)}y_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v_(e),e=e.sibling}function v_(e){switch(e.tag){case 0:case 11:case 15:ji(e),e.flags&2048&&za(9,e,e.return);break;case 3:ji(e);break;case 12:ji(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ju(e)):ji(e);break;default:ji(e)}}function ju(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ht=r,x_(r,e)}y_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:za(8,t,t.return),ju(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ju(t));break;default:ju(t)}e=e.sibling}}function x_(e,t){for(;ht!==null;){var n=ht;switch(n.tag){case 0:case 11:case 15:za(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:oc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ht=r;else e:for(n=e;ht!==null;){r=ht;var a=r.sibling,o=r.return;if(u_(r),r===n){ht=null;break e}if(a!==null){a.return=o,ht=a;break e}ht=o}}}var y4={getCacheForType:function(e){var t=At(it),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},v4=typeof WeakMap=="function"?WeakMap:Map,ke=0,ze=null,xe=null,Se=0,Ae=0,Jt=null,ba=!1,si=!1,j0=!1,Fr=0,Ye=0,Oa=0,mo=0,T0=0,bn=0,Us=0,il=null,Bt=null,Sp=!1,R0=0,dd=1/0,fd=null,Ca=null,St=0,Aa=null,Gs=null,Cs=0,Np=0,_p=null,b_=null,ll=0,Ep=null;function sn(){if(ke&2&&Se!==0)return Se&-Se;if(ie.T!==null){var e=Is;return e!==0?e:D0()}return RS()}function w_(){bn===0&&(bn=!(Se&536870912)||_e?AS():536870912);var e=_n.current;return e!==null&&(e.flags|=32),bn}function ln(e,t,n){(e===ze&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),wa(e,Se,bn,!1)),ec(e,n),(!(ke&2)||e!==ze)&&(e===ze&&(!(ke&2)&&(mo|=n),Ye===4&&wa(e,Se,bn,!1)),ir(e))}function S_(e,t,n){if(ke&6)throw Error(X(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Jl(e,t),a=r?w4(e,t):Uh(e,t,!0),o=r;do{if(a===0){si&&!r&&wa(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!x4(n)){a=Uh(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var i=e;a=il;var c=i.current.memoizedState.isDehydrated;if(c&&(Vs(i,s).flags|=256),s=Uh(i,s,!1),s!==2){if(j0&&!c){i.errorRecoveryDisabledLanes|=o,mo|=o,a=4;break e}o=Bt,Bt=a,o!==null&&(Bt===null?Bt=o:Bt.push.apply(Bt,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Vs(e,0),wa(e,t,0,!0);break}e:{switch(r=e,o=a,o){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:wa(r,t,bn,!ba);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(a=R0+300-Jn(),10<a)){if(wa(r,t,bn,!ba),af(r,0,!0)!==0)break e;r.timeoutHandle=H_(Ux.bind(null,r,n,Bt,fd,Sp,t,bn,mo,Us,ba,o,2,-0,0),a);break e}Ux(r,n,Bt,fd,Sp,t,bn,mo,Us,ba,o,0,-0,0)}}break}while(!0);ir(e)}function Ux(e,t,n,r,a,o,s,i,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:e3},g_(t),f=n3(),f!==null)){e.cancelPendingCommit=f(Vx.bind(null,e,t,o,n,r,a,s,i,c,d,1,h,m)),wa(e,o,s,!u);return}Vx(e,t,o,n,r,a,s,i,c)}function x4(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!un(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wa(e,t,n,r){t&=~T0,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-on(a),s=1<<o;r[o]=-1,a&=~s}n!==0&&jS(e,n,t)}function pf(){return ke&6?!0:(uc(0),!1)}function M0(){if(xe!==null){if(Ae===0)var e=xe.return;else e=xe,jr=zo=null,v0(e),Es=null,bl=0,e=xe;for(;e!==null;)r_(e.alternate,e),e=e.return;xe=null}}function Vs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,L4(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),M0(),ze=e,xe=n=Dr(e.current,null),Se=t,Ae=0,Jt=null,ba=!1,si=Jl(e,t),j0=!1,Us=bn=T0=mo=Oa=Ye=0,Bt=il=null,Sp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-on(r),o=1<<a;t|=e[a],r&=~o}return Fr=t,cf(),n}function N_(e,t){me=null,ie.H=od,t===sc||t===df?(t=wx(),Ae=3):t===iN?(t=wx(),Ae=4):Ae=t===WN?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,xe===null&&(Ye=1,ld(e,xn(t,e.current)))}function __(){var e=ie.H;return ie.H=od,e===null?od:e}function E_(){var e=ie.A;return ie.A=y4,e}function Cp(){Ye=4,ba||(Se&4194048)!==Se&&_n.current!==null||(si=!0),!(Oa&134217727)&&!(mo&134217727)||ze===null||wa(ze,Se,bn,!1)}function Uh(e,t,n){var r=ke;ke|=2;var a=__(),o=E_();(ze!==e||Se!==t)&&(fd=null,Vs(e,t)),t=!1;var s=Ye;e:do try{if(Ae!==0&&xe!==null){var i=xe,c=Jt;switch(Ae){case 8:M0(),s=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(t=!0);var u=Ae;if(Ae=0,Jt=null,gs(e,i,c,u),n&&si){s=0;break e}break;default:u=Ae,Ae=0,Jt=null,gs(e,i,c,u)}}b4(),s=Ye;break}catch(d){N_(e,d)}while(!0);return t&&e.shellSuspendCounter++,jr=zo=null,ke=r,ie.H=a,ie.A=o,xe===null&&(ze=null,Se=0,cf()),s}function b4(){for(;xe!==null;)C_(xe)}function w4(e,t){var n=ke;ke|=2;var r=__(),a=E_();ze!==e||Se!==t?(fd=null,dd=Jn()+500,Vs(e,t)):si=Jl(e,t);e:do try{if(Ae!==0&&xe!==null){t=xe;var o=Jt;t:switch(Ae){case 1:Ae=0,Jt=null,gs(e,t,o,1);break;case 2:case 9:if(bx(o)){Ae=0,Jt=null,Gx(t);break}t=function(){Ae!==2&&Ae!==9||ze!==e||(Ae=7),ir(e)},o.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:bx(o)?(Ae=0,Jt=null,Gx(t)):(Ae=0,Jt=null,gs(e,t,o,7));break;case 5:var s=null;switch(xe.tag){case 26:s=xe.memoizedState;case 5:case 27:var i=xe;if(!s||V_(s)){Ae=0,Jt=null;var c=i.sibling;if(c!==null)xe=c;else{var u=i.return;u!==null?(xe=u,gf(u)):xe=null}break t}}Ae=0,Jt=null,gs(e,t,o,5);break;case 6:Ae=0,Jt=null,gs(e,t,o,6);break;case 8:M0(),Ye=6;break e;default:throw Error(X(462))}}S4();break}catch(d){N_(e,d)}while(!0);return jr=zo=null,ie.H=r,ie.A=a,ke=n,xe!==null?0:(ze=null,Se=0,cf(),Ye)}function S4(){for(;xe!==null&&!GM();)C_(xe)}function C_(e){var t=n_(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,t===null?gf(e):xe=t}function Gx(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lx(n,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Lx(n,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:v0(t);default:r_(n,t),t=xe=rN(t,Fr),t=n_(n,t,Fr)}e.memoizedProps=e.pendingProps,t===null?gf(e):xe=t}function gs(e,t,n,r){jr=zo=null,v0(t),Es=null,bl=0;var a=t.return;try{if(d4(e,a,t,n,Se)){Ye=1,ld(e,xn(n,e.current)),xe=null;return}}catch(o){if(a!==null)throw xe=a,o;Ye=1,ld(e,xn(n,e.current)),xe=null;return}t.flags&32768?(_e||r===1?e=!0:si||Se&536870912?e=!1:(ba=e=!0,(r===2||r===9||r===3||r===6)&&(r=_n.current,r!==null&&r.tag===13&&(r.flags|=16384))),A_(t,e)):gf(t)}function gf(e){var t=e;do{if(t.flags&32768){A_(t,ba);return}e=t.return;var n=h4(t.alternate,t,Fr);if(n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);Ye===0&&(Ye=5)}function A_(e,t){do{var n=m4(e.alternate,e);if(n!==null){n.flags&=32767,xe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){xe=e;return}xe=e=n}while(e!==null);Ye=6,xe=null}function Vx(e,t,n,r,a,o,s,i,c){e.cancelPendingCommit=null;do yf();while(St!==0);if(ke&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(o=t.lanes|t.childLanes,o|=o0,eD(e,n,o,s,i,c),e===ze&&(xe=ze=null,Se=0),Gs=t,Aa=e,Cs=n,Np=o,_p=a,b_=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,C4(Xu,function(){return M_(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=ie.T,ie.T=null,a=Ee.p,Ee.p=2,s=ke,ke|=4;try{p4(e,t,n)}finally{ke=s,Ee.p=a,ie.T=r}}St=1,k_(),j_(),T_()}}function k_(){if(St===1){St=0;var e=Aa,t=Gs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=Ee.p;Ee.p=2;var a=ke;ke|=4;try{h_(t,e);var o=Tp,s=XS(e.containerInfo),i=o.focusedElem,c=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&qS(i.ownerDocument.documentElement,i)){if(c!==null&&a0(i)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(d,i.value.length);else{var f=i.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),y=i.textContent.length,x=Math.min(c.start,y),w=c.end===void 0?x:Math.min(c.end,y);!m.extend&&x>w&&(s=w,w=x,x=s);var v=fx(i,x),g=fx(i,w);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var b=f.createRange();b.setStart(v.node,v.offset),m.removeAllRanges(),x>w?(m.addRange(b),m.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),m.addRange(b))}}}}for(f=[],m=i;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<f.length;i++){var S=f[i];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}bd=!!jp,Tp=jp=null}finally{ke=a,Ee.p=r,ie.T=n}}e.current=t,St=2}}function j_(){if(St===2){St=0;var e=Aa,t=Gs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=Ee.p;Ee.p=2;var a=ke;ke|=4;try{c_(e,t.alternate,t)}finally{ke=a,Ee.p=r,ie.T=n}}St=3}}function T_(){if(St===4||St===3){St=0,VM();var e=Aa,t=Gs,n=Cs,r=b_;t.subtreeFlags&10256||t.flags&10256?St=5:(St=0,Gs=Aa=null,R_(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ca=null),Wg(n),t=t.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ql,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=ie.T,a=Ee.p,Ee.p=2,ie.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{ie.T=t,Ee.p=a}}Cs&3&&yf(),ir(e),a=e.pendingLanes,n&4194090&&a&42?e===Ep?ll++:(ll=0,Ep=e):ll=0,uc(0)}}function R_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,oc(t)))}function yf(e){return k_(),j_(),T_(),M_()}function M_(){if(St!==5)return!1;var e=Aa,t=Np;Np=0;var n=Wg(Cs),r=ie.T,a=Ee.p;try{Ee.p=32>n?32:n,ie.T=null,n=_p,_p=null;var o=Aa,s=Cs;if(St=0,Gs=Aa=null,Cs=0,ke&6)throw Error(X(331));var i=ke;if(ke|=4,v_(o.current),p_(o,o.current,s,n),ke=i,uc(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ql,o)}catch{}return!0}finally{Ee.p=a,ie.T=r,R_(e,t)}}function Zx(e,t,n){t=xn(n,t),t=vp(e.stateNode,t,2),e=Ea(e,t,2),e!==null&&(ec(e,2),ir(e))}function De(e,t,n){if(e.tag===3)Zx(e,e,n);else for(;t!==null;){if(t.tag===3){Zx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ca===null||!Ca.has(r))){e=xn(n,e),n=XN(2),r=Ea(t,n,2),r!==null&&(KN(n,r,t,e),ec(r,2),ir(r));break}}t=t.return}}function Gh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v4;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(j0=!0,a.add(n),e=N4.bind(null,e,t,n),t.then(e,e))}function N4(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ze===e&&(Se&n)===n&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>Jn()-R0?!(ke&2)&&Vs(e,0):T0|=n,Us===Se&&(Us=0)),ir(e)}function D_(e,t){t===0&&(t=kS()),e=oi(e,t),e!==null&&(ec(e,t),ir(e))}function _4(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),D_(e,n)}function E4(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(t),D_(e,n)}function C4(e,t){return Xg(e,t)}var hd=null,ns=null,Ap=!1,md=!1,Vh=!1,po=0;function ir(e){e!==ns&&e.next===null&&(ns===null?hd=ns=e:ns=ns.next=e),md=!0,Ap||(Ap=!0,k4())}function uc(e,t){if(!Vh&&md){Vh=!0;do for(var n=!1,r=hd;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-on(42|e)+1)-1,o&=a&~(s&~i),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Yx(r,o))}else o=Se,o=af(r,r===ze?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||Jl(r,o)||(n=!0,Yx(r,o));r=r.next}while(n);Vh=!1}}function A4(){z_()}function z_(){md=Ap=!1;var e=0;po!==0&&($4()&&(e=po),po=0);for(var t=Jn(),n=null,r=hd;r!==null;){var a=r.next,o=O_(r,t);o===0?(r.next=null,n===null?hd=a:n.next=a,a===null&&(ns=n)):(n=r,(e!==0||o&3)&&(md=!0)),r=a}uc(e)}function O_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-on(o),i=1<<s,c=a[s];c===-1?(!(i&n)||i&r)&&(a[s]=JM(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}if(t=ze,n=Se,n=af(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&yh(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Jl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&yh(r),Wg(n)){case 2:case 8:n=ES;break;case 32:n=Xu;break;case 268435456:n=CS;break;default:n=Xu}return r=$_.bind(null,e),n=Xg(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&yh(r),e.callbackPriority=2,e.callbackNode=null,2}function $_(e,t){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yf()&&e.callbackNode!==n)return null;var r=Se;return r=af(e,e===ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(S_(e,r,t),O_(e,Jn()),e.callbackNode!=null&&e.callbackNode===n?$_.bind(null,e):null)}function Yx(e,t){if(yf())return null;S_(e,t,!0)}function k4(){P4(function(){ke&6?Xg(_S,A4):z_()})}function D0(){return po===0&&(po=AS()),po}function qx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wu(""+e)}function Xx(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function j4(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var o=qx((a[Ut]||null).action),s=r.submitter;s&&(t=(t=s[Ut]||null)?qx(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var i=new of("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(po!==0){var c=s?Xx(a,s):new FormData(a);gp(n,{pending:!0,data:c,method:a.method,action:o},null,c)}}else typeof o=="function"&&(i.preventDefault(),c=s?Xx(a,s):new FormData(a),gp(n,{pending:!0,data:c,method:a.method,action:o},o,c))},currentTarget:a}]})}}for(var Zh=0;Zh<ap.length;Zh++){var Yh=ap[Zh],T4=Yh.toLowerCase(),R4=Yh[0].toUpperCase()+Yh.slice(1);Pn(T4,"on"+R4)}Pn(WS,"onAnimationEnd");Pn(QS,"onAnimationIteration");Pn(JS,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(qD,"onTransitionRun");Pn(XD,"onTransitionStart");Pn(KD,"onTransitionCancel");Pn(eN,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function L_(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){id(d)}a.currentTarget=null,o=c}else for(s=0;s<r.length;s++){if(i=r[s],c=i.instance,u=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(d){id(d)}a.currentTarget=null,o=c}}}}function ye(e,t){var n=t[Wm];n===void 0&&(n=t[Wm]=new Set);var r=e+"__bubble";n.has(r)||(P_(t,e,2,!1),n.add(r))}function qh(e,t,n){var r=0;t&&(r|=4),P_(n,e,r,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function z0(e){if(!e[Fc]){e[Fc]=!0,MS.forEach(function(n){n!=="selectionchange"&&(M4.has(n)||qh(n,!1,e),qh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fc]||(t[Fc]=!0,qh("selectionchange",!1,t))}}function P_(e,t,n,r){switch(K_(t)){case 2:var a=o3;break;case 8:a=s3;break;default:a=P0}n=a.bind(null,t,n,e),a=void 0,!tp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Xh(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;i!==null;){if(s=is(i),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=o=s;continue e}i=i.parentNode}}r=r.return}BS(function(){var u=o,d=e0(n),f=[];e:{var h=tN.get(e);if(h!==void 0){var m=of,y=e;switch(e){case"keypress":if(Nu(n)===0)break e;case"keydown":case"keyup":m=CD;break;case"focusin":y="focus",m=Eh;break;case"focusout":y="blur",m=Eh;break;case"beforeblur":case"afterblur":m=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=jD;break;case WS:case QS:case JS:m=yD;break;case eN:m=RD;break;case"scroll":case"scrollend":m=fD;break;case"wheel":m=DD;break;case"copy":case"cut":case"paste":m=xD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ax;break;case"toggle":case"beforetoggle":m=OD}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),v=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,b;g!==null;){var S=g;if(b=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||b===null||v===null||(S=pl(g,v),S!=null&&x.push(Sl(g,S,b))),w)break;g=g.return}0<x.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==ep&&(y=n.relatedTarget||n.fromElement)&&(is(y)||y[ri]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?is(y):null,y!==null&&(w=Wl(y),x=y.tag,y!==w||x!==5&&x!==27&&x!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=nx,S="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=ax,S="onPointerLeave",v="onPointerEnter",g="pointer"),w=m==null?h:Hi(m),b=y==null?h:Hi(y),h=new x(S,g+"leave",m,n,d),h.target=w,h.relatedTarget=b,S=null,is(d)===u&&(x=new x(v,g+"enter",y,n,d),x.target=b,x.relatedTarget=w,S=x),w=S,m&&y)t:{for(x=m,v=y,g=0,b=x;b;b=Uo(b))g++;for(b=0,S=v;S;S=Uo(S))b++;for(;0<g-b;)x=Uo(x),g--;for(;0<b-g;)v=Uo(v),b--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=Uo(x),v=Uo(v)}x=null}else x=null;m!==null&&Kx(f,h,m,x,!1),y!==null&&w!==null&&Kx(f,w,y,x,!0)}}e:{if(h=u?Hi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=lx;else if(ix(h))if(ZS)_=VD;else{_=UD;var A=FD}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Jg(u.elementType)&&(_=lx):_=GD;if(_&&(_=_(e,u))){VS(f,_,n,d);break e}A&&A(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Jm(h,"number",h.value)}switch(A=u?Hi(u):window,e){case"focusin":(ix(A)||A.contentEditable==="true")&&(us=A,np=u,Qi=null);break;case"focusout":Qi=np=us=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,hx(f,n,d);break;case"selectionchange":if(YD)break;case"keydown":case"keyup":hx(f,n,d)}var N;if(r0)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else cs?US(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(FS&&n.locale!=="ko"&&(cs||E!=="onCompositionStart"?E==="onCompositionEnd"&&cs&&(N=HS()):(xa=d,t0="value"in xa?xa.value:xa.textContent,cs=!0)),A=pd(u,E),0<A.length&&(E=new rx(E,e,null,n,d),f.push({event:E,listeners:A}),N?E.data=N:(N=GS(n),N!==null&&(E.data=N)))),(N=LD?PD(e,n):ID(e,n))&&(E=pd(u,"onBeforeInput"),0<E.length&&(A=new rx("onBeforeInput","beforeinput",null,n,d),f.push({event:A,listeners:E}),A.data=N)),j4(f,e,u,n,d)}L_(f,t)})}function Sl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=pl(e,n),a!=null&&r.unshift(Sl(e,a,o)),a=pl(e,t),a!=null&&r.push(Sl(e,a,o))),e.tag===3)return r;e=e.return}return[]}function Uo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kx(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,c=i.alternate,u=i.stateNode;if(i=i.tag,c!==null&&c===r)break;i!==5&&i!==26&&i!==27||u===null||(c=u,a?(u=pl(n,o),u!=null&&s.unshift(Sl(n,u,c))):a||(u=pl(n,o),u!=null&&s.push(Sl(n,u,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var D4=/\r\n?/g,z4=/\u0000|\uFFFD/g;function Wx(e){return(typeof e=="string"?e:""+e).replace(D4,`
`).replace(z4,"")}function I_(e,t){return t=Wx(t),Wx(e)===t}function vf(){}function je(e,t,n,r,a,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ps(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ps(e,""+r);break;case"className":Oc(e,"class",r);break;case"tabIndex":Oc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Oc(e,n,r);break;case"style":IS(e,r,o);break;case"data":if(t!=="object"){Oc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=wu(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&je(e,t,"name",a.name,a,null),je(e,t,"formEncType",a.formEncType,a,null),je(e,t,"formMethod",a.formMethod,a,null),je(e,t,"formTarget",a.formTarget,a,null)):(je(e,t,"encType",a.encType,a,null),je(e,t,"method",a.method,a,null),je(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=wu(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=vf);break;case"onScroll":r!=null&&ye("scroll",e);break;case"onScrollEnd":r!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=wu(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ye("beforetoggle",e),ye("toggle",e),bu(e,"popover",r);break;case"xlinkActuate":vr(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vr(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vr(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vr(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vr(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vr(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vr(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":bu(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=uD.get(n)||n,bu(e,n,r))}}function kp(e,t,n,r,a,o){switch(n){case"style":IS(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Ps(e,r):(typeof r=="number"||typeof r=="bigint")&&Ps(e,""+r);break;case"onScroll":r!=null&&ye("scroll",e);break;case"onScrollEnd":r!=null&&ye("scrollend",e);break;case"onClick":r!=null&&(e.onclick=vf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!DS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[Ut]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):bu(e,n,r)}}}function Nt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:je(e,t,o,s,n,null)}}a&&je(e,t,"srcSet",n.srcSet,n,null),r&&je(e,t,"src",n.src,n,null);return;case"input":ye("invalid",e);var i=o=s=a=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":o=d;break;case"defaultValue":i=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(X(137,t));break;default:je(e,t,r,d,n,null)}}$S(e,o,i,c,u,s,a,!1),Ku(e);return;case"select":ye("invalid",e),r=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":o=i;break;case"defaultValue":s=i;break;case"multiple":r=i;default:je(e,t,a,i,n,null)}t=o,n=s,e.multiple=!!r,t!=null?bs(e,!!r,t,!1):n!=null&&bs(e,!!r,n,!0);return;case"textarea":ye("invalid",e),o=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(i=n[s],i!=null))switch(s){case"value":r=i;break;case"defaultValue":a=i;break;case"children":o=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(X(91));break;default:je(e,t,s,i,n,null)}PS(e,r,a,o),Ku(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:je(e,t,c,r,n,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(r=0;r<wl.length;r++)ye(wl[r],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:je(e,t,u,r,n,null)}return;default:if(Jg(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&kp(e,t,d,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&je(e,t,i,r,n,null))}function O4(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||je(e,t,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":s=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(X(137,t));break;default:m!==f&&je(e,t,h,m,r,f)}}Qm(e,s,i,c,u,d,o,a);return;case"select":m=s=i=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(o)||je(e,t,o,null,r,c)}for(a in r)if(o=r[a],c=n[a],r.hasOwnProperty(a)&&(o!=null||c!=null))switch(a){case"value":h=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==c&&je(e,t,a,o,r,c)}t=i,n=s,r=m,h!=null?bs(e,!!n,h,!1):!!r!=!!n&&(t!=null?bs(e,!!n,t,!0):bs(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:je(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(X(91));break;default:a!==o&&je(e,t,s,a,r,o)}LS(e,h,m);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!r.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:je(e,t,y,null,r,h)}for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:je(e,t,c,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x)&&je(e,t,x,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(X(137,t));break;default:je(e,t,u,h,r,m)}return;default:if(Jg(t)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!r.hasOwnProperty(w)&&kp(e,t,w,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||kp(e,t,d,h,r,m);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v)&&je(e,t,v,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h==null&&m==null||je(e,t,f,h,r,m)}var jp=null,Tp=null;function gd(e){return e.nodeType===9?e:e.ownerDocument}function Qx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kh=null;function $4(){var e=window.event;return e&&e.type==="popstate"?e===Kh?!1:(Kh=e,!0):(Kh=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,Jx=typeof Promise=="function"?Promise:void 0,P4=typeof queueMicrotask=="function"?queueMicrotask:typeof Jx<"u"?function(e){return Jx.resolve(null).then(e).catch(I4)}:H_;function I4(e){setTimeout(function(){throw e})}function Ia(e){return e==="head"}function eb(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(n&1&&cl(s.documentElement),n&2&&cl(s.body),n&4)for(n=s.head,cl(n),s=n.firstChild;s;){var i=s.nextSibling,c=s.nodeName;s[tc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}if(a===0){e.removeChild(o),Al(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Al(t)}function Mp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Mp(n),Qg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function B4(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[tc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function H4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function Dp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function F4(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var zp=null;function tb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function F_(e,t,n){switch(t=gd(n),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qg(e)}var En=new Map,nb=new Set;function yd(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kr=Ee.d;Ee.d={f:U4,r:G4,D:V4,C:Z4,L:Y4,m:q4,X:K4,S:X4,M:W4};function U4(){var e=Kr.f(),t=pf();return e||t}function G4(e){var t=ai(e);t!==null&&t.tag===5&&t.type==="form"?ON(t):Kr.r(e)}var ii=typeof document>"u"?null:document;function U_(e,t,n){var r=ii;if(r&&typeof t=="string"&&t){var a=vn(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),nb.has(a)||(nb.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Nt(t,"link",e),mt(t),r.head.appendChild(t)))}}function V4(e){Kr.D(e),U_("dns-prefetch",e,null)}function Z4(e,t){Kr.C(e,t),U_("preconnect",e,t)}function Y4(e,t,n){Kr.L(e,t,n);var r=ii;if(r&&e&&t){var a='link[rel="preload"][as="'+vn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+vn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+vn(n.imageSizes)+'"]')):a+='[href="'+vn(e)+'"]';var o=a;switch(t){case"style":o=Zs(e);break;case"script":o=li(e)}En.has(o)||(e=$e({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),En.set(o,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(dc(o))||t==="script"&&r.querySelector(fc(o))||(t=r.createElement("link"),Nt(t,"link",e),mt(t),r.head.appendChild(t)))}}function q4(e,t){Kr.m(e,t);var n=ii;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+vn(r)+'"][href="'+vn(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=li(e)}if(!En.has(o)&&(e=$e({rel:"modulepreload",href:e},t),En.set(o,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fc(o)))return}r=n.createElement("link"),Nt(r,"link",e),mt(r),n.head.appendChild(r)}}}function X4(e,t,n){Kr.S(e,t,n);var r=ii;if(r&&e){var a=xs(r).hoistableStyles,o=Zs(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(dc(o)))i.loading=5;else{e=$e({rel:"stylesheet",href:e,"data-precedence":t},n),(n=En.get(o))&&O0(e,n);var c=s=r.createElement("link");mt(c),Nt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){i.loading|=1}),c.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Tu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}}function K4(e,t){Kr.X(e,t);var n=ii;if(n&&e){var r=xs(n).hoistableScripts,a=li(e),o=r.get(a);o||(o=n.querySelector(fc(a)),o||(e=$e({src:e,async:!0},t),(t=En.get(a))&&$0(e,t),o=n.createElement("script"),mt(o),Nt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function W4(e,t){Kr.M(e,t);var n=ii;if(n&&e){var r=xs(n).hoistableScripts,a=li(e),o=r.get(a);o||(o=n.querySelector(fc(a)),o||(e=$e({src:e,async:!0,type:"module"},t),(t=En.get(a))&&$0(e,t),o=n.createElement("script"),mt(o),Nt(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function rb(e,t,n,r){var a=(a=Na.current)?yd(a):null;if(!a)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Zs(n.href),n=xs(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Zs(n.href);var o=xs(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(dc(e)))&&!o._p&&(s.instance=o,s.state.loading=5),En.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},En.set(e,n),o||Q4(a,e,n,s.state))),t&&r===null)throw Error(X(528,""));return s}if(t&&r!==null)throw Error(X(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=li(n),n=xs(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function Zs(e){return'href="'+vn(e)+'"'}function dc(e){return'link[rel="stylesheet"]['+e+"]"}function G_(e){return $e({},e,{"data-precedence":e.precedence,precedence:null})}function Q4(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Nt(t,"link",n),mt(t),e.head.appendChild(t))}function li(e){return'[src="'+vn(e)+'"]'}function fc(e){return"script[async]"+e}function ab(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vn(n.href)+'"]');if(r)return t.instance=r,mt(r),r;var a=$e({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),mt(r),Nt(r,"style",a),Tu(r,n.precedence,e),t.instance=r;case"stylesheet":a=Zs(n.href);var o=e.querySelector(dc(a));if(o)return t.state.loading|=4,t.instance=o,mt(o),o;r=G_(n),(a=En.get(a))&&O0(r,a),o=(e.ownerDocument||e).createElement("link"),mt(o);var s=o;return s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Nt(o,"link",r),t.state.loading|=4,Tu(o,n.precedence,e),t.instance=o;case"script":return o=li(n.src),(a=e.querySelector(fc(o)))?(t.instance=a,mt(a),a):(r=n,(a=En.get(o))&&(r=$e({},n),$0(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Nt(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Tu(r,n.precedence,e));return t.instance}function Tu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function O0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ru=null;function ob(e,t,n){if(Ru===null){var r=new Map,a=Ru=new Map;a.set(n,r)}else a=Ru,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[tc]||o[Ct]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function sb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function J4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Nl=null;function e3(){}function t3(e,t,n){if(Nl===null)throw Error(X(475));var r=Nl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=Zs(n.href),o=e.querySelector(dc(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=vd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,mt(o);return}o=e.ownerDocument||e,n=G_(n),(a=En.get(a))&&O0(n,a),o=o.createElement("link"),mt(o);var s=o;s._p=new Promise(function(i,c){s.onload=i,s.onerror=c}),Nt(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=vd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function n3(){if(Nl===null)throw Error(X(475));var e=Nl;return e.stylesheets&&e.count===0&&Op(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Op(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function vd(){if(this.count--,this.count===0){if(this.stylesheets)Op(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xd=null;function Op(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xd=new Map,t.forEach(r3,e),xd=null,vd.call(e))}function r3(e,t){if(!(t.state.loading&4)){var n=xd.get(e);if(n)var r=n.get(null);else{n=new Map,xd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,a),n.set(s,a),this.count++,r=vd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var _l={$$typeof:Cr,Provider:null,Consumer:null,_currentValue:lo,_currentValue2:lo,_threadCount:0};function a3(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.hiddenUpdates=vh(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Z_(e,t,n,r,a,o,s,i,c,u,d,f){return e=new a3(e,t,n,s,i,c,u,f),t=1,o===!0&&(t|=24),o=rn(3,null,null,t),e.current=o,o.stateNode=e,t=u0(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},f0(o),e}function Y_(e){return e?(e=hs,e):hs}function q_(e,t,n,r,a,o){a=Y_(a),r.context===null?r.context=a:r.pendingContext=a,r=_a(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Ea(e,r,t),n!==null&&(ln(n,e,t),tl(n,e,t))}function ib(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function L0(e,t){ib(e,t),(e=e.alternate)&&ib(e,t)}function X_(e){if(e.tag===13){var t=oi(e,67108864);t!==null&&ln(t,e,67108864),L0(e,67108864)}}var bd=!0;function o3(e,t,n,r){var a=ie.T;ie.T=null;var o=Ee.p;try{Ee.p=2,P0(e,t,n,r)}finally{Ee.p=o,ie.T=a}}function s3(e,t,n,r){var a=ie.T;ie.T=null;var o=Ee.p;try{Ee.p=8,P0(e,t,n,r)}finally{Ee.p=o,ie.T=a}}function P0(e,t,n,r){if(bd){var a=$p(r);if(a===null)Xh(e,t,r,wd,n),lb(e,r);else if(l3(a,e,t,n,r))r.stopPropagation();else if(lb(e,r),t&4&&-1<i3.indexOf(e)){for(;a!==null;){var o=ai(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Ja(o.pendingLanes);if(s!==0){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var c=1<<31-on(s);i.entanglements[1]|=c,s&=~c}ir(o),!(ke&6)&&(dd=Jn()+500,uc(0))}}break;case 13:i=oi(o,2),i!==null&&ln(i,o,2),pf(),L0(o,2)}if(o=$p(r),o===null&&Xh(e,t,r,wd,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else Xh(e,t,r,null,n)}}function $p(e){return e=e0(e),I0(e)}var wd=null;function I0(e){if(wd=null,e=is(e),e!==null){var t=Wl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=bS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wd=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ZM()){case _S:return 2;case ES:return 8;case Xu:case YM:return 32;case CS:return 268435456;default:return 32}default:return 32}}var Lp=!1,ka=null,ja=null,Ta=null,El=new Map,Cl=new Map,ha=[],i3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":El.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(t.pointerId)}}function Ti(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=ai(t),t!==null&&X_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function l3(e,t,n,r,a){switch(t){case"focusin":return ka=Ti(ka,e,t,n,r,a),!0;case"dragenter":return ja=Ti(ja,e,t,n,r,a),!0;case"mouseover":return Ta=Ti(Ta,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return El.set(o,Ti(El.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Cl.set(o,Ti(Cl.get(o)||null,e,t,n,r,a)),!0}return!1}function W_(e){var t=is(e.target);if(t!==null){var n=Wl(t);if(n!==null){if(t=n.tag,t===13){if(t=bS(n),t!==null){e.blockedOn=t,tD(e.priority,function(){if(n.tag===13){var r=sn();r=Kg(r);var a=oi(n,r);a!==null&&ln(a,n,r),L0(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$p(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ep=r,n.target.dispatchEvent(r),ep=null}else return t=ai(n),t!==null&&X_(t),e.blockedOn=n,!1;t.shift()}return!0}function cb(e,t,n){Mu(e)&&n.delete(t)}function c3(){Lp=!1,ka!==null&&Mu(ka)&&(ka=null),ja!==null&&Mu(ja)&&(ja=null),Ta!==null&&Mu(Ta)&&(Ta=null),El.forEach(cb),Cl.forEach(cb)}function Uc(e,t){e.blockedOn===t&&(e.blockedOn=null,Lp||(Lp=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,c3)))}var Gc=null;function ub(e){Gc!==e&&(Gc=e,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,function(){Gc===e&&(Gc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(I0(r||n)===null)continue;break}var o=ai(n);o!==null&&(e.splice(t,3),t-=3,gp(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Al(e){function t(c){return Uc(c,e)}ka!==null&&Uc(ka,e),ja!==null&&Uc(ja,e),Ta!==null&&Uc(Ta,e),El.forEach(t),Cl.forEach(t);for(var n=0;n<ha.length;n++){var r=ha[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)W_(n),n.blockedOn===null&&ha.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[Ut]||null;if(typeof o=="function")s||ub(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[Ut]||null)i=s.formAction;else if(I0(a)!==null)continue}else i=s.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),ub(n)}}}function B0(e){this._internalRoot=e}xf.prototype.render=B0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var n=t.current,r=sn();q_(n,r,e,t,null,null)};xf.prototype.unmount=B0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;q_(e.current,2,null,e,null,null),pf(),t[ri]=null}};function xf(e){this._internalRoot=e}xf.prototype.unstable_scheduleHydration=function(e){if(e){var t=RS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ha.length&&t!==0&&t<ha[n].priority;n++);ha.splice(n,0,e),n===0&&W_(e)}};var db=vS.version;if(db!=="19.1.0")throw Error(X(527,db,"19.1.0"));Ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=IM(t),e=e!==null?wS(e):null,e=e===null?null:e.stateNode,e};var u3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Ql=Vc.inject(u3),an=Vc}catch{}}nf.createRoot=function(e,t){if(!xS(e))throw Error(X(299));var n=!1,r="",a=ZN,o=YN,s=qN,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=Z_(e,1,!1,null,null,n,r,a,o,s,i,null),e[ri]=t.current,z0(e),new B0(t)};nf.hydrateRoot=function(e,t,n){if(!xS(e))throw Error(X(299));var r=!1,a="",o=ZN,s=YN,i=qN,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=Z_(e,1,!0,t,n??null,r,a,o,s,i,c,u),t.context=Y_(null),n=t.current,r=sn(),r=Kg(r),a=_a(r),a.callback=null,Ea(n,a,r),n=r,t.current.lanes=n,ec(t,n),ir(t),e[ri]=t.current,z0(e),new xf(t)};nf.version="19.1.0";function Q_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q_)}catch(e){console.error(e)}}Q_(),fS.exports=nf;var d3=fS.exports;const ft={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,HEADER:50,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h3=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),fb=e=>{const t=h3(e);return t.charAt(0).toUpperCase()+t.slice(1)},J_=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),m3=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...i},c)=>p.createElement("svg",{ref:c,...p3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:J_("lucide",a),...!o&&!m3(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const n=p.forwardRef(({className:r,...a},o)=>p.createElement(g3,{ref:o,iconNode:t,className:J_(`lucide-${f3(fb(e))}`,`lucide-${e}`,r),...a}));return n.displayName=fb(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],v3=le("activity",y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eE=le("arrow-left",x3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ul=le("book-open",b3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],hb=le("brain",w3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tE=le("check",S3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yt=le("chevron-down",N3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E3=le("chevron-left",_3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hc=le("chevron-right",C3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],k3=le("circle-check-big",A3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],T3=le("circle-x",j3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],go=le("circle",R3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],D3=le("copy",M3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],nE=le("droplets",z3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mb=le("external-link",O3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Du=le("eye",$3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],Pp=le("flame",L3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],mc=le("grid-3x3",P3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],B3=le("grip-vertical",I3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],F3=le("hammer",H3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Sd=le("hand",U3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],H0=le("heart",G3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Z3=le("house",V3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kl=le("info",Y3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],pc=le("list",q3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],K3=le("map-pin",X3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],rE=le("maximize-2",W3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],J3=le("menu",Q3);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],aE=le("minimize-2",ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M5 12h14",key:"1ays0h"}]],pb=le("minus",tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],rz=le("monitor",nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],oz=le("moon",az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ur=le("plus",sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],F0=le("rotate-ccw",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ba=le("search",lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oE=le("settings",cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],dz=le("share-2",uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ma=le("shield",fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ht=le("star",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],gb=le("sun",mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],Ip=le("sword",pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yz=le("tag",gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sE=le("target",vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],bz=le("trash-2",xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jl=le("triangle-alert",wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dl=le("user",Sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sn=le("x",Nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],As=le("zap",_z);var U0={};Object.defineProperty(U0,"__esModule",{value:!0});U0.parse=Rz;U0.serialize=Mz;const Ez=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Cz=/^[\u0021-\u003A\u003C-\u007E]*$/,Az=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,kz=/^[\u0020-\u003A\u003D-\u007E]*$/,jz=Object.prototype.toString,Tz=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Rz(e,t){const n=new Tz,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||Dz;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const i=e.indexOf(";",o),c=i===-1?r:i;if(s>c){o=e.lastIndexOf(";",s-1)+1;continue}const u=yb(e,o,s),d=vb(e,s,u),f=e.slice(u,d);if(n[f]===void 0){let h=yb(e,s+1,c),m=vb(e,c,h);const y=a(e.slice(h,m));n[f]=y}o=c+1}while(o<r);return n}function yb(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function vb(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Mz(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Ez.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!Cz.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Az.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!kz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!zz(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function Dz(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function zz(e){return jz.call(e)==="[object Date]"}var xb="popstate";function Oz(e={}){function t(a,o){let{pathname:s="/",search:i="",hash:c=""}=Oo(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Bp("",{pathname:s,search:i,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let s=a.document.querySelector("base"),i="";if(s&&s.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");i=u===-1?c:c.slice(0,u)}return i+"#"+(typeof o=="string"?o:Tl(o))}function r(a,o){Cn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Lz(t,n,r,e)}function Fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $z(){return Math.random().toString(36).substring(2,10)}function bb(e,t){return{usr:e.state,key:e.key,idx:t}}function Bp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Oo(t):t,state:n,key:t&&t.key||r||$z()}}function Tl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Lz(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){i="POP";let w=d(),v=w==null?null:w-u;u=w,c&&c({action:i,location:x.location,delta:v})}function h(w,v){i="PUSH";let g=Bp(x.location,w,v);n&&n(g,w),u=d()+1;let b=bb(g,u),S=x.createHref(g);try{s.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(S)}o&&c&&c({action:i,location:x.location,delta:1})}function m(w,v){i="REPLACE";let g=Bp(x.location,w,v);n&&n(g,w),u=d();let b=bb(g,u),S=x.createHref(g);s.replaceState(b,"",S),o&&c&&c({action:i,location:x.location,delta:0})}function y(w){return Pz(w)}let x={get action(){return i},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(xb,f),c=w,()=>{a.removeEventListener(xb,f),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(w){return s.go(w)}};return x}function Pz(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Tl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iE(e,t,n="/"){return Iz(e,t,n,!1)}function Iz(e,t,n,r){let a=typeof t=="string"?Oo(t):t,o=Gr(a.pathname||"/",n);if(o==null)return null;let s=lE(e);Bz(s);let i=null;for(let c=0;i==null&&c<s.length;++c){let u=Wz(o);i=Xz(s[c],u,r)}return i}function lE(e,t=[],n=[],r=""){let a=(o,s,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Fe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=Or([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),lE(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Yz(u,o.index),routesMeta:d})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let c of cE(o.path))a(o,s,c)}),t}function cE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=cE(r.join("/")),i=[];return i.push(...s.map(c=>c===""?o:[o,c].join("/"))),a&&i.push(...s),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Bz(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qz(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Hz=/^:[\w-]+$/,Fz=3,Uz=2,Gz=1,Vz=10,Zz=-2,wb=e=>e==="*";function Yz(e,t){let n=e.split("/"),r=n.length;return n.some(wb)&&(r+=Zz),t&&(r+=Uz),n.filter(a=>!wb(a)).reduce((a,o)=>a+(Hz.test(o)?Fz:o===""?Gz:Vz),r)}function qz(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Xz(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let c=r[i],u=i===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:Or([o,f.pathname]),pathnameBase:tO(Or([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Or([o,f.pathnameBase]))}return s}function Nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Kz(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=i[h]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const m=i[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Kz(e,t=!1,n=!0){Cn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,c)=>(r.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Wz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Gr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Qz(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Oo(e):e;return{pathname:n?n.startsWith("/")?n:Jz(n,t):t,search:nO(r),hash:rO(a)}}function Jz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wh(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function uE(e){let t=eO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function dE(e,t,n,r=!1){let a;typeof e=="string"?a=Oo(e):(a={...e},Fe(!a.pathname||!a.pathname.includes("?"),Wh("?","pathname","search",a)),Fe(!a.pathname||!a.pathname.includes("#"),Wh("#","pathname","hash",a)),Fe(!a.search||!a.search.includes("#"),Wh("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}i=f>=0?t[f]:"/"}let c=Qz(a,i),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Or=e=>e.join("/").replace(/\/\/+/g,"/"),tO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function aO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fE=["POST","PUT","PATCH","DELETE"];new Set(fE);var oO=["GET",...fE];new Set(oO);var ci=p.createContext(null);ci.displayName="DataRouter";var bf=p.createContext(null);bf.displayName="DataRouterState";var hE=p.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var sO=p.createContext(new Map);sO.displayName="Fetchers";var iO=p.createContext(null);iO.displayName="Await";var lr=p.createContext(null);lr.displayName="Navigation";var gc=p.createContext(null);gc.displayName="Location";var cr=p.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var G0=p.createContext(null);G0.displayName="RouteError";function lO(e,{relative:t}={}){Fe(yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(lr),{hash:a,pathname:o,search:s}=vc(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:Or([n,o])),r.createHref({pathname:i,search:s,hash:a})}function yc(){return p.useContext(gc)!=null}function ur(){return Fe(yc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(gc).location}var mE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(e){p.useContext(lr).static||p.useLayoutEffect(e)}function fn(){let{isDataRoute:e}=p.useContext(cr);return e?NO():cO()}function cO(){Fe(yc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(ci),{basename:t,navigator:n}=p.useContext(lr),{matches:r}=p.useContext(cr),{pathname:a}=ur(),o=JSON.stringify(uE(r)),s=p.useRef(!1);return pE(()=>{s.current=!0}),p.useCallback((c,u={})=>{if(Cn(s.current,mE),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=dE(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Or([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,a,e])}var uO=p.createContext(null);function dO(e){let t=p.useContext(cr).outlet;return t&&p.createElement(uO.Provider,{value:e},t)}function vc(e,{relative:t}={}){let{matches:n}=p.useContext(cr),{pathname:r}=ur(),a=JSON.stringify(uE(n));return p.useMemo(()=>dE(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function fO(e,t){return gE(e,t)}function gE(e,t,n,r){var v;Fe(yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=p.useContext(lr),{matches:o}=p.useContext(cr),s=o[o.length-1],i=s?s.params:{},c=s?s.pathname:"/",u=s?s.pathnameBase:"/",d=s&&s.route;{let g=d&&d.path||"";yE(c,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=ur(),h;if(t){let g=typeof t=="string"?Oo(t):t;Fe(u==="/"||((v=g.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),h=g}else h=f;let m=h.pathname||"/",y=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=iE(e,{pathname:y});Cn(d||x!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),Cn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=yO(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},i,g.params),pathname:Or([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Or([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&w?p.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},w):w}function hO(){let e=SO(),t=aO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,s)}var mO=p.createElement(hO,null),pO=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(cr.Provider,{value:this.props.routeContext},p.createElement(G0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gO({routeContext:e,match:t,children:n}){let r=p.useContext(ci);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(cr.Provider,{value:e},n)}function yO(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let c=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Fe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let s=!1,i=-1;if(n)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=c),u.route.id){let{loaderData:d,errors:f}=n,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){s=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,h=!1,m=null,y=null;n&&(f=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||mO,s&&(i<0&&d===0?(yE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):i===d&&(h=!0,y=u.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,d+1)),w=()=>{let v;return f?v=m:h?v=y:u.route.Component?v=p.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=c,p.createElement(gO,{match:u,routeContext:{outlet:c,matches:x,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?p.createElement(pO,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function V0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vO(e){let t=p.useContext(ci);return Fe(t,V0(e)),t}function xO(e){let t=p.useContext(bf);return Fe(t,V0(e)),t}function bO(e){let t=p.useContext(cr);return Fe(t,V0(e)),t}function Z0(e){let t=bO(e),n=t.matches[t.matches.length-1];return Fe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wO(){return Z0("useRouteId")}function SO(){var r;let e=p.useContext(G0),t=xO("useRouteError"),n=Z0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function NO(){let{router:e}=vO("useNavigate"),t=Z0("useNavigate"),n=p.useRef(!1);return pE(()=>{n.current=!0}),p.useCallback(async(a,o={})=>{Cn(n.current,mE),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Sb={};function yE(e,t,n){!t&&!Sb[e]&&(Sb[e]=!0,Cn(!1,n))}p.memo(_O);function _O({routes:e,future:t,state:n}){return gE(e,void 0,n,t)}function EO(e){return dO(e.context)}function Je(e){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Fe(!yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=p.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=Oo(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,m=p.useMemo(()=>{let y=Gr(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:r}},[s,c,u,d,f,h,r]);return Cn(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(lr.Provider,{value:i},p.createElement(gc.Provider,{children:t,value:m}))}function AO({children:e,location:t}){return fO(Hp(e),t)}function Hp(e,t=[]){let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){n.push.apply(n,Hp(r.props.children,o));return}Fe(r.type===Je,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Hp(r.props.children,o)),n.push(s)}),n}var zu="get",Ou="application/x-www-form-urlencoded";function wf(e){return e!=null&&typeof e.tagName=="string"}function kO(e){return wf(e)&&e.tagName.toLowerCase()==="button"}function jO(e){return wf(e)&&e.tagName.toLowerCase()==="form"}function TO(e){return wf(e)&&e.tagName.toLowerCase()==="input"}function RO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MO(e,t){return e.button===0&&(!t||t==="_self")&&!RO(e)}function Fp(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function DO(e,t){let n=Fp(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(o=>{n.append(a,o)})}),n}var Zc=null;function zO(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var OO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qh(e){return e!=null&&!OO.has(e)?(Cn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ou}"`),null):e}function $O(e,t){let n,r,a,o,s;if(jO(e)){let i=e.getAttribute("action");r=i?Gr(i,t):null,n=e.getAttribute("method")||zu,a=Qh(e.getAttribute("enctype"))||Ou,o=new FormData(e)}else if(kO(e)||TO(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||i.getAttribute("action");if(r=c?Gr(c,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||zu,a=Qh(e.getAttribute("formenctype"))||Qh(i.getAttribute("enctype"))||Ou,o=new FormData(i,e),!zO()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,f)}}else{if(wf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zu,r=null,a=Ou,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}function Y0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function LO(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function IO(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await LO(o,n);return s.links?s.links():[]}return[]}));return UO(r.flat(1).filter(PO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Nb(e,t,n,r,a,o){let s=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,i=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return o==="assets"?t.filter((c,u)=>s(c,u)||i(c,u)):o==="data"?t.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||i(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function BO(e,t,{includeHydrateFallback:n}={}){return HO(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function HO(e){return[...new Set(e)]}function FO(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function UO(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(FO(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GO=new Set([100,101,204,205]);function VO(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Gr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vE(){let e=p.useContext(ci);return Y0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ZO(){let e=p.useContext(bf);return Y0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var q0=p.createContext(void 0);q0.displayName="FrameworkContext";function xE(){let e=p.useContext(q0);return Y0(e,"You must render this element inside a <HydratedRouter> element"),e}function YO(e,t){let n=p.useContext(q0),[r,a]=p.useState(!1),[o,s]=p.useState(!1),{onFocus:i,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=v=>{v.forEach(g=>{s(g.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),p.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{a(!0)},y=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Ri(i,m),onBlur:Ri(c,y),onMouseEnter:Ri(u,m),onMouseLeave:Ri(d,y),onTouchStart:Ri(f,m)}]:[!1,h,{}]}function Ri(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function qO({page:e,...t}){let{router:n}=vE(),r=p.useMemo(()=>iE(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(KO,{page:e,matches:r,...t}):null}function XO(e){let{manifest:t,routeModules:n}=xE(),[r,a]=p.useState([]);return p.useEffect(()=>{let o=!1;return IO(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function KO({page:e,matches:t,...n}){let r=ur(),{manifest:a,routeModules:o}=xE(),{basename:s}=vE(),{loaderData:i,matches:c}=ZO(),u=p.useMemo(()=>Nb(e,t,c,a,r,"data"),[e,t,c,a,r]),d=p.useMemo(()=>Nb(e,t,c,a,r,"assets"),[e,t,c,a,r]),f=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(t.forEach(v=>{var b;let g=a.routes[v.route.id];!g||!g.hasLoader||(!u.some(S=>S.route.id===v.route.id)&&v.route.id in i&&((b=o[v.route.id])!=null&&b.shouldRevalidate)||g.hasClientLoader?x=!0:y.add(v.route.id))}),y.size===0)return[];let w=VO(e,s);return x&&y.size>0&&w.searchParams.set("_routes",t.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[s,i,r,a,u,t,e,o]),h=p.useMemo(()=>BO(d,a),[d,a]),m=XO(d);return p.createElement(p.Fragment,null,f.map(y=>p.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),h.map(y=>p.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:x})=>p.createElement("link",{key:y,...x})))}function WO(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bE&&(window.__reactRouterVersion="7.6.3")}catch{}function QO({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=Oz({window:n,v5Compat:!0}));let a=r.current,[o,s]=p.useState({action:a.action,location:a.location}),i=p.useCallback(c=>{p.startTransition(()=>s(c))},[s]);return p.useLayoutEffect(()=>a.listen(i),[a,i]),p.createElement(CO,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var wE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SE=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:i,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=p.useContext(lr),x=typeof u=="string"&&wE.test(u),w,v=!1;if(typeof u=="string"&&x&&(w=u,bE))try{let j=new URL(window.location.href),C=u.startsWith("//")?new URL(j.protocol+u):new URL(u),R=Gr(C.pathname,y);C.origin===j.origin&&R!=null?u=R+C.search+C.hash:v=!0}catch{Cn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=lO(u,{relative:a}),[b,S,_]=YO(r,h),A=n5(u,{replace:s,state:i,target:c,preventScrollReset:d,relative:a,viewTransition:f});function N(j){t&&t(j),j.defaultPrevented||A(j)}let E=p.createElement("a",{...h,..._,href:w||g,onClick:v||o?t:N,ref:WO(m,S),target:c,"data-discover":!x&&n==="render"?"true":void 0});return b&&!x?p.createElement(p.Fragment,null,E,p.createElement(qO,{page:g})):E});SE.displayName="Link";var JO=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:i,children:c,...u},d){let f=vc(s,{relative:u.relative}),h=ur(),m=p.useContext(bf),{navigator:y,basename:x}=p.useContext(lr),w=m!=null&&l5(f)&&i===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,g=h.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(g=g.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&x&&(b=Gr(b,x)||b);const S=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=g===v||!a&&g.startsWith(v)&&g.charAt(S)==="/",A=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),N={isActive:_,isPending:A,isTransitioning:w},E=_?t:void 0,j;typeof r=="function"?j=r(N):j=[r,_?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(N):o;return p.createElement(SE,{...u,"aria-current":E,className:j,ref:d,style:C,to:s,viewTransition:i},typeof c=="function"?c(N):c)});JO.displayName="NavLink";var e5=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=zu,action:i,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=s5(),x=i5(i,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",v=typeof i=="string"&&wE.test(i),g=b=>{if(c&&c(b),b.defaultPrevented)return;b.preventDefault();let S=b.nativeEvent.submitter,_=(S==null?void 0:S.getAttribute("formmethod"))||s;y(S||b.currentTarget,{fetcherKey:t,method:_,navigate:n,replace:a,state:o,relative:u,preventScrollReset:d,viewTransition:f})};return p.createElement("form",{ref:m,method:w,action:x,onSubmit:r?c:g,...h,"data-discover":!v&&e==="render"?"true":void 0})});e5.displayName="Form";function t5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NE(e){let t=p.useContext(ci);return Fe(t,t5(e)),t}function n5(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=fn(),c=ur(),u=vc(e,{relative:o});return p.useCallback(d=>{if(MO(d,t)){d.preventDefault();let f=n!==void 0?n:Tl(c)===Tl(u);i(e,{replace:f,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[c,i,u,n,r,t,e,a,o,s])}function r5(e){Cn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=p.useRef(Fp(e)),n=p.useRef(!1),r=ur(),a=p.useMemo(()=>DO(r.search,n.current?null:t.current),[r.search]),o=fn(),s=p.useCallback((i,c)=>{const u=Fp(typeof i=="function"?i(a):i);n.current=!0,o("?"+u,c)},[o,a]);return[a,s]}var a5=0,o5=()=>`__${String(++a5)}__`;function s5(){let{router:e}=NE("useSubmit"),{basename:t}=p.useContext(lr),n=wO();return p.useCallback(async(r,a={})=>{let{action:o,method:s,encType:i,formData:c,body:u}=$O(r,t);if(a.navigate===!1){let d=a.fetcherKey||o5();await e.fetch(d,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function i5(e,{relative:t}={}){let{basename:n}=p.useContext(lr),r=p.useContext(cr);Fe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...vc(e||".",{relative:t})},s=ur();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),c=i.getAll("index");if(c.some(d=>d==="")){i.delete("index"),c.filter(f=>f).forEach(f=>i.append("index",f));let d=i.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Or([n,o.pathname])),Tl(o)}function l5(e,t={}){let n=p.useContext(hE);Fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NE("useViewTransitionState"),a=vc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Gr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Gr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nd(a.pathname,s)!=null||Nd(a.pathname,o)!=null}[...GO];const _b={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},equipment:[],userProgress:{unlocks:[]},destinyPath:[]},Eb=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,h))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,a,i);return i},c5=e=>e?Eb(e):Eb,u5=e=>e;function d5(e,t=u5){const n=L.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return L.useDebugValue(n),n}const Cb=e=>{const t=c5(e),n=r=>d5(t,r);return Object.assign(n,t),n},f5=e=>e?Cb(e):Cb,rs=f5(e=>({build:_b,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:_b})}));function Zt(){const e=rs(D=>D.build.skills.major),t=rs(D=>D.build.skills.minor),n=rs(D=>D.build),r=rs(D=>D.updateBuild),a=rs(D=>D.resetBuild),o=D=>(e==null?void 0:e.includes(D))??!1,s=D=>(t==null?void 0:t.includes(D))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:o,hasMinorSkill:s,addMajorSkill:D=>{const H=e??[],Z=t??[];if(!o(D)&&H.length<3){const F=Z.filter(Y=>Y!==D);r({skills:{major:[...H,D],minor:F}})}},removeMajorSkill:D=>{const H=e??[],Z=t??[],F=H.filter(Y=>Y!==D);r({skills:{major:F,minor:Z}})},addMinorSkill:D=>{const H=e??[],Z=t??[];if(!s(D)&&Z.length<3){const F=H.filter(Y=>Y!==D);r({skills:{major:F,minor:[...Z,D]}})}},removeMinorSkill:D=>{const H=e??[],F=(t??[]).filter(Y=>Y!==D);r({skills:{major:H,minor:F}})},addTrait:D=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:F=2,bonus:Y=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};H.length<F?r({traits:{...n==null?void 0:n.traits,regular:[...H,D]}}):Z.length<Y&&r({traits:{...n==null?void 0:n.traits,bonus:[...Z,D]}})},addRegularTrait:D=>{const{regular:H=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:Z=2}=(n==null?void 0:n.traitLimits)??{regular:2};H.length<Z&&r({traits:{...n==null?void 0:n.traits,regular:[...H,D]}})},addBonusTrait:D=>{const{bonus:H=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:Z=1}=(n==null?void 0:n.traitLimits)??{bonus:1};H.length<Z&&r({traits:{...n==null?void 0:n.traits,bonus:[...H,D]}})},removeTrait:D=>{const{regular:H=[],bonus:Z=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};r({traits:{regular:H.filter(F=>F!==D),bonus:Z.filter(F=>F!==D)}})},hasTrait:D=>{var H,Z,F,Y;return(((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes(D))??!1)||(((Y=(F=n==null?void 0:n.traits)==null?void 0:F.bonus)==null?void 0:Y.includes(D))??!1)},hasRegularTrait:D=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:Z.includes(D))??!1},hasBonusTrait:D=>{var H,Z;return((Z=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:Z.includes(D))??!1},setRace:D=>{r({race:D})},setBirthsign:D=>{r({stone:D})},setStone:D=>{r({stone:D})},setReligion:D=>{r({religion:D})},addEquipment:D=>{const H=(n==null?void 0:n.equipment)??[];H.includes(D)||r({equipment:[...H,D]})},removeEquipment:D=>{const H=(n==null?void 0:n.equipment)??[];r({equipment:H.filter(Z=>Z!==D)})},setBuildName:D=>{r({name:D})},setBuildNotes:D=>{r({notes:D})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:D=>{r({destinyPath:D})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},destinyPath:[]})},resetBuild:a,getSummary:()=>{var D,H,Z,F,Y,W,Q,be,ge;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((H=(D=n==null?void 0:n.traits)==null?void 0:D.regular)==null?void 0:H.length)??0)+(((F=(Z=n==null?void 0:n.traits)==null?void 0:Z.bonus)==null?void 0:F.length)??0),majorSkillCount:((W=(Y=n==null?void 0:n.skills)==null?void 0:Y.major)==null?void 0:W.length)??0,minorSkillCount:((be=(Q=n==null?void 0:n.skills)==null?void 0:Q.minor)==null?void 0:be.length)??0,equipmentCount:((ge=n==null?void 0:n.equipment)==null?void 0:ge.length)??0}},getRegularTraitLimit:()=>{var D;return((D=n==null?void 0:n.traitLimits)==null?void 0:D.regular)??2},getBonusTraitLimit:()=>{var D;return((D=n==null?void 0:n.traitLimits)==null?void 0:D.bonus)??1},getRegularTraitCount:()=>{var D,H;return((H=(D=n==null?void 0:n.traits)==null?void 0:D.regular)==null?void 0:H.length)??0},getBonusTraitCount:()=>{var D,H;return((H=(D=n==null?void 0:n.traits)==null?void 0:D.bonus)==null?void 0:H.length)??0},canAddRegularTrait:()=>{var D,H,Z;return(((H=(D=n==null?void 0:n.traits)==null?void 0:D.regular)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.regular)??2)},canAddBonusTrait:()=>{var D,H,Z;return(((H=(D=n==null?void 0:n.traits)==null?void 0:D.bonus)==null?void 0:H.length)??0)<(((Z=n==null?void 0:n.traitLimits)==null?void 0:Z.bonus)??1)},getTraitType:D=>{var H,Z,F,Y;return(Z=(H=n==null?void 0:n.traits)==null?void 0:H.regular)!=null&&Z.includes(D)?"regular":(Y=(F=n==null?void 0:n.traits)==null?void 0:F.bonus)!=null&&Y.includes(D)?"bonus":null},isAllTraitsFull:()=>{var Y,W,Q,be,ge,ce;const D=((W=(Y=n==null?void 0:n.traits)==null?void 0:Y.regular)==null?void 0:W.length)??0,H=((be=(Q=n==null?void 0:n.traits)==null?void 0:Q.bonus)==null?void 0:be.length)??0,Z=((ge=n==null?void 0:n.traitLimits)==null?void 0:ge.regular)??2,F=((ce=n==null?void 0:n.traitLimits)==null?void 0:ce.bonus)??1;return D>=Z&&H>=F},addTraitToSlot:(D,H)=>{if(H==="regular"){const{regular:Z=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:F=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(Z.length<F){const{bonus:Y=[]}=(n==null?void 0:n.traits)??{bonus:[]},W=Y.filter(Q=>Q!==D);r({traits:{regular:[...Z,D],bonus:W}})}}else{const{bonus:Z=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:F=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(Z.length<F){const{regular:Y=[]}=(n==null?void 0:n.traits)??{regular:[]},W=Y.filter(Q=>Q!==D);r({traits:{regular:W,bonus:[...Z,D]}})}}},isSlotAvailable:(D,H=0)=>{var Z,F,Y,W;return D==="regular"?(((F=(Z=n==null?void 0:n.traits)==null?void 0:Z.regular)==null?void 0:F.length)??0)<=H:(((W=(Y=n==null?void 0:n.traits)==null?void 0:Y.bonus)==null?void 0:W.length)??0)<=H}}}function _E(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=_E(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function EE(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=_E(e))&&(r&&(r+=" "),r+=t);return r}const Ab=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,kb=EE,ui=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kb(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=Ab(d)||Ab(f);return a[u][h]}),i=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...o,...i}[x]):{...o,...i}[x]===w})?[...u,f,h]:u},[]);return kb(e,s,c,n==null?void 0:n.class,n==null?void 0:n.className)},X0="-",h5=e=>{const t=p5(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(X0);return i[0]===""&&i.length!==1&&i.shift(),CE(i,t)||m5(s)},getConflictingClassGroupIds:(s,i)=>{const c=n[s]||[];return i&&r[s]?[...c,...r[s]]:c}}},CE=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?CE(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(X0);return(s=t.validators.find(({validator:i})=>i(o)))==null?void 0:s.classGroupId},jb=/^\[(.+)\]$/,m5=e=>{if(jb.test(e)){const t=jb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},p5=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)Up(n[a],r,a,t);return r},Up=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Tb(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(g5(a)){Up(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,s])=>{Up(s,Tb(t,o),n,r)})})},Tb=(e,t)=>{let n=e;return t.split(X0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},g5=e=>e.isThemeGetter,y5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return a(o,s),s},set(o,s){n.has(o)?n.set(o,s):a(o,s)}}},Gp="!",Vp=":",v5=Vp.length,x5=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let s=0,i=0,c=0,u;for(let y=0;y<a.length;y++){let x=a[y];if(s===0&&i===0){if(x===Vp){o.push(a.slice(c,y)),c=y+v5;continue}if(x==="/"){u=y;continue}}x==="["?s++:x==="]"?s--:x==="("?i++:x===")"&&i--}const d=o.length===0?a:a.substring(c),f=b5(d),h=f!==d,m=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const a=t+Vp,o=r;r=s=>s.startsWith(a)?o(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},b5=e=>e.endsWith(Gp)?e.substring(0,e.length-1):e.startsWith(Gp)?e.substring(1):e,w5=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(a.push(...o.sort(),s),o=[]):o.push(s)}),a.push(...o.sort()),a}},S5=e=>({cache:y5(e.cacheSize),parseClassName:x5(e),sortModifiers:w5(e),...h5(e)}),N5=/\s+/,_5=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(N5);let c="";for(let u=i.length-1;u>=0;u-=1){const d=i[u],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!x,v=r(w?y.substring(0,x):y);if(!v){if(!w){c=d+(c.length>0?" "+c:c);continue}if(v=r(y),!v){c=d+(c.length>0?" "+c:c);continue}w=!1}const g=o(h).join(":"),b=m?g+Gp:g,S=b+v;if(s.includes(S))continue;s.push(S);const _=a(v,w);for(let A=0;A<_.length;++A){const N=_[A];s.push(b+N)}c=d+(c.length>0?" "+c:c)}return c};function E5(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=AE(t))&&(r&&(r+=" "),r+=n);return r}const AE=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=AE(e[r]))&&(n&&(n+=" "),n+=t);return n};function C5(e,...t){let n,r,a,o=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return n=S5(u),r=n.cache.get,a=n.cache.set,o=i,i(c)}function i(c){const u=r(c);if(u)return u;const d=_5(c,n);return a(c,d),d}return function(){return o(E5.apply(null,arguments))}}const st=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,A5=/^\d+\/\d+$/,k5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,j5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Go=e=>A5.test(e),he=e=>!!e&&!Number.isNaN(Number(e)),na=e=>!!e&&Number.isInteger(Number(e)),Jh=e=>e.endsWith("%")&&he(e.slice(0,-1)),wr=e=>k5.test(e),D5=()=>!0,z5=e=>j5.test(e)&&!T5.test(e),TE=()=>!1,O5=e=>R5.test(e),$5=e=>M5.test(e),L5=e=>!ne(e)&&!re(e),P5=e=>di(e,DE,TE),ne=e=>kE.test(e),Wa=e=>di(e,zE,z5),em=e=>di(e,U5,he),Rb=e=>di(e,RE,TE),I5=e=>di(e,ME,$5),Yc=e=>di(e,OE,O5),re=e=>jE.test(e),Mi=e=>fi(e,zE),B5=e=>fi(e,G5),Mb=e=>fi(e,RE),H5=e=>fi(e,DE),F5=e=>fi(e,ME),qc=e=>fi(e,OE,!0),di=(e,t,n)=>{const r=kE.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},fi=(e,t,n=!1)=>{const r=jE.exec(e);return r?r[1]?t(r[1]):n:!1},RE=e=>e==="position"||e==="percentage",ME=e=>e==="image"||e==="url",DE=e=>e==="length"||e==="size"||e==="bg-size",zE=e=>e==="length",U5=e=>e==="number",G5=e=>e==="family-name",OE=e=>e==="shadow",V5=()=>{const e=st("color"),t=st("font"),n=st("text"),r=st("font-weight"),a=st("tracking"),o=st("leading"),s=st("breakpoint"),i=st("container"),c=st("spacing"),u=st("radius"),d=st("shadow"),f=st("inset-shadow"),h=st("text-shadow"),m=st("drop-shadow"),y=st("blur"),x=st("perspective"),w=st("aspect"),v=st("ease"),g=st("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...S(),re,ne],A=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],E=()=>[re,ne,c],j=()=>[Go,"full","auto",...E()],C=()=>[na,"none","subgrid",re,ne],R=()=>["auto",{span:["full",na,re,ne]},na,re,ne],I=()=>[na,"auto",re,ne],B=()=>["auto","min","max","fr",re,ne],k=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...E()],P=()=>[Go,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],z=()=>[e,re,ne],M=()=>[...S(),Mb,Rb,{position:[re,ne]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",H5,P5,{size:[re,ne]}],V=()=>[Jh,Mi,Wa],G=()=>["","none","full",u,re,ne],D=()=>["",he,Mi,Wa],H=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[he,Jh,Mb,Rb],Y=()=>["","none",y,re,ne],W=()=>["none",he,re,ne],Q=()=>["none",he,re,ne],be=()=>[he,re,ne],ge=()=>[Go,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wr],breakpoint:[wr],color:[D5],container:[wr],"drop-shadow":[wr],ease:["in","out","in-out"],font:[L5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wr],shadow:[wr],spacing:["px",he],text:[wr],"text-shadow":[wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Go,ne,re,w]}],container:["container"],columns:[{columns:[he,ne,re,i]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[na,"auto",re,ne]}],basis:[{basis:[Go,"full","auto",i,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[he,Go,"auto","initial","none",ne]}],grow:[{grow:["",he,re,ne]}],shrink:[{shrink:["",he,re,ne]}],order:[{order:[na,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...k(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...k()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":k()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[i,"screen",...P()]}],"min-w":[{"min-w":[i,"screen","none",...P()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,Mi,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,re,em]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jh,ne]}],"font-family":[{font:[B5,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,re,ne]}],"line-clamp":[{"line-clamp":[he,"none",re,em]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[he,"from-font","auto",re,Wa]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[he,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},na,re,ne],radial:["",re,ne],conic:[na,re,ne]},F5,I5]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[he,re,ne]}],"outline-w":[{outline:["",he,Mi,Wa]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",d,qc,Yc]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",f,qc,Yc]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[he,Wa]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",h,qc,Yc]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[he,re,ne]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[he]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[re,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[he]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ne]}],filter:[{filter:["","none",re,ne]}],blur:[{blur:Y()}],brightness:[{brightness:[he,re,ne]}],contrast:[{contrast:[he,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",m,qc,Yc]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",he,re,ne]}],"hue-rotate":[{"hue-rotate":[he,re,ne]}],invert:[{invert:["",he,re,ne]}],saturate:[{saturate:[he,re,ne]}],sepia:[{sepia:["",he,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[he,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[he,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",he,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[he,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",he,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[he,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[he,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",he,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[he,"initial",re,ne]}],ease:[{ease:["linear","initial",v,re,ne]}],delay:[{delay:[he,re,ne]}],animate:[{animate:["none",g,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,re,ne]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:W()}],"rotate-x":[{"rotate-x":W()}],"rotate-y":[{"rotate-y":W()}],"rotate-z":[{"rotate-z":W()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:be()}],"skew-x":[{"skew-x":be()}],"skew-y":[{"skew-y":be()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ge()}],"translate-x":[{"translate-x":ge()}],"translate-y":[{"translate-y":ge()}],"translate-z":[{"translate-z":ge()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[he,Mi,Wa,em]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Z5=C5(V5);function K(...e){return Z5(EE(e))}const Y5=ui("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function we({className:e,variant:t,...n}){return l.jsx("div",{className:K(Y5({variant:t}),e),...n})}function Db(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Sf(...e){return t=>{let n=!1;const r=e.map(a=>{const o=Db(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Db(e[a],null)}}}}function Ce(...e){return p.useCallback(Sf(...e),e)}function Ys(e){const t=X5(e),n=p.forwardRef((r,a)=>{const{children:o,...s}=r,i=p.Children.toArray(o),c=i.find(W5);if(c){const u=c.props.children,d=i.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var q5=Ys("Slot");function X5(e){const t=p.forwardRef((n,r)=>{const{children:a,...o}=n;if(p.isValidElement(a)){const s=J5(a),i=Q5(o,a.props);return a.type!==p.Fragment&&(i.ref=r?Sf(r,s):s),p.cloneElement(a,i)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $E=Symbol("radix.slottable");function K5(e){const t=({children:n})=>l.jsx(l.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$E,t}function W5(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$E}function Q5(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...i)=>{const c=o(...i);return a(...i),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function J5(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const e$=ui("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function te({className:e,variant:t,size:n,asChild:r=!1,...a}){const o=r?q5:"button";return l.jsx(o,{"data-slot":"button",className:K(e$({variant:t,size:n,className:e})),...a})}function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function t$(e,t){const n=p.createContext(t),r=o=>{const{children:s,...i}=o,c=p.useMemo(()=>i,Object.values(i));return l.jsx(n.Provider,{value:c,children:s})};r.displayName=e+"Provider";function a(o){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function Yt(e,t=[]){let n=[];function r(o,s){const i=p.createContext(s),c=n.length;n=[...n,s];const u=f=>{var v;const{scope:h,children:m,...y}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||i,w=p.useMemo(()=>y,Object.values(y));return l.jsx(x.Provider,{value:w,children:m})};u.displayName=o+"Provider";function d(f,h){var x;const m=((x=h==null?void 0:h[e])==null?void 0:x[c])||i,y=p.useContext(m);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=n.map(s=>p.createContext(s));return function(i){const c=(i==null?void 0:i[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return a.scopeName=e,[r,n$(a,...t)]}function n$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((i,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...i,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var ar=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},r$=Zg[" useId ".trim().toString()]||(()=>{}),a$=0;function $r(e){const[t,n]=p.useState(r$());return ar(()=>{n(r=>r??String(a$++))},[e]),t?`radix-${t}`:""}var o$=Zg[" useInsertionEffect ".trim().toString()]||ar;function An({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,s]=s$({defaultProp:t,onChange:n}),i=e!==void 0,c=i?e:a;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==i&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,r])}const u=p.useCallback(d=>{var f;if(i){const h=i$(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else o(d)},[i,e,o,s]);return[c,u]}function s$({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),o=p.useRef(t);return o$(()=>{o.current=t},[t]),p.useEffect(()=>{var s;a.current!==n&&((s=o.current)==null||s.call(o,n),a.current=n)},[n,a]),[n,r,o]}function i$(e){return typeof e=="function"}var l$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=l$.reduce((e,t)=>{const n=Ys(`Primitive.${t}`),r=p.forwardRef((a,o)=>{const{asChild:s,...i}=a,c=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function LE(e,t){e&&Kl.flushSync(()=>e.dispatchEvent(t))}function Et(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function c$(e,t=globalThis==null?void 0:globalThis.document){const n=Et(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var u$="DismissableLayer",Zp="dismissableLayer.update",d$="dismissableLayer.pointerDownOutside",f$="dismissableLayer.focusOutside",zb,PE=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:i,...c}=e,u=p.useContext(PE),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),y=Ce(t,N=>f(N)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(w),g=d?x.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=v,_=p$(N=>{const E=N.target,j=[...u.branches].some(C=>C.contains(E));!S||j||(a==null||a(N),s==null||s(N),N.defaultPrevented||i==null||i())},h),A=g$(N=>{const E=N.target;[...u.branches].some(C=>C.contains(E))||(o==null||o(N),s==null||s(N),N.defaultPrevented||i==null||i())},h);return c$(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ob(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=zb)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ob())},[d,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(Zp,N),()=>document.removeEventListener(Zp,N)},[]),l.jsx(ue.div,{...c,ref:y,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,A.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,_.onPointerDownCapture)})});xc.displayName=u$;var h$="DismissableLayerBranch",m$=p.forwardRef((e,t)=>{const n=p.useContext(PE),r=p.useRef(null),a=Ce(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(ue.div,{...e,ref:a})});m$.displayName=h$;function p$(e,t=globalThis==null?void 0:globalThis.document){const n=Et(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let c=function(){IE(d$,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function g$(e,t=globalThis==null?void 0:globalThis.document){const n=Et(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&IE(f$,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ob(){const e=new CustomEvent(Zp);document.dispatchEvent(e)}function IE(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?LE(a,o):a.dispatchEvent(o)}var tm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",$b={bubbles:!1,cancelable:!0},y$="FocusScope",K0=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[i,c]=p.useState(null),u=Et(a),d=Et(o),f=p.useRef(null),h=Ce(t,x=>c(x)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(b){if(m.paused||!i)return;const S=b.target;i.contains(S)?f.current=S:oa(f.current,{select:!0})},w=function(b){if(m.paused||!i)return;const S=b.relatedTarget;S!==null&&(i.contains(S)||oa(f.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&oa(i)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const g=new MutationObserver(v);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),g.disconnect()}}},[r,i,m.paused]),p.useEffect(()=>{if(i){Pb.add(m);const x=document.activeElement;if(!i.contains(x)){const v=new CustomEvent(tm,$b);i.addEventListener(tm,u),i.dispatchEvent(v),v.defaultPrevented||(v$(N$(BE(i)),{select:!0}),document.activeElement===x&&oa(i))}return()=>{i.removeEventListener(tm,u),setTimeout(()=>{const v=new CustomEvent(nm,$b);i.addEventListener(nm,d),i.dispatchEvent(v),v.defaultPrevented||oa(x??document.body,{select:!0}),i.removeEventListener(nm,d),Pb.remove(m)},0)}}},[i,u,d,m]);const y=p.useCallback(x=>{if(!n&&!r||m.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(w&&v){const g=x.currentTarget,[b,S]=x$(g);b&&S?!x.shiftKey&&v===S?(x.preventDefault(),n&&oa(b,{select:!0})):x.shiftKey&&v===b&&(x.preventDefault(),n&&oa(S,{select:!0})):v===g&&x.preventDefault()}},[n,r,m.paused]);return l.jsx(ue.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});K0.displayName=y$;function v$(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(oa(r,{select:t}),document.activeElement!==n)return}function x$(e){const t=BE(e),n=Lb(t,e),r=Lb(t.reverse(),e);return[n,r]}function BE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lb(e,t){for(const n of e)if(!b$(n,{upTo:t}))return n}function b$(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function w$(e){return e instanceof HTMLInputElement&&"select"in e}function oa(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&w$(e)&&t&&e.select()}}var Pb=S$();function S$(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ib(e,t),e.unshift(t)},remove(t){var n;e=Ib(e,t),(n=e[0])==null||n.resume()}}}function Ib(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function N$(e){return e.filter(t=>t.tagName!=="A")}var _$="Portal",W0=p.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,o]=p.useState(!1);ar(()=>o(!0),[]);const s=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?LM.createPortal(l.jsx(ue.div,{...r,ref:t}),s):null});W0.displayName=_$;function E$(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var kt=e=>{const{present:t,children:n}=e,r=C$(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=Ce(r.ref,A$(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};kt.displayName="Presence";function C$(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),s=e?"mounted":"unmounted",[i,c]=E$(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Xc(r.current);o.current=i==="mounted"?u:"none"},[i]),ar(()=>{const u=r.current,d=a.current;if(d!==e){const h=o.current,m=Xc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),ar(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const x=Xc(r.current).includes(m.animationName);if(m.target===t&&x&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=m=>{m.target===t&&(o.current=Xc(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Xc(e){return(e==null?void 0:e.animationName)||"none"}function A$(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rm=0;function HE(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bb()),document.body.insertAdjacentElement("beforeend",e[1]??Bb()),rm++,()=>{rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rm--}},[])}function Bb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qn=function(){return qn=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qn.apply(this,arguments)};function FE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function k$(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var $u="right-scroll-bar-position",Lu="width-before-scroll-bar",j$="with-scroll-bars-hidden",T$="--removed-body-scroll-bar-size";function am(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function R$(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var M$=typeof window<"u"?p.useLayoutEffect:p.useEffect,Hb=new WeakMap;function D$(e,t){var n=R$(null,function(r){return e.forEach(function(a){return am(a,r)})});return M$(function(){var r=Hb.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(i){o.has(i)||am(i,null)}),o.forEach(function(i){a.has(i)||am(i,s)})}Hb.set(n,e)},[e]),n}function z$(e){return e}function O$(e,t){t===void 0&&(t=z$);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(o),s=n}var c=function(){var d=s;s=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return a}function $$(e){e===void 0&&(e={});var t=O$(null);return t.options=qn({async:!0,ssr:!1},e),t}var UE=function(e){var t=e.sideCar,n=FE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,qn({},n))};UE.isSideCarExport=!0;function L$(e,t){return e.useMedium(t),UE}var GE=$$(),om=function(){},Nf=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:om,onWheelCapture:om,onTouchMoveCapture:om}),a=r[0],o=r[1],s=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,b=e.gapMode,S=FE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,A=D$([n,t]),N=qn(qn({},S),a);return p.createElement(p.Fragment,null,d&&p.createElement(_,{sideCar:GE,removeScrollBar:u,shards:f,noRelative:m,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!w,lockRef:n,gapMode:b}),s?p.cloneElement(p.Children.only(i),qn(qn({},N),{ref:A})):p.createElement(g,qn({},N,{className:c,ref:A}),i))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:Lu,zeroRight:$u};var P$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=P$();return t&&e.setAttribute("nonce",t),e}function B$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function H$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var F$=function(){var e=0,t=null;return{add:function(n){e==0&&(t=I$())&&(B$(t,n),H$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},U$=function(){var e=F$();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},VE=function(){var e=U$(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},G$={left:0,top:0,right:0,gap:0},sm=function(e){return parseInt(e||"",10)||0},V$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[sm(n),sm(r),sm(a)]},Z$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return G$;var t=V$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Y$=VE(),ks="data-scroll-locked",q$=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(j$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(ks,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($u,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Lu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat($u," .").concat($u,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lu," .").concat(Lu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ks,`] {
    `).concat(T$,": ").concat(i,`px;
  }
`)},Fb=function(){var e=parseInt(document.body.getAttribute(ks)||"0",10);return isFinite(e)?e:0},X$=function(){p.useEffect(function(){return document.body.setAttribute(ks,(Fb()+1).toString()),function(){var e=Fb()-1;e<=0?document.body.removeAttribute(ks):document.body.setAttribute(ks,e.toString())}},[])},K$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;X$();var o=p.useMemo(function(){return Z$(a)},[a]);return p.createElement(Y$,{styles:q$(o,!t,a,n?"":"!important")})},Yp=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return Yp=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Yp=!1}var Vo=Yp?{passive:!1}:!1,W$=function(e){return e.tagName==="TEXTAREA"},ZE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!W$(e)&&n[t]==="visible")},Q$=function(e){return ZE(e,"overflowY")},J$=function(e){return ZE(e,"overflowX")},Ub=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=YE(e,r);if(a){var o=qE(e,r),s=o[1],i=o[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},tL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},YE=function(e,t){return e==="v"?Q$(t):J$(t)},qE=function(e,t){return e==="v"?eL(t):tL(t)},nL=function(e,t){return e==="h"&&t==="rtl"?-1:1},rL=function(e,t,n,r,a){var o=nL(e,window.getComputedStyle(t).direction),s=o*r,i=n.target,c=t.contains(i),u=!1,d=s>0,f=0,h=0;do{if(!i)break;var m=qE(e,i),y=m[0],x=m[1],w=m[2],v=x-w-o*y;(y||v)&&YE(e,i)&&(f+=v,h+=y);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Wc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gb=function(e){return[e.deltaX,e.deltaY]},Vb=function(e){return e&&"current"in e?e.current:e},aL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sL=0,Zo=[];function iL(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(sL++)[0],o=p.useState(VE)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=k$([e.lockRef.current],(e.shards||[]).map(Vb),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var v=Wc(x),g=n.current,b="deltaX"in x?x.deltaX:g[0]-v[0],S="deltaY"in x?x.deltaY:g[1]-v[1],_,A=x.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in x&&N==="h"&&A.type==="range")return!1;var E=Ub(N,A);if(!E)return!0;if(E?_=N:(_=N==="v"?"h":"v",E=Ub(N,A)),!E)return!1;if(!r.current&&"changedTouches"in x&&(b||S)&&(r.current=_),!_)return!0;var j=r.current||_;return rL(j,w,x,j==="h"?b:S)},[]),c=p.useCallback(function(x){var w=x;if(!(!Zo.length||Zo[Zo.length-1]!==o)){var v="deltaY"in w?Gb(w):Wc(w),g=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&aL(_.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var b=(s.current.shards||[]).map(Vb).filter(Boolean).filter(function(_){return _.contains(w.target)}),S=b.length>0?i(w,b[0]):!s.current.noIsolation;S&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(x,w,v,g){var b={name:x,delta:w,target:v,should:g,shadowParent:lL(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(x){n.current=Wc(x),r.current=void 0},[]),f=p.useCallback(function(x){u(x.type,Gb(x),x.target,i(x,e.lockRef.current))},[]),h=p.useCallback(function(x){u(x.type,Wc(x),x.target,i(x,e.lockRef.current))},[]);p.useEffect(function(){return Zo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Vo),document.addEventListener("touchmove",c,Vo),document.addEventListener("touchstart",d,Vo),function(){Zo=Zo.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Vo),document.removeEventListener("touchmove",c,Vo),document.removeEventListener("touchstart",d,Vo)}},[]);var m=e.removeScrollBar,y=e.inert;return p.createElement(p.Fragment,null,y?p.createElement(o,{styles:oL(a)}):null,m?p.createElement(K$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cL=L$(GE,iL);var Q0=p.forwardRef(function(e,t){return p.createElement(Nf,qn({},e,{ref:t,sideCar:cL}))});Q0.classNames=Nf.classNames;var uL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yo=new WeakMap,Qc=new WeakMap,Jc={},im=0,XE=function(e){return e&&(e.host||XE(e.parentNode))},dL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=XE(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},fL=function(e,t,n,r){var a=dL(t,Array.isArray(e)?e:[e]);Jc[n]||(Jc[n]=new WeakMap);var o=Jc[n],s=[],i=new Set,c=new Set(a),u=function(f){!f||i.has(f)||(i.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",x=(Yo.get(h)||0)+1,w=(o.get(h)||0)+1;Yo.set(h,x),o.set(h,w),s.push(h),x===1&&y&&Qc.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),i.clear(),im++,function(){s.forEach(function(f){var h=Yo.get(f)-1,m=o.get(f)-1;Yo.set(f,h),o.set(f,m),h||(Qc.has(f)||f.removeAttribute(r),Qc.delete(f)),m||f.removeAttribute(n)}),im--,im||(Yo=new WeakMap,Yo=new WeakMap,Qc=new WeakMap,Jc={})}},KE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=uL(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),fL(r,a,n,"aria-hidden")):function(){return null}},_f="Dialog",[WE,AJ]=Yt(_f),[hL,In]=WE(_f),QE=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,i=p.useRef(null),c=p.useRef(null),[u,d]=An({prop:r,defaultProp:a??!1,onChange:o,caller:_f});return l.jsx(hL,{scope:t,triggerRef:i,contentRef:c,contentId:$r(),titleId:$r(),descriptionId:$r(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:s,children:n})};QE.displayName=_f;var JE="DialogTrigger",eC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=In(JE,n),o=Ce(t,a.triggerRef);return l.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ty(a.open),...r,ref:o,onClick:ee(e.onClick,a.onOpenToggle)})});eC.displayName=JE;var J0="DialogPortal",[mL,tC]=WE(J0,{forceMount:void 0}),nC=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=In(J0,t);return l.jsx(mL,{scope:t,forceMount:n,children:p.Children.map(r,s=>l.jsx(kt,{present:n||o.open,children:l.jsx(W0,{asChild:!0,container:a,children:s})}))})};nC.displayName=J0;var _d="DialogOverlay",rC=p.forwardRef((e,t)=>{const n=tC(_d,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=In(_d,e.__scopeDialog);return o.modal?l.jsx(kt,{present:r||o.open,children:l.jsx(gL,{...a,ref:t})}):null});rC.displayName=_d;var pL=Ys("DialogOverlay.RemoveScroll"),gL=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=In(_d,n);return l.jsx(Q0,{as:pL,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(ue.div,{"data-state":ty(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),No="DialogContent",aC=p.forwardRef((e,t)=>{const n=tC(No,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=In(No,e.__scopeDialog);return l.jsx(kt,{present:r||o.open,children:o.modal?l.jsx(yL,{...a,ref:t}):l.jsx(vL,{...a,ref:t})})});aC.displayName=No;var yL=p.forwardRef((e,t)=>{const n=In(No,e.__scopeDialog),r=p.useRef(null),a=Ce(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return KE(o)},[]),l.jsx(oC,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),vL=p.forwardRef((e,t)=>{const n=In(No,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return l.jsx(oC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),oC=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,i=In(No,n),c=p.useRef(null),u=Ce(t,c);return HE(),l.jsxs(l.Fragment,{children:[l.jsx(K0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:l.jsx(xc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":ty(i.open),...s,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(xL,{titleId:i.titleId}),l.jsx(wL,{contentRef:c,descriptionId:i.descriptionId})]})]})}),ey="DialogTitle",sC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=In(ey,n);return l.jsx(ue.h2,{id:a.titleId,...r,ref:t})});sC.displayName=ey;var iC="DialogDescription",lC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=In(iC,n);return l.jsx(ue.p,{id:a.descriptionId,...r,ref:t})});lC.displayName=iC;var cC="DialogClose",uC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=In(cC,n);return l.jsx(ue.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>a.onOpenChange(!1))})});uC.displayName=cC;function ty(e){return e?"open":"closed"}var dC="DialogTitleWarning",[kJ,fC]=t$(dC,{contentName:No,titleName:ey,docsSlug:"dialog"}),xL=({titleId:e})=>{const t=fC(dC),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},bL="DialogDescriptionWarning",wL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fC(bL).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},SL=QE,NL=eC,hC=nC,ny=rC,ry=aC,ay=sC,oy=lC,_L=uC;const EL=SL,CL=NL,AL=hC,mC=p.forwardRef(({className:e,...t},n)=>l.jsx(ny,{className:K("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:ft.MODAL},...t,ref:n}));mC.displayName=ny.displayName;const kL=ui("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),pC=p.forwardRef(({side:e="right",className:t,children:n,...r},a)=>l.jsxs(AL,{children:[l.jsx(mC,{}),l.jsxs(ry,{ref:a,className:K(kL({side:e}),t),style:{zIndex:ft.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,l.jsxs(_L,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(Sn,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pC.displayName=ry.displayName;const gC=({className:e,...t})=>l.jsx("div",{className:K("flex flex-col space-y-2 text-center sm:text-left",e),...t});gC.displayName="SheetHeader";const yC=p.forwardRef(({className:e,...t},n)=>l.jsx(ay,{ref:n,className:K("text-lg font-semibold text-foreground",e),...t}));yC.displayName=ay.displayName;const vC=p.forwardRef(({className:e,...t},n)=>l.jsx(oy,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));vC.displayName=oy.displayName;const jL=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=Zt(),o=fn(),s=n(),[i,c]=p.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,d=()=>{navigator.clipboard.writeText(window.location.href)},f=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},h=w=>{c(!1),o(w)},m=r(),y=a(),x=m+y;return l.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:ft.MODAL+1},children:l.jsxs(EL,{open:i,onOpenChange:c,children:[l.jsx(CL,{asChild:!0,children:l.jsx(te,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:l.jsx(dl,{className:"h-5 w-5"})})}),l.jsxs(pC,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[l.jsxs(gC,{children:[l.jsxs(yC,{className:"flex items-center gap-2",children:[l.jsx(dl,{className:"h-5 w-5"}),u?s.name:"Character Build"]}),l.jsx(vC,{children:u?"Your current character build status":"Create and manage your character build"})]}),l.jsx("div",{className:"mt-6 space-y-6",children:u?l.jsxs(l.Fragment,{children:[e.race&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.race}),l.jsx(we,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.stone}),l.jsx(we,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:s.religion}),l.jsx(we,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",x,")"]}),l.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(w=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${w}`)),e.traits.bonus.map(w=>l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),l.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${w}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),l.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Major Skills"}),l.jsx(we,{variant:"outline",children:e.skills.major.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(w=>l.jsx(we,{variant:"secondary",className:"bg-red-500 text-xs",children:w},w))})]}),e.skills.minor.length>0&&l.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-medium",children:"Minor Skills"}),l.jsx(we,{variant:"outline",children:e.skills.minor.length})]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(w=>l.jsx(we,{variant:"secondary",className:"bg-blue-500 text-xs",children:w},w))})]})]})]}),e.equipment.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),l.jsx("div",{className:"space-y-2",children:e.equipment.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:w}),l.jsx(we,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},w))})]})]}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(dl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),l.jsx("div",{className:"mt-8 space-y-3",children:u?l.jsxs(l.Fragment,{children:[l.jsxs(te,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(mb,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),l.jsxs(te,{variant:"outline",onClick:d,className:"w-full",children:[l.jsx(D3,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),l.jsxs(te,{variant:"destructive",onClick:f,className:"w-full",children:[l.jsx(bz,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(te,{onClick:()=>h("/build"),className:"w-full",children:[l.jsx(mb,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),l.jsx(te,{variant:"outline",onClick:()=>h("/race"),className:"w-full",children:"Browse Races"}),l.jsx(te,{variant:"outline",onClick:()=>h("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},TL=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),RL=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},ML=()=>{const{build:e,setBuild:t}=rs();ur(),fn(),p.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),s=new URLSearchParams(a||"").get("b");if(s){const i=RL(s);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),p.useEffect(()=>{const n=TL(e),r=window.location.hash,[a,o]=r.split("?"),s=new URLSearchParams(o||"");s.set("b",n);const i=`${a}?${s.toString()}`;window.history.replaceState(null,"",i)},[e])},xC=p.forwardRef(({className:e,collapsed:t,...n},r)=>l.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:K("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));xC.displayName="Sidebar";const bC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));bC.displayName="SidebarContent";const wC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("mb-2",e),...t}));wC.displayName="SidebarGroup";const SC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:K("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));SC.displayName="SidebarHeader";const NC=p.forwardRef(({className:e,...t},n)=>l.jsx("ul",{ref:n,className:K("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));NC.displayName="SidebarMenu";const _C=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return l.jsx(o,{ref:a,"data-active":n?"":void 0,className:K("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});_C.displayName="SidebarMenuButton";const EC=p.forwardRef(({className:e,...t},n)=>l.jsx("li",{ref:n,className:K("relative flex items-stretch",e),...t}));EC.displayName="SidebarMenuItem";const CC=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:e,...t}));CC.displayName="SidebarRail";const DL=ui("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),qt=p.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const o=n||zL(t);return l.jsx(o,{className:K(DL({variant:t,className:e})),ref:a,...r})});qt.displayName="Typography";function zL(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const bc=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"h1",as:"h1",className:e,ref:n,...t}));bc.displayName="H1";const OL=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"h2",as:"h2",className:e,ref:n,...t}));OL.displayName="H2";const Ef=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"h3",as:"h3",className:e,ref:n,...t}));Ef.displayName="H3";const AC=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"h4",as:"h4",className:e,ref:n,...t}));AC.displayName="H4";const $L=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"h5",as:"h5",className:e,ref:n,...t}));$L.displayName="H5";const LL=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"h6",as:"h6",className:e,ref:n,...t}));LL.displayName="H6";const Tt=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"p",as:"p",className:e,ref:n,...t}));Tt.displayName="P";const PL=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));PL.displayName="Blockquote";const IL=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"code",as:"code",className:e,ref:n,...t}));IL.displayName="Code";const kC=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"lead",as:"p",className:e,ref:n,...t}));kC.displayName="Lead";const BL=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"large",as:"div",className:e,ref:n,...t}));BL.displayName="Large";const HL=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"small",as:"small",className:e,ref:n,...t}));HL.displayName="Small";const Rl=p.forwardRef(({className:e,...t},n)=>l.jsx(qt,{variant:"muted",as:"p",className:e,ref:n,...t}));Rl.displayName="Muted";const Lr=({children:e,title:t,description:n,className:r=""})=>l.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${r}`,children:[t&&l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&l.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function sy(e){const t=e+"CollectionProvider",[n,r]=Yt(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:w,children:v}=x,g=L.useRef(null),b=L.useRef(new Map).current;return l.jsx(a,{scope:w,itemMap:b,collectionRef:g,children:v})};s.displayName=t;const i=e+"CollectionSlot",c=Ys(i),u=L.forwardRef((x,w)=>{const{scope:v,children:g}=x,b=o(i,v),S=Ce(w,b.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=i;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ys(d),m=L.forwardRef((x,w)=>{const{scope:v,children:g,...b}=x,S=L.useRef(null),_=Ce(w,S),A=o(d,v);return L.useEffect(()=>(A.itemMap.set(S,{ref:S,...b}),()=>void A.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:_,children:g})});m.displayName=d;function y(x){const w=o(e+"CollectionConsumer",x);return L.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((A,N)=>b.indexOf(A.ref.current)-b.indexOf(N.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},y,r]}var FL=p.createContext(void 0);function hi(e){const t=p.useContext(FL);return e||t||"ltr"}var lm="rovingFocusGroup.onEntryFocus",UL={bubbles:!1,cancelable:!0},wc="RovingFocusGroup",[qp,jC,GL]=sy(wc),[VL,mi]=Yt(wc,[GL]),[ZL,YL]=VL(wc),TC=p.forwardRef((e,t)=>l.jsx(qp.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qp.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(qL,{...e,ref:t})})}));TC.displayName=wc;var qL=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=Ce(t,h),y=hi(o),[x,w]=An({prop:s,defaultProp:i??null,onChange:c,caller:wc}),[v,g]=p.useState(!1),b=Et(u),S=jC(n),_=p.useRef(!1),[A,N]=p.useState(0);return p.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(lm,b),()=>E.removeEventListener(lm,b)},[b]),l.jsx(ZL,{scope:n,orientation:r,dir:y,loop:a,currentTabStopId:x,onItemFocus:p.useCallback(E=>w(E),[w]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>N(E=>E-1),[]),children:l.jsx(ue.div,{tabIndex:v||A===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{_.current=!0}),onFocus:ee(e.onFocus,E=>{const j=!_.current;if(E.target===E.currentTarget&&j&&!v){const C=new CustomEvent(lm,UL);if(E.currentTarget.dispatchEvent(C),!C.defaultPrevented){const R=S().filter(T=>T.focusable),I=R.find(T=>T.active),B=R.find(T=>T.id===x),O=[I,B,...R].filter(Boolean).map(T=>T.ref.current);DC(O,d)}}_.current=!1}),onBlur:ee(e.onBlur,()=>g(!1))})})}),RC="RovingFocusGroupItem",MC=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:s,...i}=e,c=$r(),u=o||c,d=YL(RC,n),f=d.currentTabStopId===u,h=jC(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:x}=d;return p.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),l.jsx(qp.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:l.jsx(ue.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:ee(e.onMouseDown,w=>{r?d.onItemFocus(u):w.preventDefault()}),onFocus:ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ee(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=WL(w,d.orientation,d.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=h().filter(S=>S.focusable).map(S=>S.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const S=b.indexOf(w.currentTarget);b=d.loop?QL(b,S+1):b.slice(S+1)}setTimeout(()=>DC(b))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:x!=null}):s})})});MC.displayName=RC;var XL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WL(e,t,n){const r=KL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return XL[r]}function DC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function QL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iy=TC,ly=MC,Cf="Tabs",[JL,jJ]=Yt(Cf,[mi]),zC=mi(),[eP,cy]=JL(Cf),OC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:i,activationMode:c="automatic",...u}=e,d=hi(i),[f,h]=An({prop:r,onChange:a,defaultProp:o??"",caller:Cf});return l.jsx(eP,{scope:n,baseId:$r(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l.jsx(ue.div,{dir:d,"data-orientation":s,...u,ref:t})})});OC.displayName=Cf;var $C="TabsList",LC=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=cy($C,n),s=zC(n);return l.jsx(iy,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(ue.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});LC.displayName=$C;var PC="TabsTrigger",IC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=cy(PC,n),i=zC(n),c=FC(s.baseId,r),u=UC(s.baseId,r),d=r===s.value;return l.jsx(ly,{asChild:!0,...i,focusable:!a,active:d,children:l.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(r)})})})});IC.displayName=PC;var BC="TabsContent",HC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,i=cy(BC,n),c=FC(i.baseId,r),u=UC(i.baseId,r),d=r===i.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(kt,{present:a||d,children:({present:h})=>l.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});HC.displayName=BC;function FC(e,t){return`${e}-trigger-${t}`}function UC(e,t){return`${e}-content-${t}`}var tP=OC,nP=LC,rP=IC,aP=HC;function uy({className:e,...t}){return l.jsx(tP,{"data-slot":"tabs",className:K("flex flex-col gap-2",e),...t})}function dy({className:e,...t}){return l.jsx(nP,{"data-slot":"tabs-list",className:K("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Ml({className:e,...t}){return l.jsx(rP,{"data-slot":"tabs-trigger",className:K("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Ed({className:e,...t}){return l.jsx(aP,{"data-slot":"tabs-content",className:K("flex-1 outline-none",e),...t})}const Lt=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],oP=({currentPath:e})=>{var d;const t=fn(),n=Lt.findIndex(f=>f.to===e),r=n>=0?n:0,a=f=>{const h=Lt.find(m=>m.value===f);h&&t(h.to)},o=f=>{t(f.to)},s=()=>{r>0&&t(Lt[r-1].to)},i=()=>{r<Lt.length-1&&t(Lt[r+1].to)},c=f=>{switch(f.key){case"ArrowLeft":f.preventDefault(),s();break;case"ArrowRight":f.preventDefault(),i();break;case"Home":f.preventDefault(),t(Lt[0].to);break;case"End":f.preventDefault(),t(Lt[Lt.length-1].to);break}},u=((d=Lt[r])==null?void 0:d.value)||"build";return l.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{zIndex:ft.NAVIGATION,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:c,tabIndex:0,children:l.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:l.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[l.jsx(te,{onClick:s,disabled:r===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${r>0?Lt[r-1].label:"none"}`,children:l.jsx(E3,{className:"h-4 w-4"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx(uy,{value:u,onValueChange:a,children:l.jsx(dy,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:Lt.map((f,h)=>l.jsxs(Ml,{value:f.value,onClick:()=>o(f),className:K("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===f.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${h+1}: ${f.label}`,role:"tab","aria-selected":u===f.value,"aria-label":`Step ${h+1}: ${f.label}`,children:[l.jsx("span",{className:"hidden sm:inline",children:f.label}),l.jsx("span",{className:"sm:hidden",children:f.label.split(" ")[0]}),u===f.value&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},f.value))})})}),l.jsx(te,{onClick:i,disabled:r===Lt.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${r<Lt.length-1?Lt[r+1].label:"none"}`,children:l.jsx(hc,{className:"h-4 w-4"})})]})})})},sP=()=>{const e=ur();return l.jsxs("div",{className:"flex flex-col min-h-full",children:[l.jsx(oP,{currentPath:e.pathname}),l.jsx("div",{className:"flex-grow",children:l.jsx(EO,{})})]})};function iP(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function GC(e){const[t,n]=p.useState(void 0);return ar(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,i;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,i=u.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Af="Switch",[lP,TJ]=Yt(Af),[cP,uP]=lP(Af),VC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:i,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),y=Ce(t,b=>m(b)),x=p.useRef(!1),w=h?d||!!h.closest("form"):!0,[v,g]=An({prop:a,defaultProp:o??!1,onChange:u,caller:Af});return l.jsxs(cP,{scope:n,checked:v,disabled:i,children:[l.jsx(ue.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":XC(v),"data-disabled":i?"":void 0,disabled:i,value:c,...f,ref:y,onClick:ee(e.onClick,b=>{g(S=>!S),w&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),w&&l.jsx(qC,{control:h,bubbles:!x.current,name:r,value:c,checked:v,required:s,disabled:i,form:d,style:{transform:"translateX(-100%)"}})]})});VC.displayName=Af;var ZC="SwitchThumb",YC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=uP(ZC,n);return l.jsx(ue.span,{"data-state":XC(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});YC.displayName=ZC;var dP="SwitchBubbleInput",qC=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},o)=>{const s=p.useRef(null),i=Ce(s,o),c=iP(n),u=GC(t);return p.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(y)}},[c,n,r]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});qC.displayName=dP;function XC(e){return e?"checked":"unchecked"}var KC=VC,fP=YC;const _r=p.forwardRef(({className:e,...t},n)=>l.jsx(KC,{className:K("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:l.jsx(fP,{className:K("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));_r.displayName=KC.displayName;function fy({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:o}){const{setRace:s,setStone:i,setReligion:c,addRegularTrait:u,addBonusTrait:d,removeTrait:f,addMajorSkill:h,removeMajorSkill:m,removeMinorSkill:y,addEquipment:x,removeEquipment:w,build:v}=Zt(),b=r||(()=>{switch(t){case"race":return v.race===e;case"stone":return v.stone===e;case"religion":return v.religion===e;case"trait":return v.traits.regular.includes(e)||v.traits.bonus.includes(e);case"skill":return v.skills.major.includes(e)||v.skills.minor.includes(e);case"equipment":return v.equipment.includes(e);default:return!1}})(),S=A=>{if(o){o(A);return}switch(t){case"race":s(A?e:null);break;case"stone":i(A?e:null);break;case"religion":c(A?e:null);break;case"trait":A?v.traits.regular.length<2?u(e):v.traits.bonus.length<1&&d(e):f(e);break;case"skill":A?h(e):(m(e),y(e));break;case"equipment":A?x(e):w(e);break}},_=()=>b?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return l.jsx("div",{className:K("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",b?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:A=>{A.stopPropagation(),S(!b)},title:_(),children:l.jsx(_r,{checked:b,onCheckedChange:S,className:K("transition-all duration-200",b?"data-[state=checked]:bg-[#d4af37]":"")})})}const Bn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:K("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Bn.displayName="Input";function pi({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState(-1),h=p.useRef(null),m=p.useRef(null),y=e.length===1?e[0]:null;p.useEffect(()=>{const N=E=>{h.current&&!h.current.contains(E.target)&&(o(!1),i(null),f(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const x=s||y?(s||y).options.filter(N=>{var E;return N.label.toLowerCase().includes(c.toLowerCase())||((E=N.description)==null?void 0:E.toLowerCase().includes(c.toLowerCase()))}):e.flatMap(N=>N.options.filter(E=>{var j;return E.label.toLowerCase().includes(c.toLowerCase())||((j=E.description)==null?void 0:j.toLowerCase().includes(c.toLowerCase()))})),w=N=>{u(N),o(!0),f(-1)},v=N=>{var E;i(N),u(""),(E=m.current)==null||E.focus()},g=N=>{t(N),u(""),i(null),o(!1),f(-1)},b=N=>{N.key==="ArrowDown"?(N.preventDefault(),f(E=>Math.min(E+1,x.length-1))):N.key==="ArrowUp"?(N.preventDefault(),f(E=>Math.max(E-1,-1))):N.key==="Enter"?(N.preventDefault(),d>=0&&x[d]&&g(x[d])):N.key==="Escape"&&(o(!1),i(null),f(-1))},S=()=>{o(!0)},_=s||y,A=!y&&!s;return l.jsxs("div",{ref:h,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:m,type:"text",placeholder:_?_.placeholder:n,value:c,onChange:N=>w(N.target.value),onFocus:S,onKeyDown:b,className:"pl-10 pr-10"}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:ft.AUTOCOMPLETE+10},children:[A&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(N=>l.jsxs("button",{onClick:()=>v(N),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[l.jsx("span",{children:N.name}),l.jsx(yt,{className:"h-4 w-4"})]},N.id))]}),l.jsx("div",{className:"p-2",children:x.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):x.map((N,E)=>l.jsxs("button",{onClick:()=>g(N),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${E===d?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[l.jsx("div",{className:"font-medium",children:N.label}),N.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},N.id))})]})]})}function tt({className:e,...t}){return l.jsx("div",{"data-slot":"card",className:K("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function nt({className:e,action:t,children:n,...r}){return l.jsxs("div",{"data-slot":"card-header",className:K("flex flex-row items-start justify-between space-y-0",e),...r,children:[l.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&l.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function ut({className:e,...t}){return l.jsx("div",{"data-slot":"card-title",className:K("text-xl font-bold leading-none",e),...t})}function Sa({className:e,...t}){return l.jsx("div",{"data-slot":"card-description",className:K("text-base text-muted-foreground",e),...t})}function qe({className:e,...t}){return l.jsx("div",{"data-slot":"card-content",className:K("pt-0",e),...t})}const hP=["top","right","bottom","left"],$a=Math.min,tn=Math.max,Cd=Math.round,eu=Math.floor,tr=e=>({x:e,y:e}),mP={left:"right",right:"left",bottom:"top",top:"bottom"},pP={start:"end",end:"start"};function Xp(e,t,n){return tn(e,$a(t,n))}function Vr(e,t){return typeof e=="function"?e(t):e}function Zr(e){return e.split("-")[0]}function gi(e){return e.split("-")[1]}function hy(e){return e==="x"?"y":"x"}function my(e){return e==="y"?"height":"width"}const gP=new Set(["top","bottom"]);function Kn(e){return gP.has(Zr(e))?"y":"x"}function py(e){return hy(Kn(e))}function yP(e,t,n){n===void 0&&(n=!1);const r=gi(e),a=py(e),o=my(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Ad(s)),[s,Ad(s)]}function vP(e){const t=Ad(e);return[Kp(e),t,Kp(t)]}function Kp(e){return e.replace(/start|end/g,t=>pP[t])}const Zb=["left","right"],Yb=["right","left"],xP=["top","bottom"],bP=["bottom","top"];function wP(e,t,n){switch(e){case"top":case"bottom":return n?t?Yb:Zb:t?Zb:Yb;case"left":case"right":return t?xP:bP;default:return[]}}function SP(e,t,n,r){const a=gi(e);let o=wP(Zr(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(Kp)))),o}function Ad(e){return e.replace(/left|right|bottom|top/g,t=>mP[t])}function NP(e){return{top:0,right:0,bottom:0,left:0,...e}}function WC(e){return typeof e!="number"?NP(e):{top:e,right:e,bottom:e,left:e}}function kd(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function qb(e,t,n){let{reference:r,floating:a}=e;const o=Kn(t),s=py(t),i=my(s),c=Zr(t),u=o==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let m;switch(c){case"top":m={x:d,y:r.y-a.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-a.width,y:f};break;default:m={x:r.x,y:r.y}}switch(gi(t)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const _P=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=qb(u,r,c),h=r,m={},y=0;for(let x=0;x<i.length;x++){const{name:w,fn:v}=i[x],{x:g,y:b,data:S,reset:_}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=g??d,f=b??f,m={...m,[w]:{...m[w],...S}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):_.rects),{x:d,y:f}=qb(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Dl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Vr(t,e),y=WC(m),w=i[h?f==="floating"?"reference":"floating":f],v=kd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=kd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:b,strategy:c}):g);return{top:(v.top-_.top+y.top)/S.y,bottom:(_.bottom-v.bottom+y.bottom)/S.y,left:(v.left-_.left+y.left)/S.x,right:(_.right-v.right+y.right)/S.x}}const EP=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i,middlewareData:c}=t,{element:u,padding:d=0}=Vr(e,t)||{};if(u==null)return{};const f=WC(d),h={x:n,y:r},m=py(a),y=my(m),x=await s.getDimensions(u),w=m==="y",v=w?"top":"left",g=w?"bottom":"right",b=w?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[m]-h[m]-o.floating[y],_=h[m]-o.reference[m],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=A?A[b]:0;(!N||!await(s.isElement==null?void 0:s.isElement(A)))&&(N=i.floating[b]||o.floating[y]);const E=S/2-_/2,j=N/2-x[y]/2-1,C=$a(f[v],j),R=$a(f[g],j),I=C,B=N-x[y]-R,k=N/2-x[y]/2+E,O=Xp(I,k,B),T=!c.arrow&&gi(a)!=null&&k!==O&&o.reference[y]/2-(k<I?C:R)-x[y]/2<0,P=T?k<I?k-I:k-B:0;return{[m]:h[m]+P,data:{[m]:O,centerOffset:k-O-P,...T&&{alignmentOffset:P}},reset:T}}}),CP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=Vr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Zr(a),g=Kn(i),b=Zr(i)===i,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(b||!x?[Ad(i)]:vP(i)),A=y!=="none";!h&&A&&_.push(...SP(i,x,y,S));const N=[i,..._],E=await Dl(t,w),j=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&j.push(E[v]),f){const k=yP(a,s,S);j.push(E[k[0]],E[k[1]])}if(C=[...C,{placement:a,overflows:j}],!j.every(k=>k<=0)){var R,I;const k=(((R=o.flip)==null?void 0:R.index)||0)+1,O=N[k];if(O&&(!(f==="alignment"?g!==Kn(O):!1)||C.every(z=>z.overflows[0]>0&&Kn(z.placement)===g)))return{data:{index:k,overflows:C},reset:{placement:O}};let T=(I=C.filter(P=>P.overflows[0]<=0).sort((P,z)=>P.overflows[1]-z.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(m){case"bestFit":{var B;const P=(B=C.filter(z=>{if(A){const M=Kn(z.placement);return M===g||M==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((z,M)=>z[1]-M[1])[0])==null?void 0:B[0];P&&(T=P);break}case"initialPlacement":T=i;break}if(a!==T)return{reset:{placement:T}}}return{}}}};function Xb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Kb(e){return hP.some(t=>e[t]>=0)}const AP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Vr(e,t);switch(r){case"referenceHidden":{const o=await Dl(t,{...a,elementContext:"reference"}),s=Xb(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Kb(s)}}}case"escaped":{const o=await Dl(t,{...a,altBoundary:!0}),s=Xb(o,n.floating);return{data:{escapedOffsets:s,escaped:Kb(s)}}}default:return{}}}}},QC=new Set(["left","top"]);async function kP(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=Zr(n),i=gi(n),c=Kn(n)==="y",u=QC.has(s)?-1:1,d=o&&c?-1:1,f=Vr(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof y=="number"&&(m=i==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const jP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:i}=t,c=await kP(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:s}}}}},TP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:w=>{let{x:v,y:g}=w;return{x:v,y:g}}},...c}=Vr(e,t),u={x:n,y:r},d=await Dl(t,c),f=Kn(Zr(a)),h=hy(f);let m=u[h],y=u[f];if(o){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=m+d[w],b=m-d[v];m=Xp(g,m,b)}if(s){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=y+d[w],b=y-d[v];y=Xp(g,y,b)}const x=i.fn({...t,[h]:m,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:o,[f]:s}}}}}},RP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:i=0,mainAxis:c=!0,crossAxis:u=!0}=Vr(e,t),d={x:n,y:r},f=Kn(a),h=hy(f);let m=d[h],y=d[f];const x=Vr(i,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const b=h==="y"?"height":"width",S=o.reference[h]-o.floating[b]+w.mainAxis,_=o.reference[h]+o.reference[b]-w.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var v,g;const b=h==="y"?"width":"height",S=QC.has(Zr(a)),_=o.reference[f]-o.floating[b]+(S&&((v=s.offset)==null?void 0:v[f])||0)+(S?0:w.crossAxis),A=o.reference[f]+o.reference[b]+(S?0:((g=s.offset)==null?void 0:g[f])||0)-(S?w.crossAxis:0);y<_?y=_:y>A&&(y=A)}return{[h]:m,[f]:y}}}},MP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:s,elements:i}=t,{apply:c=()=>{},...u}=Vr(e,t),d=await Dl(t,u),f=Zr(a),h=gi(a),m=Kn(a)==="y",{width:y,height:x}=o.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(v=f,w=h==="end"?"top":"bottom");const g=x-d.top-d.bottom,b=y-d.left-d.right,S=$a(x-d[w],g),_=$a(y-d[v],b),A=!t.middlewareData.shift;let N=S,E=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),A&&!h){const C=tn(d.left,0),R=tn(d.right,0),I=tn(d.top,0),B=tn(d.bottom,0);m?E=y-2*(C!==0||R!==0?C+R:tn(d.left,d.right)):N=x-2*(I!==0||B!==0?I+B:tn(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const j=await s.getDimensions(i.floating);return y!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function kf(){return typeof window<"u"}function yi(e){return JC(e)?(e.nodeName||"").toLowerCase():"#document"}function cn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dr(e){var t;return(t=(JC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JC(e){return kf()?e instanceof Node||e instanceof cn(e).Node:!1}function $n(e){return kf()?e instanceof Element||e instanceof cn(e).Element:!1}function or(e){return kf()?e instanceof HTMLElement||e instanceof cn(e).HTMLElement:!1}function Wb(e){return!kf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cn(e).ShadowRoot}const DP=new Set(["inline","contents"]);function Sc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!DP.has(a)}const zP=new Set(["table","td","th"]);function OP(e){return zP.has(yi(e))}const $P=[":popover-open",":modal"];function jf(e){return $P.some(t=>{try{return e.matches(t)}catch{return!1}})}const LP=["transform","translate","scale","rotate","perspective"],PP=["transform","translate","scale","rotate","perspective","filter"],IP=["paint","layout","strict","content"];function gy(e){const t=yy(),n=$n(e)?Ln(e):e;return LP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||PP.some(r=>(n.willChange||"").includes(r))||IP.some(r=>(n.contain||"").includes(r))}function BP(e){let t=La(e);for(;or(t)&&!qs(t);){if(gy(t))return t;if(jf(t))return null;t=La(t)}return null}function yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const HP=new Set(["html","body","#document"]);function qs(e){return HP.has(yi(e))}function Ln(e){return cn(e).getComputedStyle(e)}function Tf(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function La(e){if(yi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Wb(e)&&e.host||dr(e);return Wb(t)?t.host:t}function e2(e){const t=La(e);return qs(t)?e.ownerDocument?e.ownerDocument.body:e.body:or(t)&&Sc(t)?t:e2(t)}function zl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=e2(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=cn(a);if(o){const i=Wp(s);return t.concat(s,s.visualViewport||[],Sc(a)?a:[],i&&n?zl(i):[])}return t.concat(a,zl(a,[],n))}function Wp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function t2(e){const t=Ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=or(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,i=Cd(n)!==o||Cd(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function vy(e){return $n(e)?e:e.contextElement}function js(e){const t=vy(e);if(!or(t))return tr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=t2(t);let s=(o?Cd(n.width):n.width)/r,i=(o?Cd(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const FP=tr(0);function n2(e){const t=cn(e);return!yy()||!t.visualViewport?FP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UP(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cn(e)?!1:t}function _o(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=vy(e);let s=tr(1);t&&(r?$n(r)&&(s=js(r)):s=js(e));const i=UP(o,n,r)?n2(o):tr(0);let c=(a.left+i.x)/s.x,u=(a.top+i.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(o){const h=cn(o),m=r&&$n(r)?cn(r):r;let y=h,x=Wp(y);for(;x&&r&&m!==y;){const w=js(x),v=x.getBoundingClientRect(),g=Ln(x),b=v.left+(x.clientLeft+parseFloat(g.paddingLeft))*w.x,S=v.top+(x.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=S,y=cn(x),x=Wp(y)}}return kd({width:d,height:f,x:c,y:u})}function xy(e,t){const n=Tf(e).scrollLeft;return t?t.left+n:_o(dr(e)).left+n}function r2(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:xy(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function GP(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=dr(r),i=t?jf(t.floating):!1;if(r===s||i&&o)return n;let c={scrollLeft:0,scrollTop:0},u=tr(1);const d=tr(0),f=or(r);if((f||!f&&!o)&&((yi(r)!=="body"||Sc(s))&&(c=Tf(r)),or(r))){const m=_o(r);u=js(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=s&&!f&&!o?r2(s,c,!0):tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function VP(e){return Array.from(e.getClientRects())}function ZP(e){const t=dr(e),n=Tf(e),r=e.ownerDocument.body,a=tn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=tn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+xy(e);const i=-n.scrollTop;return Ln(r).direction==="rtl"&&(s+=tn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function YP(e,t){const n=cn(e),r=dr(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,c=0;if(a){o=a.width,s=a.height;const u=yy();(!u||u&&t==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:i,y:c}}const qP=new Set(["absolute","fixed"]);function XP(e,t){const n=_o(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=or(e)?js(e):tr(1),s=e.clientWidth*o.x,i=e.clientHeight*o.y,c=a*o.x,u=r*o.y;return{width:s,height:i,x:c,y:u}}function Qb(e,t,n){let r;if(t==="viewport")r=YP(e,n);else if(t==="document")r=ZP(dr(e));else if($n(t))r=XP(t,n);else{const a=n2(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return kd(r)}function a2(e,t){const n=La(e);return n===t||!$n(n)||qs(n)?!1:Ln(n).position==="fixed"||a2(n,t)}function KP(e,t){const n=t.get(e);if(n)return n;let r=zl(e,[],!1).filter(i=>$n(i)&&yi(i)!=="body"),a=null;const o=Ln(e).position==="fixed";let s=o?La(e):e;for(;$n(s)&&!qs(s);){const i=Ln(s),c=gy(s);!c&&i.position==="fixed"&&(a=null),(o?!c&&!a:!c&&i.position==="static"&&!!a&&qP.has(a.position)||Sc(s)&&!c&&a2(e,s))?r=r.filter(d=>d!==s):a=i,s=La(s)}return t.set(e,r),r}function WP(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?jf(t)?[]:KP(t,this._c):[].concat(n),r],i=s[0],c=s.reduce((u,d)=>{const f=Qb(t,d,a);return u.top=tn(f.top,u.top),u.right=$a(f.right,u.right),u.bottom=$a(f.bottom,u.bottom),u.left=tn(f.left,u.left),u},Qb(t,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QP(e){const{width:t,height:n}=t2(e);return{width:t,height:n}}function JP(e,t,n){const r=or(t),a=dr(t),o=n==="fixed",s=_o(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const c=tr(0);function u(){c.x=xy(a)}if(r||!r&&!o)if((yi(t)!=="body"||Sc(a))&&(i=Tf(t)),r){const m=_o(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();o&&!r&&a&&u();const d=a&&!r&&!o?r2(a,i):tr(0),f=s.left+i.scrollLeft-c.x-d.x,h=s.top+i.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function cm(e){return Ln(e).position==="static"}function Jb(e,t){if(!or(e)||Ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return dr(e)===n&&(n=n.ownerDocument.body),n}function o2(e,t){const n=cn(e);if(jf(e))return n;if(!or(e)){let a=La(e);for(;a&&!qs(a);){if($n(a)&&!cm(a))return a;a=La(a)}return n}let r=Jb(e,t);for(;r&&OP(r)&&cm(r);)r=Jb(r,t);return r&&qs(r)&&cm(r)&&!gy(r)?n:r||BP(e)||n}const e6=async function(e){const t=this.getOffsetParent||o2,n=this.getDimensions,r=await n(e.floating);return{reference:JP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function t6(e){return Ln(e).direction==="rtl"}const n6={convertOffsetParentRelativeRectToViewportRelativeRect:GP,getDocumentElement:dr,getClippingRect:WP,getOffsetParent:o2,getElementRects:e6,getClientRects:VP,getDimensions:QP,getScale:js,isElement:$n,isRTL:t6};function s2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function r6(e,t){let n=null,r;const a=dr(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(i||t(),!h||!m)return;const y=eu(f),x=eu(a.clientWidth-(d+h)),w=eu(a.clientHeight-(f+m)),v=eu(d),b={rootMargin:-y+"px "+-x+"px "+-w+"px "+-v+"px",threshold:tn(0,$a(1,c))||1};let S=!0;function _(A){const N=A[0].intersectionRatio;if(N!==c){if(!S)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!s2(u,e.getBoundingClientRect())&&s(),S=!1}try{n=new IntersectionObserver(_,{...b,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(e)}return s(!0),o}function a6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=vy(e),d=a||o?[...u?zl(u):[],...zl(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&i?r6(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let y,x=c?_o(e):null;c&&w();function w(){const v=_o(e);x&&!s2(x,v)&&n(),x=v,y=requestAnimationFrame(w)}return n(),()=>{var v;d.forEach(g=>{a&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const o6=jP,s6=TP,i6=CP,l6=MP,c6=AP,ew=EP,u6=RP,d6=(e,t,n)=>{const r=new Map,a={platform:n6,...n},o={...a.platform,_c:r};return _P(e,t,{...a,platform:o})};var f6=typeof document<"u",h6=function(){},Pu=f6?p.useLayoutEffect:h6;function jd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!jd(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!jd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function i2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tw(e,t){const n=i2(e);return Math.round(t*n)/n}function um(e){const t=p.useRef(e);return Pu(()=>{t.current=e}),t}function m6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);jd(h,r)||m(r);const[y,x]=p.useState(null),[w,v]=p.useState(null),g=p.useCallback(z=>{z!==A.current&&(A.current=z,x(z))},[]),b=p.useCallback(z=>{z!==N.current&&(N.current=z,v(z))},[]),S=o||y,_=s||w,A=p.useRef(null),N=p.useRef(null),E=p.useRef(d),j=c!=null,C=um(c),R=um(a),I=um(u),B=p.useCallback(()=>{if(!A.current||!N.current)return;const z={placement:t,strategy:n,middleware:h};R.current&&(z.platform=R.current),d6(A.current,N.current,z).then(M=>{const $={...M,isPositioned:I.current!==!1};k.current&&!jd(E.current,$)&&(E.current=$,Kl.flushSync(()=>{f($)}))})},[h,t,n,R,I]);Pu(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const k=p.useRef(!1);Pu(()=>(k.current=!0,()=>{k.current=!1}),[]),Pu(()=>{if(S&&(A.current=S),_&&(N.current=_),S&&_){if(C.current)return C.current(S,_,B);B()}},[S,_,B,C,j]);const O=p.useMemo(()=>({reference:A,floating:N,setReference:g,setFloating:b}),[g,b]),T=p.useMemo(()=>({reference:S,floating:_}),[S,_]),P=p.useMemo(()=>{const z={position:n,left:0,top:0};if(!T.floating)return z;const M=tw(T.floating,d.x),$=tw(T.floating,d.y);return i?{...z,transform:"translate("+M+"px, "+$+"px)",...i2(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:$}},[n,i,T.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:B,refs:O,elements:T,floatingStyles:P}),[d,B,O,T,P])}const p6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ew({element:r.current,padding:a}).fn(n):{}:r?ew({element:r,padding:a}).fn(n):{}}}},g6=(e,t)=>({...o6(e),options:[e,t]}),y6=(e,t)=>({...s6(e),options:[e,t]}),v6=(e,t)=>({...u6(e),options:[e,t]}),x6=(e,t)=>({...i6(e),options:[e,t]}),b6=(e,t)=>({...l6(e),options:[e,t]}),w6=(e,t)=>({...c6(e),options:[e,t]}),S6=(e,t)=>({...p6(e),options:[e,t]});var N6="Arrow",l2=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return l.jsx(ue.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});l2.displayName=N6;var _6=l2,by="Popper",[c2,vi]=Yt(by),[E6,u2]=c2(by),d2=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return l.jsx(E6,{scope:t,anchor:r,onAnchorChange:a,children:n})};d2.displayName=by;var f2="PopperAnchor",h2=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=u2(f2,n),s=p.useRef(null),i=Ce(t,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:l.jsx(ue.div,{...a,ref:i})});h2.displayName=f2;var wy="PopperContent",[C6,A6]=c2(wy),m2=p.forwardRef((e,t)=>{var F,Y,W,Q,be,ge;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=e,w=u2(wy,n),[v,g]=p.useState(null),b=Ce(t,ce=>g(ce)),[S,_]=p.useState(null),A=GC(S),N=(A==null?void 0:A.width)??0,E=(A==null?void 0:A.height)??0,j=r+(o!=="center"?"-"+o:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],I=R.length>0,B={padding:C,boundary:R.filter(j6),altBoundary:I},{refs:k,floatingStyles:O,placement:T,isPositioned:P,middlewareData:z}=m6({strategy:"fixed",placement:j,whileElementsMounted:(...ce)=>a6(...ce,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[g6({mainAxis:a+E,alignmentAxis:s}),c&&y6({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?v6():void 0,...B}),c&&x6({...B}),b6({...B,apply:({elements:ce,rects:Re,availableWidth:Me,availableHeight:xt})=>{const{width:Ne,height:J}=Re.reference,We=ce.floating.style;We.setProperty("--radix-popper-available-width",`${Me}px`),We.setProperty("--radix-popper-available-height",`${xt}px`),We.setProperty("--radix-popper-anchor-width",`${Ne}px`),We.setProperty("--radix-popper-anchor-height",`${J}px`)}}),S&&S6({element:S,padding:i}),T6({arrowWidth:N,arrowHeight:E}),h&&w6({strategy:"referenceHidden",...B})]}),[M,$]=y2(T),U=Et(y);ar(()=>{P&&(U==null||U())},[P,U]);const V=(F=z.arrow)==null?void 0:F.x,G=(Y=z.arrow)==null?void 0:Y.y,D=((W=z.arrow)==null?void 0:W.centerOffset)!==0,[H,Z]=p.useState();return ar(()=>{v&&Z(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:P?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(Q=z.transformOrigin)==null?void 0:Q.x,(be=z.transformOrigin)==null?void 0:be.y].join(" "),...((ge=z.hide)==null?void 0:ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(C6,{scope:n,placedSide:M,onArrowChange:_,arrowX:V,arrowY:G,shouldHideArrow:D,children:l.jsx(ue.div,{"data-side":M,"data-align":$,...x,ref:b,style:{...x.style,animation:P?void 0:"none"}})})})});m2.displayName=wy;var p2="PopperArrow",k6={top:"bottom",right:"left",bottom:"top",left:"right"},g2=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=A6(p2,r),s=k6[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(_6,{...a,ref:n,style:{...a.style,display:"block"}})})});g2.displayName=p2;function j6(e){return e!==null}var T6=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:n,rects:r,middlewareData:a}=t,s=((w=a.arrow)==null?void 0:w.centerOffset)!==0,i=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=y2(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+i/2,m=(((g=a.arrow)==null?void 0:g.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=s?f:`${h}px`,x=`${-c}px`):u==="top"?(y=s?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=s?f:`${m}px`):u==="left"&&(y=`${r.floating.width+c}px`,x=s?f:`${m}px`),{data:{x:y,y:x}}}});function y2(e){const[t,n="center"]=e.split("-");return[t,n]}var v2=d2,Sy=h2,Ny=m2,_y=g2,Qp=["Enter"," "],R6=["ArrowDown","PageUp","Home"],x2=["ArrowUp","PageDown","End"],M6=[...R6,...x2],D6={ltr:[...Qp,"ArrowRight"],rtl:[...Qp,"ArrowLeft"]},z6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Nc="Menu",[Ol,O6,$6]=sy(Nc),[$o,b2]=Yt(Nc,[$6,vi,mi]),Rf=vi(),w2=mi(),[L6,Lo]=$o(Nc),[P6,_c]=$o(Nc),S2=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,i=Rf(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Et(o),h=hi(a);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(v2,{...i,children:l.jsx(L6,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(P6,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:r})})})};S2.displayName=Nc;var I6="MenuAnchor",Ey=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Rf(n);return l.jsx(Sy,{...a,...r,ref:t})});Ey.displayName=I6;var Cy="MenuPortal",[B6,N2]=$o(Cy,{forceMount:void 0}),_2=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Lo(Cy,t);return l.jsx(B6,{scope:t,forceMount:n,children:l.jsx(kt,{present:n||o.open,children:l.jsx(W0,{asChild:!0,container:a,children:r})})})};_2.displayName=Cy;var Nn="MenuContent",[H6,Ay]=$o(Nn),E2=p.forwardRef((e,t)=>{const n=N2(Nn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Lo(Nn,e.__scopeMenu),s=_c(Nn,e.__scopeMenu);return l.jsx(Ol.Provider,{scope:e.__scopeMenu,children:l.jsx(kt,{present:r||o.open,children:l.jsx(Ol.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(F6,{...a,ref:t}):l.jsx(U6,{...a,ref:t})})})})}),F6=p.forwardRef((e,t)=>{const n=Lo(Nn,e.__scopeMenu),r=p.useRef(null),a=Ce(t,r);return p.useEffect(()=>{const o=r.current;if(o)return KE(o)},[]),l.jsx(ky,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),U6=p.forwardRef((e,t)=>{const n=Lo(Nn,e.__scopeMenu);return l.jsx(ky,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),G6=Ys("MenuContent.ScrollLock"),ky=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...x}=e,w=Lo(Nn,n),v=_c(Nn,n),g=Rf(n),b=w2(n),S=O6(n),[_,A]=p.useState(null),N=p.useRef(null),E=Ce(t,N,w.onContentChange),j=p.useRef(0),C=p.useRef(""),R=p.useRef(0),I=p.useRef(null),B=p.useRef("right"),k=p.useRef(0),O=y?Q0:p.Fragment,T=y?{as:G6,allowPinchZoom:!0}:void 0,P=M=>{var F,Y;const $=C.current+M,U=S().filter(W=>!W.disabled),V=document.activeElement,G=(F=U.find(W=>W.ref.current===V))==null?void 0:F.textValue,D=U.map(W=>W.textValue),H=n8(D,$,G),Z=(Y=U.find(W=>W.textValue===H))==null?void 0:Y.ref.current;(function W(Q){C.current=Q,window.clearTimeout(j.current),Q!==""&&(j.current=window.setTimeout(()=>W(""),1e3))})($),Z&&setTimeout(()=>Z.focus())};p.useEffect(()=>()=>window.clearTimeout(j.current),[]),HE();const z=p.useCallback(M=>{var U,V;return B.current===((U=I.current)==null?void 0:U.side)&&a8(M,(V=I.current)==null?void 0:V.area)},[]);return l.jsx(H6,{scope:n,searchRef:C,onItemEnter:p.useCallback(M=>{z(M)&&M.preventDefault()},[z]),onItemLeave:p.useCallback(M=>{var $;z(M)||(($=N.current)==null||$.focus(),A(null))},[z]),onTriggerLeave:p.useCallback(M=>{z(M)&&M.preventDefault()},[z]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback(M=>{I.current=M},[]),children:l.jsx(O,{...T,children:l.jsx(K0,{asChild:!0,trapped:a,onMountAutoFocus:ee(o,M=>{var $;M.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(xc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(iy,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:A,onEntryFocus:ee(c,M=>{v.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Ny,{role:"menu","aria-orientation":"vertical","data-state":H2(w.open),"data-radix-menu-content":"",dir:v.dir,...g,...x,ref:E,style:{outline:"none",...x.style},onKeyDown:ee(x.onKeyDown,M=>{const U=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,G=M.key.length===1;U&&(M.key==="Tab"&&M.preventDefault(),!V&&G&&P(M.key));const D=N.current;if(M.target!==D||!M6.includes(M.key))return;M.preventDefault();const Z=S().filter(F=>!F.disabled).map(F=>F.ref.current);x2.includes(M.key)&&Z.reverse(),e8(Z)}),onBlur:ee(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(j.current),C.current="")}),onPointerMove:ee(e.onPointerMove,$l(M=>{const $=M.target,U=k.current!==M.clientX;if(M.currentTarget.contains($)&&U){const V=M.clientX>k.current?"right":"left";B.current=V,k.current=M.clientX}}))})})})})})})});E2.displayName=Nn;var V6="MenuGroup",jy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(ue.div,{role:"group",...r,ref:t})});jy.displayName=V6;var Z6="MenuLabel",C2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(ue.div,{...r,ref:t})});C2.displayName=Z6;var Td="MenuItem",nw="menu.itemSelect",Mf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=p.useRef(null),s=_c(Td,e.__scopeMenu),i=Ay(Td,e.__scopeMenu),c=Ce(t,o),u=p.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(nw,{bubbles:!0,cancelable:!0});f.addEventListener(nw,m=>r==null?void 0:r(m),{once:!0}),LE(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(A2,{...a,ref:c,disabled:n,onClick:ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ee(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ee(e.onKeyDown,f=>{const h=i.searchRef.current!=="";n||h&&f.key===" "||Qp.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Mf.displayName=Td;var A2=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,s=Ay(Td,n),i=w2(n),c=p.useRef(null),u=Ce(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[o.children]),l.jsx(Ol.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:l.jsx(ly,{asChild:!0,...i,focusable:!r,children:l.jsx(ue.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ee(e.onPointerMove,$l(y=>{r?s.onItemLeave(y):(s.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(e.onPointerLeave,$l(y=>s.onItemLeave(y))),onFocus:ee(e.onFocus,()=>f(!0)),onBlur:ee(e.onBlur,()=>f(!1))})})})}),Y6="MenuCheckboxItem",k2=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return l.jsx(D2,{scope:e.__scopeMenu,checked:n,children:l.jsx(Mf,{role:"menuitemcheckbox","aria-checked":Rd(n)?"mixed":n,...a,ref:t,"data-state":Ry(n),onSelect:ee(a.onSelect,()=>r==null?void 0:r(Rd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});k2.displayName=Y6;var j2="MenuRadioGroup",[q6,X6]=$o(j2,{value:void 0,onValueChange:()=>{}}),T2=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=Et(r);return l.jsx(q6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(jy,{...a,ref:t})})});T2.displayName=j2;var R2="MenuRadioItem",M2=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=X6(R2,e.__scopeMenu),o=n===a.value;return l.jsx(D2,{scope:e.__scopeMenu,checked:o,children:l.jsx(Mf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Ry(o),onSelect:ee(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});M2.displayName=R2;var Ty="MenuItemIndicator",[D2,K6]=$o(Ty,{checked:!1}),z2=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=K6(Ty,n);return l.jsx(kt,{present:r||Rd(o.checked)||o.checked===!0,children:l.jsx(ue.span,{...a,ref:t,"data-state":Ry(o.checked)})})});z2.displayName=Ty;var W6="MenuSeparator",O2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});O2.displayName=W6;var Q6="MenuArrow",$2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Rf(n);return l.jsx(_y,{...a,...r,ref:t})});$2.displayName=Q6;var J6="MenuSub",[RJ,L2]=$o(J6),Ui="MenuSubTrigger",P2=p.forwardRef((e,t)=>{const n=Lo(Ui,e.__scopeMenu),r=_c(Ui,e.__scopeMenu),a=L2(Ui,e.__scopeMenu),o=Ay(Ui,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),l.jsx(Ey,{asChild:!0,...u,children:l.jsx(A2,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":H2(n.open),...e,ref:Sf(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(e.onPointerMove,$l(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ee(e.onPointerLeave,$l(f=>{var m,y;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,w=x==="right",v=w?-5:5,g=h[w?"left":"right"],b=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ee(e.onKeyDown,f=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||D6[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});P2.displayName=Ui;var I2="MenuSubContent",B2=p.forwardRef((e,t)=>{const n=N2(Nn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Lo(Nn,e.__scopeMenu),s=_c(Nn,e.__scopeMenu),i=L2(I2,e.__scopeMenu),c=p.useRef(null),u=Ce(t,c);return l.jsx(Ol.Provider,{scope:e.__scopeMenu,children:l.jsx(kt,{present:r||o.open,children:l.jsx(Ol.Slot,{scope:e.__scopeMenu,children:l.jsx(ky,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ee(e.onFocusOutside,d=>{d.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ee(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=z6[s.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(m=i.trigger)==null||m.focus(),d.preventDefault())})})})})})});B2.displayName=I2;function H2(e){return e?"open":"closed"}function Rd(e){return e==="indeterminate"}function Ry(e){return Rd(e)?"indeterminate":e?"checked":"unchecked"}function e8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function t8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function n8(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=t8(e,Math.max(o,0));a.length===1&&(s=s.filter(u=>u!==n));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function r8(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function a8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return r8(n,t)}function $l(e){return t=>t.pointerType==="mouse"?e(t):void 0}var o8=S2,s8=Ey,i8=_2,l8=E2,c8=jy,u8=C2,d8=Mf,f8=k2,h8=T2,m8=M2,p8=z2,g8=O2,y8=$2,v8=P2,x8=B2,Df="DropdownMenu",[b8,MJ]=Yt(Df,[b2]),Ot=b2(),[w8,F2]=b8(Df),U2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,c=Ot(t),u=p.useRef(null),[d,f]=An({prop:a,defaultProp:o??!1,onChange:s,caller:Df});return l.jsx(w8,{scope:t,triggerId:$r(),triggerRef:u,contentId:$r(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:i,children:l.jsx(o8,{...c,open:d,onOpenChange:f,dir:r,modal:i,children:n})})};U2.displayName=Df;var G2="DropdownMenuTrigger",V2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=F2(G2,n),s=Ot(n);return l.jsx(s8,{asChild:!0,...s,children:l.jsx(ue.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Sf(t,o.triggerRef),onPointerDown:ee(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:ee(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});V2.displayName=G2;var S8="DropdownMenuPortal",Z2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ot(t);return l.jsx(i8,{...r,...n})};Z2.displayName=S8;var Y2="DropdownMenuContent",q2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=F2(Y2,n),o=Ot(n),s=p.useRef(!1);return l.jsx(l8,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:ee(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});q2.displayName=Y2;var N8="DropdownMenuGroup",_8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(c8,{...a,...r,ref:t})});_8.displayName=N8;var E8="DropdownMenuLabel",X2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(u8,{...a,...r,ref:t})});X2.displayName=E8;var C8="DropdownMenuItem",K2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(d8,{...a,...r,ref:t})});K2.displayName=C8;var A8="DropdownMenuCheckboxItem",W2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(f8,{...a,...r,ref:t})});W2.displayName=A8;var k8="DropdownMenuRadioGroup",j8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(h8,{...a,...r,ref:t})});j8.displayName=k8;var T8="DropdownMenuRadioItem",Q2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(m8,{...a,...r,ref:t})});Q2.displayName=T8;var R8="DropdownMenuItemIndicator",J2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(p8,{...a,...r,ref:t})});J2.displayName=R8;var M8="DropdownMenuSeparator",eA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(g8,{...a,...r,ref:t})});eA.displayName=M8;var D8="DropdownMenuArrow",z8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(y8,{...a,...r,ref:t})});z8.displayName=D8;var O8="DropdownMenuSubTrigger",tA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(v8,{...a,...r,ref:t})});tA.displayName=O8;var $8="DropdownMenuSubContent",nA=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Ot(n);return l.jsx(x8,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nA.displayName=$8;var L8=U2,P8=V2,I8=Z2,rA=q2,aA=X2,oA=K2,sA=W2,iA=Q2,lA=J2,cA=eA,uA=tA,dA=nA;const My=L8,Dy=P8,B8=p.forwardRef(({className:e,inset:t,children:n,...r},a)=>l.jsxs(uA,{ref:a,className:K("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(hc,{className:"ml-auto h-4 w-4"})]}));B8.displayName=uA.displayName;const H8=p.forwardRef(({className:e,...t},n)=>l.jsx(dA,{ref:n,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:ft.DROPDOWN},...t}));H8.displayName=dA.displayName;const zf=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(I8,{children:l.jsx(rA,{ref:r,sideOffset:t,className:K("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:ft.DROPDOWN},...n})}));zf.displayName=rA.displayName;const Pr=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(oA,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Pr.displayName=oA.displayName;const F8=p.forwardRef(({className:e,children:t,checked:n,...r},a)=>l.jsxs(sA,{ref:a,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lA,{children:l.jsx(tE,{className:"h-4 w-4"})})}),t]}));F8.displayName=sA.displayName;const U8=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(iA,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(lA,{children:l.jsx(go,{className:"h-2 w-2 fill-current"})})}),t]}));U8.displayName=iA.displayName;const G8=p.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(aA,{ref:r,className:K("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));G8.displayName=aA.displayName;const V8=p.forwardRef(({className:e,...t},n)=>l.jsx(cA,{ref:n,className:K("-mx-1 my-1 h-px bg-muted",e),...t}));V8.displayName=cA.displayName;function Z8(e,[t,n]){return Math.min(n,Math.max(t,e))}function Y8(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var zy="ScrollArea",[fA,DJ]=Yt(zy),[q8,kn]=fA(zy),hA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...s}=e,[i,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,y]=p.useState(null),[x,w]=p.useState(null),[v,g]=p.useState(0),[b,S]=p.useState(0),[_,A]=p.useState(!1),[N,E]=p.useState(!1),j=Ce(t,R=>c(R)),C=hi(a);return l.jsx(q8,{scope:n,type:r,dir:C,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:S,children:l.jsx(ue.div,{dir:C,...s,ref:j,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});hA.displayName=zy;var mA="ScrollAreaViewport",pA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,s=kn(mA,n),i=p.useRef(null),c=Ce(t,i,s.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),l.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});pA.displayName=mA;var fr="ScrollAreaScrollbar",Oy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=kn(fr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=a,i=e.orientation==="horizontal";return p.useEffect(()=>(i?o(!0):s(!0),()=>{i?o(!1):s(!1)}),[i,o,s]),a.type==="hover"?l.jsx(X8,{...r,ref:t,forceMount:n}):a.type==="scroll"?l.jsx(K8,{...r,ref:t,forceMount:n}):a.type==="auto"?l.jsx(gA,{...r,ref:t,forceMount:n}):a.type==="always"?l.jsx($y,{...r,ref:t}):null});Oy.displayName=fr;var X8=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=kn(fr,e.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const i=a.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),l.jsx(kt,{present:n||o,children:l.jsx(gA,{"data-state":o?"visible":"hidden",...r,ref:t})})}),K8=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=kn(fr,e.__scopeScrollArea),o=e.orientation==="horizontal",s=$f(()=>c("SCROLL_END"),100),[i,c]=Y8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),s()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,c,s]),l.jsx(kt,{present:n||i!=="hidden",children:l.jsx($y,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gA=p.forwardRef((e,t)=>{const n=kn(fr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,s]=p.useState(!1),i=e.orientation==="horizontal",c=$f(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?u:d)}},10);return Xs(n.viewport,c),Xs(n.content,c),l.jsx(kt,{present:r||o,children:l.jsx($y,{"data-state":o?"visible":"hidden",...a,ref:t})})}),$y=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=kn(fr,e.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[i,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wA(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,m){return nI(h,s.current,i,m)}return n==="horizontal"?l.jsx(W8,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,m=rw(h,i,a.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):n==="vertical"?l.jsx(Q8,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,m=rw(h,i);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),W8=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=kn(fr,e.__scopeScrollArea),[s,i]=p.useState(),c=p.useRef(null),u=Ce(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(vA,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Of(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),NA(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Dd(s.paddingLeft),paddingEnd:Dd(s.paddingRight)}})}})}),Q8=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=kn(fr,e.__scopeScrollArea),[s,i]=p.useState(),c=p.useRef(null),u=Ce(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),l.jsx(vA,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Of(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),NA(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Dd(s.paddingTop),paddingEnd:Dd(s.paddingBottom)}})}})}),[J8,yA]=fA(fr),vA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=kn(fr,n),[y,x]=p.useState(null),w=Ce(t,j=>x(j)),v=p.useRef(null),g=p.useRef(""),b=m.viewport,S=r.content-r.viewport,_=Et(d),A=Et(c),N=$f(f,10);function E(j){if(v.current){const C=j.clientX-v.current.left,R=j.clientY-v.current.top;u({x:C,y:R})}}return p.useEffect(()=>{const j=C=>{const R=C.target;(y==null?void 0:y.contains(R))&&_(C,S)};return document.addEventListener("wheel",j,{passive:!1}),()=>document.removeEventListener("wheel",j,{passive:!1})},[b,y,S,_]),p.useEffect(A,[r,A]),Xs(y,N),Xs(m.content,N),l.jsx(J8,{scope:n,scrollbar:y,hasThumb:a,onThumbChange:Et(o),onThumbPointerUp:Et(s),onThumbPositionChange:A,onThumbPointerDown:Et(i),children:l.jsx(ue.div,{...h,ref:w,style:{position:"absolute",...h.style},onPointerDown:ee(e.onPointerDown,j=>{j.button===0&&(j.target.setPointerCapture(j.pointerId),v.current=y.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(j))}),onPointerMove:ee(e.onPointerMove,E),onPointerUp:ee(e.onPointerUp,j=>{const C=j.target;C.hasPointerCapture(j.pointerId)&&C.releasePointerCapture(j.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Md="ScrollAreaThumb",xA=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=yA(Md,e.__scopeScrollArea);return l.jsx(kt,{present:n||a.hasThumb,children:l.jsx(eI,{ref:t,...r})})}),eI=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=kn(Md,n),s=yA(Md,n),{onThumbPositionChange:i}=s,c=Ce(t,f=>s.onThumbChange(f)),u=p.useRef(void 0),d=$f(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const m=rI(f,i);u.current=m,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,i]),l.jsx(ue.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),y=f.clientX-m.left,x=f.clientY-m.top;s.onThumbPointerDown({x:y,y:x})}),onPointerUp:ee(e.onPointerUp,s.onThumbPointerUp)})});xA.displayName=Md;var Ly="ScrollAreaCorner",bA=p.forwardRef((e,t)=>{const n=kn(Ly,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(tI,{...e,ref:t}):null});bA.displayName=Ly;var tI=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=kn(Ly,n),[o,s]=p.useState(0),[i,c]=p.useState(0),u=!!(o&&i);return Xs(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Xs(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?l.jsx(ue.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Dd(e){return e?parseInt(e,10):0}function wA(e,t){const n=e/t;return isNaN(n)?0:n}function Of(e){const t=wA(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function nI(e,t,n,r="ltr"){const a=Of(n),o=a/2,s=t||o,i=a-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return SA([c,u],f)(e)}function rw(e,t,n="ltr"){const r=Of(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,s=t.content-t.viewport,i=o-r,c=n==="ltr"?[0,s]:[s*-1,0],u=Z8(e,c);return SA([0,s],[0,i])(u)}function SA(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function NA(e,t){return e>0&&e<t}var rI=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,i=n.top!==o.top;(s||i)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function $f(e,t){const n=Et(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Xs(e,t){const n=Et(t);ar(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var _A=hA,aI=pA,oI=bA;const zd=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(_A,{ref:r,className:K("relative overflow-hidden",e),...n,children:[l.jsx(aI,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(EA,{}),l.jsx(oI,{})]}));zd.displayName=_A.displayName;const EA=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Oy,{ref:r,orientation:t,className:K("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(xA,{className:"relative flex-1 rounded-full bg-border"})}));EA.displayName=Oy.displayName;function Py({categories:e,onSelect:t,className:n=""}){return l.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(r=>l.jsx("div",{className:"flex-1 min-w-[180px]",children:l.jsx(pi,{categories:[r],onSelect:t,placeholder:r.placeholder,className:"w-full"})},r.id))})}function Iy({tags:e,onRemove:t,className:n=""}){return e.length===0?null:l.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(r=>l.jsxs(we,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[l.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.category,":"]}),l.jsx("span",{children:r.label}),l.jsx("button",{onClick:()=>t(r.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:l.jsx(Sn,{className:"h-3 w-3"})})]},r.id))})}function sI({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:r,onTagRemove:a,onViewModeChange:o,children:s,className:i=""}){return l.jsxs("div",{className:`mb-8 space-y-4 ${i}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Py,{categories:e,onSelect:r,className:"w-full"})}),o&&l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(te,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>o("grid"),className:"h-8 px-3",children:l.jsx(mc,{className:"h-4 w-4"})}),l.jsx(te,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>o("list"),className:"h-8 px-3",children:l.jsx(pc,{className:"h-4 w-4"})})]})]}),l.jsx(Iy,{tags:t,onRemove:a,className:"justify-start"}),s&&l.jsx("div",{className:"pt-4",children:s})]})}function By({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={sm:"gap-3",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}function iI({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},o={sm:"gap-2",md:"gap-4",lg:"gap-6"};return l.jsx("div",{className:K("grid",a[t],o[n],r),children:e})}var Lf="Collapsible",[lI,CA]=Yt(Lf),[cI,Hy]=lI(Lf),AA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:s,...i}=e,[c,u]=An({prop:r,defaultProp:a??!1,onChange:s,caller:Lf});return l.jsx(cI,{scope:n,disabled:o,contentId:$r(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:l.jsx(ue.div,{"data-state":Uy(c),"data-disabled":o?"":void 0,...i,ref:t})})});AA.displayName=Lf;var kA="CollapsibleTrigger",jA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=Hy(kA,n);return l.jsx(ue.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Uy(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:ee(e.onClick,a.onOpenToggle)})});jA.displayName=kA;var Fy="CollapsibleContent",TA=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Hy(Fy,e.__scopeCollapsible);return l.jsx(kt,{present:n||a.open,children:({present:o})=>l.jsx(uI,{...r,ref:t,present:o})})});TA.displayName=Fy;var uI=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,s=Hy(Fy,n),[i,c]=p.useState(r),u=p.useRef(null),d=Ce(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),y=m.current,x=s.open||i,w=p.useRef(x),v=p.useRef(void 0);return p.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),ar(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();f.current=b.height,m.current=b.width,w.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),c(r)}},[s.open,r]),l.jsx(ue.div,{"data-state":Uy(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:x&&a})});function Uy(e){return e?"open":"closed"}var dI=AA,fI=jA,hI=TA,Hn="Accordion",mI=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Gy,pI,gI]=sy(Hn),[Pf,zJ]=Yt(Hn,[gI,CA]),Vy=CA(),RA=L.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,o=r;return l.jsx(Gy.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?l.jsx(bI,{...o,ref:t}):l.jsx(xI,{...a,ref:t})})});RA.displayName=Hn;var[MA,yI]=Pf(Hn),[DA,vI]=Pf(Hn,{collapsible:!1}),xI=L.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...s}=e,[i,c]=An({prop:n,defaultProp:r??"",onChange:a,caller:Hn});return l.jsx(MA,{scope:e.__scopeAccordion,value:L.useMemo(()=>i?[i]:[],[i]),onItemOpen:c,onItemClose:L.useCallback(()=>o&&c(""),[o,c]),children:l.jsx(DA,{scope:e.__scopeAccordion,collapsible:o,children:l.jsx(zA,{...s,ref:t})})})}),bI=L.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=An({prop:n,defaultProp:r??[],onChange:a,caller:Hn}),c=L.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=L.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(MA,{scope:e.__scopeAccordion,value:s,onItemOpen:c,onItemClose:u,children:l.jsx(DA,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(zA,{...o,ref:t})})})}),[wI,If]=Pf(Hn),zA=L.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...s}=e,i=L.useRef(null),c=Ce(i,t),u=pI(n),f=hi(a)==="ltr",h=ee(e.onKeyDown,m=>{var E;if(!mI.includes(m.key))return;const y=m.target,x=u().filter(j=>{var C;return!((C=j.ref.current)!=null&&C.disabled)}),w=x.findIndex(j=>j.ref.current===y),v=x.length;if(w===-1)return;m.preventDefault();let g=w;const b=0,S=v-1,_=()=>{g=w+1,g>S&&(g=b)},A=()=>{g=w-1,g<b&&(g=S)};switch(m.key){case"Home":g=b;break;case"End":g=S;break;case"ArrowRight":o==="horizontal"&&(f?_():A());break;case"ArrowDown":o==="vertical"&&_();break;case"ArrowLeft":o==="horizontal"&&(f?A():_());break;case"ArrowUp":o==="vertical"&&A();break}const N=g%v;(E=x[N].ref.current)==null||E.focus()});return l.jsx(wI,{scope:n,disabled:r,direction:a,orientation:o,children:l.jsx(Gy.Slot,{scope:n,children:l.jsx(ue.div,{...s,"data-orientation":o,ref:c,onKeyDown:r?void 0:h})})})}),Od="AccordionItem",[SI,Zy]=Pf(Od),OA=L.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,o=If(Od,n),s=yI(Od,n),i=Vy(n),c=$r(),u=r&&s.value.includes(r)||!1,d=o.disabled||e.disabled;return l.jsx(SI,{scope:n,open:u,disabled:d,triggerId:c,children:l.jsx(dI,{"data-orientation":o.orientation,"data-state":HA(u),...i,...a,ref:t,disabled:d,open:u,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})})});OA.displayName=Od;var $A="AccordionHeader",LA=L.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=If(Hn,n),o=Zy($A,n);return l.jsx(ue.h3,{"data-orientation":a.orientation,"data-state":HA(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});LA.displayName=$A;var Jp="AccordionTrigger",PA=L.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=If(Hn,n),o=Zy(Jp,n),s=vI(Jp,n),i=Vy(n);return l.jsx(Gy.ItemSlot,{scope:n,children:l.jsx(fI,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...i,...r,ref:t})})});PA.displayName=Jp;var IA="AccordionContent",BA=L.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=If(Hn,n),o=Zy(IA,n),s=Vy(n);return l.jsx(hI,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});BA.displayName=IA;function HA(e){return e?"open":"closed"}var NI=RA,_I=OA,EI=LA,FA=PA,UA=BA;const Yy=NI,Bf=p.forwardRef(({className:e,...t},n)=>l.jsx(_I,{ref:n,className:K("border-b",e),...t}));Bf.displayName="AccordionItem";const Hf=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(EI,{className:"flex",children:l.jsxs(FA,{ref:r,className:K("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,l.jsx(yt,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Hf.displayName=FA.displayName;const Ff=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(UA,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:K("pb-4 pt-0",e),children:t})}));Ff.displayName=UA.displayName;function CI({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return l.jsx(Yy,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:l.jsxs(Bf,{value:"customize-display",className:"border-none",children:[l.jsx(Hf,{className:"hover:no-underline",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oE,{className:"h-4 w-4"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:t}),l.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),l.jsx(Ff,{children:l.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var AI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kI="VisuallyHidden",GA=p.forwardRef((e,t)=>l.jsx(ue.span,{...e,ref:t,style:{...AI,...e.style}}));GA.displayName=kI;var jI=GA,[Uf,OJ]=Yt("Tooltip",[vi]),qy=vi(),TI="TooltipProvider",aw="tooltip.open",[$J,VA]=Uf(TI),ZA="Tooltip",[LJ,Gf]=Uf(ZA),eg="TooltipTrigger",RI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Gf(eg,n),o=VA(eg,n),s=qy(n),i=p.useRef(null),c=Ce(t,i,a.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Sy,{asChild:!0,...s,children:l.jsx(ue.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ee(e.onBlur,a.onClose),onClick:ee(e.onClick,a.onClose)})})});RI.displayName=eg;var MI="TooltipPortal",[PJ,DI]=Uf(MI,{forceMount:void 0}),Ks="TooltipContent",YA=p.forwardRef((e,t)=>{const n=DI(Ks,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,s=Gf(Ks,e.__scopeTooltip);return l.jsx(kt,{present:r||s.open,children:s.disableHoverableContent?l.jsx(qA,{side:a,...o,ref:t}):l.jsx(zI,{side:a,...o,ref:t})})}),zI=p.forwardRef((e,t)=>{const n=Gf(Ks,e.__scopeTooltip),r=VA(Ks,e.__scopeTooltip),a=p.useRef(null),o=Ce(t,a),[s,i]=p.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{i(null),f(!1)},[f]),m=p.useCallback((y,x)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},g=II(v,w.getBoundingClientRect()),b=BI(v,g),S=HI(x.getBoundingClientRect()),_=UI([...b,...S]);i(_),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const y=w=>m(w,d),x=w=>m(w,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,m,h]),p.useEffect(()=>{if(s){const y=x=>{const w=x.target,v={x:x.clientX,y:x.clientY},g=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),b=!FI(v,s);g?h():b&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,s,u,h]),l.jsx(qA,{...e,ref:o})}),[OI,$I]=Uf(ZA,{isInside:!1}),LI=K5("TooltipContent"),qA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:s,...i}=e,c=Gf(Ks,n),u=qy(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(aw,d),()=>document.removeEventListener(aw,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Ny,{"data-state":c.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(LI,{children:r}),l.jsx(OI,{scope:n,isInside:!0,children:l.jsx(jI,{id:c.contentId,role:"tooltip",children:a||r})})]})})});YA.displayName=Ks;var XA="TooltipArrow",PI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=qy(n);return $I(XA,n).isInside?null:l.jsx(_y,{...a,...r,ref:t})});PI.displayName=XA;function II(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function BI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function HI(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function FI(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],c=t[s],u=i.x,d=i.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(a=!a)}return a}function UI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),GI(t)}function GI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var KA=YA;const VI=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(KA,{ref:r,sideOffset:t,className:K("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));VI.displayName=KA.displayName;function Ll({title:e,navigateTo:t,onNavigate:n,children:r,className:a,showHeaderButton:o=!0}){return l.jsxs(tt,{className:a,children:[l.jsx(nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ut,{className:"text-lg",children:e}),o&&l.jsxs(te,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," →"]})]})}),l.jsx(qe,{className:"space-y-4",children:r})]})}var ZI="Label",WA=p.forwardRef((e,t)=>l.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));WA.displayName=ZI;const YI=ui("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rr=p.forwardRef(({className:e,children:t,...n},r)=>l.jsx(WA,{ref:r,className:K(YI(),e),...n,children:t}));Rr.displayName="Label";function tu({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:o=!1,onClick:s,showSwitch:i=!0}){const c=()=>{s?s():o||r(!n)};return l.jsxs("div",{className:K("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",o&&"opacity-50 cursor-not-allowed",a),onClick:c,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Rr,{className:"text-base font-medium",children:e}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&l.jsx(_r,{checked:n,onCheckedChange:r,disabled:o})]})}function QA(e){const t=[...e.stat_modifications.map(r=>({type:r.type==="bonus"?"positive":"negative",name:`${r.stat} ${r.type==="bonus"?"+":"-"}${r.value}${r.value_type==="percentage"?"%":""}`,description:`${r.stat} ${r.type==="bonus"?"increased":"decreased"} by ${r.value}${r.value_type==="percentage"?"%":""}`,value:r.value,target:r.stat})),...e.skill_bonuses.map(r=>({type:"positive",name:`${r.stat} +${r.value}${r.value_type==="percentage"?"%":""}`,description:`${r.stat} skill increased by ${r.value}${r.value_type==="percentage"?"%":""}`,value:r.value,target:r.stat})),...e.powers.map(r=>({type:"positive",name:r.name,description:r.description,value:r.magnitude||0,target:"power"}))],n=[e.group,...e.stat_modifications.map(r=>r.stat),...e.skill_bonuses.map(r=>r.stat),...e.powers.map(r=>r.name)].filter((r,a,o)=>o.indexOf(r)===a);return{id:e.name.toLowerCase().replace(/\s+/g,"-"),name:e.name,description:e.description,tags:n,effects:t,category:e.group}}function qI(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function XI(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}function ow(e){return{health:"Health",magicka:"Magicka",stamina:"Stamina",weapon_damage:"Weapon Damage",armor_penetration:"Armor Penetration",unarmed_damage:"Unarmed Damage",movement_speed:"Movement Speed",sprint_speed:"Sprint Speed",carry_weight:"Carry Weight",spell_strength:"Spell Strength",magicka_regeneration:"Magicka Regeneration",lockpicking_durability:"Lockpicking Durability",lockpicking_expertise:"Lockpicking Expertise",pickpocketing_success:"Pickpocketing Success",stealth_detection:"Stealth Detection",speech:"Speech",shout_cooldown:"Shout Cooldown",price_modification:"Price Modification",damage_reflection:"Damage Reflection",poison_resistance:"Poison Resistance",fire_resistance:"Fire Resistance",enchanting_strength:"Enchanting Strength"}[e]||e.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function KI(e){return e.replace(/<(\d+)>/g,"$1")}const WI={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},sw={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},QI={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function JA({entityName:e,entityType:t,size:n="md",className:r}){const o=WI[t][e],[s,i]=L.useState(!1);return!o||s?l.jsx("div",{className:K("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",sw[n],r),children:l.jsx("span",{className:K(QI[n]),children:e.charAt(0)})}):l.jsx("div",{className:K("rounded-full overflow-hidden bg-muted flex items-center justify-center",sw[n],r),children:l.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${o}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}const dm=new Map;function JI(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(dm.has(n))return dm.get(n);let r=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((a,o)=>{const s=[];r.forEach(i=>{if(i.className)s.push(i);else{let c=0,u;const d=new RegExp(a.pattern,a.pattern.flags.includes("g")?a.pattern.flags:a.pattern.flags+"g");d.lastIndex=0;let f=0;for(;(u=d.exec(i.text))!==null;){u.index>c&&s.push({text:i.text.slice(c,u.index),key:`${i.key}-${f++}`});let h=u[0];a.transform&&(h=a.transform(h));const m=typeof a.className=="function"?a.className(h):a.className;s.push({text:h,className:m,key:`${i.key}-${f++}`}),c=d.lastIndex}c<i.text.length&&s.push({text:i.text.slice(c),key:`${i.key}-${f++}`})}}),r=s}),r=r.map((a,o)=>({...a,key:a.key||String(o)})),dm.set(n,r),r}const e9=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],t9=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function n9(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,r=e.startsWith("-")||t<0;return n?"font-bold text-green-600":r?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const r=parseFloat(n[0]),a=n[0].startsWith("+")||r>0,o=n[0].startsWith("-")||r<0;if(a)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(o)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${e9.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${t9.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Ra({text:e,options:t,className:n="text-sm text-muted-foreground",as:r="div"}){const a=p.useMemo(()=>n9(),[]),o=p.useMemo(()=>e?JI(e,t||a):[],[e,t,a]);if(!e)return null;if(n.includes("line-clamp")){const i=n.match(/line-clamp-\d+/g)||[],c=n.replace(/line-clamp-\d+/g,"").trim();return l.jsx(r,{className:c,children:l.jsx("div",{className:`${i.join(" ")} overflow-hidden`,children:o.map(u=>l.jsx("span",{className:u.className,children:u.text},u.key))})})}return l.jsx(r,{className:n,children:o.map(i=>l.jsx("span",{className:i.className,children:i.text},i.key))})}function Xy({children:e,isExpanded:t,onToggle:n,className:r}){const a=L.Children.toArray(e).find(c=>L.isValidElement(c)&&c.type===Vf),o=L.Children.toArray(e).find(c=>L.isValidElement(c)&&c.type===Zf),s=L.Children.toArray(e).find(c=>L.isValidElement(c)&&c.type===Yf),i=L.Children.toArray(e).find(c=>L.isValidElement(c)&&c.type===qf);return l.jsxs(tt,{className:K("bg-card border rounded-lg shadow-sm transition-all duration-200 w-full",r),children:[l.jsx(nt,{className:"pb-3 cursor-pointer",onClick:n,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a,o]}),l.jsx(te,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:c=>{c.stopPropagation(),n()},children:t?l.jsx(yt,{className:"h-4 w-4"}):l.jsx(hc,{className:"h-4 w-4"})})]})}),!t&&s&&l.jsx(qe,{className:"pt-0 pb-3",children:s}),t&&i&&l.jsx(qe,{className:"pt-0 space-y-6",children:i})]})}function Vf({children:e,className:t}){return l.jsx("div",{className:K("flex flex-col items-center gap-2 mr-4",t),children:e})}function Zf({children:e,className:t}){return l.jsx("div",{className:K("flex items-center gap-3 flex-1",t),children:e})}function Yf({children:e,className:t}){return l.jsx("div",{className:t,children:e})}function qf({children:e,className:t}){return l.jsx("div",{className:t,children:e})}const Ec={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},shareButton:{copied:"text-green-600",default:"text-blue-600",hover:"text-blue-700"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Ts={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function r9(e){return Ec.traitLimit[e]}function a9(e){return Ec.shareButton[e]}function iw(e){return Ec.summaryCard[e]}function o9(e){return Ec.backgrounds[e]}function ek(e){return Ec.borders[e]}function s9({title:e,description:t,icon:n,variant:r="default",children:a,className:o}){const s=()=>{if(n)return n;switch(r){case"warning":return l.jsx(jl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx(kl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return l.jsxs(tt,{className:K(Ts.card,o),children:[l.jsxs(nt,{children:[l.jsxs(ut,{className:"flex items-center gap-2",children:[s(),e]}),t&&l.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),l.jsx(qe,{className:K(Ts.section),children:a})]})}function lw({label:e,value:t,onChange:n,min:r=0,max:a=10,currentCount:o,type:s="regular",className:i}){const c=()=>{switch(s){case"regular":return l.jsx(go,{className:"h-4 w-4"});case"bonus":return l.jsx(Ht,{className:"h-4 w-4"});default:return null}},u=()=>r9(s);return l.jsxs("div",{className:K(Ts.item,i),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c(),l.jsx(Rr,{htmlFor:`${s}-limit`,className:u(),children:e})]}),l.jsx(Bn,{id:`${s}-limit`,type:"number",min:r,max:a,value:t,onChange:d=>n(parseInt(d.target.value)||0),className:"mt-1"}),o!==void 0&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",o]})]})}function cw({type:e,title:t,message:n,className:r}){const a=()=>{switch(e){case"warning":return l.jsx(jl,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx(kl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return l.jsx(jl,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return l.jsx(kl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return l.jsxs("div",{className:K("flex items-start gap-2 p-4 rounded-lg border",o9(e),ek(e),r),children:[a(),l.jsxs("div",{className:"text-sm",children:[l.jsx("strong",{children:t}),l.jsx("p",{className:"mt-1",children:n})]})]})}function i9({open:e,title:t,message:n,variant:r="warning",confirmText:a="Confirm",cancelText:o="Cancel",onConfirm:s,onCancel:i,className:c}){if(!e)return null;const u=()=>{switch(r){case"warning":return l.jsx(jl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return l.jsx(kl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return l.jsx(T3,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return l.jsx(k3,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return l.jsx(jl,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},d=()=>{switch(r){case"error":return"destructive";case"success":return"default";default:return"default"}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:l.jsxs("div",{className:K("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",ek(r),c),children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u(),l.jsx("span",{className:"font-semibold",children:t})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:n}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(te,{variant:"outline",size:"sm",onClick:i,children:o}),l.jsx(te,{variant:d(),size:"sm",onClick:s,children:a})]})]})})}function l9({link:e,variant:t="outline",size:n="sm",icon:r,text:a="Share / Export",onCopied:o,className:s}){const[i,c]=p.useState(!1),u=async()=>{try{await navigator.clipboard.writeText(e),c(!0),o==null||o(),setTimeout(()=>c(!1),1500)}catch(h){console.error("Failed to copy link:",h);const m=document.createElement("textarea");m.value=e,document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),c(!0),o==null||o(),setTimeout(()=>c(!1),1500)}},d=()=>r||(i?l.jsx(tE,{className:"w-4 h-4"}):l.jsx(dz,{className:"w-4 h-4"})),f=()=>i?"Copied!":a;return l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(te,{variant:t,size:n,onClick:u,className:K("cursor-pointer hover:opacity-90",i&&a9("copied"),s),children:[d(),l.jsx("span",{className:"ml-2",children:f()})]})})}function c9({title:e,items:t,layout:n="grid",className:r}){const a=s=>{switch(s){case"race":return l.jsx(dl,{className:"h-4 w-4"});case"birthsign":return l.jsx(Ht,{className:"h-4 w-4"});case"religion":return l.jsx(H0,{className:"h-4 w-4"});case"traits":return l.jsx(yz,{className:"h-4 w-4"});default:return null}},o=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return l.jsxs(tt,{className:K(Ts.card,r),children:[l.jsx(nt,{children:l.jsx(ut,{children:e})}),l.jsx(qe,{className:K(Ts.section),children:l.jsx("div",{className:o(),children:t.map((s,i)=>l.jsxs("div",{className:K(Ts.item,s.className),children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.icon||a(s.type),l.jsxs("span",{className:K("font-medium text-sm",iw("primary")),children:[s.label,":"]})]}),l.jsx("div",{className:K("text-sm",iw("secondary")),children:s.value||"Not selected"})]},i))})})]})}function u9(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function tk({birthsignName:e,size:t="md",className:n}){return l.jsx(JA,{entityName:e,entityType:"birthsign",size:t,className:n})}const uw={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function d9(e){return uw[e]||uw.Other}const f9={health:l.jsx(H0,{className:"h-4 w-4 text-red-500"}),magicka:l.jsx(As,{className:"h-4 w-4 text-blue-500"}),stamina:l.jsx(v3,{className:"h-4 w-4 text-green-500"}),weapon_damage:l.jsx(Ip,{className:"h-4 w-4 text-orange-500"}),armor_penetration:l.jsx(sE,{className:"h-4 w-4 text-purple-500"}),unarmed_damage:l.jsx(Sd,{className:"h-4 w-4 text-yellow-500"}),movement_speed:l.jsx(go,{className:"h-4 w-4 text-cyan-500"}),sprint_speed:l.jsx(go,{className:"h-4 w-4 text-cyan-500"}),carry_weight:l.jsx(ma,{className:"h-4 w-4 text-gray-500"}),spell_strength:l.jsx(ul,{className:"h-4 w-4 text-indigo-500"}),magicka_regeneration:l.jsx(As,{className:"h-4 w-4 text-blue-400"}),lockpicking_durability:l.jsx(Du,{className:"h-4 w-4 text-green-400"}),lockpicking_expertise:l.jsx(Du,{className:"h-4 w-4 text-green-400"}),pickpocketing_success:l.jsx(Sd,{className:"h-4 w-4 text-green-400"}),stealth_detection:l.jsx(Du,{className:"h-4 w-4 text-purple-400"}),speech:l.jsx(ul,{className:"h-4 w-4 text-yellow-400"}),shout_cooldown:l.jsx(Pp,{className:"h-4 w-4 text-red-400"}),price_modification:l.jsx(go,{className:"h-4 w-4 text-gold-400"}),damage_reflection:l.jsx(ma,{className:"h-4 w-4 text-red-400"}),poison_resistance:l.jsx(nE,{className:"h-4 w-4 text-green-400"}),fire_resistance:l.jsx(Pp,{className:"h-4 w-4 text-orange-400"}),enchanting_strength:l.jsx(ul,{className:"h-4 w-4 text-purple-400"}),power:l.jsx(As,{className:"h-4 w-4 text-yellow-500"})},dw={sm:"text-xs px-2 py-0.5"};function tg({item:e,originalBirthsign:t,isExpanded:n=!1,onToggle:r,className:a,showStats:o=!0,showPowers:s=!0,showSkills:i=!0,showEffects:c=!0,showAddToBuild:u=!0}){var h,m,y,x;if(!t)return null;const d=w=>f9[w.toLowerCase()]||l.jsx(Ht,{className:"h-4 w-4 text-muted-foreground"}),f=KI(t.description);return l.jsxs(Xy,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[u&&l.jsx(Vf,{children:l.jsx(fy,{itemId:e.id,itemType:"stone",itemName:e.name})}),l.jsxs(Zf,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tk,{birthsignName:t.name,size:"md"}),l.jsx(Ef,{className:"text-primary font-semibold",children:t.name})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[t.group&&l.jsx(we,{variant:"outline",className:K(d9(t.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",dw.sm,"font-medium transition-colors"),children:t.group}),t.powers.length>0&&l.jsxs(we,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",dw.sm,"font-medium transition-colors"),children:[l.jsx(As,{className:"h-3 w-3 mr-1"}),t.powers.length," power",t.powers.length!==1?"s":""]}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ht,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(Yf,{children:l.jsx("div",{className:"space-y-3",children:l.jsx(Ra,{text:f,className:"text-base text-muted-foreground"})})}),l.jsx(qf,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Description"}),l.jsx(Ra,{text:f,className:"text-base text-muted-foreground"})]}),o&&t.stat_modifications.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.stat_modifications.map((w,v)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[d(w.stat),l.jsx("span",{className:"font-medium",children:ow(w.stat)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:K("font-bold",w.type==="bonus"?"text-green-600":"text-red-600"),children:w.type==="bonus"?(w.value>=0?"+":"")+w.value+(w.value_type==="percentage"?"%":""):(w.value<0?"":"-")+w.value+(w.value_type==="percentage"?"%":"")})})]},v))})]}),s&&t.powers.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),l.jsx("div",{className:"space-y-3",children:t.powers.map((w,v)=>l.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(AC,{className:"text-sm font-semibold",children:w.name}),w.magnitude&&l.jsxs(we,{variant:"outline",className:"text-xs",children:["Magnitude: ",w.magnitude]})]}),l.jsx(Ra,{text:w.description,className:"text-sm text-muted-foreground"})]},v))})]}),i&&t.skill_bonuses.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.skill_bonuses.map((w,v)=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[d(w.stat),l.jsx("span",{className:"font-medium",children:ow(w.stat)})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"font-bold text-green-600",children:["+",w.value,w.value_type==="percentage"?"%":""]})})]},v))})]}),c&&(((h=t.conditional_effects)==null?void 0:h.length)>0||((m=t.mastery_effects)==null?void 0:m.length)>0)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),l.jsxs("div",{className:"space-y-3",children:[(y=t.conditional_effects)==null?void 0:y.map((w,v)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(go,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm font-medium",children:w.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]},`conditional-${v}`)),(x=t.mastery_effects)==null?void 0:x.map((w,v)=>l.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Ht,{className:"h-4 w-4 text-yellow-500"}),l.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-sm font-medium",children:w.stat}),l.jsx("div",{className:"text-sm text-muted-foreground",children:w.description})]})]},`mastery-${v}`))]})]})]})})]})}function h9({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var I;return R.label.toLowerCase().includes(u.toLowerCase())||((I=R.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),h(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),h(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},_=C=>{C.key==="ArrowDown"?(C.preventDefault(),h(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),h(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),f>=0&&w[f]?b(w[f]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),h(-1))},A=()=>{s(!0)},N=i||x,E=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:_,className:"pl-10 pr-20"}),j&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Ur,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:ft.AUTOCOMPLETE},children:[E&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(yt,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Ur,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function m9({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(h9,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(pi,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function fw({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[c,u]=p.useState(-1),d=p.useRef(null),f=p.useRef(null);p.useEffect(()=>{const g=b=>{d.current&&!d.current.contains(b.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=e.filter(g=>g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||g.group.toLowerCase().includes(s.toLowerCase())),m=g=>{i(g),o(!0),u(-1)},y=g=>{t(g),i(""),o(!1),u(-1)},x=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(b=>Math.min(b+1,h.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(b=>Math.max(b-1,-1))):g.key==="Enter"?(g.preventDefault(),c>=0&&h[c]&&y(h[c])):g.key==="Escape"&&(o(!1),u(-1))},w=()=>{o(!0)},v=()=>{var g;i(""),(g=f.current)==null||g.focus()};return l.jsxs("div",{ref:d,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:f,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:w,onKeyDown:x,className:"pl-10 pr-20"}),s&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:v,children:l.jsx(Sn,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:ft.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:h.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No birthsigns found"}):h.map((g,b)=>l.jsx("button",{onClick:()=>y(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${b===c?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(tk,{birthsignName:g.name,size:"sm"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:g.name}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.group}),g.powers.length>0&&l.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/80"}),l.jsxs("span",{className:"text-muted-foreground",children:[g.powers.length," power",g.powers.length!==1?"s":""]})]})]})]})]})},g.edid))})})]})}const p9={birthsigns:[],loading:!0,error:null};function g9(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function nk(){const[e,t]=p.useReducer(g9,p9),n=p.useCallback(async()=>{t({type:"FETCH_START"});try{const r=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!r.ok)throw new Error("Failed to fetch birthsign data");const a=await r.json();t({type:"FETCH_SUCCESS",payload:a})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return p.useEffect(()=>{n()},[n]),{...e,refetch:n}}function y9({className:e}){const{birthsigns:t}=nk(),{build:n,setStone:r}=Zt(),a=fn(),[o,s]=p.useState(!0),i=n.stone?t.find(h=>h.edid===n.stone):null,c=h=>{r(h.edid)},u=()=>{a("/birth-signs")},d=()=>{s(!o)};if(!i)return l.jsxs(Ll,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),l.jsx(fw,{birthsigns:t,onSelect:c,placeholder:"Search for a birthsign...",className:"w-full"})]});const f=QA(i);return l.jsxs(Ll,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[l.jsx(fw,{birthsigns:t,onSelect:c,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),l.jsx(tg,{item:f,originalBirthsign:i,isExpanded:o,onToggle:d,className:"border-0 shadow-none",showAddToBuild:!1})]})}function Yr(e){return Array.isArray?Array.isArray(e):ok(e)==="[object Array]"}function v9(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function x9(e){return e==null?"":v9(e)}function Wn(e){return typeof e=="string"}function rk(e){return typeof e=="number"}function b9(e){return e===!0||e===!1||w9(e)&&ok(e)=="[object Boolean]"}function ak(e){return typeof e=="object"}function w9(e){return ak(e)&&e!==null}function nn(e){return e!=null}function fm(e){return!e.trim().length}function ok(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const S9="Incorrect 'index' type",N9=e=>`Invalid value for key ${e}`,_9=e=>`Pattern length exceeds max of ${e}.`,E9=e=>`Missing ${e} property in key`,C9=e=>`Property 'weight' in key '${e}' must be a positive integer`,hw=Object.prototype.hasOwnProperty;class A9{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=sk(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function sk(e){let t=null,n=null,r=null,a=1,o=null;if(Wn(e)||Yr(e))r=e,t=mw(e),n=ng(e);else{if(!hw.call(e,"name"))throw new Error(E9("name"));const s=e.name;if(r=s,hw.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(C9(s));t=mw(s),n=ng(s),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function mw(e){return Yr(e)?e:e.split(".")}function ng(e){return Yr(e)?e.join("."):e}function k9(e,t){let n=[],r=!1;const a=(o,s,i)=>{if(nn(o))if(!s[i])n.push(o);else{let c=s[i];const u=o[c];if(!nn(u))return;if(i===s.length-1&&(Wn(u)||rk(u)||b9(u)))n.push(x9(u));else if(Yr(u)){r=!0;for(let d=0,f=u.length;d<f;d+=1)a(u[d],s,i+1)}else s.length&&a(u,s,i+1)}};return a(e,Wn(t)?t.split("."):t,0),r?n:n[0]}const j9={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},T9={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},R9={location:0,threshold:.6,distance:100},M9={useExtendedSearch:!1,getFn:k9,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var se={...T9,...j9,...R9,...M9};const D9=/[^ ]+/g;function z9(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(D9).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(o,i),i},clear(){n.clear()}}}class Ky{constructor({getFn:t=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){this.norm=z9(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Wn(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Wn(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!nn(t)||fm(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(nn(s)){if(Yr(s)){let i=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:u,value:d}=c.pop();if(nn(d))if(Wn(d)&&!fm(d)){let f={v:d,i:u,n:this.norm.get(d)};i.push(f)}else Yr(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}r.$[o]=i}else if(Wn(s)&&!fm(s)){let i={v:s,n:this.norm.get(s)};r.$[o]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function ik(e,t,{getFn:n=se.getFn,fieldNormWeight:r=se.fieldNormWeight}={}){const a=new Ky({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(sk)),a.setSources(t),a.create(),a}function O9(e,{getFn:t=se.getFn,fieldNormWeight:n=se.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new Ky({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function nu(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=se.distance,ignoreLocation:o=se.ignoreLocation}={}){const s=t/e.length;if(o)return s;const i=Math.abs(r-n);return a?s+i/a:i?1:s}function $9(e=[],t=se.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let s=e.length;o<s;o+=1){let i=e[o];i&&r===-1?r=o:!i&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const ao=32;function L9(e,t,n,{location:r=se.location,distance:a=se.distance,threshold:o=se.threshold,findAllMatches:s=se.findAllMatches,minMatchCharLength:i=se.minMatchCharLength,includeMatches:c=se.includeMatches,ignoreLocation:u=se.ignoreLocation}={}){if(t.length>ao)throw new Error(_9(ao));const d=t.length,f=e.length,h=Math.max(0,Math.min(r,f));let m=o,y=h;const x=i>1||c,w=x?Array(f):[];let v;for(;(v=e.indexOf(t,y))>-1;){let N=nu(t,{currentLocation:v,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(N,m),y=v+d,x){let E=0;for(;E<d;)w[v+E]=1,E+=1}}y=-1;let g=[],b=1,S=d+f;const _=1<<d-1;for(let N=0;N<d;N+=1){let E=0,j=S;for(;E<j;)nu(t,{errors:N,currentLocation:h+j,expectedLocation:h,distance:a,ignoreLocation:u})<=m?E=j:S=j,j=Math.floor((S-E)/2+E);S=j;let C=Math.max(1,h-j+1),R=s?f:Math.min(h+j,f)+d,I=Array(R+2);I[R+1]=(1<<N)-1;for(let k=R;k>=C;k-=1){let O=k-1,T=n[e.charAt(O)];if(x&&(w[O]=+!!T),I[k]=(I[k+1]<<1|1)&T,N&&(I[k]|=(g[k+1]|g[k])<<1|1|g[k+1]),I[k]&_&&(b=nu(t,{errors:N,currentLocation:O,expectedLocation:h,distance:a,ignoreLocation:u}),b<=m)){if(m=b,y=O,y<=h)break;C=Math.max(1,2*h-y)}}if(nu(t,{errors:N+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;g=I}const A={isMatch:y>=0,score:Math.max(.001,b)};if(x){const N=$9(w,i);N.length?c&&(A.indices=N):A.isMatch=!1}return A}function P9(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const $d=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class lk{constructor(t,{location:n=se.location,threshold:r=se.threshold,distance:a=se.distance,includeMatches:o=se.includeMatches,findAllMatches:s=se.findAllMatches,minMatchCharLength:i=se.minMatchCharLength,isCaseSensitive:c=se.isCaseSensitive,ignoreDiacritics:u=se.ignoreDiacritics,ignoreLocation:d=se.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d},t=c?t:t.toLowerCase(),t=u?$d(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,y)=>{this.chunks.push({pattern:m,alphabet:P9(m),startIndex:y})},h=this.pattern.length;if(h>ao){let m=0;const y=h%ao,x=h-y;for(;m<x;)f(this.pattern.substr(m,ao),m),m+=ao;if(y){const w=h-ao;f(this.pattern.substr(w),w)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?$d(t):t,this.pattern===t){let x={isMatch:!0,score:0};return a&&(x.indices=[[0,t.length-1]]),x}const{location:o,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,ignoreLocation:d}=this.options;let f=[],h=0,m=!1;this.chunks.forEach(({pattern:x,alphabet:w,startIndex:v})=>{const{isMatch:g,score:b,indices:S}=L9(t,x,w,{location:o+v,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:u,includeMatches:a,ignoreLocation:d});g&&(m=!0),h+=b,g&&S&&(f=[...f,...S])});let y={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(y.indices=f),y}}class Ha{constructor(t){this.pattern=t}static isMultiMatch(t){return pw(t,this.multiRegex)}static isSingleMatch(t){return pw(t,this.singleRegex)}search(){}}function pw(e,t){const n=e.match(t);return n?n[1]:null}class I9 extends Ha{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class B9 extends Ha{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class H9 extends Ha{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class F9 extends Ha{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class U9 extends Ha{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class G9 extends Ha{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class ck extends Ha{constructor(t,{location:n=se.location,threshold:r=se.threshold,distance:a=se.distance,includeMatches:o=se.includeMatches,findAllMatches:s=se.findAllMatches,minMatchCharLength:i=se.minMatchCharLength,isCaseSensitive:c=se.isCaseSensitive,ignoreDiacritics:u=se.ignoreDiacritics,ignoreLocation:d=se.ignoreLocation}={}){super(t),this._bitapSearch=new lk(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class uk extends Ha{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const rg=[I9,uk,H9,F9,G9,U9,B9,ck],gw=rg.length,V9=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Z9="|";function Y9(e,t={}){return e.split(Z9).map(n=>{let r=n.trim().split(V9).filter(o=>o&&!!o.trim()),a=[];for(let o=0,s=r.length;o<s;o+=1){const i=r[o];let c=!1,u=-1;for(;!c&&++u<gw;){const d=rg[u];let f=d.isMultiMatch(i);f&&(a.push(new d(f,t)),c=!0)}if(!c)for(u=-1;++u<gw;){const d=rg[u];let f=d.isSingleMatch(i);if(f){a.push(new d(f,t));break}}}return a})}const q9=new Set([ck.type,uk.type]);class X9{constructor(t,{isCaseSensitive:n=se.isCaseSensitive,ignoreDiacritics:r=se.ignoreDiacritics,includeMatches:a=se.includeMatches,minMatchCharLength:o=se.minMatchCharLength,ignoreLocation:s=se.ignoreLocation,findAllMatches:i=se.findAllMatches,location:c=se.location,threshold:u=se.threshold,distance:d=se.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:c,threshold:u,distance:d},t=n?t:t.toLowerCase(),t=r?$d(t):t,this.pattern=t,this.query=Y9(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:o}=this.options;t=a?t:t.toLowerCase(),t=o?$d(t):t;let s=0,i=[],c=0;for(let u=0,d=n.length;u<d;u+=1){const f=n[u];i.length=0,s=0;for(let h=0,m=f.length;h<m;h+=1){const y=f[h],{isMatch:x,indices:w,score:v}=y.search(t);if(x){if(s+=1,c+=v,r){const g=y.constructor.type;q9.has(g)?i=[...i,...w]:i.push(w)}}else{c=0,s=0,i.length=0;break}}if(s){let h={isMatch:!0,score:c/s};return r&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const ag=[];function K9(...e){ag.push(...e)}function og(e,t){for(let n=0,r=ag.length;n<r;n+=1){let a=ag[n];if(a.condition(e,t))return new a(e,t)}return new lk(e,t)}const Ld={AND:"$and",OR:"$or"},sg={PATH:"$path",PATTERN:"$val"},ig=e=>!!(e[Ld.AND]||e[Ld.OR]),W9=e=>!!e[sg.PATH],Q9=e=>!Yr(e)&&ak(e)&&!ig(e),yw=e=>({[Ld.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function dk(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const s=W9(a);if(!s&&o.length>1&&!ig(a))return r(yw(a));if(Q9(a)){const c=s?a[sg.PATH]:o[0],u=s?a[sg.PATTERN]:a[c];if(!Wn(u))throw new Error(N9(c));const d={keyId:ng(c),pattern:u};return n&&(d.searcher=og(u,t)),d}let i={children:[],operator:o[0]};return o.forEach(c=>{const u=a[c];Yr(u)&&u.forEach(d=>{i.children.push(r(d))})}),i};return ig(e)||(e=yw(e)),r(e)}function J9(e,{ignoreFieldNorm:t=se.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:s})=>{const i=a?a.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:o))}),n.score=r})}function eB(e,t){const n=e.matches;t.matches=[],nn(n)&&n.forEach(r=>{if(!nn(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let s={indices:a,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function tB(e,t){t.score=e.score}function nB(e,t,{includeMatches:n=se.includeMatches,includeScore:r=se.includeScore}={}){const a=[];return n&&a.push(eB),r&&a.push(tB),e.map(o=>{const{idx:s}=o,i={item:t[s],refIndex:s};return a.length&&a.forEach(c=>{c(o,i)}),i})}class Wr{constructor(t,n={},r){this.options={...se,...n},this.options.useExtendedSearch,this._keyStore=new A9(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Ky))throw new Error(S9);this._myIndex=n||ik(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){nn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:s,ignoreFieldNorm:i}=this.options;let c=Wn(t)?Wn(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return J9(c,{ignoreFieldNorm:i}),o&&c.sort(s),rk(n)&&n>-1&&(c=c.slice(0,n)),nB(c,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=og(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i:s,n:i})=>{if(!nn(o))return;const{isMatch:c,score:u,indices:d}=n.searchIn(o);c&&a.push({item:o,idx:s,matches:[{score:u,value:o,norm:i,indices:d}]})}),a}_searchLogical(t){const n=dk(t,this.options),r=(i,c,u)=>{if(!i.children){const{keyId:f,searcher:h}=i,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return m&&m.length?[{idx:u,item:c,matches:m}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const m=i.children[f],y=r(m,c,u);if(y.length)d.push(...y);else if(i.operator===Ld.AND)return[]}return d},a=this._myIndex.records,o={},s=[];return a.forEach(({$:i,i:c})=>{if(nn(i)){let u=r(n,i,c);u.length&&(o[c]||(o[c]={idx:c,item:i,matches:[]},s.push(o[c])),u.forEach(({matches:d})=>{o[c].matches.push(...d)}))}}),s}_searchObjectList(t){const n=og(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:s,i})=>{if(!nn(s))return;let c=[];r.forEach((u,d)=>{c.push(...this._findMatches({key:u,value:s[d],searcher:n}))}),c.length&&o.push({idx:i,item:s,matches:c})}),o}_findMatches({key:t,value:n,searcher:r}){if(!nn(n))return[];let a=[];if(Yr(n))n.forEach(({v:o,i:s,n:i})=>{if(!nn(o))return;const{isMatch:c,score:u,indices:d}=r.searchIn(o);c&&a.push({score:u,key:t,value:o,idx:s,norm:i,indices:d})});else{const{v:o,n:s}=n,{isMatch:i,score:c,indices:u}=r.searchIn(o);i&&a.push({score:c,key:t,value:o,norm:s,indices:u})}return a}}Wr.version="7.1.0";Wr.createIndex=ik;Wr.parseIndex=O9;Wr.config=se;Wr.parseQuery=dk;K9(X9);function rB(e,t){const n=p.useMemo(()=>e.map(i=>{var c,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(d=>`${d.stat} ${d.type} ${d.value}${d.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(d=>`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`),powers:i.powers.map(d=>`${d.name} ${d.description}`),conditionalEffects:((c=i.conditional_effects)==null?void 0:c.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(d=>`${d.stat} ${d.description} ${d.condition||""}`))||[],originalBirthsign:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Wr(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:p.useMemo(()=>o.map(i=>i.item.originalBirthsign),[o]),searchResults:o,searchableBirthsigns:n}}const aB={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function oB(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function sB(e){const[t,n]=p.useReducer(oB,aB),r=p.useMemo(()=>{const w=qI(e),v=XI(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:w.map(g=>({id:`group-${g}`,label:g,value:g,category:"Birthsign Groups",description:`Birthsigns from ${g} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:v.map(g=>({id:`stat-${g}`,label:g.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase()),value:g,category:"Stats & Skills",description:`Birthsigns that affect ${g}`}))}]},[e]),a=p.useMemo(()=>t.selectedTags.length===0?e:e.filter(w=>t.selectedTags.every(v=>{switch(v.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return w.group===v.value;case"Stats & Skills":return[...w.stat_modifications.map(b=>b.stat),...w.skill_bonuses.map(b=>b.stat)].some(b=>b===v.value);default:return!0}})),[e,t.selectedTags]),o=p.useMemo(()=>t.selectedTags.filter(w=>w.category==="Fuzzy Search").map(w=>w.value).join(" "),[t.selectedTags]),{filteredBirthsigns:s}=rB(a,o),i=p.useMemo(()=>s.map(QA),[s]),c=p.useMemo(()=>[...i].sort((w,v)=>{var g,b;switch(t.sortBy){case"alphabetical":return w.name.localeCompare(v.name);case"group":{const S=N=>{switch(N){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},_=S(w.category),A=S(v.category);return _!==A?_-A:w.name.localeCompare(v.name)}case"power-count":{const S=((g=w.effects)==null?void 0:g.filter(A=>A.target==="power").length)||0,_=((b=v.effects)==null?void 0:b.filter(A=>A.target==="power").length)||0;return S!==_?_-S:w.name.localeCompare(v.name)}default:return 0}}),[i,t.sortBy]),u=p.useCallback(w=>{n({type:"ADD_TAG",payload:w})},[]),d=p.useCallback(w=>{n({type:"REMOVE_TAG",payload:w})},[]),f=p.useCallback(w=>{n({type:"SET_SORT",payload:w})},[]),h=p.useCallback(w=>{n({type:"SET_VIEW_MODE",payload:w})},[]),m=p.useCallback(w=>{n({type:"TOGGLE_EXPANDED",payload:w})},[]),y=p.useCallback(w=>{n({type:"EXPAND_ALL",payload:w})},[]),x=p.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:d,setSort:f,setViewMode:h,toggleExpanded:m,expandAll:y,collapseAll:x,searchCategories:r,fuzzySearchQuery:o,filteredBirthsigns:a,displayItems:i,sortedDisplayItems:c}}const iB={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function lB(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function cB(){const[e,t]=p.useReducer(lB,iB),n=p.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),r=p.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),a=p.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),o=p.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),s=p.useCallback(f=>{t({type:"TOGGLE_ALL",payload:f})},[]),i=p.useCallback(f=>{t({type:"SET_STATS",payload:f})},[]),c=p.useCallback(f=>{t({type:"SET_POWERS",payload:f})},[]),u=p.useCallback(f=>{t({type:"SET_SKILLS",payload:f})},[]),d=p.useCallback(f=>{t({type:"SET_EFFECTS",payload:f})},[]);return{...e,toggleStats:n,togglePowers:r,toggleSkills:a,toggleEffects:o,toggleAll:s,setStats:i,setPowers:c,setSkills:u,setEffects:d}}function vw(){const{birthsigns:e,loading:t,error:n}=nk(),{selectedTags:r,sortBy:a,viewMode:o,expandedBirthsigns:s,addTag:i,removeTag:c,setSort:u,setViewMode:d,toggleExpanded:f,expandAll:h,collapseAll:m,searchCategories:y,sortedDisplayItems:x}=sB(e),{showStats:w,showPowers:v,showSkills:g,showEffects:b,toggleStats:S,togglePowers:_,toggleSkills:A,toggleEffects:N,toggleAll:E,setStats:j,setPowers:C,setSkills:R,setEffects:I}=cB(),B=x.length>0&&x.every(k=>s.has(k.id));return x.some(k=>s.has(k.id)),t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(Lr,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(m9,{categories:y,onSelect:k=>{let O;typeof k=="string"?O={id:`custom-${k}`,label:k,value:k,category:"Fuzzy Search"}:O={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},r.some(T=>T.value===O.value&&T.category===O.category)||i(O)},onCustomSearch:k=>{let O;typeof k=="string"?O={id:`custom-${k}`,label:k,value:k,category:"Fuzzy Search"}:O={id:`${k.category}-${k.id}`,label:k.label,value:k.value,category:k.category},r.some(T=>T.value===O.value&&T.category===O.category)||i(O)}})}),l.jsxs(My,{children:[l.jsx(Dy,{asChild:!0,children:l.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(yt,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":a==="group"?"Type":"Count"]})}),l.jsxs(zf,{align:"end",children:[l.jsx(Pr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Pr,{onClick:()=>u("group"),children:"Birthsign Group"}),l.jsx(Pr,{onClick:()=>u("power-count"),children:"Power Count"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(te,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:l.jsx(pc,{className:"h-4 w-4"})}),l.jsx(te,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(mc,{className:"h-4 w-4"})})]}),l.jsx(te,{variant:"outline",size:"sm",onClick:B?m:k=>{h(x.map(O=>O.id))},className:"flex items-center justify-center",title:B?"Collapse all accordions":"Expand all accordions",children:B?l.jsx(aE,{className:"h-4 w-4"}):l.jsx(rE,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:r.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>r.forEach(k=>c(k.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Sn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(k=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>c(k.id),title:"Click to remove",children:[k.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},k.id))]})}),x.length>0&&l.jsx(Yy,{type:"single",collapsible:!0,className:"w-full",children:l.jsxs(Bf,{value:"customize-display",className:"border-none",children:[l.jsxs(Hf,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[l.jsx(oE,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),l.jsx(Ff,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(_r,{checked:w&&v&&g&&b,onCheckedChange:E}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:S,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Rr,{className:"text-base font-medium",children:"Stats"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),l.jsx(_r,{checked:w,onCheckedChange:j,onClick:k=>k.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:_,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Rr,{className:"text-base font-medium",children:"Powers"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),l.jsx(_r,{checked:v,onCheckedChange:C,onClick:k=>k.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:A,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Rr,{className:"text-base font-medium",children:"Skills"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),l.jsx(_r,{checked:g,onCheckedChange:R,onClick:k=>k.stopPropagation()})]}),l.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:N,children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Rr,{className:"text-base font-medium",children:"Effects"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),l.jsx(_r,{checked:b,onCheckedChange:I,onClick:k=>k.stopPropagation()})]})]})]})})]})}),o==="grid"?l.jsx(By,{columns:3,gap:"md",className:"w-full mt-6",children:x.map(k=>{const O=e.find(P=>{const z=k.id;return P.name.toLowerCase().replace(/\s+/g,"-")===z}),T=s.has(k.id);return l.jsx(tg,{item:k,originalBirthsign:O,isExpanded:T,onToggle:()=>f(k.id),className:"w-full",showStats:w,showPowers:v,showSkills:g,showEffects:b},k.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:x.map(k=>{const O=e.find(P=>{const z=k.id;return P.name.toLowerCase().replace(/\s+/g,"-")===z}),T=s.has(k.id);return l.jsx(tg,{item:k,originalBirthsign:O,isExpanded:T,onToggle:()=>f(k.id),className:"w-full",showStats:w,showPowers:v,showSkills:g,showEffects:b},k.id)})}),x.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function fk({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:a=[]}){const[o,s]=p.useState(a),i=p.useMemo(()=>e.filter(g=>g.prerequisites.length===0),[e]),c=g=>e.filter(b=>b.prerequisites.includes(g)),u=p.useMemo(()=>{if(o.length===0)return i;const g=o[o.length-1];return c(g.name)},[o,i]),d=p.useMemo(()=>{const g=[],b=new Set,S=_=>{const A=_[_.length-1],N=c(A.name);if(N.length===0){g.push({path:[..._],isComplete:!0,endNode:A});return}N.forEach(E=>{const j=_.map(C=>C.id).join("->")+"->"+E.id;b.has(j)||(b.add(j),S([..._,E]))})};return o.length===0?i.forEach(_=>{S([_])}):u.forEach(_=>{S([...o,_])}),g},[o,u,i,e]),f=g=>t.some(b=>b.id===g),h=g=>{t.forEach(b=>{r(b.id)}),g.forEach(b=>{n(b.id)})};return{selectedPath:o,rootNodes:i,currentOptions:u,predictivePaths:d,isNodePlanned:f,getCurrentNodeName:()=>o.length===0?"Destiny":o[o.length-1].name,backtrack:g=>{const b=o.slice(0,g+1);s(b),h(b)},handleBreadcrumbClick:(g,b)=>{const S=g.slice(0,b+1);s(S),h(S)},startPath:g=>{s([g]),h([g])},startNewPath:()=>{s([]),h([])}}}var hm,Xf="HoverCard",[hk,IJ]=Yt(Xf,[vi]),Kf=vi(),[uB,Wy]=hk(Xf),mk=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:o,openDelay:s=700,closeDelay:i=300}=e,c=Kf(t),u=p.useRef(0),d=p.useRef(0),f=p.useRef(!1),h=p.useRef(!1),[m,y]=An({prop:r,defaultProp:a??!1,onChange:o,caller:Xf}),x=p.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>y(!0),s)},[s,y]),w=p.useCallback(()=>{clearTimeout(u.current),!f.current&&!h.current&&(d.current=window.setTimeout(()=>y(!1),i))},[i,y]),v=p.useCallback(()=>y(!1),[y]);return p.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),l.jsx(uB,{scope:t,open:m,onOpenChange:y,onOpen:x,onClose:w,onDismiss:v,hasSelectionRef:f,isPointerDownOnContentRef:h,children:l.jsx(v2,{...c,children:n})})};mk.displayName=Xf;var pk="HoverCardTrigger",gk=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=Wy(pk,n),o=Kf(n);return l.jsx(Sy,{asChild:!0,...o,children:l.jsx(ue.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,Id(a.onOpen)),onPointerLeave:ee(e.onPointerLeave,Id(a.onClose)),onFocus:ee(e.onFocus,a.onOpen),onBlur:ee(e.onBlur,a.onClose),onTouchStart:ee(e.onTouchStart,s=>s.preventDefault())})})});gk.displayName=pk;var dB="HoverCardPortal",[BJ,fB]=hk(dB,{forceMount:void 0}),Pd="HoverCardContent",yk=p.forwardRef((e,t)=>{const n=fB(Pd,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,o=Wy(Pd,e.__scopeHoverCard);return l.jsx(kt,{present:r||o.open,children:l.jsx(hB,{"data-state":o.open?"open":"closed",...a,onPointerEnter:ee(e.onPointerEnter,Id(o.onOpen)),onPointerLeave:ee(e.onPointerLeave,Id(o.onClose)),ref:t})})});yk.displayName=Pd;var hB=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,...i}=e,c=Wy(Pd,n),u=Kf(n),d=p.useRef(null),f=Ce(t,d),[h,m]=p.useState(!1);return p.useEffect(()=>{if(h){const y=document.body;return hm=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=hm,y.style.webkitUserSelect=hm}}},[h]),p.useEffect(()=>{if(d.current){const y=()=>{m(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var w;((w=document.getSelection())==null?void 0:w.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),p.useEffect(()=>{d.current&&gB(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),l.jsx(xc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:ee(o,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:l.jsx(Ny,{...u,...i,onPointerDown:ee(i.onPointerDown,y=>{y.currentTarget.contains(y.target)&&m(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...i.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),mB="HoverCardArrow",pB=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=Kf(n);return l.jsx(_y,{...a,...r,ref:t})});pB.displayName=mB;function Id(e){return t=>t.pointerType==="touch"?void 0:e()}function gB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var yB=mk,vB=gk,vk=yk;const xk=yB,bk=vB,Qy=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>l.jsx(vk,{ref:a,align:t,sideOffset:n,className:K("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:ft.TOOLTIP},...r}));Qy.displayName=vk.displayName;function Jy({node:e,isPlanned:t,children:n}){return l.jsxs(xk,{openDelay:100,closeDelay:0,children:[l.jsx(bk,{asChild:!0,children:n}),l.jsx(Qy,{className:"w-80",children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h4",{className:"font-medium text-lg",children:e.name})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.prerequisites.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.prerequisites.map((r,a)=>l.jsx(we,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},a))})]}),e.tags.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,a)=>l.jsx(we,{variant:"secondary",className:"text-xs",children:r},a))})]})]})})]})}function wk({path:e,onNodeClick:t,showChevrons:n=!0,BreadcrumbHover:r}){return l.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.map((a,o)=>{const s=l.jsx(we,{variant:o===e.length-1?"default":"secondary",className:"cursor-pointer hover:bg-primary/80",onClick:t?()=>t(o):void 0,children:a.name});return l.jsx(L.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[r?r(a,s):s,n&&o<e.length-1&&l.jsx(hc,{className:"w-4 h-4 text-muted-foreground"})]})},a.id)})})}function Sk({path:e,renderNode:t,onNodeClick:n}){return l.jsx("div",{className:"space-y-2",children:e.map((r,a)=>t?t(r,a):l.jsx("div",{className:`flex items-center p-2 border rounded ${n?"cursor-pointer":""}`,onClick:n?()=>n(r,a):void 0,children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"font-medium flex items-center gap-2",children:[l.jsxs(we,{variant:"secondary",className:"text-xs",children:["Step ",a+1]}),r.name]}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:r.description})]})},r.id))})}function xB({selectedPath:e,rootNodes:t,isPlanned:n,onBacktrack:r,onStartPath:a,action:o}){return l.jsxs(tt,{children:[l.jsx(nt,{action:o,children:l.jsxs(ut,{className:"flex items-center gap-2",children:[l.jsx(K3,{className:"w-5 h-5"}),"Your Destiny Path"]})}),l.jsx(qe,{children:e.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No path started yet"}),l.jsx(te,{onClick:()=>a(t[0]),children:"Start Your Journey"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(wk,{path:e,onNodeClick:r,BreadcrumbHover:(s,i)=>l.jsx(Jy,{node:s,isPlanned:n(s.id),children:i})}),l.jsx(Sk,{path:e})]})})]})}function bB({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r}){const a=p.useMemo(()=>{const o=new Map;e.forEach(f=>{f.path.forEach((h,m)=>{const y=m,x=o.get(h.name);(!x||y<x.level)&&o.set(h.name,{name:h.name,level:y})})});const s=new Set;e.forEach(f=>{f.isComplete&&s.add(f.endNode.name)});const i=Array.from(o.entries()).map(([f,{level:h}])=>({name:f,level:h})).sort((f,h)=>f.level!==h.level?f.level-h.level:f.name.localeCompare(h.name)),c=e.filter(f=>t.length===0?!0:t.every(h=>{const[m,y]=h.value.split(":");return m==="contains"?f.path.some(x=>x.name.toLowerCase().includes(y.toLowerCase())):m==="ends"?f.isComplete&&f.endNode.name.toLowerCase().includes(y.toLowerCase()):!0})),u=new Set;c.forEach(f=>{f.isComplete&&u.add(f.endNode.name)});const d=new Set;return c.forEach(f=>{f.path.forEach((h,m)=>{d.has(h.name)||d.add(h.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:i.filter(({name:f})=>d.has(f)).map(({name:f,level:h})=>({id:`contains-${f}`,label:`${f} (Level ${h})`,value:`contains:${f}`,category:"Contains Node",description:`Paths that include ${f}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(u).sort().map(f=>({id:`ends-${f}`,label:f,value:`ends:${f}`,category:"Ends With Node",description:`Paths that end at ${f}`}))}]},[e,t]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(Py,{categories:a,onSelect:n,className:"w-full"}),l.jsx(Iy,{tags:t,onRemove:r,className:"justify-start"})]})}function wB({predictivePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r,getCurrentNodeName:a,selectedTags:o,onTagSelect:s,onTagRemove:i,hideFilters:c=!1}){const u=p.useMemo(()=>e.filter(d=>o.length===0?!0:o.every(f=>{const[h,m]=f.value.split(":");return h==="contains"?d.path.some(y=>y.name.toLowerCase().includes(m.toLowerCase())):h==="ends"?d.isComplete&&d.endNode.name.toLowerCase().includes(m.toLowerCase()):!0})),[e,o]);return e.length===0?null:l.jsxs("div",{className:"space-y-4",children:[!c&&l.jsx(bB,{predictivePaths:e,selectedTags:o,onTagSelect:s,onTagRemove:i}),l.jsx(lg,{possiblePaths:u,selectedPath:t,isPlanned:n,onBreadcrumbClick:r})]})}function lg({possiblePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r}){return e.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-muted-foreground",children:"No paths match your current filters."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search criteria."})]}):l.jsx("div",{className:"space-y-4",children:e.map((a,o)=>l.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:l.jsx("div",{className:"flex flex-wrap items-center gap-1",children:a.path.map((s,i)=>l.jsxs(L.Fragment,{children:[l.jsx(Jy,{node:s,isPlanned:n(s.id),children:l.jsx(we,{variant:i<t.length?"default":i===t.length?"secondary":"outline",className:`text-xs cursor-pointer hover:scale-105 transition-transform ${i<t.length?"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600":a.isComplete&&i===a.path.length-1?"bg-red-800 text-red-100 border-red-700":""}`,onClick:c=>{c.stopPropagation(),r(a.path,i)},children:s.name})}),i<a.path.length-1&&l.jsx(hc,{className:"w-3 h-3 text-muted-foreground"})]},s.id))})}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:["Length: ",a.path.length," steps"]}),a.isComplete&&l.jsxs("span",{children:["• Ends at: ",a.endNode.name]}),a.path.length>t.length&&l.jsxs("span",{children:["• ",a.path.length-t.length," more choices"]})]})]},o))})}function SB({selectedPath:e,currentOptions:t,onStartNewPath:n}){return e.length===0||t.length>0?null:l.jsxs(tt,{children:[l.jsx(nt,{children:l.jsx(ut,{children:"Path Complete"})}),l.jsx(qe,{children:l.jsxs("div",{className:"text-center py-8",children:[l.jsxs("p",{className:"text-muted-foreground mb-4",children:[`You've reached the end of this path. "`,e[e.length-1].name,'" has no further progression options.']}),l.jsx(te,{onClick:n,children:"Start New Path"})]})})]})}function ev({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:r,onTagRemove:a}={}){const[o,s]=p.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return p.useEffect(()=>{e&&s(e)},[e]),{filters:o,handleSearch:f=>{const h={...o,search:f};s(h),n==null||n(f)},handleTagSelect:f=>{const h={id:`${f.category}-${f.id}`,label:f.label,value:f.value,category:f.category};if(!o.selectedTags.some(y=>y.id===h.id)){const y={...o,selectedTags:[...o.selectedTags,h]};s(y),r==null||r(h),t==null||t(y)}},handleTagRemove:f=>{const h={...o,selectedTags:o.selectedTags.filter(m=>m.id!==f)};s(h),a==null||a(f),t==null||t(h)},updateFilters:f=>{s(f),t==null||t(f)}}}function Nk(e,t){const n=p.useMemo(()=>e.filter(s=>s.prerequisites.length===0),[e]),r=s=>e.filter(i=>i.prerequisites.includes(s)),a=(s,i)=>{const c=s[s.length-1],u=r(c.name);if(u.length===0){i.push([...s]);return}u.forEach(d=>{a([...s,d],i)})};return p.useMemo(()=>{const s=[];return t?a([t],s):n.forEach(i=>{a([i],s)}),s},[e,t,n])}function NB({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}){const{getDestinyPath:a,setDestinyPath:o}=Zt(),s=a(),i=L.useMemo(()=>s.map(E=>e.find(j=>j.id===E)).filter(E=>!!E),[s,e]),{selectedPath:c,rootNodes:u,currentOptions:d,isNodePlanned:f,getCurrentNodeName:h,backtrack:m,handleBreadcrumbClick:y,startPath:x,startNewPath:w}=fk({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:i});L.useEffect(()=>{const E=a(),j=c.map(C=>C.id);(E.length!==j.length||E.some((C,R)=>C!==j[R]))&&o(j)},[c,a,o]);const{handleTagSelect:v,handleTagRemove:g,filters:{selectedTags:b}}=ev({onFiltersChange:()=>{},onSearch:()=>{}}),S=c.length>0?c[c.length-1]:void 0,_=Nk(e,S);function A(E){return e.every(j=>!j.prerequisites.includes(E.name))}const N=_.map(E=>({path:E,isComplete:E.length>0&&A(E[E.length-1]),endNode:E[E.length-1]}));return l.jsxs("div",{className:"space-y-6",children:[l.jsx(xB,{selectedPath:c,rootNodes:u,isPlanned:f,onBacktrack:m,onStartPath:x}),l.jsx(wB,{predictivePaths:N,selectedPath:c,isPlanned:f,onBreadcrumbClick:y,getCurrentNodeName:h,selectedTags:b,onTagSelect:v,onTagRemove:g}),l.jsx(SB,{selectedPath:c,currentOptions:d,onStartNewPath:w})]})}function _B(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function EB(){return this.eachAfter(_B)}function CB(e){var t=this,n,r=[t],a,o,s;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)r.push(a[o]);while(r.length);return this}function AB(e){for(var t=this,n=[t],r,a;t=n.pop();)if(e(t),r=t.children,r)for(a=r.length-1;a>=0;--a)n.push(r[a]);return this}function kB(e){for(var t=this,n=[t],r=[],a,o,s;t=n.pop();)if(r.push(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=r.pop();)e(t);return this}function jB(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function TB(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function RB(e){for(var t=this,n=MB(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function MB(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function DB(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function zB(){var e=[];return this.each(function(t){e.push(t)}),e}function OB(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function $B(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function tv(e,t){var n=new Pl(e),r=+e.value&&(n.value=e.value),a,o=[n],s,i,c,u;for(t==null&&(t=PB);a=o.pop();)if(r&&(a.value=+a.data.value),(i=t(a.data))&&(u=i.length))for(a.children=new Array(u),c=u-1;c>=0;--c)o.push(s=a.children[c]=new Pl(i[c])),s.parent=a,s.depth=a.depth+1;return n.eachBefore(BB)}function LB(){return tv(this).eachBefore(IB)}function PB(e){return e.children}function IB(e){e.data=e.data.data}function BB(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Pl(e){this.data=e,this.depth=this.height=0,this.parent=null}Pl.prototype=tv.prototype={constructor:Pl,count:EB,each:CB,eachAfter:kB,eachBefore:AB,sum:jB,sort:TB,path:RB,ancestors:DB,descendants:zB,leaves:OB,links:$B,copy:LB};function HB(e,t){return e.parent===t.parent?1:2}function mm(e){var t=e.children;return t?t[0]:e.t}function pm(e){var t=e.children;return t?t[t.length-1]:e.t}function FB(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function UB(e){for(var t=0,n=0,r=e.children,a=r.length,o;--a>=0;)o=r[a],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function GB(e,t,n){return e.a.parent===t.parent?e.a:n}function Iu(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Iu.prototype=Object.create(Pl.prototype);function VB(e){for(var t=new Iu(e,0),n,r=[t],a,o,s,i;n=r.pop();)if(o=n._.children)for(n.children=new Array(i=o.length),s=i-1;s>=0;--s)r.push(a=n.children[s]=new Iu(o[s],s)),a.parent=n;return(t.parent=new Iu(null,0)).children=[t],t}function ZB(){var e=HB,t=1,n=1,r=null;function a(u){var d=VB(u);if(d.eachAfter(o),d.parent.m=-d.z,d.eachBefore(s),r)u.eachBefore(c);else{var f=u,h=u,m=u;u.eachBefore(function(g){g.x<f.x&&(f=g),g.x>h.x&&(h=g),g.depth>m.depth&&(m=g)});var y=f===h?1:e(f,h)/2,x=y-f.x,w=t/(h.x+y+x),v=n/(m.depth||1);u.eachBefore(function(g){g.x=(g.x+x)*w,g.y=g.depth*v})}return u}function o(u){var d=u.children,f=u.parent.children,h=u.i?f[u.i-1]:null;if(d){UB(u);var m=(d[0].z+d[d.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-m):u.z=m}else h&&(u.z=h.z+e(u._,h._));u.parent.A=i(u,h,u.parent.A||f[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function i(u,d,f){if(d){for(var h=u,m=u,y=d,x=h.parent.children[0],w=h.m,v=m.m,g=y.m,b=x.m,S;y=pm(y),h=mm(h),y&&h;)x=mm(x),m=pm(m),m.a=u,S=y.z+g-h.z-w+e(y._,h._),S>0&&(FB(GB(y,u,f),u,S),w+=S,v+=S),g+=y.m,w+=h.m,b+=x.m,v+=m.m;y&&!pm(m)&&(m.t=y,m.m+=g-v),h&&!mm(x)&&(x.t=h,x.m+=w-b,f=u)}return f}function c(u){u.x*=t,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(e=u,a):e},a.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],a):r?null:[t,n]},a.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],a):r?[t,n]:null},a}var cg="http://www.w3.org/1999/xhtml";const xw={svg:"http://www.w3.org/2000/svg",xhtml:cg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wf(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),xw.hasOwnProperty(t)?{space:xw[t],local:e}:e}function YB(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===cg&&t.documentElement.namespaceURI===cg?t.createElement(e):t.createElementNS(n,e)}}function qB(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function _k(e){var t=Wf(e);return(t.local?qB:YB)(t)}function XB(){}function nv(e){return e==null?XB:function(){return this.querySelector(e)}}function KB(e){typeof e!="function"&&(e=nv(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=new Array(s),c,u,d=0;d<s;++d)(c=o[d])&&(u=e.call(c,c.__data__,d,o))&&("__data__"in c&&(u.__data__=c.__data__),i[d]=u);return new dn(r,this._parents)}function WB(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QB(){return[]}function Ek(e){return e==null?QB:function(){return this.querySelectorAll(e)}}function JB(e){return function(){return WB(e.apply(this,arguments))}}function eH(e){typeof e=="function"?e=JB(e):e=Ek(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s=t[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),a.push(c));return new dn(r,a)}function Ck(e){return function(){return this.matches(e)}}function Ak(e){return function(t){return t.matches(e)}}var tH=Array.prototype.find;function nH(e){return function(){return tH.call(this.children,e)}}function rH(){return this.firstElementChild}function aH(e){return this.select(e==null?rH:nH(typeof e=="function"?e:Ak(e)))}var oH=Array.prototype.filter;function sH(){return Array.from(this.children)}function iH(e){return function(){return oH.call(this.children,e)}}function lH(e){return this.selectAll(e==null?sH:iH(typeof e=="function"?e:Ak(e)))}function cH(e){typeof e!="function"&&(e=Ck(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new dn(r,this._parents)}function kk(e){return new Array(e.length)}function uH(){return new dn(this._enter||this._groups.map(kk),this._parents)}function Bd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Bd.prototype={constructor:Bd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function dH(e){return function(){return e}}function fH(e,t,n,r,a,o){for(var s=0,i,c=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new Bd(e,o[s]);for(;s<c;++s)(i=t[s])&&(a[s]=i)}function hH(e,t,n,r,a,o,s){var i,c,u=new Map,d=t.length,f=o.length,h=new Array(d),m;for(i=0;i<d;++i)(c=t[i])&&(h[i]=m=s.call(c,c.__data__,i,t)+"",u.has(m)?a[i]=c:u.set(m,c));for(i=0;i<f;++i)m=s.call(e,o[i],i,o)+"",(c=u.get(m))?(r[i]=c,c.__data__=o[i],u.delete(m)):n[i]=new Bd(e,o[i]);for(i=0;i<d;++i)(c=t[i])&&u.get(h[i])===c&&(a[i]=c)}function mH(e){return e.__data__}function pH(e,t){if(!arguments.length)return Array.from(this,mH);var n=t?hH:fH,r=this._parents,a=this._groups;typeof e!="function"&&(e=dH(e));for(var o=a.length,s=new Array(o),i=new Array(o),c=new Array(o),u=0;u<o;++u){var d=r[u],f=a[u],h=f.length,m=gH(e.call(d,d&&d.__data__,u,r)),y=m.length,x=i[u]=new Array(y),w=s[u]=new Array(y),v=c[u]=new Array(h);n(d,f,x,w,v,m,t);for(var g=0,b=0,S,_;g<y;++g)if(S=x[g]){for(g>=b&&(b=g+1);!(_=w[b])&&++b<y;);S._next=_||null}}return s=new dn(s,r),s._enter=i,s._exit=c,s}function gH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yH(){return new dn(this._exit||this._groups.map(kk),this._parents)}function vH(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function xH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),c=0;c<s;++c)for(var u=n[c],d=r[c],f=u.length,h=i[c]=new Array(f),m,y=0;y<f;++y)(m=u[y]||d[y])&&(h[y]=m);for(;c<a;++c)i[c]=n[c];return new dn(i,this._parents)}function bH(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],s;--a>=0;)(s=r[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function wH(e){e||(e=SH);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],i=s.length,c=a[o]=new Array(i),u,d=0;d<i;++d)(u=s[d])&&(c[d]=u);c.sort(t)}return new dn(a,this._parents).order()}function SH(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function NH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _H(){return Array.from(this)}function EH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null}function CH(){let e=0;for(const t of this)++e;return e}function AH(){return!this.node()}function kH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,s=a.length,i;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function jH(e){return function(){this.removeAttribute(e)}}function TH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RH(e,t){return function(){this.setAttribute(e,t)}}function MH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function zH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function OH(e,t){var n=Wf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?TH:jH:typeof t=="function"?n.local?zH:DH:n.local?MH:RH)(n,t))}function jk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $H(e){return function(){this.style.removeProperty(e)}}function LH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function PH(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function IH(e,t,n){return arguments.length>1?this.each((t==null?$H:typeof t=="function"?PH:LH)(e,t,n??"")):Ws(this.node(),e)}function Ws(e,t){return e.style.getPropertyValue(t)||jk(e).getComputedStyle(e,null).getPropertyValue(t)}function BH(e){return function(){delete this[e]}}function HH(e,t){return function(){this[e]=t}}function FH(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function UH(e,t){return arguments.length>1?this.each((t==null?BH:typeof t=="function"?FH:HH)(e,t)):this.node()[e]}function Tk(e){return e.trim().split(/^|\s+/)}function rv(e){return e.classList||new Rk(e)}function Rk(e){this._node=e,this._names=Tk(e.getAttribute("class")||"")}Rk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mk(e,t){for(var n=rv(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Dk(e,t){for(var n=rv(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function GH(e){return function(){Mk(this,e)}}function VH(e){return function(){Dk(this,e)}}function ZH(e,t){return function(){(t.apply(this,arguments)?Mk:Dk)(this,e)}}function YH(e,t){var n=Tk(e+"");if(arguments.length<2){for(var r=rv(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?ZH:t?GH:VH)(n,t))}function qH(){this.textContent=""}function XH(e){return function(){this.textContent=e}}function KH(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function WH(e){return arguments.length?this.each(e==null?qH:(typeof e=="function"?KH:XH)(e)):this.node().textContent}function QH(){this.innerHTML=""}function JH(e){return function(){this.innerHTML=e}}function e7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function t7(e){return arguments.length?this.each(e==null?QH:(typeof e=="function"?e7:JH)(e)):this.node().innerHTML}function n7(){this.nextSibling&&this.parentNode.appendChild(this)}function r7(){return this.each(n7)}function a7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o7(){return this.each(a7)}function s7(e){var t=typeof e=="function"?e:_k(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function i7(){return null}function l7(e,t){var n=typeof e=="function"?e:_k(e),r=t==null?i7:typeof t=="function"?t:nv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function c7(){var e=this.parentNode;e&&e.removeChild(this)}function u7(){return this.each(c7)}function d7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function h7(e){return this.select(e?f7:d7)}function m7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function p7(e){return function(t){e.call(this,t,this.__data__)}}function g7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function y7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function v7(e,t,n){return function(){var r=this.__on,a,o=p7(t);if(r){for(var s=0,i=r.length;s<i;++s)if((a=r[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function x7(e,t,n){var r=g7(e+""),a,o=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var c=0,u=i.length,d;c<u;++c)for(a=0,d=i[c];a<o;++a)if((s=r[a]).type===d.type&&s.name===d.name)return d.value}return}for(i=t?v7:y7,a=0;a<o;++a)this.each(i(r[a],t,n));return this}function zk(e,t,n){var r=jk(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function b7(e,t){return function(){return zk(this,e,t)}}function w7(e,t){return function(){return zk(this,e,t.apply(this,arguments))}}function S7(e,t){return this.each((typeof t=="function"?w7:b7)(e,t))}function*N7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,s;a<o;++a)(s=r[a])&&(yield s)}var Ok=[null];function dn(e,t){this._groups=e,this._parents=t}function Cc(){return new dn([[document.documentElement]],Ok)}function _7(){return this}dn.prototype=Cc.prototype={constructor:dn,select:KB,selectAll:eH,selectChild:aH,selectChildren:lH,filter:cH,data:pH,enter:uH,exit:yH,join:vH,merge:xH,selection:_7,order:bH,sort:wH,call:NH,nodes:_H,node:EH,size:CH,empty:AH,each:kH,attr:OH,style:IH,property:UH,classed:YH,text:WH,html:t7,raise:r7,lower:o7,append:s7,insert:l7,remove:u7,clone:h7,datum:m7,on:x7,dispatch:S7,[Symbol.iterator]:N7};function ct(e){return typeof e=="string"?new dn([[document.querySelector(e)]],[document.documentElement]):new dn([[e]],Ok)}function E7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Zn(e,t){if(e=E7(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var C7={value:()=>{}};function Qf(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bu(n)}function Bu(e){this._=e}function A7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bu.prototype=Qf.prototype={constructor:Bu,on:function(e,t){var n=this._,r=A7(e+"",n),a,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((a=(e=r[o]).type)&&(a=k7(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=r[o]).type)n[a]=bw(n[a],e.name,t);else if(t==null)for(a in n)n[a]=bw(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Bu(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function k7(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function bw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=C7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const j7={passive:!1},Il={capture:!0,passive:!1};function gm(e){e.stopImmediatePropagation()}function Rs(e){e.preventDefault(),e.stopImmediatePropagation()}function $k(e){var t=e.document.documentElement,n=ct(e).on("dragstart.drag",Rs,Il);"onselectstart"in t?n.on("selectstart.drag",Rs,Il):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Lk(e,t){var n=e.document.documentElement,r=ct(e).on("dragstart.drag",null);t&&(r.on("click.drag",Rs,Il),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ru=e=>()=>e;function ug(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:s,y:i,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}ug.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function T7(e){return!e.ctrlKey&&!e.button}function R7(){return this.parentNode}function M7(e,t){return t??{x:e.x,y:e.y}}function D7(){return navigator.maxTouchPoints||"ontouchstart"in this}function z7(){var e=T7,t=R7,n=M7,r=D7,a={},o=Qf("start","drag","end"),s=0,i,c,u,d,f=0;function h(S){S.on("mousedown.drag",m).filter(r).on("touchstart.drag",w).on("touchmove.drag",v,j7).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(S,_){if(!(d||!e.call(this,S,_))){var A=b(this,t.call(this,S,_),S,_,"mouse");A&&(ct(S.view).on("mousemove.drag",y,Il).on("mouseup.drag",x,Il),$k(S.view),gm(S),u=!1,i=S.clientX,c=S.clientY,A("start",S))}}function y(S){if(Rs(S),!u){var _=S.clientX-i,A=S.clientY-c;u=_*_+A*A>f}a.mouse("drag",S)}function x(S){ct(S.view).on("mousemove.drag mouseup.drag",null),Lk(S.view,u),Rs(S),a.mouse("end",S)}function w(S,_){if(e.call(this,S,_)){var A=S.changedTouches,N=t.call(this,S,_),E=A.length,j,C;for(j=0;j<E;++j)(C=b(this,N,S,_,A[j].identifier,A[j]))&&(gm(S),C("start",S,A[j]))}}function v(S){var _=S.changedTouches,A=_.length,N,E;for(N=0;N<A;++N)(E=a[_[N].identifier])&&(Rs(S),E("drag",S,_[N]))}function g(S){var _=S.changedTouches,A=_.length,N,E;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),N=0;N<A;++N)(E=a[_[N].identifier])&&(gm(S),E("end",S,_[N]))}function b(S,_,A,N,E,j){var C=o.copy(),R=Zn(j||A,_),I,B,k;if((k=n.call(S,new ug("beforestart",{sourceEvent:A,target:h,identifier:E,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:C}),N))!=null)return I=k.x-R[0]||0,B=k.y-R[1]||0,function O(T,P,z){var M=R,$;switch(T){case"start":a[E]=O,$=s++;break;case"end":delete a[E],--s;case"drag":R=Zn(z||P,_),$=s;break}C.call(T,S,new ug(T,{sourceEvent:P,subject:k,target:h,identifier:E,active:$,x:R[0]+I,y:R[1]+B,dx:R[0]-M[0],dy:R[1]-M[1],dispatch:C}),N)}}return h.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ru(!!S),h):e},h.container=function(S){return arguments.length?(t=typeof S=="function"?S:ru(S),h):t},h.subject=function(S){return arguments.length?(n=typeof S=="function"?S:ru(S),h):n},h.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:ru(!!S),h):r},h.on=function(){var S=o.on.apply(o,arguments);return S===o?h:S},h.clickDistance=function(S){return arguments.length?(f=(S=+S)*S,h):Math.sqrt(f)},h}function av(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ac(){}var Bl=.7,Hd=1/Bl,Ms="\\s*([+-]?\\d+)\\s*",Hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O7=/^#([0-9a-f]{3,8})$/,$7=new RegExp(`^rgb\\(${Ms},${Ms},${Ms}\\)$`),L7=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),P7=new RegExp(`^rgba\\(${Ms},${Ms},${Ms},${Hl}\\)$`),I7=new RegExp(`^rgba\\(${nr},${nr},${nr},${Hl}\\)$`),B7=new RegExp(`^hsl\\(${Hl},${nr},${nr}\\)$`),H7=new RegExp(`^hsla\\(${Hl},${nr},${nr},${Hl}\\)$`),ww={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};av(Ac,Fl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sw,formatHex:Sw,formatHex8:F7,formatHsl:U7,formatRgb:Nw,toString:Nw});function Sw(){return this.rgb().formatHex()}function F7(){return this.rgb().formatHex8()}function U7(){return Ik(this).formatHsl()}function Nw(){return this.rgb().formatRgb()}function Fl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=O7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_w(t):n===3?new Ft(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?au(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?au(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$7.exec(e))?new Ft(t[1],t[2],t[3],1):(t=L7.exec(e))?new Ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P7.exec(e))?au(t[1],t[2],t[3],t[4]):(t=I7.exec(e))?au(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=B7.exec(e))?Aw(t[1],t[2]/100,t[3]/100,1):(t=H7.exec(e))?Aw(t[1],t[2]/100,t[3]/100,t[4]):ww.hasOwnProperty(e)?_w(ww[e]):e==="transparent"?new Ft(NaN,NaN,NaN,0):null}function _w(e){return new Ft(e>>16&255,e>>8&255,e&255,1)}function au(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ft(e,t,n,r)}function G7(e){return e instanceof Ac||(e=Fl(e)),e?(e=e.rgb(),new Ft(e.r,e.g,e.b,e.opacity)):new Ft}function dg(e,t,n,r){return arguments.length===1?G7(e):new Ft(e,t,n,r??1)}function Ft(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}av(Ft,dg,Pk(Ac,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Bl:Math.pow(Bl,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ft(yo(this.r),yo(this.g),yo(this.b),Fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ew,formatHex:Ew,formatHex8:V7,formatRgb:Cw,toString:Cw}));function Ew(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}`}function V7(){return`#${oo(this.r)}${oo(this.g)}${oo(this.b)}${oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cw(){const e=Fd(this.opacity);return`${e===1?"rgb(":"rgba("}${yo(this.r)}, ${yo(this.g)}, ${yo(this.b)}${e===1?")":`, ${e})`}`}function Fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oo(e){return e=yo(e),(e<16?"0":"")+e.toString(16)}function Aw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,n,r)}function Ik(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Ac||(e=Fl(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,c=(o+a)/2;return i?(t===o?s=(n-r)/i+(n<r)*6:n===o?s=(r-t)/i+2:s=(t-n)/i+4,i/=c<.5?o+a:2-o-a,s*=60):i=c>0&&c<1?0:s,new Mn(s,i,c,e.opacity)}function Z7(e,t,n,r){return arguments.length===1?Ik(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}av(Mn,Z7,Pk(Ac,{brighter(e){return e=e==null?Hd:Math.pow(Hd,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Bl:Math.pow(Bl,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ft(ym(e>=240?e-240:e+120,a,r),ym(e,a,r),ym(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Mn(kw(this.h),ou(this.s),ou(this.l),Fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fd(this.opacity);return`${e===1?"hsl(":"hsla("}${kw(this.h)}, ${ou(this.s)*100}%, ${ou(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kw(e){return e=(e||0)%360,e<0?e+360:e}function ou(e){return Math.max(0,Math.min(1,e||0))}function ym(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bk=e=>()=>e;function Y7(e,t){return function(n){return e+n*t}}function q7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function X7(e){return(e=+e)==1?Hk:function(t,n){return n-t?q7(t,n,e):Bk(isNaN(t)?n:t)}}function Hk(e,t){var n=t-e;return n?Y7(e,n):Bk(isNaN(e)?t:e)}const jw=function e(t){var n=X7(t);function r(a,o){var s=n((a=dg(a)).r,(o=dg(o)).r),i=n(a.g,o.g),c=n(a.b,o.b),u=Hk(a.opacity,o.opacity);return function(d){return a.r=s(d),a.g=i(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function la(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var fg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vm=new RegExp(fg.source,"g");function K7(e){return function(){return e}}function W7(e){return function(t){return e(t)+""}}function Q7(e,t){var n=fg.lastIndex=vm.lastIndex=0,r,a,o,s=-1,i=[],c=[];for(e=e+"",t=t+"";(r=fg.exec(e))&&(a=vm.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),i[s]?i[s]+=o:i[++s]=o),(r=r[0])===(a=a[0])?i[s]?i[s]+=a:i[++s]=a:(i[++s]=null,c.push({i:s,x:la(r,a)})),n=vm.lastIndex;return n<t.length&&(o=t.slice(n),i[s]?i[s]+=o:i[++s]=o),i.length<2?c[0]?W7(c[0].x):K7(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)i[(f=c[d]).i]=f.x(u);return i.join("")})}var Tw=180/Math.PI,hg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Fk(e,t,n,r,a,o){var s,i,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,c/=i),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Tw,skewX:Math.atan(c)*Tw,scaleX:s,scaleY:i}}var su;function J7(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hg:Fk(t.a,t.b,t.c,t.d,t.e,t.f)}function eF(e){return e==null||(su||(su=document.createElementNS("http://www.w3.org/2000/svg","g")),su.setAttribute("transform",e),!(e=su.transform.baseVal.consolidate()))?hg:(e=e.matrix,Fk(e.a,e.b,e.c,e.d,e.e,e.f))}function Uk(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function o(u,d,f,h,m,y){if(u!==f||d!==h){var x=m.push("translate(",null,t,null,n);y.push({i:x-4,x:la(u,f)},{i:x-2,x:la(d,h)})}else(f||h)&&m.push("translate("+f+t+h+n)}function s(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(a(f)+"rotate(",null,r)-2,x:la(u,d)})):d&&f.push(a(f)+"rotate("+d+r)}function i(u,d,f,h){u!==d?h.push({i:f.push(a(f)+"skewX(",null,r)-2,x:la(u,d)}):d&&f.push(a(f)+"skewX("+d+r)}function c(u,d,f,h,m,y){if(u!==f||d!==h){var x=m.push(a(m)+"scale(",null,",",null,")");y.push({i:x-4,x:la(u,f)},{i:x-2,x:la(d,h)})}else(f!==1||h!==1)&&m.push(a(m)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),o(u.translateX,u.translateY,d.translateX,d.translateY,f,h),s(u.rotate,d.rotate,f,h),i(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(m){for(var y=-1,x=h.length,w;++y<x;)f[(w=h[y]).i]=w.x(m);return f.join("")}}}var tF=Uk(J7,"px, ","px)","deg)"),nF=Uk(eF,", ",")",")"),rF=1e-12;function Rw(e){return((e=Math.exp(e))+1/e)/2}function aF(e){return((e=Math.exp(e))-1/e)/2}function oF(e){return((e=Math.exp(2*e))-1)/(e+1)}const sF=function e(t,n,r){function a(o,s){var i=o[0],c=o[1],u=o[2],d=s[0],f=s[1],h=s[2],m=d-i,y=f-c,x=m*m+y*y,w,v;if(x<rF)v=Math.log(h/u)/t,w=function(N){return[i+N*m,c+N*y,u*Math.exp(t*N*v)]};else{var g=Math.sqrt(x),b=(h*h-u*u+r*x)/(2*u*n*g),S=(h*h-u*u-r*x)/(2*h*n*g),_=Math.log(Math.sqrt(b*b+1)-b),A=Math.log(Math.sqrt(S*S+1)-S);v=(A-_)/t,w=function(N){var E=N*v,j=Rw(_),C=u/(n*g)*(j*oF(t*E+_)-aF(_));return[i+C*m,c+C*y,u*j/Rw(t*E+_)]}}return w.duration=v*1e3*t/Math.SQRT2,w}return a.rho=function(o){var s=Math.max(.001,+o),i=s*s,c=i*i;return e(s,i,c)},a}(Math.SQRT2,2,4);var Qs=0,Gi=0,Di=0,Gk=1e3,Ud,Vi,Gd=0,Eo=0,Jf=0,Ul=typeof performance=="object"&&performance.now?performance:Date,Vk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ov(){return Eo||(Vk(iF),Eo=Ul.now()+Jf)}function iF(){Eo=0}function Vd(){this._call=this._time=this._next=null}Vd.prototype=Zk.prototype={constructor:Vd,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ov():+n)+(t==null?0:+t),!this._next&&Vi!==this&&(Vi?Vi._next=this:Ud=this,Vi=this),this._call=e,this._time=n,mg()},stop:function(){this._call&&(this._call=null,this._time=1/0,mg())}};function Zk(e,t,n){var r=new Vd;return r.restart(e,t,n),r}function lF(){ov(),++Qs;for(var e=Ud,t;e;)(t=Eo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Qs}function Mw(){Eo=(Gd=Ul.now())+Jf,Qs=Gi=0;try{lF()}finally{Qs=0,uF(),Eo=0}}function cF(){var e=Ul.now(),t=e-Gd;t>Gk&&(Jf-=t,Gd=e)}function uF(){for(var e,t=Ud,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ud=n);Vi=e,mg(r)}function mg(e){if(!Qs){Gi&&(Gi=clearTimeout(Gi));var t=e-Eo;t>24?(e<1/0&&(Gi=setTimeout(Mw,e-Ul.now()-Jf)),Di&&(Di=clearInterval(Di))):(Di||(Gd=Ul.now(),Di=setInterval(cF,Gk)),Qs=1,Vk(Mw))}}function Dw(e,t,n){var r=new Vd;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var dF=Qf("start","end","cancel","interrupt"),fF=[],Yk=0,zw=1,pg=2,Hu=3,Ow=4,gg=5,Fu=6;function eh(e,t,n,r,a,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;hF(e,n,{name:t,index:r,group:a,on:dF,tween:fF,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Yk})}function sv(e,t){var n=Fn(e,t);if(n.state>Yk)throw new Error("too late; already scheduled");return n}function hr(e,t){var n=Fn(e,t);if(n.state>Hu)throw new Error("too late; already running");return n}function Fn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hF(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=Zk(o,0,n.time);function o(u){n.state=zw,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var d,f,h,m;if(n.state!==zw)return c();for(d in r)if(m=r[d],m.name===n.name){if(m.state===Hu)return Dw(s);m.state===Ow?(m.state=Fu,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=Fu,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(Dw(function(){n.state===Hu&&(n.state=Ow,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=pg,n.on.call("start",e,e.__data__,n.index,n.group),n.state===pg){for(n.state=Hu,a=new Array(h=n.tween.length),d=0,f=-1;d<h;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++f]=m);a.length=f+1}}function i(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=gg,1),f=-1,h=a.length;++f<h;)a[f].call(e,d);n.state===gg&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Fu,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Uu(e,t){var n=e.__transition,r,a,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}a=r.state>pg&&r.state<gg,r.state=Fu,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function mF(e){return this.each(function(){Uu(this,e)})}function pF(e,t){var n,r;return function(){var a=hr(this,e),o=a.tween;if(o!==n){r=n=o;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function gF(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=hr(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},c=0,u=a.length;c<u;++c)if(a[c].name===t){a[c]=i;break}c===u&&a.push(i)}o.tween=a}}function yF(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Fn(this.node(),n).tween,a=0,o=r.length,s;a<o;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((t==null?pF:gF)(n,e,t))}function iv(e,t,n){var r=e._id;return e.each(function(){var a=hr(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Fn(a,r).value[t]}}function qk(e,t){var n;return(typeof t=="number"?la:t instanceof Fl?jw:(n=Fl(t))?(t=n,jw):Q7)(e,t)}function vF(e){return function(){this.removeAttribute(e)}}function xF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bF(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function wF(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function SF(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function NF(e,t,n){var r,a,o;return function(){var s,i=n(this),c;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=i+"",s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i)))}}function _F(e,t){var n=Wf(e),r=n==="transform"?nF:qk;return this.attrTween(e,typeof t=="function"?(n.local?NF:SF)(n,r,iv(this,"attr."+e,t)):t==null?(n.local?xF:vF)(n):(n.local?wF:bF)(n,r,t))}function EF(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function CF(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function AF(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&CF(e,o)),n}return a._value=t,a}function kF(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&EF(e,o)),n}return a._value=t,a}function jF(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Wf(e);return this.tween(n,(r.local?AF:kF)(r,t))}function TF(e,t){return function(){sv(this,e).delay=+t.apply(this,arguments)}}function RF(e,t){return t=+t,function(){sv(this,e).delay=t}}function MF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?TF:RF)(t,e)):Fn(this.node(),t).delay}function DF(e,t){return function(){hr(this,e).duration=+t.apply(this,arguments)}}function zF(e,t){return t=+t,function(){hr(this,e).duration=t}}function OF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?DF:zF)(t,e)):Fn(this.node(),t).duration}function $F(e,t){if(typeof t!="function")throw new Error;return function(){hr(this,e).ease=t}}function LF(e){var t=this._id;return arguments.length?this.each($F(t,e)):Fn(this.node(),t).ease}function PF(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;hr(this,e).ease=n}}function IF(e){if(typeof e!="function")throw new Error;return this.each(PF(this._id,e))}function BF(e){typeof e!="function"&&(e=Ck(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&i.push(c);return new qr(r,this._parents,this._name,this._id)}function HF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var c=t[i],u=n[i],d=c.length,f=s[i]=new Array(d),h,m=0;m<d;++m)(h=c[m]||u[m])&&(f[m]=h);for(;i<r;++i)s[i]=t[i];return new qr(s,this._parents,this._name,this._id)}function FF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function UF(e,t,n){var r,a,o=FF(t)?sv:hr;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}function GF(e,t){var n=this._id;return arguments.length<2?Fn(this.node(),n).on.on(e):this.each(UF(n,e,t))}function VF(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ZF(){return this.on("end.remove",VF(this._id))}function YF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nv(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i=r[s],c=i.length,u=o[s]=new Array(c),d,f,h=0;h<c;++h)(d=i[h])&&(f=e.call(d,d.__data__,h,i))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,eh(u[h],t,n,h,u,Fn(d,n)));return new qr(o,this._parents,t,n)}function qF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ek(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var c=r[i],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),m,y=Fn(d,n),x=0,w=h.length;x<w;++x)(m=h[x])&&eh(m,t,n,x,h,y);o.push(h),s.push(d)}return new qr(o,s,t,n)}var XF=Cc.prototype.constructor;function KF(){return new XF(this._groups,this._parents)}function WF(e,t){var n,r,a;return function(){var o=Ws(this,e),s=(this.style.removeProperty(e),Ws(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}function Xk(e){return function(){this.style.removeProperty(e)}}function QF(e,t,n){var r,a=n+"",o;return function(){var s=Ws(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}function JF(e,t,n){var r,a,o;return function(){var s=Ws(this,e),i=n(this),c=i+"";return i==null&&(c=i=(this.style.removeProperty(e),Ws(this,e))),s===c?null:s===r&&c===a?o:(a=c,o=t(r=s,i))}}function eU(e,t){var n,r,a,o="style."+t,s="end."+o,i;return function(){var c=hr(this,e),u=c.on,d=c.value[o]==null?i||(i=Xk(t)):void 0;(u!==n||a!==d)&&(r=(n=u).copy()).on(s,a=d),c.on=r}}function tU(e,t,n){var r=(e+="")=="transform"?tF:qk;return t==null?this.styleTween(e,WF(e,r)).on("end.style."+e,Xk(e)):typeof t=="function"?this.styleTween(e,JF(e,r,iv(this,"style."+e,t))).each(eU(this._id,e)):this.styleTween(e,QF(e,r,t),n).on("end.style."+e,null)}function nU(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function rU(e,t,n){var r,a;function o(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&nU(e,s,n)),r}return o._value=t,o}function aU(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,rU(e,t,n??""))}function oU(e){return function(){this.textContent=e}}function sU(e){return function(){var t=e(this);this.textContent=t??""}}function iU(e){return this.tween("text",typeof e=="function"?sU(iv(this,"text",e)):oU(e==null?"":e+""))}function lU(e){return function(t){this.textContent=e.call(this,t)}}function cU(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&lU(a)),t}return r._value=e,r}function uU(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,cU(e))}function dU(){for(var e=this._name,t=this._id,n=Kk(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)if(c=s[u]){var d=Fn(c,t);eh(c,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new qr(r,this._parents,e,n)}function fU(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},c={value:function(){--a===0&&o()}};n.each(function(){var u=hr(this,r),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(c)),u.on=t}),a===0&&o()})}var hU=0;function qr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Kk(){return++hU}var Sr=Cc.prototype;qr.prototype={constructor:qr,select:YF,selectAll:qF,selectChild:Sr.selectChild,selectChildren:Sr.selectChildren,filter:BF,merge:HF,selection:KF,transition:dU,call:Sr.call,nodes:Sr.nodes,node:Sr.node,size:Sr.size,empty:Sr.empty,each:Sr.each,on:GF,attr:_F,attrTween:jF,style:tU,styleTween:aU,text:iU,textTween:uU,remove:ZF,tween:yF,delay:MF,duration:OF,ease:LF,easeVarying:IF,end:fU,[Symbol.iterator]:Sr[Symbol.iterator]};function mU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pU={time:null,delay:0,duration:250,ease:mU};function gU(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function yU(e){var t,n;e instanceof qr?(t=e._id,e=e._name):(t=Kk(),(n=pU).time=ov(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,c,u=0;u<i;++u)(c=s[u])&&eh(c,e,t,u,s,n||gU(c,t));return new qr(r,this._parents,e,t)}Cc.prototype.interrupt=mF;Cc.prototype.transition=yU;const iu=e=>()=>e;function vU(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function Mr(e,t,n){this.k=e,this.x=t,this.y=n}Mr.prototype={constructor:Mr,scale:function(e){return e===1?this:new Mr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Mr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rr=new Mr(1,0,0);Mr.prototype;function xm(e){e.stopImmediatePropagation()}function zi(e){e.preventDefault(),e.stopImmediatePropagation()}function xU(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function bU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $w(){return this.__zoom||rr}function wU(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function SU(){return navigator.maxTouchPoints||"ontouchstart"in this}function NU(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Gu(){var e=xU,t=bU,n=NU,r=wU,a=SU,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,c=sF,u=Qf("start","zoom","end"),d,f,h,m=500,y=150,x=0,w=10;function v(k){k.property("__zoom",$w).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",C).filter(a).on("touchstart.zoom",R).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(k,O,T,P){var z=k.selection?k.selection():k;z.property("__zoom",$w),k!==z?_(k,O,T,P):z.interrupt().each(function(){A(this,arguments).event(P).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},v.scaleBy=function(k,O,T,P){v.scaleTo(k,function(){var z=this.__zoom.k,M=typeof O=="function"?O.apply(this,arguments):O;return z*M},T,P)},v.scaleTo=function(k,O,T,P){v.transform(k,function(){var z=t.apply(this,arguments),M=this.__zoom,$=T==null?S(z):typeof T=="function"?T.apply(this,arguments):T,U=M.invert($),V=typeof O=="function"?O.apply(this,arguments):O;return n(b(g(M,V),$,U),z,s)},T,P)},v.translateBy=function(k,O,T,P){v.transform(k,function(){return n(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,P)},v.translateTo=function(k,O,T,P,z){v.transform(k,function(){var M=t.apply(this,arguments),$=this.__zoom,U=P==null?S(M):typeof P=="function"?P.apply(this,arguments):P;return n(rr.translate(U[0],U[1]).scale($.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof T=="function"?-T.apply(this,arguments):-T),M,s)},P,z)};function g(k,O){return O=Math.max(o[0],Math.min(o[1],O)),O===k.k?k:new Mr(O,k.x,k.y)}function b(k,O,T){var P=O[0]-T[0]*k.k,z=O[1]-T[1]*k.k;return P===k.x&&z===k.y?k:new Mr(k.k,P,z)}function S(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function _(k,O,T,P){k.on("start.zoom",function(){A(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(P).end()}).tween("zoom",function(){var z=this,M=arguments,$=A(z,M).event(P),U=t.apply(z,M),V=T==null?S(U):typeof T=="function"?T.apply(z,M):T,G=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),D=z.__zoom,H=typeof O=="function"?O.apply(z,M):O,Z=c(D.invert(V).concat(G/D.k),H.invert(V).concat(G/H.k));return function(F){if(F===1)F=H;else{var Y=Z(F),W=G/Y[2];F=new Mr(W,V[0]-Y[0]*W,V[1]-Y[1]*W)}$.zoom(null,F)}})}function A(k,O,T){return!T&&k.__zooming||new N(k,O)}function N(k,O){this.that=k,this.args=O,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,O),this.taps=0}N.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,O){return this.mouse&&k!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var O=ct(this.that).datum();u.call(k,this.that,new vU(k,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),O)}};function E(k,...O){if(!e.apply(this,arguments))return;var T=A(this,O).event(k),P=this.__zoom,z=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,r.apply(this,arguments)))),M=Zn(k);if(T.wheel)(T.mouse[0][0]!==M[0]||T.mouse[0][1]!==M[1])&&(T.mouse[1]=P.invert(T.mouse[0]=M)),clearTimeout(T.wheel);else{if(P.k===z)return;T.mouse=[M,P.invert(M)],Uu(this),T.start()}zi(k),T.wheel=setTimeout($,y),T.zoom("mouse",n(b(g(P,z),T.mouse[0],T.mouse[1]),T.extent,s));function $(){T.wheel=null,T.end()}}function j(k,...O){if(h||!e.apply(this,arguments))return;var T=k.currentTarget,P=A(this,O,!0).event(k),z=ct(k.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",G,!0),M=Zn(k,T),$=k.clientX,U=k.clientY;$k(k.view),xm(k),P.mouse=[M,this.__zoom.invert(M)],Uu(this),P.start();function V(D){if(zi(D),!P.moved){var H=D.clientX-$,Z=D.clientY-U;P.moved=H*H+Z*Z>x}P.event(D).zoom("mouse",n(b(P.that.__zoom,P.mouse[0]=Zn(D,T),P.mouse[1]),P.extent,s))}function G(D){z.on("mousemove.zoom mouseup.zoom",null),Lk(D.view,P.moved),zi(D),P.event(D).end()}}function C(k,...O){if(e.apply(this,arguments)){var T=this.__zoom,P=Zn(k.changedTouches?k.changedTouches[0]:k,this),z=T.invert(P),M=T.k*(k.shiftKey?.5:2),$=n(b(g(T,M),P,z),t.apply(this,O),s);zi(k),i>0?ct(this).transition().duration(i).call(_,$,P,k):ct(this).call(v.transform,$,P,k)}}function R(k,...O){if(e.apply(this,arguments)){var T=k.touches,P=T.length,z=A(this,O,k.changedTouches.length===P).event(k),M,$,U,V;for(xm(k),$=0;$<P;++$)U=T[$],V=Zn(U,this),V=[V,this.__zoom.invert(V),U.identifier],z.touch0?!z.touch1&&z.touch0[2]!==V[2]&&(z.touch1=V,z.taps=0):(z.touch0=V,M=!0,z.taps=1+!!d);d&&(d=clearTimeout(d)),M&&(z.taps<2&&(f=V[0],d=setTimeout(function(){d=null},m)),Uu(this),z.start())}}function I(k,...O){if(this.__zooming){var T=A(this,O).event(k),P=k.changedTouches,z=P.length,M,$,U,V;for(zi(k),M=0;M<z;++M)$=P[M],U=Zn($,this),T.touch0&&T.touch0[2]===$.identifier?T.touch0[0]=U:T.touch1&&T.touch1[2]===$.identifier&&(T.touch1[0]=U);if($=T.that.__zoom,T.touch1){var G=T.touch0[0],D=T.touch0[1],H=T.touch1[0],Z=T.touch1[1],F=(F=H[0]-G[0])*F+(F=H[1]-G[1])*F,Y=(Y=Z[0]-D[0])*Y+(Y=Z[1]-D[1])*Y;$=g($,Math.sqrt(F/Y)),U=[(G[0]+H[0])/2,(G[1]+H[1])/2],V=[(D[0]+Z[0])/2,(D[1]+Z[1])/2]}else if(T.touch0)U=T.touch0[0],V=T.touch0[1];else return;T.zoom("touch",n(b($,U,V),T.extent,s))}}function B(k,...O){if(this.__zooming){var T=A(this,O).event(k),P=k.changedTouches,z=P.length,M,$;for(xm(k),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<z;++M)$=P[M],T.touch0&&T.touch0[2]===$.identifier?delete T.touch0:T.touch1&&T.touch1[2]===$.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&($=Zn($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<w)){var U=ct(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return v.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:iu(+k),v):r},v.filter=function(k){return arguments.length?(e=typeof k=="function"?k:iu(!!k),v):e},v.touchable=function(k){return arguments.length?(a=typeof k=="function"?k:iu(!!k),v):a},v.extent=function(k){return arguments.length?(t=typeof k=="function"?k:iu([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),v):t},v.scaleExtent=function(k){return arguments.length?(o[0]=+k[0],o[1]=+k[1],v):[o[0],o[1]]},v.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(k){return arguments.length?(n=k,v):n},v.duration=function(k){return arguments.length?(i=+k,v):i},v.interpolate=function(k){return arguments.length?(c=k,v):c},v.on=function(){var k=u.on.apply(u,arguments);return k===u?v:k},v.clickDistance=function(k){return arguments.length?(x=(k=+k)*k,v):Math.sqrt(x)},v.tapDistance=function(k){return arguments.length?(w=+k,v):w},v}var Lw=Object.prototype.hasOwnProperty;function fl(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&fl(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Lw.call(e,n)&&++r&&!Lw.call(t,n)||!(n in t)||!fl(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var Wk={exports:{}};(function(e){var t=function(){function n(h,m){return m!=null&&h instanceof m}var r;try{r=Map}catch{r=function(){}}var a;try{a=Set}catch{a=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(h,m,y,x,w){typeof m=="object"&&(y=m.depth,x=m.prototype,w=m.includeNonEnumerable,m=m.circular);var v=[],g=[],b=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof y>"u"&&(y=1/0);function S(_,A){if(_===null)return null;if(A===0)return _;var N,E;if(typeof _!="object")return _;if(n(_,r))N=new r;else if(n(_,a))N=new a;else if(n(_,o))N=new o(function(P,z){_.then(function(M){P(S(M,A-1))},function(M){z(S(M,A-1))})});else if(s.__isArray(_))N=[];else if(s.__isRegExp(_))N=new RegExp(_.source,f(_)),_.lastIndex&&(N.lastIndex=_.lastIndex);else if(s.__isDate(_))N=new Date(_.getTime());else{if(b&&Buffer.isBuffer(_))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(_.length):N=new Buffer(_.length),_.copy(N),N;n(_,Error)?N=Object.create(_):typeof x>"u"?(E=Object.getPrototypeOf(_),N=Object.create(E)):(N=Object.create(x),E=x)}if(m){var j=v.indexOf(_);if(j!=-1)return g[j];v.push(_),g.push(N)}n(_,r)&&_.forEach(function(P,z){var M=S(z,A-1),$=S(P,A-1);N.set(M,$)}),n(_,a)&&_.forEach(function(P){var z=S(P,A-1);N.add(z)});for(var C in _){var R;E&&(R=Object.getOwnPropertyDescriptor(E,C)),!(R&&R.set==null)&&(N[C]=S(_[C],A-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(_),C=0;C<I.length;C++){var B=I[C],k=Object.getOwnPropertyDescriptor(_,B);k&&!k.enumerable&&!w||(N[B]=S(_[B],A-1),k.enumerable||Object.defineProperty(N,B,{enumerable:!1}))}if(w)for(var O=Object.getOwnPropertyNames(_),C=0;C<O.length;C++){var T=O[C],k=Object.getOwnPropertyDescriptor(_,T);k&&k.enumerable||(N[T]=S(_[T],A-1),Object.defineProperty(N,T,{enumerable:!1}))}return N}return S(h,y)}s.clonePrototype=function(m){if(m===null)return null;var y=function(){};return y.prototype=m,new y};function i(h){return Object.prototype.toString.call(h)}s.__objToStr=i;function c(h){return typeof h=="object"&&i(h)==="[object Date]"}s.__isDate=c;function u(h){return typeof h=="object"&&i(h)==="[object Array]"}s.__isArray=u;function d(h){return typeof h=="object"&&i(h)==="[object RegExp]"}s.__isRegExp=d;function f(h){var m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),m}return s.__getRegExpFlags=f,s}();e.exports&&(e.exports=t)})(Wk);var _U=Wk.exports;const jt=ef(_U);var lu,EU=new Uint8Array(16);function CU(){if(!lu&&(lu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!lu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lu(EU)}const AU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function kU(e){return typeof e=="string"&&AU.test(e)}var bt=[];for(var bm=0;bm<256;++bm)bt.push((bm+256).toString(16).substr(1));function jU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(bt[e[t+0]]+bt[e[t+1]]+bt[e[t+2]]+bt[e[t+3]]+"-"+bt[e[t+4]]+bt[e[t+5]]+"-"+bt[e[t+6]]+bt[e[t+7]]+"-"+bt[e[t+8]]+bt[e[t+9]]+"-"+bt[e[t+10]]+bt[e[t+11]]+bt[e[t+12]]+bt[e[t+13]]+bt[e[t+14]]+bt[e[t+15]]).toLowerCase();if(!kU(n))throw TypeError("Stringified UUID is invalid");return n}function wm(e,t,n){e=e||{};var r=e.random||(e.rng||CU)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jU(r)}var yg={exports:{}},Qk={exports:{}},TU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",RU=TU,MU=RU;function Jk(){}function ej(){}ej.resetWarningCache=Jk;var DU=function(){function e(r,a,o,s,i,c){if(c!==MU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ej,resetWarningCache:Jk};return n.PropTypes=n,n};Qk.exports=DU();var th=Qk.exports,vg={exports:{}},zU=function(){for(var t=arguments.length,n=[],r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}})},OU=function(){},$U=OU;function tj(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function nj(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function rj(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}tj.__suppressDeprecationWarning=!0;nj.__suppressDeprecationWarning=!0;rj.__suppressDeprecationWarning=!0;function LU(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=tj,t.componentWillReceiveProps=nj),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=rj;var i=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;i.call(this,u,d,h)}}return e}const PU=Object.freeze(Object.defineProperty({__proto__:null,polyfill:LU},Symbol.toStringTag,{value:"Module"})),IU=pM(PU);var nh={};nh.__esModule=!0;nh.getChildMapping=HU;nh.mergeChildMappings=FU;var BU=p;function HU(e){if(!e)return e;var t={};return BU.Children.map(e,function(n){return n}).forEach(function(n){t[n.key]=n}),t}function FU(e,t){e=e||{},t=t||{};function n(d){return t.hasOwnProperty(d)?t[d]:e[d]}var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var s=void 0,i={};for(var c in t){if(r.hasOwnProperty(c))for(s=0;s<r[c].length;s++){var u=r[c][s];i[r[c][s]]=n(u)}i[c]=n(c)}for(s=0;s<a.length;s++)i[a[s]]=n(a[s]);return i}(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(g[_]=S[_])}return g},r=zU,a=h(r),o=p,s=h(o),i=th,c=h(i),u=$U;h(u);var d=IU,f=nh;function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function y(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function x(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}c.default.any,c.default.func,c.default.node;var w={component:"span",childFactory:function(b){return b}},v=function(g){x(b,g);function b(S,_){m(this,b);var A=y(this,g.call(this,S,_));return A.performAppear=function(N,E){A.currentlyTransitioningKeys[N]=!0,E.componentWillAppear?E.componentWillAppear(A._handleDoneAppearing.bind(A,N,E)):A._handleDoneAppearing(N,E)},A._handleDoneAppearing=function(N,E){E&&E.componentDidAppear&&E.componentDidAppear(),delete A.currentlyTransitioningKeys[N];var j=(0,f.getChildMapping)(A.props.children);(!j||!j.hasOwnProperty(N))&&A.performLeave(N,E)},A.performEnter=function(N,E){A.currentlyTransitioningKeys[N]=!0,E.componentWillEnter?E.componentWillEnter(A._handleDoneEntering.bind(A,N,E)):A._handleDoneEntering(N,E)},A._handleDoneEntering=function(N,E){E&&E.componentDidEnter&&E.componentDidEnter(),delete A.currentlyTransitioningKeys[N];var j=(0,f.getChildMapping)(A.props.children);(!j||!j.hasOwnProperty(N))&&A.performLeave(N,E)},A.performLeave=function(N,E){A.currentlyTransitioningKeys[N]=!0,E&&E.componentWillLeave?E.componentWillLeave(A._handleDoneLeaving.bind(A,N,E)):A._handleDoneLeaving(N,E)},A._handleDoneLeaving=function(N,E){E&&E.componentDidLeave&&E.componentDidLeave(),delete A.currentlyTransitioningKeys[N];var j=(0,f.getChildMapping)(A.props.children);j&&j.hasOwnProperty(N)?A.keysToEnter.push(N):A.setState(function(C){var R=n({},C.children);return delete R[N],{children:R}})},A.childRefs=Object.create(null),A.currentlyTransitioningKeys={},A.keysToEnter=[],A.keysToLeave=[],A.state={children:(0,f.getChildMapping)(S.children)},A}return b.prototype.componentDidMount=function(){var _=this.state.children;for(var A in _)_[A]&&this.performAppear(A,this.childRefs[A])},b.getDerivedStateFromProps=function(_,A){var N=(0,f.getChildMapping)(_.children),E=A.children;return{children:(0,f.mergeChildMappings)(E,N)}},b.prototype.componentDidUpdate=function(_,A){var N=this,E=(0,f.getChildMapping)(this.props.children),j=A.children;for(var C in E){var R=j&&j.hasOwnProperty(C);E[C]&&!R&&!this.currentlyTransitioningKeys[C]&&this.keysToEnter.push(C)}for(var I in j){var B=E&&E.hasOwnProperty(I);j[I]&&!B&&!this.currentlyTransitioningKeys[I]&&this.keysToLeave.push(I)}var k=this.keysToEnter;this.keysToEnter=[],k.forEach(function(T){return N.performEnter(T,N.childRefs[T])});var O=this.keysToLeave;this.keysToLeave=[],O.forEach(function(T){return N.performLeave(T,N.childRefs[T])})},b.prototype.render=function(){var _=this,A=[],N=function(R){var I=_.state.children[R];if(I){var B=typeof I.ref!="string",k=_.props.childFactory(I),O=function(P){_.childRefs[R]=P};k===I&&B&&(O=(0,a.default)(I.ref,O)),A.push(s.default.cloneElement(k,{key:R,ref:O}))}};for(var E in this.state.children)N(E);var j=n({},this.props);return delete j.transitionLeave,delete j.transitionName,delete j.transitionAppear,delete j.transitionEnter,delete j.childFactory,delete j.transitionLeaveTimeout,delete j.transitionEnterTimeout,delete j.transitionAppearTimeout,delete j.component,s.default.createElement(this.props.component,j,A)},b}(s.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=w,t.default=(0,d.polyfill)(v),e.exports=t.default})(vg,vg.exports);var aj=vg.exports,xg={exports:{}},bg={exports:{}},oj={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(oj);var lv=oj.exports,cu={exports:{}},Pw;function UU(){return Pw||(Pw=1,function(e,t){t.__esModule=!0,t.default=n;function n(r,a){return r.classList?!!a&&r.classList.contains(a):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+a+" ")!==-1}e.exports=t.default}(cu,cu.exports)),cu.exports}(function(e,t){var n=lv;t.__esModule=!0,t.default=a;var r=n(UU());function a(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}e.exports=t.default})(bg,bg.exports);var GU=bg.exports;function Iw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var VU=function(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=Iw(t.className,n):t.setAttribute("class",Iw(t.className&&t.className.baseVal||"",n))},wg={exports:{}},uu={exports:{}},Bw;function sj(){return Bw||(Bw=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);t.default=n,e.exports=t.default}(uu,uu.exports)),uu.exports}(function(e,t){var n=lv;t.__esModule=!0,t.default=void 0;var r=n(sj()),a=["","webkit","moz","o","ms"],o="clearTimeout",s=d,i,c=function(m,y){return m+(m?y[0].toUpperCase()+y.substr(1):y)+"AnimationFrame"};r.default&&a.some(function(h){var m=c(h,"request");if(m in window)return o=c(h,"cancel"),s=function(x){return window[m](x)}});var u=new Date().getTime();function d(h){var m=new Date().getTime(),y=Math.max(0,16-(m-u)),x=setTimeout(h,y);return u=m,x}i=function(m){return s(m)},i.cancel=function(h){window[o]&&typeof window[o]=="function"&&window[o](h)};var f=i;t.default=f,e.exports=t.default})(wg,wg.exports);var ZU=wg.exports,ve={},YU=lv;ve.__esModule=!0;ve.default=ve.animationEnd=ve.animationDelay=ve.animationTiming=ve.animationDuration=ve.animationName=ve.transitionEnd=ve.transitionDuration=ve.transitionDelay=ve.transitionTiming=ve.transitionProperty=ve.transform=void 0;var qU=YU(sj()),Zd="transform";ve.transform=Zd;var Vn,cv,ij;ve.animationEnd=ij;ve.transitionEnd=cv;var uv,dv,fv,hv;ve.transitionDelay=hv;ve.transitionTiming=fv;ve.transitionDuration=dv;ve.transitionProperty=uv;var lj,cj,uj,dj;ve.animationDelay=dj;ve.animationTiming=uj;ve.animationDuration=cj;ve.animationName=lj;if(qU.default){var Sm=KU();Vn=Sm.prefix,ve.transitionEnd=cv=Sm.transitionEnd,ve.animationEnd=ij=Sm.animationEnd,ve.transform=Zd=Vn+"-"+Zd,ve.transitionProperty=uv=Vn+"-transition-property",ve.transitionDuration=dv=Vn+"-transition-duration",ve.transitionDelay=hv=Vn+"-transition-delay",ve.transitionTiming=fv=Vn+"-transition-timing-function",ve.animationName=lj=Vn+"-animation-name",ve.animationDuration=cj=Vn+"-animation-duration",ve.animationTiming=uj=Vn+"-animation-delay",ve.animationDelay=dj=Vn+"-animation-timing-function"}var XU={transform:Zd,end:cv,property:uv,timing:fv,delay:hv,duration:dv};ve.default=XU;function KU(){for(var e=document.createElement("div").style,t={O:function(u){return"o"+u.toLowerCase()},Moz:function(u){return u.toLowerCase()},Webkit:function(u){return"webkit"+u},ms:function(u){return"MS"+u}},n=Object.keys(t),r,a,o="",s=0;s<n.length;s++){var i=n[s];if(i+"TransitionProperty"in e){o="-"+i.toLowerCase(),r=t[i]("TransitionEnd"),a=t[i]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:r,prefix:o}}var xi={};xi.__esModule=!0;xi.nameShape=void 0;xi.transitionTimeout=JU;var WU=p;fj(WU);var QU=th,Qt=fj(QU);function fj(e){return e&&e.__esModule?e:{default:e}}function JU(e){var t="transition"+e+"Timeout",n="transition"+e;return function(r){if(r[n]){if(r[t]==null)return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof r[t]!="number")return new Error(t+" must be a number (in milliseconds)")}return null}}xi.nameShape=Qt.default.oneOfType([Qt.default.string,Qt.default.shape({enter:Qt.default.string,leave:Qt.default.string,active:Qt.default.string}),Qt.default.shape({enter:Qt.default.string,enterActive:Qt.default.string,leave:Qt.default.string,leaveActive:Qt.default.string,appear:Qt.default.string,appearActive:Qt.default.string})]);(function(e,t){t.__esModule=!0;var n=Object.assign||function(N){for(var E=1;E<arguments.length;E++){var j=arguments[E];for(var C in j)Object.prototype.hasOwnProperty.call(j,C)&&(N[C]=j[C])}return N},r=GU,a=w(r),o=VU,s=w(o),i=ZU,c=w(i),u=ve,d=p,f=w(d),h=th,m=w(h),y=Kl,x=xi;function w(N){return N&&N.__esModule?N:{default:N}}function v(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function g(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function b(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var S=[];u.transitionEnd&&S.push(u.transitionEnd),u.animationEnd&&S.push(u.animationEnd);function _(N,E){return S.length?S.forEach(function(j){return N.addEventListener(j,E,!1)}):setTimeout(E,0),function(){S.length&&S.forEach(function(j){return N.removeEventListener(j,E,!1)})}}m.default.node,x.nameShape.isRequired,m.default.bool,m.default.bool,m.default.bool,m.default.number,m.default.number,m.default.number;var A=function(N){b(E,N);function E(j,C){v(this,E);var R=g(this,N.call(this,j,C));return R.componentWillAppear=function(I){R.props.appear?R.transition("appear",I,R.props.appearTimeout):I()},R.componentWillEnter=function(I){R.props.enter?R.transition("enter",I,R.props.enterTimeout):I()},R.componentWillLeave=function(I){R.props.leave?R.transition("leave",I,R.props.leaveTimeout):I()},R.classNameAndNodeQueue=[],R.transitionTimeouts=[],R}return E.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(C){clearTimeout(C)}),this.classNameAndNodeQueue.length=0},E.prototype.transition=function(C,R,I){var B=(0,y.findDOMNode)(this);if(!B){R&&R();return}var k=this.props.name[C]||this.props.name+"-"+C,O=this.props.name[C+"Active"]||k+"-active",T=null,P=void 0;(0,a.default)(B,k),this.queueClassAndNode(O,B);var z=function($){$&&$.target!==B||(clearTimeout(T),P&&P(),(0,s.default)(B,k),(0,s.default)(B,O),P&&P(),R&&R())};I?(T=setTimeout(z,I),this.transitionTimeouts.push(T)):u.transitionEnd&&(P=_(B,z))},E.prototype.queueClassAndNode=function(C,R){var I=this;this.classNameAndNodeQueue.push({className:C,node:R}),this.rafHandle||(this.rafHandle=(0,c.default)(function(){return I.flushClassNameAndNodeQueue()}))},E.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(C){C.node.scrollTop,(0,a.default)(C.node,C.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},E.prototype.render=function(){var C=n({},this.props);return delete C.name,delete C.appear,delete C.enter,delete C.leave,delete C.appearTimeout,delete C.enterTimeout,delete C.leaveTimeout,delete C.children,f.default.cloneElement(f.default.Children.only(this.props.children),C)},E}(f.default.Component);A.displayName="CSSTransitionGroupChild",A.propTypes={},t.default=A,e.exports=t.default})(xg,xg.exports);var eG=xg.exports;(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var b=1;b<arguments.length;b++){var S=arguments[b];for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(g[_]=S[_])}return g},r=p,a=h(r),o=th,s=h(o),i=aj,c=h(i),u=eG,d=h(u),f=xi;function h(g){return g&&g.__esModule?g:{default:g}}function m(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function y(g,b){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:g}function x(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);g.prototype=Object.create(b&&b.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(g,b):g.__proto__=b)}f.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,f.transitionTimeout)("Appear"),(0,f.transitionTimeout)("Enter"),(0,f.transitionTimeout)("Leave");var w={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},v=function(g){x(b,g);function b(){var S,_,A;m(this,b);for(var N=arguments.length,E=Array(N),j=0;j<N;j++)E[j]=arguments[j];return A=(S=(_=y(this,g.call.apply(g,[this].concat(E))),_),_._wrapChild=function(C){return a.default.createElement(d.default,{name:_.props.transitionName,appear:_.props.transitionAppear,enter:_.props.transitionEnter,leave:_.props.transitionLeave,appearTimeout:_.props.transitionAppearTimeout,enterTimeout:_.props.transitionEnterTimeout,leaveTimeout:_.props.transitionLeaveTimeout},C)},S),y(_,A)}return b.prototype.render=function(){return a.default.createElement(c.default,n({},this.props,{childFactory:this._wrapChild}))},b}(a.default.Component);v.displayName="CSSTransitionGroup",v.propTypes={},v.defaultProps=w,t.default=v,e.exports=t.default})(yg,yg.exports);var tG=yg.exports,nG=tG,rG=hj(nG),aG=aj,oG=hj(aG);function hj(e){return e&&e.__esModule?e:{default:e}}var sG={TransitionGroup:oG.default,CSSTransitionGroup:rG.default};const iG=e=>e.enableLegacyTransitions?L.createElement(sG.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):L.createElement("g",{className:e.className,transform:e.transform},e.children),lG=15,Hw={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},cG=({nodeDatum:e,toggleNode:t,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:a})=>L.createElement(L.Fragment,null,L.createElement("circle",{r:lG,onClick:o=>{t(),n(o)},onMouseOver:r,onMouseOut:a}),L.createElement("g",{className:"rd3t-label"},L.createElement("text",Object.assign({className:"rd3t-label__title"},Hw.title),e.name),L.createElement("text",{className:"rd3t-label__attributes"},e.attributes&&Object.entries(e.attributes).map(([o,s],i)=>L.createElement("tspan",Object.assign({key:`${o}-${i}`},Hw.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));let uG=class extends L.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(t,n,r,a)=>n.subscriptions!==t.subscriptions||n.position.x!==t.position.x||n.position.y!==t.position.y||n.orientation!==t.orientation||a.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:t,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,a=typeof r=="function"?r:cG,o={hierarchyPointNode:n,nodeDatum:t,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return a(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=t=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,t)},this.handleOnMouseOver=t=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,t)},this.handleOnMouseOut=t=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,t)},this.handleAddChildren=t=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,t)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(t,n){return this.shouldNodeTransform(this.props,t,this.state,n)}setTransform(t,n,r,a=!1){if(a){const o=n!=null,s=o?n.x:0,i=o?n.y:0;return r==="horizontal"?`translate(${i},${s})`:`translate(${s},${i})`}return r==="horizontal"?`translate(${t.y},${t.x})`:`translate(${t.x},${t.y})`}applyTransform(t,n,r=1,a=()=>{}){this.props.enableLegacyTransitions?ct(this.nodeRef).transition().duration(n).attr("transform",t).style("opacity",r).on("end",a):(ct(this.nodeRef).attr("transform",t).style("opacity",r),a())}commitTransform(){const{orientation:t,transitionDuration:n,position:r,parent:a}=this.props,o=this.setTransform(r,a,t);this.applyTransform(o,n)}componentWillLeave(t){const{orientation:n,transitionDuration:r,position:a,parent:o}=this.props,s=this.setTransform(a,o,n,!0);this.applyTransform(s,r,0,t)}render(){const{data:t,nodeClassName:n}=this.props;return L.createElement("g",{id:t.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[t.children&&t.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}};var Sg=Math.PI,Ng=2*Sg,no=1e-6,dG=Ng-no;function _g(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function mj(){return new _g}_g.prototype=mj.prototype={constructor:_g,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,s=this._y1,i=n-e,c=r-t,u=o-e,d=s-t,f=u*u+d*d;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>no)if(!(Math.abs(d*i-c*u)>no)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-o,m=r-s,y=i*i+c*c,x=h*h+m*m,w=Math.sqrt(y),v=Math.sqrt(f),g=a*Math.tan((Sg-Math.acos((y+f-x)/(2*w*v)))/2),b=g/v,S=g/w;Math.abs(b-1)>no&&(this._+="L"+(e+b*u)+","+(t+b*d)),this._+="A"+a+","+a+",0,0,"+ +(d*h>u*m)+","+(this._x1=e+S*i)+","+(this._y1=t+S*c)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),i=n*Math.sin(r),c=e+s,u=t+i,d=1^o,f=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>no||Math.abs(this._y1-u)>no)&&(this._+="L"+c+","+u),n&&(f<0&&(f=f%Ng+Ng),f>dG?this._+="A"+n+","+n+",0,1,"+d+","+(e-s)+","+(t-i)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=u):f>no&&(this._+="A"+n+","+n+",0,"+ +(f>=Sg)+","+d+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Fw(e){return function(){return e}}function fG(e){return e[0]}function hG(e){return e[1]}var mG=Array.prototype.slice;function pG(e){return e.source}function gG(e){return e.target}function pj(e){var t=pG,n=gG,r=fG,a=hG,o=null;function s(){var i,c=mG.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(o||(o=i=mj()),e(o,+r.apply(this,(c[0]=u,c)),+a.apply(this,c),+r.apply(this,(c[0]=d,c)),+a.apply(this,c)),i)return o=null,i+""||null}return s.source=function(i){return arguments.length?(t=i,s):t},s.target=function(i){return arguments.length?(n=i,s):n},s.x=function(i){return arguments.length?(r=typeof i=="function"?i:Fw(+i),s):r},s.y=function(i){return arguments.length?(a=typeof i=="function"?i:Fw(+i),s):a},s.context=function(i){return arguments.length?(o=i??null,s):o},s}function yG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function vG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+a)/2,r,n,r,a)}function xG(){return pj(yG)}function bG(){return pj(vG)}class wG extends L.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=t=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOver=t=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOut=t=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,t)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(t){this.applyOpacity(0,this.props.transitionDuration,t)}applyOpacity(t,n,r=()=>{}){this.props.enableLegacyTransitions?ct(this.linkRef).transition().duration(n).style("opacity",t).on("end",r):(ct(this.linkRef).style("opacity",t),r())}drawStepPath(t,n){const{source:r,target:a}=t,o=a.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${a.x} H${a.y}`:`M${r.x},${r.y} V${r.y+o/2} H${a.x} V${a.y}`}drawDiagonalPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?xG()({source:[r.y,r.x],target:[a.y,a.x]}):bG()({source:[r.x,r.y],target:[a.x,a.y]})}drawStraightPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?`M${r.y},${r.x}L${a.y},${a.x}`:`M${r.x},${r.y}L${a.x},${a.y}`}drawElbowPath(t,n){return n==="horizontal"?`M${t.source.y},${t.source.x}V${t.target.x}H${t.target.y}`:`M${t.source.x},${t.source.y}V${t.target.y}H${t.target.x}`}drawPath(){const{linkData:t,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(t,n):r==="elbow"?this.drawElbowPath(t,n):r==="straight"?this.drawStraightPath(t,n):r==="step"?this.drawStepPath(t,n):this.drawDiagonalPath(t,n)}getClassNames(){const{linkData:t,orientation:n,pathClassFunc:r}=this.props,a=["rd3t-link"];return typeof r=="function"&&a.push(r(t,n)),a.join(" ").trim()}render(){const{linkData:t}=this.props;return L.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":t.source.id,"data-target-id":t.target.id})}}const SG=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class hn extends L.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:hn.assignInternalProperties(jt(this.props.data)),d3:hn.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${wm()}`,this.gInstanceRef=`rd3t-g-${wm()}`,this.handleNodeToggle=t=>{const n=jt(this.state.data),a=this.findNodesById(t,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(a.__rd3t.collapsed?(hn.expandNode(a),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(a,n)):hn.collapseNode(a),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=a)},this.handleAddChildrenToNode=(t,n)=>{const r=jt(this.state.data),a=this.findNodesById(t,r,[]);if(a.length>0){const o=a[0],s=o.__rd3t.depth,i=jt(n).map(c=>hn.assignInternalProperties([c],s+1));o.children.push(...i.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(t,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(jt(t),n))},this.handleOnLinkClickCb=(t,n,r)=>{const{onLinkClick:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(jt(t),jt(n),r))},this.handleOnNodeMouseOverCb=(t,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(jt(t),n))},this.handleOnLinkMouseOverCb=(t,n,r)=>{const{onLinkMouseOver:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(jt(t),jt(n),r))},this.handleOnNodeMouseOutCb=(t,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(jt(t),n))},this.handleOnLinkMouseOutCb=(t,n,r)=>{const{onLinkMouseOut:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(jt(t),jt(n),r))},this.centerNode=t=>{const{dimensions:n,orientation:r,zoom:a,centeringTransitionDuration:o}=this.props;if(n){const s=ct(`.${this.gInstanceRef}`),i=ct(`.${this.svgInstanceRef}`),c=this.state.d3.scale;let u,d;r==="horizontal"?(d=-t.x*c+n.height/2,u=-t.y*c+n.width/2):(u=-t.x*c+n.width/2,d=-t.y*c+n.height/2),s.transition().duration(o).attr("transform","translate("+u+","+d+")scale("+c+")"),i.call(Gu().transform,rr.translate(u,d).scale(a))}},this.getNodeClassName=(t,n)=>{const{rootNodeClassName:r,branchNodeClassName:a,leafNodeClassName:o}=this.props;return t!=null?n.children?a:o:r}}static getDerivedStateFromProps(t,n){let r=null;const a=!t.dataKey||n.dataKey!==t.dataKey;t.data!==n.dataRef&&a&&(r={dataRef:t.data,data:hn.assignInternalProperties(jt(t.data)),isInitialRenderForDataset:!0,dataKey:t.dataKey});const o=hn.calculateD3Geometry(t);return fl(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(t){this.props.data!==t.data&&this.setState({isInitialRenderForDataset:!1}),(!fl(this.props.translate,t.translate)||!fl(this.props.scaleExtent,t.scaleExtent)||this.props.zoomable!==t.zoomable||this.props.draggable!==t.draggable||this.props.zoom!==t.zoom||this.props.enableLegacyTransitions!==t.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?jt(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(t,n){t.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(t){const{zoomable:n,scaleExtent:r,translate:a,zoom:o,onUpdate:s,hasInteractiveNodes:i}=t,c=ct(`.${this.svgInstanceRef}`),u=ct(`.${this.gInstanceRef}`);c.call(Gu().transform,rr.translate(a.x,a.y).scale(o)),c.call(Gu().scaleExtent(n?[r.min,r.max]:[o,o]).filter(d=>i?d.target.classList.contains(this.svgInstanceRef)||d.target.classList.contains(this.gInstanceRef)||d.shiftKey:!0).on("zoom",d=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(d.sourceEvent.type)||(u.attr("transform",d.transform),typeof s=="function"&&(s({node:null,zoom:d.transform.k,translate:{x:d.transform.x,y:d.transform.y}}),this.state.d3.scale=d.transform.k,this.state.d3.translate={x:d.transform.x,y:d.transform.y}))}))}static assignInternalProperties(t,n=0){return(Array.isArray(t)?t:[t]).map(a=>{const o=a;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=wm(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=hn.assignInternalProperties(o.children,n+1)),o})}findNodesById(t,n,r){return r.length>0||(r=r.concat(n.filter(a=>a.__rd3t.id===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesById(t,a.children,r))})),r}findNodesAtDepth(t,n,r){return r=r.concat(n.filter(a=>a.__rd3t.depth===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesAtDepth(t,a.children,r))}),r}static collapseNode(t){t.__rd3t.collapsed=!0,t.children&&t.children.length>0&&t.children.forEach(n=>{hn.collapseNode(n)})}static expandNode(t){t.__rd3t.collapsed=!1}collapseNeighborNodes(t,n){this.findNodesAtDepth(t.__rd3t.depth,n,[]).filter(a=>a.__rd3t.id!==t.__rd3t.id).forEach(a=>hn.collapseNode(a))}generateTree(){const{initialDepth:t,depthFactor:n,separation:r,nodeSize:a,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,c=ZB().nodeSize(o==="horizontal"?[a.y,a.x]:[a.x,a.y]).separation((f,h)=>f.parent.data.__rd3t.id===h.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(tv(this.state.data[0],f=>f.__rd3t.collapsed?null:f.children));let u=c.descendants();const d=c.links();return t!==void 0&&s&&this.setInitialTreeDepth(u,t),n&&u.forEach(f=>{f.y=f.depth*n}),{nodes:u,links:d}}static calculateD3Geometry(t){let n;return t.zoom>t.scaleExtent.max?n=t.scaleExtent.max:t.zoom<t.scaleExtent.min?n=t.scaleExtent.min:n=t.zoom,{translate:t.translate,scale:n}}render(){const{nodes:t,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:a,pathFunc:o,transitionDuration:s,nodeSize:i,depthFactor:c,initialDepth:u,separation:d,enableLegacyTransitions:f,svgClassName:h,pathClassFunc:m}=this.props,{translate:y,scale:x}=this.state.d3,w=Object.assign(Object.assign(Object.assign({},i),d),{depthFactor:c,initialDepth:u});return L.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},L.createElement("style",null,SG),L.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},L.createElement(iG,{enableLegacyTransitions:f,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${y.x},${y.y}) scale(${x})`},n.map((v,g)=>L.createElement(wG,{key:"link-"+g,orientation:a,pathFunc:o,pathClassFunc:m,linkData:v,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:f,transitionDuration:s})),t.map((v,g)=>{const{data:b,x:S,y:_,parent:A}=v;return L.createElement(uG,{key:"node-"+g,data:b,position:{x:S,y:_},hierarchyPointNode:v,parent:A,nodeClassName:this.getNodeClassName(A,b),renderCustomNodeElement:r,nodeSize:i,orientation:a,enableLegacyTransitions:f,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:w,centerNode:this.centerNode})}))))}}hn.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};function NG({items:e,filters:t=[]}){const[n,r]=p.useState(null),[a,o]=p.useState("grid"),[s,i]=p.useState({search:"",selectedFilters:{},selectedTags:[]}),c=p.useMemo(()=>{let y=e;if(s.search){const x=s.search.toLowerCase();y=y.filter(w=>w.name.toLowerCase().includes(x)||w.description.toLowerCase().includes(x)||w.tags.some(v=>v.toLowerCase().includes(x)))}return s.selectedTags.length>0&&(y=y.filter(x=>s.selectedTags.some(w=>x.tags.includes(w.value)||x.category===w.value||x.name.toLowerCase().includes(w.value.toLowerCase())))),y},[e,s]),u=p.useMemo(()=>t.length===0?[]:t.map(y=>({...y,options:y.options.map(x=>({...x,count:e.filter(w=>w.tags.includes(x.value)||w.category===x.value).length}))})),[t,e]),d=p.useCallback(y=>{r(y)},[]),f=p.useCallback(y=>{i(y)},[]),h=p.useCallback(y=>{i(x=>({...x,search:y}))},[]),m=p.useCallback(y=>{o(y)},[]);return{selectedItem:n,viewMode:a,currentFilters:s,filteredItems:c,filtersWithCounts:u,handleItemSelect:d,handleFiltersChange:f,handleSearch:h,handleViewModeChange:m,setSelectedItem:r}}function _G({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(o=>o.prerequisites.includes(a)).map(o=>o.name);return l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,o)=>l.jsx(we,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},o))})]}),t&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),l.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,o)=>l.jsx(we,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},o)),r(t.name).length===0&&l.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>l.jsx(we,{variant:"secondary",className:"text-xs",children:a},o))})]})]})}function EG({items:e,allNodes:t}){return l.jsx(zd,{className:"h-[calc(100vh-500px)]",children:l.jsx(Yy,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>l.jsxs(Bf,{value:n.id,children:[l.jsx(Hf,{className:"text-left hover:no-underline",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),l.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),l.jsx(Ff,{children:l.jsx(_G,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}function Uw(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]);p.useEffect(()=>{async function b(){try{r(!0);const S=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!S.ok)throw new Error("Failed to fetch destiny data");const A=(await S.json()).map((N,E)=>({id:N.globalFormId||`destiny-${E}`,name:N.name,description:N.description,tags:[],prerequisites:N.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:N.globalFormId}));A.forEach(N=>{const E=[];N.description.toLowerCase().includes("magicka")&&E.push("Magic"),N.description.toLowerCase().includes("health")&&E.push("Defensive"),N.description.toLowerCase().includes("stamina")&&E.push("Utility"),N.description.toLowerCase().includes("damage")&&E.push("Offensive"),N.description.toLowerCase().includes("armor")&&E.push("Defensive"),N.description.toLowerCase().includes("spell")&&E.push("Magic"),N.description.toLowerCase().includes("weapon")&&E.push("Combat"),N.tags=E}),t(A)}catch(S){o("Failed to load destiny data"),console.error("Error loading destiny data:",S)}finally{r(!1)}}b()},[]);const c=e.map(b=>({id:b.id,name:b.name,description:b.description,tags:b.tags,summary:b.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0})),d=(()=>{const b=[...new Set(e.flatMap(_=>_.tags))],S=[...new Set(e.flatMap(_=>_.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Search by tag...",options:b.map(_=>({id:`tag-${_}`,label:_,value:_,category:"Tags",description:`Destiny nodes with ${_} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Search by prerequisite...",options:S.map(_=>({id:`prereq-${_}`,label:_,value:_,category:"Prerequisites",description:`Destiny nodes requiring ${_}`}))}]})(),{filteredItems:f,currentFilters:h,handleFiltersChange:m,handleSearch:y}=NG({items:c,filters:[]}),{handleTagSelect:x,handleTagRemove:w}=ev({initialFilters:h,onFiltersChange:m,onSearch:y}),v=b=>{const S=e.find(_=>_.id===b);S&&i(_=>_.some(N=>N.id===b)?_.filter(N=>N.id!==b):[..._,{id:b,name:S.name,description:S.description,levelRequirement:S.levelRequirement}])},g=b=>{i(S=>S.filter(_=>_.id!==b))};return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsx(Lr,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:l.jsx("div",{className:"mb-6",children:l.jsxs(uy,{defaultValue:"path",className:"w-full",children:[l.jsxs(dy,{className:"grid w-full grid-cols-2",children:[l.jsx(Ml,{value:"path",children:"Path Builder"}),l.jsx(Ml,{value:"reference",children:"Reference"})]}),l.jsxs(Ed,{value:"reference",className:"space-y-4",children:[l.jsx(sI,{searchCategories:d,selectedTags:h.selectedTags,onTagSelect:x,onTagRemove:w}),l.jsx("div",{className:"w-full",children:l.jsx(EG,{items:f,allNodes:e})})]}),l.jsx(Ed,{value:"path",className:"space-y-4",children:l.jsx(NB,{nodes:e,plannedNodes:s,onNodePlan:v,onNodeUnplan:g})})]})})})}function $t(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=$t(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var gj={exports:{}},yj={},vj={exports:{}},xj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=p;function CG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var AG=typeof Object.is=="function"?Object.is:CG,kG=Js.useState,jG=Js.useEffect,TG=Js.useLayoutEffect,RG=Js.useDebugValue;function MG(e,t){var n=t(),r=kG({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return TG(function(){a.value=n,a.getSnapshot=t,Nm(a)&&o({inst:a})},[e,n,t]),jG(function(){return Nm(a)&&o({inst:a}),e(function(){Nm(a)&&o({inst:a})})},[e]),RG(n),n}function Nm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!AG(e,n)}catch{return!0}}function DG(e,t){return t()}var zG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DG:MG;xj.useSyncExternalStore=Js.useSyncExternalStore!==void 0?Js.useSyncExternalStore:zG;vj.exports=xj;var OG=vj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=p,$G=OG;function LG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PG=typeof Object.is=="function"?Object.is:LG,IG=$G.useSyncExternalStore,BG=rh.useRef,HG=rh.useEffect,FG=rh.useMemo,UG=rh.useDebugValue;yj.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=BG(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=FG(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&s.hasValue){var y=s.value;if(a(y,m))return f=y}return f=m}if(y=f,PG(d,m))return y;var x=r(m);return a!==void 0&&a(y,x)?(d=m,y):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,a]);var i=IG(e,o[0],o[1]);return HG(function(){s.hasValue=!0,s.value=i},[i]),UG(i),i};gj.exports=yj;var GG=gj.exports;const VG=ef(GG),ZG={},Gw=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,m))}},a=()=>t,c={setState:r,getState:a,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(ZG?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,c);return c},YG=e=>e?Gw(e):Gw,{useDebugValue:qG}=L,{useSyncExternalStoreWithSelector:XG}=VG,KG=e=>e;function bj(e,t=KG,n){const r=XG(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qG(r),r}const Vw=(e,t)=>{const n=YG(e),r=(a,o=t)=>bj(n,a,o);return Object.assign(r,n),r},WG=(e,t)=>e?Vw(e,t):Vw;function Gt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const ah=p.createContext(null),QG=ah.Provider,Xr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},wj=Xr.error001();function Ue(e,t){const n=p.useContext(ah);if(n===null)throw new Error(wj);return bj(n,e,t)}const vt=()=>{const e=p.useContext(ah);if(e===null)throw new Error(wj);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},JG=e=>e.userSelectionActive?"none":"all";function Sj({position:e,children:t,className:n,style:r,...a}){const o=Ue(JG),s=`${e}`.split("-");return L.createElement("div",{className:$t(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...a},t)}function eV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:L.createElement(Sj,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},L.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const tV=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:c,className:u,...d})=>{const f=p.useRef(null),[h,m]=p.useState({x:0,y:0,width:0,height:0}),y=$t(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(f.current){const x=f.current.getBBox();m({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),typeof n>"u"||!n?null:L.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...d},a&&L.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:i,ry:i}),L.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:r},n),c)};var nV=p.memo(tV);const mv=e=>({width:e.offsetWidth,height:e.offsetHeight}),ei=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),pv=(e={x:0,y:0},t)=>({x:ei(e.x,t[0][0],t[1][0]),y:ei(e.y,t[0][1],t[1][1])}),Zw=(e,t,n)=>e<t?ei(Math.abs(e-t),1,50)/50:e>n?-ei(Math.abs(e-n),1,50)/50:0,Nj=(e,t)=>{const n=Zw(e.x,35,t.width-35)*20,r=Zw(e.y,35,t.height-35)*20;return[n,r]},_j=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},rV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),gv=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),aV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Yw=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Eg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},oV=e=>wn(e.width)&&wn(e.height)&&wn(e.x)&&wn(e.y),wn=e=>!isNaN(e)&&isFinite(e),Xe=Symbol.for("internals"),Ej=["Enter"," ","Escape"],sV=(e,t)=>{},iV=e=>"nativeEvent"in e;function Cg(e){var a,o;const t=iV(e)?e.nativeEvent:e,n=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Cj=e=>"clientX"in e,Ma=(e,t)=>{var o,s;const n=Cj(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Yd=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},kc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m=20})=>L.createElement(L.Fragment,null,L.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),m&&L.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&wn(n)&&wn(r)?L.createElement(nV,{x:n,y:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u}):null);kc.displayName="BaseEdge";function Oi(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(o=>o.id===e);a&&n(r,{...a})}}function Aj({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[o,i,a,s]}function kj({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:i}){const c=e*.125+a*.375+s*.375+n*.125,u=t*.125+o*.375+i*.375+r*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var Co;(function(e){e.Strict="strict",e.Loose="loose"})(Co||(Co={}));var so;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(so||(so={}));var Gl;(function(e){e.Partial="partial",e.Full="full"})(Gl||(Gl={}));var pa;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(pa||(pa={}));var qd;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(qd||(qd={}));var ae;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ae||(ae={}));function qw({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===ae.Left||e===ae.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function jj({sourceX:e,sourceY:t,sourcePosition:n=ae.Bottom,targetX:r,targetY:a,targetPosition:o=ae.Top}){const[s,i]=qw({pos:n,x1:e,y1:t,x2:r,y2:a}),[c,u]=qw({pos:o,x1:r,y1:a,x2:e,y2:t}),[d,f,h,m]=kj({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${i} ${c},${u} ${r},${a}`,d,f,h,m]}const yv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=ae.Bottom,targetPosition:o=ae.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,interactionWidth:x})=>{const[w,v,g]=jj({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o});return L.createElement(kc,{path:w,labelX:v,labelY:g,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,interactionWidth:x})});yv.displayName="SimpleBezierEdge";const Xw={[ae.Left]:{x:-1,y:0},[ae.Right]:{x:1,y:0},[ae.Top]:{x:0,y:-1},[ae.Bottom]:{x:0,y:1}},lV=({source:e,sourcePosition:t=ae.Bottom,target:n})=>t===ae.Left||t===ae.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Kw=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function cV({source:e,sourcePosition:t=ae.Bottom,target:n,targetPosition:r=ae.Top,center:a,offset:o}){const s=Xw[t],i=Xw[r],c={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+i.x*o,y:n.y+i.y*o},d=lV({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let m=[],y,x;const w={x:0,y:0},v={x:0,y:0},[g,b,S,_]=Aj({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*i[f]===-1){y=a.x??g,x=a.y??b;const N=[{x:y,y:c.y},{x:y,y:u.y}],E=[{x:c.x,y:x},{x:u.x,y:x}];s[f]===h?m=f==="x"?N:E:m=f==="x"?E:N}else{const N=[{x:c.x,y:u.y}],E=[{x:u.x,y:c.y}];if(f==="x"?m=s.x===h?E:N:m=s.y===h?N:E,t===r){const B=Math.abs(e[f]-n[f]);if(B<=o){const k=Math.min(o-1,o-B);s[f]===h?w[f]=(c[f]>e[f]?-1:1)*k:v[f]=(u[f]>n[f]?-1:1)*k}}if(t!==r){const B=f==="x"?"y":"x",k=s[f]===i[B],O=c[B]>u[B],T=c[B]<u[B];(s[f]===1&&(!k&&O||k&&T)||s[f]!==1&&(!k&&T||k&&O))&&(m=f==="x"?N:E)}const j={x:c.x+w.x,y:c.y+w.y},C={x:u.x+v.x,y:u.y+v.y},R=Math.max(Math.abs(j.x-m[0].x),Math.abs(C.x-m[0].x)),I=Math.max(Math.abs(j.y-m[0].y),Math.abs(C.y-m[0].y));R>=I?(y=(j.x+C.x)/2,x=m[0].y):(y=m[0].x,x=(j.y+C.y)/2)}return[[e,{x:c.x+w.x,y:c.y+w.y},...m,{x:u.x+v.x,y:u.y+v.y},n],y,x,S,_]}function uV(e,t,n,r){const a=Math.min(Kw(e,t)/2,Kw(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,d=e.y<n.y?1:-1;return`L ${o+a*u},${s}Q ${o},${s} ${o},${s+a*d}`}const i=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+a*c}Q ${o},${s} ${o+a*i},${s}`}function Ag({sourceX:e,sourceY:t,sourcePosition:n=ae.Bottom,targetX:r,targetY:a,targetPosition:o=ae.Top,borderRadius:s=5,centerX:i,centerY:c,offset:u=20}){const[d,f,h,m,y]=cV({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:i,y:c},offset:u});return[d.reduce((w,v,g)=>{let b="";return g>0&&g<d.length-1?b=uV(d[g-1],v,d[g+1],s):b=`${g===0?"M":"L"}${v.x} ${v.y}`,w+=b,w},""),f,h,m,y]}const oh=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=ae.Bottom,targetPosition:h=ae.Top,markerEnd:m,markerStart:y,pathOptions:x,interactionWidth:w})=>{const[v,g,b]=Ag({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:h,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset});return L.createElement(kc,{path:v,labelX:g,labelY:b,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:m,markerStart:y,interactionWidth:w})});oh.displayName="SmoothStepEdge";const vv=p.memo(e=>{var t;return L.createElement(oh,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});vv.displayName="StepEdge";function dV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,s,i]=Aj({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,s,i]}const xv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})=>{const[y,x,w]=dV({sourceX:e,sourceY:t,targetX:n,targetY:r});return L.createElement(kc,{path:y,labelX:x,labelY:w,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:m})});xv.displayName="StraightEdge";function du(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Ww({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case ae.Left:return[t-du(t-r,o),n];case ae.Right:return[t+du(r-t,o),n];case ae.Top:return[t,n-du(n-a,o)];case ae.Bottom:return[t,n+du(a-n,o)]}}function Tj({sourceX:e,sourceY:t,sourcePosition:n=ae.Bottom,targetX:r,targetY:a,targetPosition:o=ae.Top,curvature:s=.25}){const[i,c]=Ww({pos:n,x1:e,y1:t,x2:r,y2:a,c:s}),[u,d]=Ww({pos:o,x1:r,y1:a,x2:e,y2:t,c:s}),[f,h,m,y]=kj({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${i},${c} ${u},${d} ${r},${a}`,f,h,m,y]}const Xd=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=ae.Bottom,targetPosition:o=ae.Top,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,pathOptions:x,interactionWidth:w})=>{const[v,g,b]=Tj({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o,curvature:x==null?void 0:x.curvature});return L.createElement(kc,{path:v,labelX:g,labelY:b,label:s,labelStyle:i,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:m,markerStart:y,interactionWidth:w})});Xd.displayName="BezierEdge";const bv=p.createContext(null),fV=bv.Provider;bv.Consumer;const hV=()=>p.useContext(bv),mV=e=>"id"in e&&"source"in e&&"target"in e,pV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,kg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,gV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Rj=(e,t)=>{if(!e.source||!e.target)return t;let n;return mV(e)?n={...e}:n={...e,id:pV(e)},gV(n,t)?t:t.concat(n)},jg=({x:e,y:t},[n,r,a],o,[s,i])=>{const c={x:(e-n)/a,y:(t-r)/a};return o?{x:s*Math.round(c.x/s),y:i*Math.round(c.y/i)}:c},Mj=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),Ds=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},wv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:o,y:s}=Ds(a,t).positionAbsolute;return rV(r,gv({x:o,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return aV(n)},Dj=(e,t,[n,r,a]=[0,0,1],o=!1,s=!1,i=[0,0])=>{const c={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:m=!0,hidden:y=!1}=d;if(s&&!m||y)return!1;const{positionAbsolute:x}=Ds(d,i),w={x:x.x,y:x.y,width:f||0,height:h||0},v=Eg(c,w),g=typeof f>"u"||typeof h>"u"||f===null||h===null,b=o&&v>0,S=(f||0)*(h||0);(g||b||v>=S||d.dragging)&&u.push(d)}),u},zj=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Oj=(e,t,n,r,a,o=.1)=>{const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),c=Math.min(s,i),u=ei(c,r,a),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,m=n/2-f*u;return{x:h,y:m,zoom:u}},ro=(e,t=0)=>e.transition().duration(t);function Qw(e,t,n,r){return(t[n]||[]).reduce((a,o)=>{var s,i;return`${e.id}-${o.id}-${n}`!==r&&a.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+o.y+o.height/2}),a},[])}function yV(e,t,n,r,a,o){const{x:s,y:i}=Ma(e),u=t.elementsFromPoint(s,i).find(y=>y.classList.contains("react-flow__handle"));if(u){const y=u.getAttribute("data-nodeid");if(y){const x=Sv(void 0,u),w=u.getAttribute("data-handleid"),v=o({nodeId:y,id:w,type:x});if(v){const g=a.find(b=>b.nodeId===y&&b.type===x&&b.id===w);return{handle:{id:w,type:x,nodeId:y,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:v}}}}let d=[],f=1/0;if(a.forEach(y=>{const x=Math.sqrt((y.x-n.x)**2+(y.y-n.y)**2);if(x<=r){const w=o(y);x<=f&&(x<f?d=[{handle:y,validHandleResult:w}]:x===f&&d.push({handle:y,validHandleResult:w}),f=x)}}),!d.length)return{handle:null,validHandleResult:$j()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:y})=>y.isValid),m=d.some(({handle:y})=>y.type==="target");return d.find(({handle:y,validHandleResult:x})=>m?y.type==="target":h?x.isValid:!0)||d[0]}const vV={source:null,target:null,sourceHandle:null,targetHandle:null},$j=()=>({handleDomNode:null,isValid:!1,connection:vV,endHandle:null});function Lj(e,t,n,r,a,o,s){const i=a==="target",c=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...$j(),handleDomNode:c};if(c){const d=Sv(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),m=c.classList.contains("connectable"),y=c.classList.contains("connectableend"),x={source:i?f:n,sourceHandle:i?h:r,target:i?n:f,targetHandle:i?r:h};u.connection=x,m&&y&&(t===Co.Strict?i&&d==="source"||!i&&d==="target":f!==n||h!==r)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=o(x))}return u}function xV({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,o)=>{if(o[Xe]){const{handleBounds:s}=o[Xe];let i=[],c=[];s&&(i=Qw(o,s,"source",`${t}-${n}-${r}`),c=Qw(o,s,"target",`${t}-${n}-${r}`)),a.push(...i,...c)}return a},[])}function Sv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function _m(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function bV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Pj({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:o,setState:s,isValidConnection:i,edgeUpdaterType:c,onReconnectEnd:u}){const d=_j(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:m,connectionRadius:y,onConnectStart:x,panBy:w,getNodes:v,cancelConnection:g}=o();let b=0,S;const{x:_,y:A}=Ma(e),N=d==null?void 0:d.elementFromPoint(_,A),E=Sv(c,N),j=h==null?void 0:h.getBoundingClientRect();if(!j||!E)return;let C,R=Ma(e,j),I=!1,B=null,k=!1,O=null;const T=xV({nodes:v(),nodeId:n,handleId:t,handleType:E}),P=()=>{if(!m)return;const[$,U]=Nj(R,j);w({x:$,y:U}),b=requestAnimationFrame(P)};s({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),x==null||x(e,{nodeId:n,handleId:t,handleType:E});function z($){const{transform:U}=o();R=Ma($,j);const{handle:V,validHandleResult:G}=yV($,d,jg(R,U,!1,[1,1]),y,T,D=>Lj(D,f,n,t,a?"target":"source",i,d));if(S=V,I||(P(),I=!0),O=G.handleDomNode,B=G.connection,k=G.isValid,s({connectionPosition:S&&k?Mj({x:S.x,y:S.y},U):R,connectionStatus:bV(!!S,k),connectionEndHandle:G.endHandle}),!S&&!k&&!O)return _m(C);B.source!==B.target&&O&&(_m(C),C=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",k),O.classList.toggle("react-flow__handle-valid",k))}function M($){var U,V;(S||O)&&B&&k&&(r==null||r(B)),(V=(U=o()).onConnectEnd)==null||V.call(U,$),c&&(u==null||u($)),_m(C),g(),cancelAnimationFrame(b),I=!1,k=!1,B=null,O=null,d.removeEventListener("mousemove",z),d.removeEventListener("mouseup",M),d.removeEventListener("touchmove",z),d.removeEventListener("touchend",M)}d.addEventListener("mousemove",z),d.addEventListener("mouseup",M),d.addEventListener("touchmove",z),d.addEventListener("touchend",M)}const Jw=()=>!0,wV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),SV=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},Ij=p.forwardRef(({type:e="source",position:t=ae.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:s,onConnect:i,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},m)=>{var j,C;const y=s||null,x=e==="target",w=vt(),v=hV(),{connectOnClick:g,noPanClassName:b}=Ue(wV,Gt),{connecting:S,clickConnecting:_}=Ue(SV(v,y,e),Gt);v||(C=(j=w.getState()).onError)==null||C.call(j,"010",Xr.error010());const A=R=>{const{defaultEdgeOptions:I,onConnect:B,hasDefaultEdges:k}=w.getState(),O={...I,...R};if(k){const{edges:T,setEdges:P}=w.getState();P(Rj(O,T))}B==null||B(O),i==null||i(O)},N=R=>{if(!v)return;const I=Cj(R);a&&(I&&R.button===0||!I)&&Pj({event:R,handleId:y,nodeId:v,onConnect:A,isTarget:x,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Jw}),I?d==null||d(R):f==null||f(R)},E=R=>{const{onClickConnectStart:I,onClickConnectEnd:B,connectionClickStartHandle:k,connectionMode:O,isValidConnection:T}=w.getState();if(!v||!k&&!a)return;if(!k){I==null||I(R,{nodeId:v,handleId:y,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:y}});return}const P=_j(R.target),z=n||T||Jw,{connection:M,isValid:$}=Lj({nodeId:v,id:y,type:e},O,k.nodeId,k.handleId||null,k.type,z,P);$&&A(M),B==null||B(R),w.setState({connectionClickStartHandle:null})};return L.createElement("div",{"data-handleid":y,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${y}-${e}`,className:$t(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",b,u,{source:!x,target:x,connectable:r,connectablestart:a,connectableend:o,connecting:_,connectionindicator:r&&(a&&!S||o&&S)}]),onMouseDown:N,onTouchStart:N,onClick:g?E:void 0,ref:m,...h},c)});Ij.displayName="Handle";var ti=p.memo(Ij);const Bj=({data:e,isConnectable:t,targetPosition:n=ae.Top,sourcePosition:r=ae.Bottom})=>L.createElement(L.Fragment,null,L.createElement(ti,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,L.createElement(ti,{type:"source",position:r,isConnectable:t}));Bj.displayName="DefaultNode";var Tg=p.memo(Bj);const Hj=({data:e,isConnectable:t,sourcePosition:n=ae.Bottom})=>L.createElement(L.Fragment,null,e==null?void 0:e.label,L.createElement(ti,{type:"source",position:n,isConnectable:t}));Hj.displayName="InputNode";var Fj=p.memo(Hj);const Uj=({data:e,isConnectable:t,targetPosition:n=ae.Top})=>L.createElement(L.Fragment,null,L.createElement(ti,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Uj.displayName="OutputNode";var Gj=p.memo(Uj);const Nv=()=>null;Nv.displayName="GroupNode";const NV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),fu=e=>e.id;function _V(e,t){return Gt(e.selectedNodes.map(fu),t.selectedNodes.map(fu))&&Gt(e.selectedEdges.map(fu),t.selectedEdges.map(fu))}const Vj=p.memo(({onSelectionChange:e})=>{const t=vt(),{selectedNodes:n,selectedEdges:r}=Ue(NV,_V);return p.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[n,r,e]),null});Vj.displayName="SelectionListener";const EV=e=>!!e.onSelectionChange;function CV({onSelectionChange:e}){const t=Ue(EV);return e||t?L.createElement(Vj,{onSelectionChange:e}):null}const AV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function qo(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function pe(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const kV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:o,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:y,minZoom:x,maxZoom:w,nodeExtent:v,onNodesChange:g,onEdgesChange:b,elementsSelectable:S,connectionMode:_,snapGrid:A,snapToGrid:N,translateExtent:E,connectOnClick:j,defaultEdgeOptions:C,fitView:R,fitViewOptions:I,onNodesDelete:B,onEdgesDelete:k,onNodeDrag:O,onNodeDragStart:T,onNodeDragStop:P,onSelectionDrag:z,onSelectionDragStart:M,onSelectionDragStop:$,noPanClassName:U,nodeOrigin:V,rfId:G,autoPanOnConnect:D,autoPanOnNodeDrag:H,onError:Z,connectionRadius:F,isValidConnection:Y,nodeDragThreshold:W})=>{const{setNodes:Q,setEdges:be,setDefaultNodesAndEdges:ge,setMinZoom:ce,setMaxZoom:Re,setTranslateExtent:Me,setNodeExtent:xt,reset:Ne}=Ue(AV,Gt),J=vt();return p.useEffect(()=>{const We=r==null?void 0:r.map(mr=>({...mr,...C}));return ge(n,We),()=>{Ne()}},[]),pe("defaultEdgeOptions",C,J.setState),pe("connectionMode",_,J.setState),pe("onConnect",a,J.setState),pe("onConnectStart",o,J.setState),pe("onConnectEnd",s,J.setState),pe("onClickConnectStart",i,J.setState),pe("onClickConnectEnd",c,J.setState),pe("nodesDraggable",u,J.setState),pe("nodesConnectable",d,J.setState),pe("nodesFocusable",f,J.setState),pe("edgesFocusable",h,J.setState),pe("edgesUpdatable",m,J.setState),pe("elementsSelectable",S,J.setState),pe("elevateNodesOnSelect",y,J.setState),pe("snapToGrid",N,J.setState),pe("snapGrid",A,J.setState),pe("onNodesChange",g,J.setState),pe("onEdgesChange",b,J.setState),pe("connectOnClick",j,J.setState),pe("fitViewOnInit",R,J.setState),pe("fitViewOnInitOptions",I,J.setState),pe("onNodesDelete",B,J.setState),pe("onEdgesDelete",k,J.setState),pe("onNodeDrag",O,J.setState),pe("onNodeDragStart",T,J.setState),pe("onNodeDragStop",P,J.setState),pe("onSelectionDrag",z,J.setState),pe("onSelectionDragStart",M,J.setState),pe("onSelectionDragStop",$,J.setState),pe("noPanClassName",U,J.setState),pe("nodeOrigin",V,J.setState),pe("rfId",G,J.setState),pe("autoPanOnConnect",D,J.setState),pe("autoPanOnNodeDrag",H,J.setState),pe("onError",Z,J.setState),pe("connectionRadius",F,J.setState),pe("isValidConnection",Y,J.setState),pe("nodeDragThreshold",W,J.setState),qo(e,Q),qo(t,be),qo(x,ce),qo(w,Re),qo(E,Me),qo(v,xt),null},e1={display:"none"},jV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Zj="react-flow__node-desc",Yj="react-flow__edge-desc",TV="react-flow__aria-live",RV=e=>e.ariaLiveMessage;function MV({rfId:e}){const t=Ue(RV);return L.createElement("div",{id:`${TV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:jV},t)}function DV({rfId:e,disableKeyboardA11y:t}){return L.createElement(L.Fragment,null,L.createElement("div",{id:`${Zj}-${e}`,style:e1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),L.createElement("div",{id:`${Yj}-${e}`,style:e1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&L.createElement(MV,{rfId:e}))}var Vl=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[s,i]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return p.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Cg(m))return!1;const x=n1(m.code,i);o.current.add(m[x]),t1(s,o.current,!1)&&(m.preventDefault(),r(!0))},f=m=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Cg(m))return!1;const x=n1(m.code,i);t1(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[x]),m.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,r]),n};function t1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function n1(e,t){return t.includes(e)?"code":"key"}function qj(e,t,n,r){var i,c;const a=e.parentNode||e.parentId;if(!a)return n;const o=t.get(a),s=Ds(o,r);return qj(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((i=o[Xe])==null?void 0:i.z)??0)>(n.z??0)?((c=o[Xe])==null?void 0:c.z)??0:n.z??0},r)}function Xj(e,t,n){e.forEach(r=>{var o;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:s,y:i,z:c}=qj(r,e,{...r.position,z:((o=r[Xe])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:i},r[Xe].z=c,n!=null&&n[r.id]&&(r[Xe].isParent=!0)}})}function Em(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(i=>{var m;const c=(wn(i.zIndex)?i.zIndex:0)+(i.selected?s:0),u=t.get(i.id),d={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},f=i.parentNode||i.parentId;f&&(o[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(d,Xe,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[Xe])==null?void 0:m.handleBounds,z:c}}),a.set(i.id,d)}),Xj(a,n,o),a}function Kj(e,t={}){const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(i&&c&&(h||!t.initial)){const y=n().filter(w=>{var g;const v=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(g=t.nodes)!=null&&g.length?v&&t.nodes.some(b=>b.id===w.id):v}),x=y.every(w=>w.width&&w.height);if(y.length>0&&x){const w=wv(y,f),{x:v,y:g,zoom:b}=Oj(w,r,a,t.minZoom??o,t.maxZoom??s,t.padding??.1),S=rr.translate(v,g).scale(b);return typeof t.duration=="number"&&t.duration>0?i.transform(ro(c,t.duration),S):i.transform(c,S),!0}}return!1}function zV(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Xe]:r[Xe],selected:n.selected})}),new Map(t)}function OV(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function hu({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:c,hasDefaultEdges:u}=n();e!=null&&e.length&&(c&&r({nodeInternals:zV(e,a)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:OV(t,o)}),i==null||i(t))}const Xo=()=>{},$V={zoomIn:Xo,zoomOut:Xo,zoomTo:Xo,getZoom:()=>1,setViewport:Xo,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Xo,fitBounds:Xo,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},LV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),PV=()=>{const e=vt(),{d3Zoom:t,d3Selection:n}=Ue(LV,Gt);return p.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(ro(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(ro(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(ro(n,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[s,i,c]=e.getState().transform,u=rr.translate(a.x??s,a.y??i).scale(a.zoom??c);t.transform(ro(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[a,o,s]=e.getState().transform;return{x:a,y:o,zoom:s}},fitView:a=>Kj(e.getState,a),setCenter:(a,o,s)=>{const{width:i,height:c,maxZoom:u}=e.getState(),d=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,f=i/2-a*d,h=c/2-o*d,m=rr.translate(f,h).scale(d);t.transform(ro(n,s==null?void 0:s.duration),m)},fitBounds:(a,o)=>{const{width:s,height:i,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=Oj(a,s,i,c,u,(o==null?void 0:o.padding)??.1),m=rr.translate(d,f).scale(h);t.transform(ro(n,o==null?void 0:o.duration),m)},project:a=>{const{transform:o,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),jg(a,o,s,i)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:s,snapGrid:i,domNode:c}=e.getState();if(!c)return a;const{x:u,y:d}=c.getBoundingClientRect(),f={x:a.x-u,y:a.y-d};return jg(f,o,s,i)},flowToScreenPosition:a=>{const{transform:o,domNode:s}=e.getState();if(!s)return a;const{x:i,y:c}=s.getBoundingClientRect(),u=Mj(a,o);return{x:u.x+i,y:u.y+c}},viewportInitialized:!0}:$V,[t,n])};function _v(){const e=PV(),t=vt(),n=p.useCallback(()=>t.getState().getNodes().map(x=>({...x})),[]),r=p.useCallback(x=>t.getState().nodeInternals.get(x),[]),a=p.useCallback(()=>{const{edges:x=[]}=t.getState();return x.map(w=>({...w}))},[]),o=p.useCallback(x=>{const{edges:w=[]}=t.getState();return w.find(v=>v.id===x)},[]),s=p.useCallback(x=>{const{getNodes:w,setNodes:v,hasDefaultNodes:g,onNodesChange:b}=t.getState(),S=w(),_=typeof x=="function"?x(S):x;if(g)v(_);else if(b){const A=_.length===0?S.map(N=>({type:"remove",id:N.id})):_.map(N=>({item:N,type:"reset"}));b(A)}},[]),i=p.useCallback(x=>{const{edges:w=[],setEdges:v,hasDefaultEdges:g,onEdgesChange:b}=t.getState(),S=typeof x=="function"?x(w):x;if(g)v(S);else if(b){const _=S.length===0?w.map(A=>({type:"remove",id:A.id})):S.map(A=>({item:A,type:"reset"}));b(_)}},[]),c=p.useCallback(x=>{const w=Array.isArray(x)?x:[x],{getNodes:v,setNodes:g,hasDefaultNodes:b,onNodesChange:S}=t.getState();if(b){const A=[...v(),...w];g(A)}else if(S){const _=w.map(A=>({item:A,type:"add"}));S(_)}},[]),u=p.useCallback(x=>{const w=Array.isArray(x)?x:[x],{edges:v=[],setEdges:g,hasDefaultEdges:b,onEdgesChange:S}=t.getState();if(b)g([...v,...w]);else if(S){const _=w.map(A=>({item:A,type:"add"}));S(_)}},[]),d=p.useCallback(()=>{const{getNodes:x,edges:w=[],transform:v}=t.getState(),[g,b,S]=v;return{nodes:x().map(_=>({..._})),edges:w.map(_=>({..._})),viewport:{x:g,y:b,zoom:S}}},[]),f=p.useCallback(({nodes:x,edges:w})=>{const{nodeInternals:v,getNodes:g,edges:b,hasDefaultNodes:S,hasDefaultEdges:_,onNodesDelete:A,onEdgesDelete:N,onNodesChange:E,onEdgesChange:j}=t.getState(),C=(x||[]).map(O=>O.id),R=(w||[]).map(O=>O.id),I=g().reduce((O,T)=>{const P=T.parentNode||T.parentId,z=!C.includes(T.id)&&P&&O.find($=>$.id===P);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(C.includes(T.id)||z)&&O.push(T),O},[]),B=b.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),k=B.filter(O=>R.includes(O.id));if(I||k){const O=zj(I,B),T=[...k,...O],P=T.reduce((z,M)=>(z.includes(M.id)||z.push(M.id),z),[]);if((_||S)&&(_&&t.setState({edges:b.filter(z=>!P.includes(z.id))}),S&&(I.forEach(z=>{v.delete(z.id)}),t.setState({nodeInternals:new Map(v)}))),P.length>0&&(N==null||N(T),j&&j(P.map(z=>({id:z,type:"remove"})))),I.length>0&&(A==null||A(I),E)){const z=I.map(M=>({id:M.id,type:"remove"}));E(z)}}},[]),h=p.useCallback(x=>{const w=oV(x),v=w?null:t.getState().nodeInternals.get(x.id);return!w&&!v?[null,null,w]:[w?x:Yw(v),v,w]},[]),m=p.useCallback((x,w=!0,v)=>{const[g,b,S]=h(x);return g?(v||t.getState().getNodes()).filter(_=>{if(!S&&(_.id===b.id||!_.positionAbsolute))return!1;const A=Yw(_),N=Eg(A,g);return w&&N>0||N>=g.width*g.height}):[]},[]),y=p.useCallback((x,w,v=!0)=>{const[g]=h(x);if(!g)return!1;const b=Eg(g,w);return v&&b>0||b>=g.width*g.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:s,setEdges:i,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:y}),[e,n,r,a,o,s,i,c,u,d,f,m,y])}const IV={actInsideInputWithModifier:!1};var BV=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=vt(),{deleteElements:r}=_v(),a=Vl(e,IV),o=Vl(t);p.useEffect(()=>{if(a){const{edges:s,getNodes:i}=n.getState(),c=i().filter(d=>d.selected),u=s.filter(d=>d.selected);r({nodes:c,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function HV(e){const t=vt();p.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const a=mv(e.current);(a.height===0||a.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Xr.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Ev={position:"absolute",width:"100%",height:"100%",top:0,left:0},FV=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,mu=e=>({x:e.x,y:e.y,zoom:e.k}),Ko=(e,t)=>e.target.closest(`.${t}`),r1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),a1=e=>{const t=e.ctrlKey&&Yd()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},UV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),GV=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:c=so.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:m,minZoom:y,maxZoom:x,zoomActivationKeyCode:w,preventScrolling:v=!0,children:g,noWheelClassName:b,noPanClassName:S})=>{const _=p.useRef(),A=vt(),N=p.useRef(!1),E=p.useRef(!1),j=p.useRef(null),C=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:I,d3ZoomHandler:B,userSelectionActive:k}=Ue(UV,Gt),O=Vl(w),T=p.useRef(0),P=p.useRef(!1),z=p.useRef();return HV(j),p.useEffect(()=>{if(j.current){const M=j.current.getBoundingClientRect(),$=Gu().scaleExtent([y,x]).translateExtent(m),U=ct(j.current).call($),V=rr.translate(h.x,h.y).scale(ei(h.zoom,y,x)),G=[[0,0],[M.width,M.height]],D=$.constrain()(V,G,m);$.transform(U,D),$.wheelDelta(a1),A.setState({d3Zoom:$,d3Selection:U,d3ZoomHandler:U.on("wheel.zoom"),transform:[D.x,D.y,D.k],domNode:j.current.closest(".react-flow")})}},[]),p.useEffect(()=>{I&&R&&(s&&!O&&!k?I.on("wheel.zoom",M=>{if(Ko(M,b))return!1;M.preventDefault(),M.stopImmediatePropagation();const $=I.property("__zoom").k||1;if(M.ctrlKey&&o){const Y=Zn(M),W=a1(M),Q=$*Math.pow(2,W);R.scaleTo(I,Q,Y,M);return}const U=M.deltaMode===1?20:1;let V=c===so.Vertical?0:M.deltaX*U,G=c===so.Horizontal?0:M.deltaY*U;!Yd()&&M.shiftKey&&c!==so.Vertical&&(V=M.deltaY*U,G=0),R.translateBy(I,-(V/$)*i,-(G/$)*i,{internal:!0});const D=mu(I.property("__zoom")),{onViewportChangeStart:H,onViewportChange:Z,onViewportChangeEnd:F}=A.getState();clearTimeout(z.current),P.current||(P.current=!0,t==null||t(M,D),H==null||H(D)),P.current&&(e==null||e(M,D),Z==null||Z(D),z.current=setTimeout(()=>{n==null||n(M,D),F==null||F(D),P.current=!1},150))},{passive:!1}):typeof B<"u"&&I.on("wheel.zoom",function(M,$){if(!v&&M.type==="wheel"&&!M.ctrlKey||Ko(M,b))return null;M.preventDefault(),B.call(this,M,$)},{passive:!1}))},[k,s,c,I,R,B,O,o,v,b,t,e,n]),p.useEffect(()=>{R&&R.on("start",M=>{var V,G;if(!M.sourceEvent||M.sourceEvent.internal)return null;T.current=(V=M.sourceEvent)==null?void 0:V.button;const{onViewportChangeStart:$}=A.getState(),U=mu(M.transform);N.current=!0,C.current=U,((G=M.sourceEvent)==null?void 0:G.type)==="mousedown"&&A.setState({paneDragging:!0}),$==null||$(U),t==null||t(M.sourceEvent,U)})},[R,t]),p.useEffect(()=>{R&&(k&&!N.current?R.on("zoom",null):k||R.on("zoom",M=>{var U;const{onViewportChange:$}=A.getState();if(A.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),E.current=!!(r&&r1(f,T.current??0)),(e||$)&&!((U=M.sourceEvent)!=null&&U.internal)){const V=mu(M.transform);$==null||$(V),e==null||e(M.sourceEvent,V)}}))},[k,R,e,f,r]),p.useEffect(()=>{R&&R.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=A.getState();if(N.current=!1,A.setState({paneDragging:!1}),r&&r1(f,T.current??0)&&!E.current&&r(M.sourceEvent),E.current=!1,(n||$)&&FV(C.current,M.transform)){const U=mu(M.transform);C.current=U,clearTimeout(_.current),_.current=setTimeout(()=>{$==null||$(U),n==null||n(M.sourceEvent,U)},s?150:0)}})},[R,s,f,n,r]),p.useEffect(()=>{R&&R.filter(M=>{const $=O||a,U=o&&M.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&M.button===1&&M.type==="mousedown"&&(Ko(M,"react-flow__node")||Ko(M,"react-flow__edge")))return!0;if(!f&&!$&&!s&&!u&&!o||k||!u&&M.type==="dblclick"||Ko(M,b)&&M.type==="wheel"||Ko(M,S)&&(M.type!=="wheel"||s&&M.type==="wheel"&&!O)||!o&&M.ctrlKey&&M.type==="wheel"||!$&&!s&&!U&&M.type==="wheel"||!f&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(f)&&!f.includes(M.button)&&M.type==="mousedown")return!1;const V=Array.isArray(f)&&f.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&V})},[k,R,a,o,s,u,f,d,O]),L.createElement("div",{className:"react-flow__renderer",ref:j,style:Ev},g)},VV=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ZV(){const{userSelectionActive:e,userSelectionRect:t}=Ue(VV,Gt);return e&&t?L.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function o1(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Wj(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const o=e.filter(i=>i.id===a.id);if(o.length===0)return r.push(a),r;const s={...a};for(const i of o)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&o1(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&o1(r,s);break}case"remove":return r}return r.push(s),r},n)}function Qj(e,t){return Wj(e,t)}function YV(e,t){return Wj(e,t)}const ca=(e,t)=>({id:e,type:"select",selected:t});function ys(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(ca(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(ca(r.id,!1))),n},[])}const Cm=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},qV=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Jj=p.memo(({isSelecting:e,selectionMode:t=Gl.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=p.useRef(null),m=vt(),y=p.useRef(0),x=p.useRef(0),w=p.useRef(),{userSelectionActive:v,elementsSelectable:g,dragging:b}=Ue(qV,Gt),S=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,x.current=0},_=B=>{o==null||o(B),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},A=B=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){B.preventDefault();return}s==null||s(B)},N=i?B=>i(B):void 0,E=B=>{const{resetSelectedElements:k,domNode:O}=m.getState();if(w.current=O==null?void 0:O.getBoundingClientRect(),!g||!e||B.button!==0||B.target!==h.current||!w.current)return;const{x:T,y:P}=Ma(B,w.current);k(),m.setState({userSelectionRect:{width:0,height:0,startX:T,startY:P,x:T,y:P}}),r==null||r(B)},j=B=>{const{userSelectionRect:k,nodeInternals:O,edges:T,transform:P,onNodesChange:z,onEdgesChange:M,nodeOrigin:$,getNodes:U}=m.getState();if(!e||!w.current||!k)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const V=Ma(B,w.current),G=k.startX??0,D=k.startY??0,H={...k,x:V.x<G?V.x:G,y:V.y<D?V.y:D,width:Math.abs(V.x-G),height:Math.abs(V.y-D)},Z=U(),F=Dj(O,H,P,t===Gl.Partial,!0,$),Y=zj(F,T).map(Q=>Q.id),W=F.map(Q=>Q.id);if(y.current!==W.length){y.current=W.length;const Q=ys(Z,W);Q.length&&(z==null||z(Q))}if(x.current!==Y.length){x.current=Y.length;const Q=ys(T,Y);Q.length&&(M==null||M(Q))}m.setState({userSelectionRect:H})},C=B=>{if(B.button!==0)return;const{userSelectionRect:k}=m.getState();!v&&k&&B.target===h.current&&(_==null||_(B)),m.setState({nodesSelectionActive:y.current>0}),S(),a==null||a(B)},R=B=>{v&&(m.setState({nodesSelectionActive:y.current>0}),a==null||a(B)),S()},I=g&&(e||v);return L.createElement("div",{className:$t(["react-flow__pane",{dragging:b,selection:e}]),onClick:I?void 0:Cm(_,h),onContextMenu:Cm(A,h),onWheel:Cm(N,h),onMouseEnter:I?void 0:c,onMouseDown:I?E:void 0,onMouseMove:I?j:u,onMouseUp:I?C:void 0,onMouseLeave:I?R:d,ref:h,style:Ev},f,L.createElement(ZV,null))});Jj.displayName="Pane";function eT(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:eT(r,t):!1}function s1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function XV(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!eT(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,s;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=a.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function KV(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function tT(e,t,n,r,a=[0,0],o){const s=KV(e,e.extent||r);let i=s;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=n.get(c),{x:h,y:m}=Ds(f,a).positionAbsolute;i=f&&wn(h)&&wn(m)&&wn(f.width)&&wn(f.height)?[[h+e.width*a[0],m+e.height*a[1]],[h+f.width-e.width+e.width*a[0],m+f.height-e.height+e.height*a[1]]]:i}else o==null||o("005",Xr.error005()),i=s;else if(e.extent&&c&&e.extent!=="parent"){const f=n.get(c),{x:h,y:m}=Ds(f,a).positionAbsolute;i=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(c){const f=n.get(c);u=Ds(f,a).positionAbsolute}const d=i&&i!=="parent"?pv(t,i):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function Am({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const i1=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return o.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-s.left-i.x)/n,y:(u.top-s.top-i.y)/n,...mv(c)}})};function $i(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Rg({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:i,onError:c}=t.getState(),u=i.get(e);if(!u){c==null||c("012",Xr.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):a([e])}function WV(){const e=vt();return p.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,c={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(c.x/a[0]):c.x,ySnapped:o?a[1]*Math.round(c.y/a[1]):c.y,...c}},[])}function km(e){return(t,n,r)=>e==null?void 0:e(t,r)}function nT({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,selectNodesOnDrag:s}){const i=vt(),[c,u]=p.useState(!1),d=p.useRef([]),f=p.useRef({x:null,y:null}),h=p.useRef(0),m=p.useRef(null),y=p.useRef({x:0,y:0}),x=p.useRef(null),w=p.useRef(!1),v=p.useRef(!1),g=p.useRef(!1),b=WV();return p.useEffect(()=>{if(e!=null&&e.current){const S=ct(e.current),_=({x:E,y:j})=>{const{nodeInternals:C,onNodeDrag:R,onSelectionDrag:I,updateNodePositions:B,nodeExtent:k,snapGrid:O,snapToGrid:T,nodeOrigin:P,onError:z}=i.getState();f.current={x:E,y:j};let M=!1,$={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const V=wv(d.current,P);$=gv(V)}if(d.current=d.current.map(V=>{const G={x:E-V.distance.x,y:j-V.distance.y};T&&(G.x=O[0]*Math.round(G.x/O[0]),G.y=O[1]*Math.round(G.y/O[1]));const D=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!V.extent&&(D[0][0]=V.positionAbsolute.x-$.x+k[0][0],D[1][0]=V.positionAbsolute.x+(V.width??0)-$.x2+k[1][0],D[0][1]=V.positionAbsolute.y-$.y+k[0][1],D[1][1]=V.positionAbsolute.y+(V.height??0)-$.y2+k[1][1]);const H=tT(V,G,C,D,P,z);return M=M||V.position.x!==H.position.x||V.position.y!==H.position.y,V.position=H.position,V.positionAbsolute=H.positionAbsolute,V}),!M)return;B(d.current,!0,!0),u(!0);const U=a?R:km(I);if(U&&x.current){const[V,G]=Am({nodeId:a,dragItems:d.current,nodeInternals:C});U(x.current,V,G)}},A=()=>{if(!m.current)return;const[E,j]=Nj(y.current,m.current);if(E!==0||j!==0){const{transform:C,panBy:R}=i.getState();f.current.x=(f.current.x??0)-E/C[2],f.current.y=(f.current.y??0)-j/C[2],R({x:E,y:j})&&_(f.current)}h.current=requestAnimationFrame(A)},N=E=>{var P;const{nodeInternals:j,multiSelectionActive:C,nodesDraggable:R,unselectNodesAndEdges:I,onNodeDragStart:B,onSelectionDragStart:k}=i.getState();v.current=!0;const O=a?B:km(k);(!s||!o)&&!C&&a&&((P=j.get(a))!=null&&P.selected||I()),a&&o&&s&&Rg({id:a,store:i,nodeRef:e});const T=b(E);if(f.current=T,d.current=XV(j,R,T,a),O&&d.current){const[z,M]=Am({nodeId:a,dragItems:d.current,nodeInternals:j});O(E.sourceEvent,z,M)}};if(t)S.on(".drag",null);else{const E=z7().on("start",j=>{const{domNode:C,nodeDragThreshold:R}=i.getState();R===0&&N(j),g.current=!1;const I=b(j);f.current=I,m.current=(C==null?void 0:C.getBoundingClientRect())||null,y.current=Ma(j.sourceEvent,m.current)}).on("drag",j=>{var B,k;const C=b(j),{autoPanOnNodeDrag:R,nodeDragThreshold:I}=i.getState();if(j.sourceEvent.type==="touchmove"&&j.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!w.current&&v.current&&R&&(w.current=!0,A()),!v.current){const O=C.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),T=C.ySnapped-(((k=f==null?void 0:f.current)==null?void 0:k.y)??0);Math.sqrt(O*O+T*T)>I&&N(j)}(f.current.x!==C.xSnapped||f.current.y!==C.ySnapped)&&d.current&&v.current&&(x.current=j.sourceEvent,y.current=Ma(j.sourceEvent,m.current),_(C))}}).on("end",j=>{if(!(!v.current||g.current)&&(u(!1),w.current=!1,v.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:C,nodeInternals:R,onNodeDragStop:I,onSelectionDragStop:B}=i.getState(),k=a?I:km(B);if(C(d.current,!1,!1),k){const[O,T]=Am({nodeId:a,dragItems:d.current,nodeInternals:R});k(j.sourceEvent,O,T)}}}).filter(j=>{const C=j.target;return!j.button&&(!n||!s1(C,`.${n}`,e))&&(!r||s1(C,r,e))});return S.call(E),()=>{S.on(".drag",null)}}}},[e,t,n,r,o,i,a,s,b]),c}function rT(){const e=vt();return p.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:o,getNodes:s,snapToGrid:i,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=s().filter(g=>g.selected&&(g.draggable||d&&typeof g.draggable>"u")),h=i?c[0]:5,m=i?c[1]:5,y=n.isShiftPressed?4:1,x=n.x*h*y,w=n.y*m*y,v=f.map(g=>{if(g.positionAbsolute){const b={x:g.positionAbsolute.x+x,y:g.positionAbsolute.y+w};i&&(b.x=c[0]*Math.round(b.x/c[0]),b.y=c[1]*Math.round(b.y/c[1]));const{positionAbsolute:S,position:_}=tT(g,b,r,a,void 0,u);g.position=_,g.positionAbsolute=S}return g});o(v,!0,!1)},[])}const zs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Li=e=>{const t=({id:n,type:r,data:a,xPos:o,yPos:s,xPosOrigin:i,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:m,onContextMenu:y,onDoubleClick:x,style:w,className:v,isDraggable:g,isSelectable:b,isConnectable:S,isFocusable:_,selectNodesOnDrag:A,sourcePosition:N,targetPosition:E,hidden:j,resizeObserver:C,dragHandle:R,zIndex:I,isParent:B,noDragClassName:k,noPanClassName:O,initialized:T,disableKeyboardA11y:P,ariaLabel:z,rfId:M,hasHandleBounds:$})=>{const U=vt(),V=p.useRef(null),G=p.useRef(null),D=p.useRef(N),H=p.useRef(E),Z=p.useRef(r),F=b||g||d||f||h||m,Y=rT(),W=$i(n,U.getState,f),Q=$i(n,U.getState,h),be=$i(n,U.getState,m),ge=$i(n,U.getState,y),ce=$i(n,U.getState,x),Re=Ne=>{const{nodeDragThreshold:J}=U.getState();if(b&&(!A||!g||J>0)&&Rg({id:n,store:U,nodeRef:V}),d){const We=U.getState().nodeInternals.get(n);We&&d(Ne,{...We})}},Me=Ne=>{if(!Cg(Ne)&&!P)if(Ej.includes(Ne.key)&&b){const J=Ne.key==="Escape";Rg({id:n,store:U,unselect:J,nodeRef:V})}else g&&u&&Object.prototype.hasOwnProperty.call(zs,Ne.key)&&(U.setState({ariaLiveMessage:`Moved selected node ${Ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),Y({x:zs[Ne.key].x,y:zs[Ne.key].y,isShiftPressed:Ne.shiftKey}))};p.useEffect(()=>()=>{G.current&&(C==null||C.unobserve(G.current),G.current=null)},[]),p.useEffect(()=>{if(V.current&&!j){const Ne=V.current;(!T||!$||G.current!==Ne)&&(G.current&&(C==null||C.unobserve(G.current)),C==null||C.observe(Ne),G.current=Ne)}},[j,T,$]),p.useEffect(()=>{const Ne=Z.current!==r,J=D.current!==N,We=H.current!==E;V.current&&(Ne||J||We)&&(Ne&&(Z.current=r),J&&(D.current=N),We&&(H.current=E),U.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))},[n,r,N,E]);const xt=nT({nodeRef:V,disabled:j||!g,noDragClassName:k,handleSelector:R,nodeId:n,isSelectable:b,selectNodesOnDrag:A});return j?null:L.createElement("div",{className:$t(["react-flow__node",`react-flow__node-${r}`,{[O]:g},v,{selected:u,selectable:b,parent:B,dragging:xt}]),ref:V,style:{zIndex:I,transform:`translate(${i}px,${c}px)`,pointerEvents:F?"all":"none",visibility:T?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:W,onMouseMove:Q,onMouseLeave:be,onContextMenu:ge,onClick:Re,onDoubleClick:ce,onKeyDown:_?Me:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":P?void 0:`${Zj}-${M}`,"aria-label":z},L.createElement(fV,{value:n},L.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:s,selected:u,isConnectable:S,sourcePosition:N,targetPosition:E,dragging:xt,dragHandle:R,zIndex:I})))};return t.displayName="NodeWrapper",p.memo(t)};const QV=e=>{const t=e.getNodes().filter(n=>n.selected);return{...wv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function JV({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=vt(),{width:a,height:o,x:s,y:i,transformString:c,userSelectionActive:u}=Ue(QV,Gt),d=rT(),f=p.useRef(null);if(p.useEffect(()=>{var y;n||(y=f.current)==null||y.focus({preventScroll:!0})},[n]),nT({nodeRef:f}),u||!a||!o)return null;const h=e?y=>{const x=r.getState().getNodes().filter(w=>w.selected);e(y,x)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(zs,y.key)&&d({x:zs[y.key].x,y:zs[y.key].y,isShiftPressed:y.shiftKey})};return L.createElement("div",{className:$t(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},L.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o,top:i,left:s}}))}var eZ=p.memo(JV);const tZ=e=>e.nodesSelectionActive,aT=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:i,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:m,onSelectionStart:y,onSelectionEnd:x,multiSelectionKeyCode:w,panActivationKeyCode:v,zoomActivationKeyCode:g,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:_,panOnScroll:A,panOnScrollSpeed:N,panOnScrollMode:E,zoomOnDoubleClick:j,panOnDrag:C,defaultViewport:R,translateExtent:I,minZoom:B,maxZoom:k,preventScrolling:O,onSelectionContextMenu:T,noWheelClassName:P,noPanClassName:z,disableKeyboardA11y:M})=>{const $=Ue(tZ),U=Vl(f),V=Vl(v),G=V||C,D=V||A,H=U||h&&G!==!0;return BV({deleteKeyCode:i,multiSelectionKeyCode:w}),L.createElement(GV,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:b,zoomOnScroll:S,zoomOnPinch:_,panOnScroll:D,panOnScrollSpeed:N,panOnScrollMode:E,zoomOnDoubleClick:j,panOnDrag:!U&&G,defaultViewport:R,translateExtent:I,minZoom:B,maxZoom:k,zoomActivationKeyCode:g,preventScrolling:O,noWheelClassName:P,noPanClassName:z},L.createElement(Jj,{onSelectionStart:y,onSelectionEnd:x,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:G,isSelecting:!!H,selectionMode:m},e,$&&L.createElement(eZ,{onSelectionContextMenu:T,noPanClassName:z,disableKeyboardA11y:M})))};aT.displayName="FlowRenderer";var nZ=p.memo(aT);function rZ(e){return Ue(p.useCallback(n=>e?Dj(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function aZ(e){const t={input:Li(e.input||Fj),default:Li(e.default||Tg),output:Li(e.output||Gj),group:Li(e.group||Nv)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=Li(e[o]||Tg),a),n);return{...t,...r}}const oZ=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},sZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),oT=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:s}=Ue(sZ,Gt),i=rZ(e.onlyRenderVisibleElements),c=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(h)});return c.current=d,d},[]);return p.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),L.createElement("div",{className:"react-flow__nodes",style:Ev},i.map(d=>{var _,A,N;let f=d.type||"default";e.nodeTypes[f]||(s==null||s("003",Xr.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,m=!!(d.draggable||t&&typeof d.draggable>"u"),y=!!(d.selectable||a&&typeof d.selectable>"u"),x=!!(d.connectable||n&&typeof d.connectable>"u"),w=!!(d.focusable||r&&typeof d.focusable>"u"),v=e.nodeExtent?pv(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,g=(v==null?void 0:v.x)??0,b=(v==null?void 0:v.y)??0,S=oZ({x:g,y:b,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return L.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||ae.Bottom,targetPosition:d.targetPosition||ae.Top,hidden:d.hidden,xPos:g,yPos:b,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:m,isSelectable:y,isConnectable:x,isFocusable:w,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((_=d[Xe])==null?void 0:_.z)??0,isParent:!!((A=d[Xe])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((N=d[Xe])!=null&&N.handleBounds)})}))};oT.displayName="NodeRenderer";var iZ=p.memo(oT);const lZ=(e,t,n)=>n===ae.Left?e-t:n===ae.Right?e+t:e,cZ=(e,t,n)=>n===ae.Top?e-t:n===ae.Bottom?e+t:e,l1="react-flow__edgeupdater",c1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:s,type:i})=>L.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:s,className:$t([l1,`${l1}-${i}`]),cx:lZ(t,r,e),cy:cZ(n,r,e),r,stroke:"transparent",fill:"transparent"}),uZ=()=>!0;var Wo=e=>{const t=({id:n,className:r,type:a,data:o,onClick:s,onEdgeDoubleClick:i,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,style:w,source:v,target:g,sourceX:b,sourceY:S,targetX:_,targetY:A,sourcePosition:N,targetPosition:E,elementsSelectable:j,hidden:C,sourceHandleId:R,targetHandleId:I,onContextMenu:B,onMouseEnter:k,onMouseMove:O,onMouseLeave:T,reconnectRadius:P,onReconnect:z,onReconnectStart:M,onReconnectEnd:$,markerEnd:U,markerStart:V,rfId:G,ariaLabel:D,isFocusable:H,isReconnectable:Z,pathOptions:F,interactionWidth:Y,disableKeyboardA11y:W})=>{const Q=p.useRef(null),[be,ge]=p.useState(!1),[ce,Re]=p.useState(!1),Me=vt(),xt=p.useMemo(()=>`url('#${kg(V,G)}')`,[V,G]),Ne=p.useMemo(()=>`url('#${kg(U,G)}')`,[U,G]);if(C)return null;const J=_t=>{var Un;const{edges:Tn,addSelectedEdges:Za,unselectNodesAndEdges:Ya,multiSelectionActive:qa}=Me.getState(),yr=Tn.find(wi=>wi.id===n);yr&&(j&&(Me.setState({nodesSelectionActive:!1}),yr.selected&&qa?(Ya({nodes:[],edges:[yr]}),(Un=Q.current)==null||Un.blur()):Za([n])),s&&s(_t,yr))},We=Oi(n,Me.getState,i),mr=Oi(n,Me.getState,B),jn=Oi(n,Me.getState,k),pr=Oi(n,Me.getState,O),Jr=Oi(n,Me.getState,T),gr=(_t,Tn)=>{if(_t.button!==0)return;const{edges:Za,isValidConnection:Ya}=Me.getState(),qa=Tn?g:v,yr=(Tn?I:R)||null,Un=Tn?"target":"source",wi=Ya||uZ,hh=Tn,Si=Za.find(Xa=>Xa.id===n);Re(!0),M==null||M(_t,Si,Un);const mh=Xa=>{Re(!1),$==null||$(Xa,Si,Un)};Pj({event:_t,handleId:yr,nodeId:qa,onConnect:Xa=>z==null?void 0:z(Si,Xa),isTarget:hh,getState:Me.getState,setState:Me.setState,isValidConnection:wi,edgeUpdaterType:Un,onReconnectEnd:mh})},Io=_t=>gr(_t,!0),Ga=_t=>gr(_t,!1),Va=()=>ge(!0),Bo=()=>ge(!1),Ho=!j&&!s,bi=_t=>{var Tn;if(!W&&Ej.includes(_t.key)&&j){const{unselectNodesAndEdges:Za,addSelectedEdges:Ya,edges:qa}=Me.getState();_t.key==="Escape"?((Tn=Q.current)==null||Tn.blur(),Za({edges:[qa.find(Un=>Un.id===n)]})):Ya([n])}};return L.createElement("g",{className:$t(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:c,animated:u,inactive:Ho,updating:be}]),onClick:J,onDoubleClick:We,onContextMenu:mr,onMouseEnter:jn,onMouseMove:pr,onMouseLeave:Jr,onKeyDown:H?bi:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":D===null?void 0:D||`Edge from ${v} to ${g}`,"aria-describedby":H?`${Yj}-${G}`:void 0,ref:Q},!ce&&L.createElement(e,{id:n,source:v,target:g,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:x,data:o,style:w,sourceX:b,sourceY:S,targetX:_,targetY:A,sourcePosition:N,targetPosition:E,sourceHandleId:R,targetHandleId:I,markerStart:xt,markerEnd:Ne,pathOptions:F,interactionWidth:Y}),Z&&L.createElement(L.Fragment,null,(Z==="source"||Z===!0)&&L.createElement(c1,{position:N,centerX:b,centerY:S,radius:P,onMouseDown:Io,onMouseEnter:Va,onMouseOut:Bo,type:"source"}),(Z==="target"||Z===!0)&&L.createElement(c1,{position:E,centerX:_,centerY:A,radius:P,onMouseDown:Ga,onMouseEnter:Va,onMouseOut:Bo,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function dZ(e){const t={default:Wo(e.default||Xd),straight:Wo(e.bezier||xv),step:Wo(e.step||vv),smoothstep:Wo(e.step||oh),simplebezier:Wo(e.simplebezier||yv)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=Wo(e[o]||Xd),a),n);return{...t,...r}}function u1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case ae.Top:return{x:r+o/2,y:a};case ae.Right:return{x:r+o,y:a+s/2};case ae.Bottom:return{x:r+o/2,y:a+s};case ae.Left:return{x:r,y:a+s/2}}}function d1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const fZ=(e,t,n,r,a,o)=>{const s=u1(n,e,t),i=u1(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function hZ({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:o,width:s,height:i,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=gv({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:i/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function f1(e){var r,a,o,s,i;const t=((r=e==null?void 0:e[Xe])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const mZ=[{level:0,isMaxLevel:!0,edges:[]}];function pZ(e,t,n=!1){let r=-1;const a=e.reduce((s,i)=>{var d,f;const c=wn(i.zIndex);let u=c?i.zIndex:0;if(n){const h=t.get(i.target),m=t.get(i.source),y=i.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),x=Math.max(((d=m==null?void 0:m[Xe])==null?void 0:d.z)||0,((f=h==null?void 0:h[Xe])==null?void 0:f.z)||0,1e3);u=(c?i.zIndex:0)+(y?x:0)}return s[u]?s[u].push(i):s[u]=[i],r=u>r?u:r,s},{}),o=Object.entries(a).map(([s,i])=>{const c=+s;return{edges:i,level:c,isMaxLevel:c===r}});return o.length===0?mZ:o}function gZ(e,t,n){const r=Ue(p.useCallback(a=>e?a.edges.filter(o=>{const s=t.get(o.source),i=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&hZ({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return pZ(r,t,n)}const yZ=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),vZ=({color:e="none",strokeWidth:t=1})=>L.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),h1={[qd.Arrow]:yZ,[qd.ArrowClosed]:vZ};function xZ(e){const t=vt();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(h1,e)?h1[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",Xr.error009(e)),null)},[e])}const bZ=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{const c=xZ(t);return c?L.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:i,refX:"0",refY:"0"},L.createElement(c,{color:n,strokeWidth:s})):null},wZ=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const i=kg(s,t);r.includes(i)||(a.push({id:i,color:s.color||e,...s}),r.push(i))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},sT=({defaultColor:e,rfId:t})=>{const n=Ue(p.useCallback(wZ({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((o,s)=>o.id!==a[s].id)));return L.createElement("defs",null,n.map(r=>L.createElement(bZ,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};sT.displayName="MarkerDefinitions";var SZ=p.memo(sT);const NZ=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),iT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:x,children:w,disableKeyboardA11y:v})=>{const{edgesFocusable:g,edgesUpdatable:b,elementsSelectable:S,width:_,height:A,connectionMode:N,nodeInternals:E,onError:j}=Ue(NZ,Gt),C=gZ(t,E,n);return _?L.createElement(L.Fragment,null,C.map(({level:R,edges:I,isMaxLevel:B})=>L.createElement("svg",{key:R,style:{zIndex:R},width:_,height:A,className:"react-flow__edges react-flow__container"},B&&L.createElement(SZ,{defaultColor:e,rfId:r}),L.createElement("g",null,I.map(k=>{const[O,T,P]=f1(E.get(k.source)),[z,M,$]=f1(E.get(k.target));if(!P||!$)return null;let U=k.type||"default";a[U]||(j==null||j("011",Xr.error011(U)),U="default");const V=a[U]||a.default,G=N===Co.Strict?M.target:(M.target??[]).concat(M.source??[]),D=d1(T.source,k.sourceHandle),H=d1(G,k.targetHandle),Z=(D==null?void 0:D.position)||ae.Bottom,F=(H==null?void 0:H.position)||ae.Top,Y=!!(k.focusable||g&&typeof k.focusable>"u"),W=k.reconnectable||k.updatable,Q=typeof h<"u"&&(W||b&&typeof W>"u");if(!D||!H)return j==null||j("008",Xr.error008(D,k)),null;const{sourceX:be,sourceY:ge,targetX:ce,targetY:Re}=fZ(O,D,Z,z,H,F);return L.createElement(V,{key:k.id,id:k.id,className:$t([k.className,o]),type:U,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:be,sourceY:ge,targetX:ce,targetY:Re,sourcePosition:Z,targetPosition:F,elementsSelectable:S,onContextMenu:s,onMouseEnter:i,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:x,rfId:r,ariaLabel:k.ariaLabel,isFocusable:Y,isReconnectable:Q,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:v})})))),w):null};iT.displayName="EdgeRenderer";var _Z=p.memo(iT);const EZ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function CZ({children:e}){const t=Ue(EZ);return L.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function AZ(e){const t=_v(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const kZ={[ae.Left]:ae.Right,[ae.Right]:ae.Left,[ae.Top]:ae.Bottom,[ae.Bottom]:ae.Top},lT=({nodeId:e,handleType:t,style:n,type:r=pa.Bezier,CustomComponent:a,connectionStatus:o})=>{var A,N,E;const{fromNode:s,handleId:i,toX:c,toY:u,connectionMode:d}=Ue(p.useCallback(j=>({fromNode:j.nodeInternals.get(e),handleId:j.connectionHandleId,toX:(j.connectionPosition.x-j.transform[0])/j.transform[2],toY:(j.connectionPosition.y-j.transform[1])/j.transform[2],connectionMode:j.connectionMode}),[e]),Gt),f=(A=s==null?void 0:s[Xe])==null?void 0:A.handleBounds;let h=f==null?void 0:f[t];if(d===Co.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!h)return null;const m=i?h.find(j=>j.id===i):h[0],y=m?m.x+m.width/2:(s.width??0)/2,x=m?m.y+m.height/2:s.height??0,w=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+y,v=(((E=s.positionAbsolute)==null?void 0:E.y)??0)+x,g=m==null?void 0:m.position,b=g?kZ[g]:null;if(!g||!b)return null;if(a)return L.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:w,fromY:v,toX:c,toY:u,fromPosition:g,toPosition:b,connectionStatus:o});let S="";const _={sourceX:w,sourceY:v,sourcePosition:g,targetX:c,targetY:u,targetPosition:b};return r===pa.Bezier?[S]=Tj(_):r===pa.Step?[S]=Ag({..._,borderRadius:0}):r===pa.SmoothStep?[S]=Ag(_):r===pa.SimpleBezier?[S]=jj(_):S=`M${w},${v} ${c},${u}`,L.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:n})};lT.displayName="ConnectionLine";const jZ=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function TZ({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:o,nodesConnectable:s,width:i,height:c,connectionStatus:u}=Ue(jZ,Gt);return!(a&&o&&i&&s)?null:L.createElement("svg",{style:e,width:i,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},L.createElement("g",{className:$t(["react-flow__connection",u])},L.createElement(lT,{nodeId:a,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function m1(e,t){return p.useRef(null),vt(),p.useMemo(()=>t(e),[e])}const cT=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:o,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:y,onSelectionStart:x,onSelectionEnd:w,connectionLineType:v,connectionLineStyle:g,connectionLineComponent:b,connectionLineContainerStyle:S,selectionKeyCode:_,selectionOnDrag:A,selectionMode:N,multiSelectionKeyCode:E,panActivationKeyCode:j,zoomActivationKeyCode:C,deleteKeyCode:R,onlyRenderVisibleElements:I,elementsSelectable:B,selectNodesOnDrag:k,defaultViewport:O,translateExtent:T,minZoom:P,maxZoom:z,preventScrolling:M,defaultMarkerColor:$,zoomOnScroll:U,zoomOnPinch:V,panOnScroll:G,panOnScrollSpeed:D,panOnScrollMode:H,zoomOnDoubleClick:Z,panOnDrag:F,onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:Q,onPaneMouseLeave:be,onPaneScroll:ge,onPaneContextMenu:ce,onEdgeContextMenu:Re,onEdgeMouseEnter:Me,onEdgeMouseMove:xt,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:We,onReconnectEnd:mr,reconnectRadius:jn,noDragClassName:pr,noWheelClassName:Jr,noPanClassName:gr,elevateEdgesOnSelect:Io,disableKeyboardA11y:Ga,nodeOrigin:Va,nodeExtent:Bo,rfId:Ho})=>{const bi=m1(e,aZ),_t=m1(t,dZ);return AZ(o),L.createElement(nZ,{onPaneClick:Y,onPaneMouseEnter:W,onPaneMouseMove:Q,onPaneMouseLeave:be,onPaneContextMenu:ce,onPaneScroll:ge,deleteKeyCode:R,selectionKeyCode:_,selectionOnDrag:A,selectionMode:N,onSelectionStart:x,onSelectionEnd:w,multiSelectionKeyCode:E,panActivationKeyCode:j,zoomActivationKeyCode:C,elementsSelectable:B,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:U,zoomOnPinch:V,zoomOnDoubleClick:Z,panOnScroll:G,panOnScrollSpeed:D,panOnScrollMode:H,panOnDrag:F,defaultViewport:O,translateExtent:T,minZoom:P,maxZoom:z,onSelectionContextMenu:y,preventScrolling:M,noDragClassName:pr,noWheelClassName:Jr,noPanClassName:gr,disableKeyboardA11y:Ga},L.createElement(CZ,null,L.createElement(_Z,{edgeTypes:_t,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:I,onEdgeContextMenu:Re,onEdgeMouseEnter:Me,onEdgeMouseMove:xt,onEdgeMouseLeave:Ne,onReconnect:J,onReconnectStart:We,onReconnectEnd:mr,reconnectRadius:jn,defaultMarkerColor:$,noPanClassName:gr,elevateEdgesOnSelect:!!Io,disableKeyboardA11y:Ga,rfId:Ho},L.createElement(TZ,{style:g,type:v,component:b,containerStyle:S})),L.createElement("div",{className:"react-flow__edgelabel-renderer"}),L.createElement(iZ,{nodeTypes:bi,onNodeClick:s,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:k,onlyRenderVisibleElements:I,noPanClassName:gr,noDragClassName:pr,disableKeyboardA11y:Ga,nodeOrigin:Va,nodeExtent:Bo,rfId:Ho})))};cT.displayName="GraphView";var RZ=p.memo(cT);const Mg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ra={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Mg,nodeExtent:Mg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Co.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:sV,isValidConnection:void 0},MZ=()=>WG((e,t)=>({...ra,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Em(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",o=typeof r<"u",s=a?Em(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),m=n.reduce((x,w)=>{const v=a.get(w.id);if(v!=null&&v.hidden)a.set(v.id,{...v,[Xe]:{...v[Xe],handleBounds:void 0}});else if(v){const g=mv(w.nodeElement);!!(g.width&&g.height&&(v.width!==g.width||v.height!==g.height||w.forceUpdate))&&(a.set(v.id,{...v,[Xe]:{...v[Xe],handleBounds:{source:i1(".source",w.nodeElement,h,u),target:i1(".target",w.nodeElement,h,u)}},...g}),x.push({id:v.id,type:"dimensions",dimensions:g}))}return x},[]);Xj(a,u);const y=s||o&&!s&&Kj(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:y}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(i=>{const c={id:i.id,type:"position",dragging:a};return r&&(c.positionAbsolute=i.positionAbsolute,c.position=i.position),c});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:c}=t();if(n!=null&&n.length){if(o){const u=Qj(n,i()),d=Em(u,a,s,c);e({nodeInternals:d})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>ca(c,!0)):(s=ys(o(),n),i=ys(a,[])),hu({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(c=>ca(c,!0)):(s=ys(a,n),i=ys(o(),[])),hu({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:o}=t(),s=n||o(),i=r||a,c=s.map(d=>(d.selected=!1,ca(d.id,!1))),u=i.map(d=>ca(d.id,!1));hu({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(i=>i.selected).map(i=>ca(i.id,!1)),s=n.filter(i=>i.selected).map(i=>ca(i.id,!1));hu({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=pv(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:o,d3Zoom:s,d3Selection:i,translateExtent:c}=t();if(!s||!i||!n.x&&!n.y)return!1;const u=rr.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),d=[[0,0],[a,o]],f=s==null?void 0:s.constrain()(u,d,c);return s.transform(i,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:ra.connectionNodeId,connectionHandleId:ra.connectionHandleId,connectionHandleType:ra.connectionHandleType,connectionStatus:ra.connectionStatus,connectionStartHandle:ra.connectionStartHandle,connectionEndHandle:ra.connectionEndHandle}),reset:()=>e({...ra})}),Object.is),uT=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=MZ()),L.createElement(QG,{value:t.current},e)};uT.displayName="ReactFlowProvider";const dT=({children:e})=>p.useContext(ah)?L.createElement(L.Fragment,null,e):L.createElement(uT,null,e);dT.displayName="ReactFlowWrapper";const DZ={input:Fj,default:Tg,output:Gj,group:Nv},zZ={default:Xd,straight:xv,step:vv,smoothstep:oh,simplebezier:yv},OZ=[0,0],$Z=[15,15],LZ={x:0,y:0,zoom:1},PZ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},fT=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o=DZ,edgeTypes:s=zZ,onNodeClick:i,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:m,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:g,onNodeMouseMove:b,onNodeMouseLeave:S,onNodeContextMenu:_,onNodeDoubleClick:A,onNodeDragStart:N,onNodeDrag:E,onNodeDragStop:j,onNodesDelete:C,onEdgesDelete:R,onSelectionChange:I,onSelectionDragStart:B,onSelectionDrag:k,onSelectionDragStop:O,onSelectionContextMenu:T,onSelectionStart:P,onSelectionEnd:z,connectionMode:M=Co.Strict,connectionLineType:$=pa.Bezier,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:G,deleteKeyCode:D="Backspace",selectionKeyCode:H="Shift",selectionOnDrag:Z=!1,selectionMode:F=Gl.Full,panActivationKeyCode:Y="Space",multiSelectionKeyCode:W=Yd()?"Meta":"Control",zoomActivationKeyCode:Q=Yd()?"Meta":"Control",snapToGrid:be=!1,snapGrid:ge=$Z,onlyRenderVisibleElements:ce=!1,selectNodesOnDrag:Re=!0,nodesDraggable:Me,nodesConnectable:xt,nodesFocusable:Ne,nodeOrigin:J=OZ,edgesFocusable:We,edgesUpdatable:mr,elementsSelectable:jn,defaultViewport:pr=LZ,minZoom:Jr=.5,maxZoom:gr=2,translateExtent:Io=Mg,preventScrolling:Ga=!0,nodeExtent:Va,defaultMarkerColor:Bo="#b1b1b7",zoomOnScroll:Ho=!0,zoomOnPinch:bi=!0,panOnScroll:_t=!1,panOnScrollSpeed:Tn=.5,panOnScrollMode:Za=so.Free,zoomOnDoubleClick:Ya=!0,panOnDrag:qa=!0,onPaneClick:yr,onPaneMouseEnter:Un,onPaneMouseMove:wi,onPaneMouseLeave:hh,onPaneScroll:Si,onPaneContextMenu:mh,children:Lv,onEdgeContextMenu:Xa,onEdgeDoubleClick:OR,onEdgeMouseEnter:$R,onEdgeMouseMove:LR,onEdgeMouseLeave:PR,onEdgeUpdate:IR,onEdgeUpdateStart:BR,onEdgeUpdateEnd:HR,onReconnect:FR,onReconnectStart:UR,onReconnectEnd:GR,reconnectRadius:VR=10,edgeUpdaterRadius:ZR=10,onNodesChange:YR,onEdgesChange:qR,noDragClassName:XR="nodrag",noWheelClassName:KR="nowheel",noPanClassName:Pv="nopan",fitView:WR=!1,fitViewOptions:QR,connectOnClick:JR=!0,attributionPosition:eM,proOptions:tM,defaultEdgeOptions:nM,elevateNodesOnSelect:rM=!0,elevateEdgesOnSelect:aM=!1,disableKeyboardA11y:Iv=!1,autoPanOnConnect:oM=!0,autoPanOnNodeDrag:sM=!0,connectionRadius:iM=20,isValidConnection:lM,onError:cM,style:uM,id:Bv,nodeDragThreshold:dM,...fM},hM)=>{const ph=Bv||"1";return L.createElement("div",{...fM,style:{...uM,...PZ},ref:hM,className:$t(["react-flow",a]),"data-testid":"rf__wrapper",id:Bv},L.createElement(dT,null,L.createElement(RZ,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:i,onEdgeClick:c,onNodeMouseEnter:g,onNodeMouseMove:b,onNodeMouseLeave:S,onNodeContextMenu:_,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:$,connectionLineStyle:U,connectionLineComponent:V,connectionLineContainerStyle:G,selectionKeyCode:H,selectionOnDrag:Z,selectionMode:F,deleteKeyCode:D,multiSelectionKeyCode:W,panActivationKeyCode:Y,zoomActivationKeyCode:Q,onlyRenderVisibleElements:ce,selectNodesOnDrag:Re,defaultViewport:pr,translateExtent:Io,minZoom:Jr,maxZoom:gr,preventScrolling:Ga,zoomOnScroll:Ho,zoomOnPinch:bi,zoomOnDoubleClick:Ya,panOnScroll:_t,panOnScrollSpeed:Tn,panOnScrollMode:Za,panOnDrag:qa,onPaneClick:yr,onPaneMouseEnter:Un,onPaneMouseMove:wi,onPaneMouseLeave:hh,onPaneScroll:Si,onPaneContextMenu:mh,onSelectionContextMenu:T,onSelectionStart:P,onSelectionEnd:z,onEdgeContextMenu:Xa,onEdgeDoubleClick:OR,onEdgeMouseEnter:$R,onEdgeMouseMove:LR,onEdgeMouseLeave:PR,onReconnect:FR??IR,onReconnectStart:UR??BR,onReconnectEnd:GR??HR,reconnectRadius:VR??ZR,defaultMarkerColor:Bo,noDragClassName:XR,noWheelClassName:KR,noPanClassName:Pv,elevateEdgesOnSelect:aM,rfId:ph,disableKeyboardA11y:Iv,nodeOrigin:J,nodeExtent:Va}),L.createElement(kV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:Me,nodesConnectable:xt,nodesFocusable:Ne,edgesFocusable:We,edgesUpdatable:mr,elementsSelectable:jn,elevateNodesOnSelect:rM,minZoom:Jr,maxZoom:gr,nodeExtent:Va,onNodesChange:YR,onEdgesChange:qR,snapToGrid:be,snapGrid:ge,connectionMode:M,translateExtent:Io,connectOnClick:JR,defaultEdgeOptions:nM,fitView:WR,fitViewOptions:QR,onNodesDelete:C,onEdgesDelete:R,onNodeDragStart:N,onNodeDrag:E,onNodeDragStop:j,onSelectionDrag:k,onSelectionDragStart:B,onSelectionDragStop:O,noPanClassName:Pv,nodeOrigin:J,rfId:ph,autoPanOnConnect:oM,autoPanOnNodeDrag:sM,onError:cM,connectionRadius:iM,isValidConnection:lM,nodeDragThreshold:dM}),L.createElement(CV,{onSelectionChange:I}),Lv,L.createElement(eV,{proOptions:tM,position:eM}),L.createElement(DV,{rfId:ph,disableKeyboardA11y:Iv})))});fT.displayName="ReactFlow";function hT(e){return t=>{const[n,r]=p.useState(t),a=p.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,a]}}const IZ=hT(Qj),BZ=hT(YV);function HZ(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function FZ(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},L.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function UZ(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},L.createElement("path",{d:"M0 0h32v4.2H0z"}))}function GZ(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},L.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function VZ(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ZZ(){return L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},L.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Zi=({children:e,className:t,...n})=>L.createElement("button",{type:"button",className:$t(["react-flow__controls-button",t]),...n},e);Zi.displayName="ControlButton";const YZ=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),mT=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:s,onFitView:i,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=vt(),[m,y]=p.useState(!1),{isInteractive:x,minZoomReached:w,maxZoomReached:v}=Ue(YZ,HZ),{zoomIn:g,zoomOut:b,fitView:S}=_v();if(p.useEffect(()=>{y(!0)},[]),!m)return null;const _=()=>{g(),o==null||o()},A=()=>{b(),s==null||s()},N=()=>{S(a),i==null||i()},E=()=>{h.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),c==null||c(!x)};return L.createElement(Sj,{className:$t(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&L.createElement(L.Fragment,null,L.createElement(Zi,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},L.createElement(FZ,null)),L.createElement(Zi,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},L.createElement(UZ,null))),n&&L.createElement(Zi,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},L.createElement(GZ,null)),r&&L.createElement(Zi,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity"},x?L.createElement(ZZ,null):L.createElement(VZ,null)),d)};mT.displayName="Controls";var qZ=p.memo(mT);function XZ(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(zn||(zn={}));function KZ({color:e,dimensions:t,lineWidth:n}){return L.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function WZ({color:e,radius:t}){return L.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const QZ={[zn.Dots]:"#91919a",[zn.Lines]:"#eee",[zn.Cross]:"#e2e2e2"},JZ={[zn.Dots]:1,[zn.Lines]:1,[zn.Cross]:6},eY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function pT({id:e,variant:t=zn.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=2,color:s,style:i,className:c}){const u=p.useRef(null),{transform:d,patternId:f}=Ue(eY,XZ),h=s||QZ[t],m=r||JZ[t],y=t===zn.Dots,x=t===zn.Cross,w=Array.isArray(n)?n:[n,n],v=[w[0]*d[2]||1,w[1]*d[2]||1],g=m*d[2],b=x?[g,g]:v,S=y?[g/o,g/o]:[b[0]/o,b[1]/o];return L.createElement("svg",{className:$t(["react-flow__background",c]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},L.createElement("pattern",{id:f+e,x:d[0]%v[0],y:d[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${S[0]},-${S[1]})`},y?L.createElement(WZ,{color:h,radius:g/o}):L.createElement(KZ,{dimensions:b,color:h,lineWidth:a})),L.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}pT.displayName="Background";var tY=p.memo(pT);function nY({data:e,selected:t,onTogglePerk:n,onRankChange:r}){var d,f;const a=e.totalRanks,o=a>1?(e.currentRank||0)>0:e.selected||t,s=h=>{h.preventDefault(),h.stopPropagation();const m=e.edid,y=e.name;console.log(`Toggling perk: ${y} (${m}), currently selected: ${o}, current rank: ${e.currentRank}`),n&&n(m)},i=h=>{if(h.preventDefault(),h.stopPropagation(),!o){const v=e.name;if(console.log(`Selecting multi-rank perk: ${v} with rank 1`),n){const g=e.edid;n(g)}return}if(!r)return;const m=e.currentRank||0,y=(m+1)%(a+1),x=e.name;console.log(`Cycling rank for ${x}: ${m} -> ${y}`);const w=e.edid;r(w,y)},c=()=>{const h={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return o?{...h,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...h,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...h,borderColor:"hsl(var(--border))"}},u=((f=(d=e.ranks[0])==null?void 0:d.description)==null?void 0:f.base)||"";return l.jsxs(xk,{children:[l.jsx(bk,{asChild:!0,children:l.jsxs("div",{style:c(),onClick:a>1?i:s,onMouseDown:h=>h.stopPropagation(),children:[!e.isRoot&&l.jsx(ti,{type:"target",position:ae.Bottom}),l.jsx("div",{className:"font-medium",children:e.name}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&l.jsx(ti,{type:"source",position:ae.Top})]})}),l.jsx(Qy,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:1e3},children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-sm",children:e.name}),l.jsx("div",{className:"text-sm text-muted-foreground",children:u}),a>1&&l.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[l.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,l.jsx("br",{}),l.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})}function q(e,t,n){function r(i,c){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,c);for(const d in s.prototype)d in i||Object.defineProperty(i,d,{value:s.prototype[d].bind(i)});i._zod.constr=s,i._zod.def=c}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(i){var c;const u=n!=null&&n.Parent?new o:this;r(u,i),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:i=>{var c,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(c=i==null?void 0:i._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class Zl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const gT={};function Ao(e){return gT}function rY(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function aY(e,t){return typeof t=="bigint"?t.toString():t}function yT(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Cv(e){return e==null}function Av(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function oY(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return o%s/10**a}function Oe(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function kv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Pi(e){return JSON.stringify(e)}const vT=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Dg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const sY=yT(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function zg(e){if(Dg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Dg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const iY=new Set(["string","number","symbol"]);function sh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Po(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function oe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function lY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const cY={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function uY(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return Po(e,{...e._zod.def,shape:n,checks:[]})}function dY(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return Po(e,{...e._zod.def,shape:n,checks:[]})}function fY(e,t){if(!zg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return kv(this,"shape",r),r},checks:[]};return Po(e,n)}function hY(e,t){return Po(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return kv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function mY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return Po(t,{...t._zod.def,shape:a,checks:[]})}function pY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return Po(t,{...t._zod.def,shape:a,checks:[]})}function hl(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function jv(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function pu(e){return typeof e=="string"?e:e==null?void 0:e.message}function ko(e,t,n){var a,o,s,i,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=pu((s=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??pu((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??pu((c=n.customError)==null?void 0:c.call(n,e))??pu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Tv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Yl(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const xT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,aY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},bT=q("$ZodError",xT),wT=q("$ZodError",xT,{Parent:Error});function gY(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function yY(e,t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>a({issues:i}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let i=r,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(s))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return a(e),r}const vY=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new Zl;if(s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>ko(c,o,Ao())));throw vT(i,a==null?void 0:a.callee),i}return s.value},xY=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(c=>ko(c,o,Ao())));throw vT(i,a==null?void 0:a.callee),i}return s.value},ST=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new Zl;return o.issues.length?{success:!1,error:new(e??bT)(o.issues.map(s=>ko(s,a,Ao())))}:{success:!0,data:o.value}},bY=ST(wT),NT=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>ko(s,a,Ao())))}:{success:!0,data:o.value}},wY=NT(wT),SY=/^[cC][^\s-]{8,}$/,NY=/^[0-9a-z]+$/,_Y=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,EY=/^[0-9a-vA-V]{20}$/,CY=/^[A-Za-z0-9]{27}$/,AY=/^[a-zA-Z0-9_-]{21}$/,kY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,jY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,p1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,TY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,RY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function MY(){return new RegExp(RY,"u")}const DY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,OY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$Y=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,LY=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_T=/^[A-Za-z0-9_-]*$/,PY=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,IY=/^\+(?:[0-9]){6,14}[0-9]$/,ET="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",BY=new RegExp(`^${ET}$`);function CT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function HY(e){return new RegExp(`^${CT(e)}$`)}function FY(e){const t=CT({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${ET}T(?:${r})$`)}const UY=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},GY=/^\d+$/,VY=/^-?\d+(?:\.\d+)?/i,ZY=/true|false/i,YY=/^[^A-Z]*$/,qY=/^[^a-z]*$/,Xt=q("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),AT={number:"number",bigint:"bigint",object:"date"},kT=q("$ZodCheckLessThan",(e,t)=>{Xt.init(e,t);const n=AT[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),jT=q("$ZodCheckGreaterThan",(e,t)=>{Xt.init(e,t);const n=AT[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),XY=q("$ZodCheckMultipleOf",(e,t)=>{Xt.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):oY(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),KY=q("$ZodCheckNumberFormat",(e,t)=>{var s;Xt.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[a,o]=cY[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=a,c.maximum=o,n&&(c.pattern=GY)}),e._zod.check=i=>{const c=i.value;if(n){if(!Number.isInteger(c)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<a&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>o&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),WY=q("$ZodCheckMaxLength",(e,t)=>{var n;Xt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Cv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=Tv(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),QY=q("$ZodCheckMinLength",(e,t)=>{var n;Xt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Cv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=Tv(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),JY=q("$ZodCheckLengthEquals",(e,t)=>{var n;Xt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!Cv(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=Tv(a),i=o>t.length;r.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),ih=q("$ZodCheckStringFormat",(e,t)=>{var n,r;Xt.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),eq=q("$ZodCheckRegex",(e,t)=>{ih.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),tq=q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=YY),ih.init(e,t)}),nq=q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=qY),ih.init(e,t)}),rq=q("$ZodCheckIncludes",(e,t)=>{Xt.init(e,t);const n=sh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),aq=q("$ZodCheckStartsWith",(e,t)=>{Xt.init(e,t);const n=new RegExp(`^${sh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),oq=q("$ZodCheckEndsWith",(e,t)=>{Xt.init(e,t);const n=new RegExp(`.*${sh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),sq=q("$ZodCheckOverwrite",(e,t)=>{Xt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class iq{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const lq={major:4,minor:0,patch:5},Ke=q("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=lq;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,i,c)=>{let u=hl(s),d;for(const f of i){if(f._zod.def.when){if(!f._zod.def.when(s))continue}else if(u)continue;const h=s.issues.length,m=f._zod.check(s);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Zl;if(d||m instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(u||(u=hl(s,h)))});else{if(s.issues.length===h)continue;u||(u=hl(s,h))}}return d?d.then(()=>s):s};e._zod.run=(s,i)=>{const c=e._zod.parse(s,i);if(c instanceof Promise){if(i.async===!1)throw new Zl;return c.then(u=>o(u,r,i))}return o(c,r,i)}}e["~standard"]={validate:o=>{var s;try{const i=bY(e,o);return i.success?{value:i.data}:{issues:(s=i.error)==null?void 0:s.issues}}catch{return wY(e,o).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Rv=q("$ZodString",(e,t)=>{var n;Ke.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??UY(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Be=q("$ZodStringFormat",(e,t)=>{ih.init(e,t),Rv.init(e,t)}),cq=q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=jY),Be.init(e,t)}),uq=q("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=p1(r))}else t.pattern??(t.pattern=p1());Be.init(e,t)}),dq=q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=TY),Be.init(e,t)}),fq=q("$ZodURL",(e,t)=>{Be.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:PY.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),hq=q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=MY()),Be.init(e,t)}),mq=q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=AY),Be.init(e,t)}),pq=q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=SY),Be.init(e,t)}),gq=q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=NY),Be.init(e,t)}),yq=q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=_Y),Be.init(e,t)}),vq=q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=EY),Be.init(e,t)}),xq=q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=CY),Be.init(e,t)}),bq=q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=FY(t)),Be.init(e,t)}),wq=q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=BY),Be.init(e,t)}),Sq=q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=HY(t)),Be.init(e,t)}),Nq=q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=kY),Be.init(e,t)}),_q=q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=DY),Be.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Eq=q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=zY),Be.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Cq=q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=OY),Be.init(e,t)}),Aq=q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=$Y),Be.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function TT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const kq=q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=LY),Be.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{TT(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function jq(e){if(!_T.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return TT(n)}const Tq=q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=_T),Be.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{jq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Rq=q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=IY),Be.init(e,t)});function Mq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const Dq=q("$ZodJWT",(e,t)=>{Be.init(e,t),e._zod.check=n=>{Mq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),RT=q("$ZodNumber",(e,t)=>{Ke.init(e,t),e._zod.pattern=e._zod.bag.pattern??VY,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),zq=q("$ZodNumber",(e,t)=>{KY.init(e,t),RT.init(e,t)}),Oq=q("$ZodBoolean",(e,t)=>{Ke.init(e,t),e._zod.pattern=ZY,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),$q=q("$ZodUnknown",(e,t)=>{Ke.init(e,t),e._zod.parse=n=>n}),Lq=q("$ZodNever",(e,t)=>{Ke.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function g1(e,t,n){e.issues.length&&t.issues.push(...jv(n,e.issues)),t.value[n]=e.value}const Pq=q("$ZodArray",(e,t)=>{Ke.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const i=a[s],c=t.element._zod.run({value:i,issues:[]},r);c instanceof Promise?o.push(c.then(u=>g1(u,n,s))):g1(c,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function gu(e,t,n){e.issues.length&&t.issues.push(...jv(n,e.issues)),t.value[n]=e.value}function y1(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...jv(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Iq=q("$ZodObject",(e,t)=>{Ke.init(e,t);const n=yT(()=>{const f=Object.keys(t.shape);for(const m of f)if(!(t.shape[m]instanceof Ke))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=lY(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Oe(e._zod,"propValues",()=>{const f=t.shape,h={};for(const m in f){const y=f[m]._zod;if(y.values){h[m]??(h[m]=new Set);for(const x of y.values)h[m].add(x)}}return h});const r=f=>{const h=new iq(["shape","payload","ctx"]),m=n.value,y=g=>{const b=Pi(g);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};h.write("const input = payload.value;");const x=Object.create(null);let w=0;for(const g of m.keys)x[g]=`key_${w++}`;h.write("const newResult = {}");for(const g of m.keys)if(m.optionalKeys.has(g)){const b=x[g];h.write(`const ${b} = ${y(g)};`);const S=Pi(g);h.write(`
        if (${b}.issues.length) {
          if (input[${S}] === undefined) {
            if (${S} in input) {
              newResult[${S}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${b}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${S}, ...iss.path] : [${S}],
              }))
            );
          }
        } else if (${b}.value === undefined) {
          if (${S} in input) newResult[${S}] = undefined;
        } else {
          newResult[${S}] = ${b}.value;
        }
        `)}else{const b=x[g];h.write(`const ${b} = ${y(g)};`),h.write(`
          if (${b}.issues.length) payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Pi(g)}, ...iss.path] : [${Pi(g)}]
          })));`),h.write(`newResult[${Pi(g)}] = ${b}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const v=h.compile();return(g,b)=>v(f,g,b)};let a;const o=Dg,s=!gT.jitless,c=s&&sY.value,u=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=n.value);const m=f.value;if(!o(m))return f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f;const y=[];if(s&&c&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)a||(a=r(t.shape)),f=a(f,h);else{f.value={};const b=d.shape;for(const S of d.keys){const _=b[S],A=_._zod.run({value:m[S],issues:[]},h),N=_._zod.optin==="optional"&&_._zod.optout==="optional";A instanceof Promise?y.push(A.then(E=>N?y1(E,f,S,m):gu(E,f,S))):N?y1(A,f,S,m):gu(A,f,S)}}if(!u)return y.length?Promise.all(y).then(()=>f):f;const x=[],w=d.keySet,v=u._zod,g=v.def.type;for(const b of Object.keys(m)){if(w.has(b))continue;if(g==="never"){x.push(b);continue}const S=v.run({value:m[b],issues:[]},h);S instanceof Promise?y.push(S.then(_=>gu(_,f,b))):gu(S,f,b)}return x.length&&f.issues.push({code:"unrecognized_keys",keys:x,input:m,inst:e}),y.length?Promise.all(y).then(()=>f):f}});function v1(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>ko(o,r,Ao())))}),t}const Bq=q("$ZodUnion",(e,t)=>{Ke.init(e,t),Oe(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Oe(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Oe(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Oe(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Av(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const s of t.options){const i=s._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)o.push(i),a=!0;else{if(i.issues.length===0)return i;o.push(i)}}return a?Promise.all(o).then(s=>v1(s,n,e,r)):v1(o,n,e,r)}}),Hq=q("$ZodIntersection",(e,t)=>{Ke.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([c,u])=>x1(n,c,u)):x1(n,o,s)}});function Og(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(zg(e)&&zg(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Og(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Og(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function x1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),hl(e))return e;const r=Og(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Fq=q("$ZodEnum",(e,t)=>{Ke.init(e,t);const n=rY(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>iY.has(typeof r)).map(r=>typeof r=="string"?sh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),Uq=q("$ZodTransform",(e,t)=>{Ke.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new Zl;return n.value=a,n}}),Gq=q("$ZodOptional",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Oe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Oe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Av(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),Vq=q("$ZodNullable",(e,t)=>{Ke.init(e,t),Oe(e._zod,"optin",()=>t.innerType._zod.optin),Oe(e._zod,"optout",()=>t.innerType._zod.optout),Oe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Av(n.source)}|null)$`):void 0}),Oe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Zq=q("$ZodDefault",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",Oe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>b1(o,t)):b1(a,t)}});function b1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Yq=q("$ZodPrefault",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",Oe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),qq=q("$ZodNonOptional",(e,t)=>{Ke.init(e,t),Oe(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>w1(o,e)):w1(a,e)}});function w1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Xq=q("$ZodCatch",(e,t)=>{Ke.init(e,t),e._zod.optin="optional",Oe(e._zod,"optout",()=>t.innerType._zod.optout),Oe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>ko(s,r,Ao()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>ko(o,r,Ao()))},input:n.value}),n.issues=[]),n)}}),Kq=q("$ZodPipe",(e,t)=>{Ke.init(e,t),Oe(e._zod,"values",()=>t.in._zod.values),Oe(e._zod,"optin",()=>t.in._zod.optin),Oe(e._zod,"optout",()=>t.out._zod.optout),Oe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>S1(o,t,r)):S1(a,t,r)}});function S1(e,t,n){return hl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const Wq=q("$ZodReadonly",(e,t)=>{Ke.init(e,t),Oe(e._zod,"propValues",()=>t.innerType._zod.propValues),Oe(e._zod,"values",()=>t.innerType._zod.values),Oe(e._zod,"optin",()=>t.innerType._zod.optin),Oe(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(N1):N1(a)}});function N1(e){return e.value=Object.freeze(e.value),e}const Qq=q("$ZodCustom",(e,t)=>{Xt.init(e,t),Ke.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>_1(o,n,r,e));_1(a,n,r,e)}});function _1(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(Yl(a))}}class Jq{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function eX(){return new Jq}const yu=eX();function tX(e,t){return new e({type:"string",...oe(t)})}function nX(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...oe(t)})}function E1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...oe(t)})}function rX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...oe(t)})}function aX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...oe(t)})}function oX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...oe(t)})}function sX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...oe(t)})}function iX(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...oe(t)})}function lX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...oe(t)})}function cX(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...oe(t)})}function uX(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...oe(t)})}function dX(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...oe(t)})}function fX(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...oe(t)})}function hX(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...oe(t)})}function mX(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...oe(t)})}function pX(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...oe(t)})}function gX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...oe(t)})}function yX(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...oe(t)})}function vX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...oe(t)})}function xX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...oe(t)})}function bX(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...oe(t)})}function wX(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...oe(t)})}function SX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...oe(t)})}function NX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...oe(t)})}function _X(e,t){return new e({type:"string",format:"date",check:"string_format",...oe(t)})}function EX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...oe(t)})}function CX(e,t){return new e({type:"string",format:"duration",check:"string_format",...oe(t)})}function AX(e,t){return new e({type:"number",checks:[],...oe(t)})}function kX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...oe(t)})}function jX(e,t){return new e({type:"boolean",...oe(t)})}function TX(e){return new e({type:"unknown"})}function RX(e,t){return new e({type:"never",...oe(t)})}function C1(e,t){return new kT({check:"less_than",...oe(t),value:e,inclusive:!1})}function jm(e,t){return new kT({check:"less_than",...oe(t),value:e,inclusive:!0})}function A1(e,t){return new jT({check:"greater_than",...oe(t),value:e,inclusive:!1})}function Tm(e,t){return new jT({check:"greater_than",...oe(t),value:e,inclusive:!0})}function k1(e,t){return new XY({check:"multiple_of",...oe(t),value:e})}function MT(e,t){return new WY({check:"max_length",...oe(t),maximum:e})}function Kd(e,t){return new QY({check:"min_length",...oe(t),minimum:e})}function DT(e,t){return new JY({check:"length_equals",...oe(t),length:e})}function MX(e,t){return new eq({check:"string_format",format:"regex",...oe(t),pattern:e})}function DX(e){return new tq({check:"string_format",format:"lowercase",...oe(e)})}function zX(e){return new nq({check:"string_format",format:"uppercase",...oe(e)})}function OX(e,t){return new rq({check:"string_format",format:"includes",...oe(t),includes:e})}function $X(e,t){return new aq({check:"string_format",format:"starts_with",...oe(t),prefix:e})}function LX(e,t){return new oq({check:"string_format",format:"ends_with",...oe(t),suffix:e})}function jc(e){return new sq({check:"overwrite",tx:e})}function PX(e){return jc(t=>t.normalize(e))}function IX(){return jc(e=>e.trim())}function BX(){return jc(e=>e.toLowerCase())}function HX(){return jc(e=>e.toUpperCase())}function FX(e,t,n){return new e({type:"array",element:t,...oe(n)})}function UX(e,t,n){return new e({type:"custom",check:"custom",fn:t,...oe(n)})}const GX=q("ZodISODateTime",(e,t)=>{bq.init(e,t),Ge.init(e,t)});function VX(e){return NX(GX,e)}const ZX=q("ZodISODate",(e,t)=>{wq.init(e,t),Ge.init(e,t)});function YX(e){return _X(ZX,e)}const qX=q("ZodISOTime",(e,t)=>{Sq.init(e,t),Ge.init(e,t)});function XX(e){return EX(qX,e)}const KX=q("ZodISODuration",(e,t)=>{Nq.init(e,t),Ge.init(e,t)});function WX(e){return CX(KX,e)}const QX=(e,t)=>{bT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>yY(e,n)},flatten:{value:n=>gY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},lh=q("ZodError",QX,{Parent:Error}),JX=vY(lh),eK=xY(lh),tK=ST(lh),nK=NT(lh),ot=q("ZodType",(e,t)=>(Ke.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Po(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>JX(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>tK(e,n,r),e.parseAsync=async(n,r)=>eK(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>nK(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(XK(n,r)),e.superRefine=n=>e.check(KK(n)),e.overwrite=n=>e.check(jc(n)),e.optional=()=>M1(e),e.nullable=()=>D1(e),e.nullish=()=>M1(D1(e)),e.nonoptional=n=>HK(e,n),e.array=()=>jo(e),e.or=n=>TK([e,n]),e.and=n=>MK(e,n),e.transform=n=>z1(e,OK(n)),e.default=n=>PK(e,n),e.prefault=n=>BK(e,n),e.catch=n=>UK(e,n),e.pipe=n=>z1(e,n),e.readonly=()=>ZK(e),e.describe=n=>{const r=e.clone();return yu.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=yu.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return yu.get(e);const r=e.clone();return yu.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),zT=q("_ZodString",(e,t)=>{Rv.init(e,t),ot.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(MX(...r)),e.includes=(...r)=>e.check(OX(...r)),e.startsWith=(...r)=>e.check($X(...r)),e.endsWith=(...r)=>e.check(LX(...r)),e.min=(...r)=>e.check(Kd(...r)),e.max=(...r)=>e.check(MT(...r)),e.length=(...r)=>e.check(DT(...r)),e.nonempty=(...r)=>e.check(Kd(1,...r)),e.lowercase=r=>e.check(DX(r)),e.uppercase=r=>e.check(zX(r)),e.trim=()=>e.check(IX()),e.normalize=(...r)=>e.check(PX(...r)),e.toLowerCase=()=>e.check(BX()),e.toUpperCase=()=>e.check(HX())}),rK=q("ZodString",(e,t)=>{Rv.init(e,t),zT.init(e,t),e.email=n=>e.check(nX(aK,n)),e.url=n=>e.check(iX(oK,n)),e.jwt=n=>e.check(SX(bK,n)),e.emoji=n=>e.check(lX(sK,n)),e.guid=n=>e.check(E1(j1,n)),e.uuid=n=>e.check(rX(vu,n)),e.uuidv4=n=>e.check(aX(vu,n)),e.uuidv6=n=>e.check(oX(vu,n)),e.uuidv7=n=>e.check(sX(vu,n)),e.nanoid=n=>e.check(cX(iK,n)),e.guid=n=>e.check(E1(j1,n)),e.cuid=n=>e.check(uX(lK,n)),e.cuid2=n=>e.check(dX(cK,n)),e.ulid=n=>e.check(fX(uK,n)),e.base64=n=>e.check(xX(yK,n)),e.base64url=n=>e.check(bX(vK,n)),e.xid=n=>e.check(hX(dK,n)),e.ksuid=n=>e.check(mX(fK,n)),e.ipv4=n=>e.check(pX(hK,n)),e.ipv6=n=>e.check(gX(mK,n)),e.cidrv4=n=>e.check(yX(pK,n)),e.cidrv6=n=>e.check(vX(gK,n)),e.e164=n=>e.check(wX(xK,n)),e.datetime=n=>e.check(VX(n)),e.date=n=>e.check(YX(n)),e.time=n=>e.check(XX(n)),e.duration=n=>e.check(WX(n))});function Dt(e){return tX(rK,e)}const Ge=q("ZodStringFormat",(e,t)=>{Be.init(e,t),zT.init(e,t)}),aK=q("ZodEmail",(e,t)=>{dq.init(e,t),Ge.init(e,t)}),j1=q("ZodGUID",(e,t)=>{cq.init(e,t),Ge.init(e,t)}),vu=q("ZodUUID",(e,t)=>{uq.init(e,t),Ge.init(e,t)}),oK=q("ZodURL",(e,t)=>{fq.init(e,t),Ge.init(e,t)}),sK=q("ZodEmoji",(e,t)=>{hq.init(e,t),Ge.init(e,t)}),iK=q("ZodNanoID",(e,t)=>{mq.init(e,t),Ge.init(e,t)}),lK=q("ZodCUID",(e,t)=>{pq.init(e,t),Ge.init(e,t)}),cK=q("ZodCUID2",(e,t)=>{gq.init(e,t),Ge.init(e,t)}),uK=q("ZodULID",(e,t)=>{yq.init(e,t),Ge.init(e,t)}),dK=q("ZodXID",(e,t)=>{vq.init(e,t),Ge.init(e,t)}),fK=q("ZodKSUID",(e,t)=>{xq.init(e,t),Ge.init(e,t)}),hK=q("ZodIPv4",(e,t)=>{_q.init(e,t),Ge.init(e,t)}),mK=q("ZodIPv6",(e,t)=>{Eq.init(e,t),Ge.init(e,t)}),pK=q("ZodCIDRv4",(e,t)=>{Cq.init(e,t),Ge.init(e,t)}),gK=q("ZodCIDRv6",(e,t)=>{Aq.init(e,t),Ge.init(e,t)}),yK=q("ZodBase64",(e,t)=>{kq.init(e,t),Ge.init(e,t)}),vK=q("ZodBase64URL",(e,t)=>{Tq.init(e,t),Ge.init(e,t)}),xK=q("ZodE164",(e,t)=>{Rq.init(e,t),Ge.init(e,t)}),bK=q("ZodJWT",(e,t)=>{Dq.init(e,t),Ge.init(e,t)}),OT=q("ZodNumber",(e,t)=>{RT.init(e,t),ot.init(e,t),e.gt=(r,a)=>e.check(A1(r,a)),e.gte=(r,a)=>e.check(Tm(r,a)),e.min=(r,a)=>e.check(Tm(r,a)),e.lt=(r,a)=>e.check(C1(r,a)),e.lte=(r,a)=>e.check(jm(r,a)),e.max=(r,a)=>e.check(jm(r,a)),e.int=r=>e.check(T1(r)),e.safe=r=>e.check(T1(r)),e.positive=r=>e.check(A1(0,r)),e.nonnegative=r=>e.check(Tm(0,r)),e.negative=r=>e.check(C1(0,r)),e.nonpositive=r=>e.check(jm(0,r)),e.multipleOf=(r,a)=>e.check(k1(r,a)),e.step=(r,a)=>e.check(k1(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function io(e){return AX(OT,e)}const wK=q("ZodNumberFormat",(e,t)=>{zq.init(e,t),OT.init(e,t)});function T1(e){return kX(wK,e)}const SK=q("ZodBoolean",(e,t)=>{Oq.init(e,t),ot.init(e,t)});function NK(e){return jX(SK,e)}const _K=q("ZodUnknown",(e,t)=>{$q.init(e,t),ot.init(e,t)});function R1(){return TX(_K)}const EK=q("ZodNever",(e,t)=>{Lq.init(e,t),ot.init(e,t)});function CK(e){return RX(EK,e)}const AK=q("ZodArray",(e,t)=>{Pq.init(e,t),ot.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Kd(n,r)),e.nonempty=n=>e.check(Kd(1,n)),e.max=(n,r)=>e.check(MT(n,r)),e.length=(n,r)=>e.check(DT(n,r)),e.unwrap=()=>e.element});function jo(e,t){return FX(AK,e,t)}const kK=q("ZodObject",(e,t)=>{Iq.init(e,t),ot.init(e,t),Oe(e,"shape",()=>t.shape),e.keyof=()=>DK(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:R1()}),e.loose=()=>e.clone({...e._zod.def,catchall:R1()}),e.strict=()=>e.clone({...e._zod.def,catchall:CK()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>fY(e,n),e.merge=n=>hY(e,n),e.pick=n=>uY(e,n),e.omit=n=>dY(e,n),e.partial=(...n)=>mY($T,e,n[0]),e.required=(...n)=>pY(LT,e,n[0])});function Qr(e,t){const n={type:"object",get shape(){return kv(this,"shape",{...e}),this.shape},...oe(t)};return new kK(n)}const jK=q("ZodUnion",(e,t)=>{Bq.init(e,t),ot.init(e,t),e.options=t.options});function TK(e,t){return new jK({type:"union",options:e,...oe(t)})}const RK=q("ZodIntersection",(e,t)=>{Hq.init(e,t),ot.init(e,t)});function MK(e,t){return new RK({type:"intersection",left:e,right:t})}const $g=q("ZodEnum",(e,t)=>{Fq.init(e,t),ot.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new $g({...t,checks:[],...oe(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new $g({...t,checks:[],...oe(a),entries:o})}});function DK(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new $g({type:"enum",entries:n,...oe(t)})}const zK=q("ZodTransform",(e,t)=>{Uq.init(e,t),ot.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(Yl(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(Yl(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function OK(e){return new zK({type:"transform",transform:e})}const $T=q("ZodOptional",(e,t)=>{Gq.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function M1(e){return new $T({type:"optional",innerType:e})}const $K=q("ZodNullable",(e,t)=>{Vq.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function D1(e){return new $K({type:"nullable",innerType:e})}const LK=q("ZodDefault",(e,t)=>{Zq.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function PK(e,t){return new LK({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const IK=q("ZodPrefault",(e,t)=>{Yq.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function BK(e,t){return new IK({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const LT=q("ZodNonOptional",(e,t)=>{qq.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType});function HK(e,t){return new LT({type:"nonoptional",innerType:e,...oe(t)})}const FK=q("ZodCatch",(e,t)=>{Xq.init(e,t),ot.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function UK(e,t){return new FK({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const GK=q("ZodPipe",(e,t)=>{Kq.init(e,t),ot.init(e,t),e.in=t.in,e.out=t.out});function z1(e,t){return new GK({type:"pipe",in:e,out:t})}const VK=q("ZodReadonly",(e,t)=>{Wq.init(e,t),ot.init(e,t)});function ZK(e){return new VK({type:"readonly",innerType:e})}const YK=q("ZodCustom",(e,t)=>{Qq.init(e,t),ot.init(e,t)});function qK(e){const t=new Xt({check:"custom"});return t._zod.check=e,t}function XK(e,t={}){return UX(YK,e,t)}function KK(e){const t=qK(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Yl(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(Yl(a))}},e(n.value,n)));return t}const WK=Qr({type:Dt(),id:Dt()}),QK=Qr({skill:Dt(),level:io()}),JK=Qr({skillLevel:QK.optional(),items:jo(WK).optional()}),eW=Qr({base:Dt(),subtext:Dt()}),tW=Qr({rank:io(),edid:Dt(),name:Dt(),description:eW,prerequisites:JK}),nW=Qr({x:io(),y:io(),horizontal:io(),vertical:io()}),rW=Qr({parents:jo(Dt()),children:jo(Dt())}),aW=Qr({edid:Dt(),name:Dt(),ranks:jo(tW),totalRanks:io(),connections:rW,isRoot:NK(),position:nW}),PT=Qr({treeId:Dt(),treeName:Dt(),treeDescription:Dt(),category:Dt(),perks:jo(aW)});jo(PT);const oW=e=>PT.parse(e);function sW(e){try{return{success:!0,data:oW(e)}}catch(t){return{success:!1,error:t}}}function iW(e){const t=new Set,n=[],r=(a,o)=>{if(t.has(a))return;t.add(a),o.push(e.find(i=>i.edid===a));const s=e.find(i=>i.edid===a);s.connection.children.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)}),s.connection.parents.forEach(i=>{e.some(c=>c.edid===i)&&r(i,o)})};return e.forEach(a=>{if(!t.has(a.edid)){const o=[];r(a.edid,o),n.push(o)}}),n}function lW(e,t){try{if(console.log("=== STARTING CLEAN HIERARCHICAL LAYOUT ==="),console.log(`Total perks to layout: ${e.length}`),e.length===0)return console.log("No perks to layout, returning empty array"),[];console.log("=== STEP 1: IDENTIFYING TREES ===");const n=iW(e);console.log(`Found ${n.length} trees:`,n.map(i=>i.map(c=>c.edid.split("_").pop()))),console.log("=== STEP 2: BUILDING HIERARCHY ===");const r=n.map(i=>cW(i));console.log("=== STEP 3: LAYOUTING TREES ===");const a=r.map((i,c)=>(console.log(`Layouting tree ${c+1} with ${i.nodes.size} nodes`),uW(i,t)));console.log("=== STEP 4: POSITIONING TREES AS SIBLINGS ===");const o=fW(a,t);console.log("=== STEP 5: APPLYING MILD FORCES ===");const s=IT(o,t);return console.log("Clean hierarchical layout completed"),console.log("Final positions:",s.map(i=>`${i.id}: (${i.x.toFixed(0)}, ${i.y.toFixed(0)})`)),s}catch(n){return console.error("Error in hierarchical layout algorithm:",n),e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function cW(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,c)=>{i.parents.length===0&&n.push(c)}),console.log(`  Tree has ${n.length} roots:`,n.map(i=>i.split("_").pop()));const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:c}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||c<u.depth)&&(u.depth=c),u.children.forEach(d=>{t.has(d)&&!a.has(d)&&r.push({id:d,depth:c+1})}))}console.log("  Second pass: Handling multi-parent nodes at different levels");let o=!0,s=0;for(;o&&s<10;)o=!1,s++,t.forEach((i,c)=>{if(i.parents.length>1){const u=i.parents.map(d=>{const f=t.get(d);return f?f.depth:-1}).filter(d=>d!==-1);if(u.length>0){const f=Math.min(...u)+1;i.depth!==f&&(console.log(`    ${c.split("_").pop()}: depth ${i.depth} -> ${f} (parents: ${i.parents.map(h=>h.split("_").pop()).join(", ")})`),i.depth=f,o=!0)}}});return console.log("  Third pass: Ensuring children are at higher depth than parents"),t.forEach((i,c)=>{i.children.forEach(u=>{const d=t.get(u);if(d&&d.depth<=i.depth){const f=i.depth+1;console.log(`    ${u.split("_").pop()}: depth ${d.depth} -> ${f} (child of ${c.split("_").pop()} at depth ${i.depth})`),d.depth=f}})}),s>=10&&console.log("  Warning: Depth calculation reached maximum iterations"),{nodes:t,roots:n}}function uW(e,t){const{nodes:n,roots:r}=e;console.log(`Layout single tree with ${n.size} nodes and ${r.length} roots`);const a=[];if(n.forEach((f,h)=>{a.push({id:h,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:f.children})}),a.some(f=>{try{const h=new Set,m=Lg(f.id,n,t,h);return!1}catch{return console.log(`Circular reference detected in tree, will use original positions for ${f.id}`),!0}}))return console.log("Using original position data due to circular references"),console.log(`Tree has ${a.length} nodes, checking original positions...`),a.forEach(f=>{const h=n.get(f.id);if(h&&h.perk){const m=h.perk.position.x*t.gridScaleX,y=-h.perk.position.y*t.gridScaleY;console.log(`${f.id.split("_").pop()}: original pos (${h.perk.position.x}, ${h.perk.position.y}) -> scaled (${m.toFixed(0)}, ${y.toFixed(0)})`),f.x=m,f.y=y,f.originalX=m,f.originalY=y}else console.warn(`No original position data for node: ${f.id}`)}),dW(a,t),a;console.log("No circular references detected, using hierarchical layout");const s=a.filter(f=>!a.some(m=>{var y;return m.id!==f.id&&((y=m.children)==null?void 0:y.includes(f.id))}));console.log(`Found ${s.length} root nodes: ${s.map(f=>f.id.split("_").pop()).join(", ")}`),s.forEach(f=>{f.y=0,f.originalY=0});const i=new Set,c=s.map(f=>({node:f,depth:0}));for(;c.length>0;){const{node:f,depth:h}=c.shift();i.has(f.id)||(i.add(f.id),h>0&&(f.y=-h*t.verticalSpacing,f.originalY=f.y),f.children&&f.children.forEach(m=>{const y=a.find(x=>x.id===m);y&&!i.has(m)&&c.push({node:y,depth:h+1})}))}const u=new Map;return a.forEach(f=>{const h=Math.round(f.y/t.verticalSpacing);u.has(h)||u.set(h,[]),u.get(h).push(f)}),Array.from(u.keys()).sort((f,h)=>h-f).forEach(f=>{u.get(f).forEach(m=>{if(m.children){const y=new Map;m.children.forEach(x=>{const w=a.find(v=>v.id===x);if(w){const v=a.filter(g=>{var b;return((b=g.children)==null?void 0:b.includes(x))&&Math.abs(g.y-w.y)===t.verticalSpacing});v.length>0&&v.some(g=>g.id===m.id)&&(y.has(m.id)||y.set(m.id,[]),y.get(m.id).push(w))}}),y.forEach((x,w)=>{if(x.length>0){const v=a.find(g=>g.id===w);if(v){const g=x.map(N=>{const E=Lg(N.id,n,t);return{child:N,subtreeWidth:E}}),b=g.reduce((N,{subtreeWidth:E})=>N+E,0),S=(x.length-1)*t.horizontalSpacing,_=b+S;let A=v.x-_/2;g.forEach(({child:N,subtreeWidth:E})=>{N.x=A+E/2,N.originalX=N.x,A+=E+t.horizontalSpacing})}}})}})}),IT(a,t),a}function IT(e,t){console.log("=== APPLYING MILD FORCES ===");const n=.03,r=.02,a=t.horizontalSpacing*.4,o=new Map;e.forEach(s=>{o.set(s.id,{x:s.x,y:s.y})});for(let s=0;s<5;s++){let i=0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const d=e[c],f=e[u],h=d.x+t.nodeWidth*.5,m=d.y+t.nodeHeight*.5,y=f.x+t.nodeWidth*.5,x=f.y+t.nodeHeight*.5,w=y-h,v=x-m,g=Math.sqrt(w*w+v*v);if(g<a&&g>0){const b=w/g*n,S=v/g*n;d.x-=b,d.y-=S,f.x+=b,f.y+=S,i++,s===0&&console.log(`  💫 Repulsion between ${d.id.split("_").pop()} and ${f.id.split("_").pop()}: force=(${b.toFixed(2)}, ${S.toFixed(2)})`)}}if(console.log(`  Iteration ${s+1}: Applied repulsion to ${i} node pairs`),i===0){console.log(`  No more repulsion needed after iteration ${s+1}`);break}}return console.log("=== APPLYING ATTRACTION WITH DEPTH CONSTRAINTS ==="),e.forEach(s=>{const i=o.get(s.id);if(!i)return;const c=i.x-s.x,u=i.y-s.y,d=s.x+c*r,f=s.y+u*r,m=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,y=Math.max(f,m);(Math.abs(y-s.y)>1||Math.abs(d-s.x)>1)&&console.log(`  🎯 Attraction for ${s.id.split("_").pop()}: x=${s.x.toFixed(0)}->${d.toFixed(0)}, y=${s.y.toFixed(0)}->${y.toFixed(0)} (depth constraint: ${m.toFixed(0)})`),s.x=d,s.y=y,s.originalX=d,s.originalY=y}),console.log("Mild forces completed"),e}function dW(e,t){console.log("=== APPLYING CIRCULAR TREE FORCES ===");const n=.08,r=.03,a=t.nodeHeight*.8,o=50,s=new Map;e.forEach(u=>{s.set(u.id,{x:u.x,y:u.y})}),console.log("=== PHASE 1: VERTICAL-ONLY REPULSION ===");let i=0,c=1;for(;c>0&&i<o;){i++,c=0;let u=0;for(let d=0;d<e.length;d++)for(let f=d+1;f<e.length;f++){const h=e[d],m=e[f],y=Math.max(0,Math.min(h.x+t.nodeWidth,m.x+t.nodeWidth)-Math.max(h.x,m.x)),x=Math.max(0,Math.min(h.y+t.nodeHeight,m.y+t.nodeHeight)-Math.max(h.y,m.y)),w=h.y+t.nodeHeight*.5,v=m.y+t.nodeHeight*.5,g=Math.abs(v-w),b=g<a;if(y>0&&x>0||b){c++;let S=0;y>0&&x>0?S=x*n:b&&(S=(a-g)*n),h.y<m.y?(h.y-=S,m.y+=S):(h.y+=S,m.y-=S),u=Math.max(u,S),i===1&&(y>0&&x>0?console.log(`  💥 Vertical repulsion (overlap) between ${h.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${S.toFixed(2)}`):console.log(`  📏 Vertical separation between ${h.id.split("_").pop()} and ${m.id.split("_").pop()}: forceY=${S.toFixed(2)}`))}}if(console.log(`  Iteration ${i}: ${c} touching/close pairs, max force: ${u.toFixed(2)}`),c===0){console.log(`  No more touching or close nodes after iteration ${i}`);break}}return i>=o&&console.log(`  Warning: Reached maximum iterations (${o}) with ${c} still touching/close`),console.log("=== PHASE 2: VERTICAL ATTRACTION TO ORIGINAL POSITIONS ==="),e.forEach(u=>{const d=s.get(u.id);if(!d)return;const f=d.y-u.y,h=u.y+f*r;Math.abs(h-u.y)>1&&console.log(`  🎯 Vertical attraction for ${u.id.split("_").pop()}: y=${u.y.toFixed(0)}->${h.toFixed(0)}`),u.y=h,u.originalY=h}),console.log("Circular tree forces completed"),e}function fW(e,t){console.log(`Positioning ${e.length} trees as siblings`);const n=[],r=e.map((c,u)=>{const d=Math.max(...c.map(S=>S.y)),f=c.filter(S=>Math.abs(S.y-d)<1),h=f.map(S=>S.x),m=Math.min(...h),y=Math.max(...h),x=y-m,w=h.reduce((S,_)=>S+_,0)/h.length,v=Math.min(...c.map(S=>S.x)),g=Math.max(...c.map(S=>S.x+S.width)),b=g-v;return{treeIndex:u,treeNodes:c,rootNodes:f,minRootX:m,maxRootX:y,rootWidth:x,rootCenterX:w,minX:v,maxX:g,treeWidth:b}}),a=Math.min(...r.map(c=>c.minRootX)),o=Math.max(...r.map(c=>c.maxRootX)),s=o-a;console.log(`Overall root range: ${a.toFixed(0)} to ${o.toFixed(0)} (width: ${s.toFixed(0)})`);let i=0;return r.forEach((c,u)=>{console.log(`  Tree ${u+1}: root range ${c.minRootX.toFixed(0)}-${c.maxRootX.toFixed(0)}, tree width=${c.treeWidth.toFixed(0)}`),console.log(`    Root nodes: ${c.rootNodes.map(h=>h.id.split("_").pop()).join(", ")}`);const d=s>0?c.rootWidth/s:1,f=c.minRootX-a;i-c.minX+f*d,c.treeNodes.forEach(h=>{const y=(h.x-c.minRootX)*d,x=i+y;n.push({...h,x,originalX:x})}),i+=c.treeWidth*d+t.horizontalSpacing}),n}function Lg(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const o=a.children||[],s=o.map(c=>Lg(c,t,n,new Set(r)));if(s.length===0)return n.nodeWidth;let i=0;return s.forEach((c,u)=>{i+=c,u<o.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function hW(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const mW=(e,t)=>n=>l.jsx(nY,{...n,onTogglePerk:e,onRankChange:t}),pW=(e,t)=>({perkNode:mW(e,t)});function BT({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,o]=L.useState(null),s=L.useCallback((S,_)=>{console.log(`🔧 Node ${_.id} moved to: (${_.position.x.toFixed(0)}, ${_.position.y.toFixed(0)})`)},[]),i=p.useMemo(()=>{if(!e)return null;const S=sW(e);return S.success?S.data:(console.error("Invalid perk tree data:",S.error),null)},[e]),c=p.useMemo(()=>pW(t,n),[t,n]),u=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),d=p.useMemo(()=>{if(!i)return[];const S=hW(i);return lW(S,u)},[i,u]),f=p.useMemo(()=>!i||d.length===0?[]:i.perks.map(S=>{const _=S.edid,A=d.find(C=>C.id===_),N=A?{x:A.x,y:A.y}:{x:0,y:0},E=S.connections.children.length>0,j=S.connections.parents.length===0;return{id:_,type:"perkNode",position:N,draggable:!0,data:{...S,selected:!1,hasChildren:E,isRoot:j}}}),[i,d]),h=p.useMemo(()=>{if(!i)return[];const S=[];return i.perks.forEach(_=>{const A=_.edid;_.connections.children.length>0&&_.connections.children.forEach(N=>{if(N===A)return;i.perks.some(j=>j.edid===N)&&S.push({id:`${A}-${N}`,source:A,target:N,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),S},[i]),[m,y,x]=IZ(f),[w,v,g]=BZ(h);L.useEffect(()=>{y(f)},[f,y]),L.useEffect(()=>{i&&y(S=>S.map(_=>{const A=r.find(E=>E.edid===_.id),N=A!==void 0;return{..._,data:{..._.data,selected:N,currentRank:(A==null?void 0:A.currentRank)||0}}}))},[r,y,i]),L.useEffect(()=>{v(h)},[h,v]),L.useEffect(()=>{i&&m.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const b=p.useCallback(S=>v(_=>Rj(S,_)),[v]);return i?l.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},children:[l.jsx("div",{className:"absolute top-2 right-2 z-10",children:l.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),l.jsxs(fT,{nodes:m,edges:w,onNodesChange:x,onEdgesChange:g,onConnect:b,onInit:o,nodeTypes:c,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:s,children:[l.jsx(tY,{}),l.jsx(qZ,{})]})]}):l.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:l.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}const ch=p.createContext(null);ch.displayName="PanelGroupContext";const Ze={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Mv=10,vo=p.useLayoutEffect,O1=Zg.useId,gW=typeof O1=="function"?O1:()=>null;let yW=0;function Dv(e=null){const t=gW(),n=p.useRef(e||t||null);return n.current===null&&(n.current=""+yW++),e??n.current}function HT({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:s,maxSize:i,minSize:c,onCollapse:u,onExpand:d,onResize:f,order:h,style:m,tagName:y="div",...x}){const w=p.useContext(ch);if(w===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:g,getPanelSize:b,getPanelStyle:S,groupId:_,isPanelCollapsed:A,reevaluatePanelConstraints:N,registerPanel:E,resizePanel:j,unregisterPanel:C}=w,R=Dv(s),I=p.useRef({callbacks:{onCollapse:u,onExpand:d,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:c},id:R,idIsFromProps:s!==void 0,order:h});p.useRef({didLogMissingDefaultSizeWarning:!1}),vo(()=>{const{callbacks:k,constraints:O}=I.current,T={...O};I.current.id=R,I.current.idIsFromProps=s!==void 0,I.current.order=h,k.onCollapse=u,k.onExpand=d,k.onResize=f,O.collapsedSize=n,O.collapsible=r,O.defaultSize=a,O.maxSize=i,O.minSize=c,(T.collapsedSize!==O.collapsedSize||T.collapsible!==O.collapsible||T.maxSize!==O.maxSize||T.minSize!==O.minSize)&&N(I.current,T)}),vo(()=>{const k=I.current;return E(k),()=>{C(k)}},[h,R,E,C]),p.useImperativeHandle(o,()=>({collapse:()=>{v(I.current)},expand:k=>{g(I.current,k)},getId(){return R},getSize(){return b(I.current)},isCollapsed(){return A(I.current)},isExpanded(){return!A(I.current)},resize:k=>{j(I.current,k)}}),[v,g,b,A,R,j]);const B=S(I.current,a);return p.createElement(y,{...x,children:e,className:t,id:R,style:{...B,...m},[Ze.groupId]:_,[Ze.panel]:"",[Ze.panelCollapsible]:r||void 0,[Ze.panelId]:R,[Ze.panelSize]:parseFloat(""+B.flexGrow).toFixed(1)})}const FT=p.forwardRef((e,t)=>p.createElement(HT,{...e,forwardedRef:t}));HT.displayName="Panel";FT.displayName="forwardRef(Panel)";let Pg=null,Vu=-1,ga=null;function vW(e,t){if(t){const n=(t&YT)!==0,r=(t&qT)!==0,a=(t&XT)!==0,o=(t&KT)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function xW(){ga!==null&&(document.head.removeChild(ga),Pg=null,ga=null,Vu=-1)}function Rm(e,t){var n,r;const a=vW(e,t);if(Pg!==a){if(Pg=a,ga===null&&(ga=document.createElement("style"),document.head.appendChild(ga)),Vu>=0){var o;(o=ga.sheet)===null||o===void 0||o.removeRule(Vu)}Vu=(n=(r=ga.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function UT(e){return e.type==="keydown"}function GT(e){return e.type.startsWith("pointer")}function VT(e){return e.type.startsWith("mouse")}function uh(e){if(GT(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(VT(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function bW(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function wW(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function SW(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:P1(e),b:P1(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;de(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:L1($1(n.a)),b:L1($1(n.b))};if(a.a===a.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=o.length;for(;i--;){const c=o[i];if(c===s.a)return 1;if(c===s.b)return-1}}return Math.sign(a.a-a.b)}const NW=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function _W(e){var t;const n=getComputedStyle((t=ZT(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function EW(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||_W(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||NW.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function $1(e){let t=e.length;for(;t--;){const n=e[t];if(de(n,"Missing node"),EW(n))return n}return null}function L1(e){return e&&Number(getComputedStyle(e).zIndex)||0}function P1(e){const t=[];for(;e;)t.push(e),e=ZT(e);return t}function ZT(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const YT=1,qT=2,XT=4,KT=8,CW=bW()==="coarse";let On=[],Os=!1,ya=new Map,dh=new Map;const ql=new Set;function AW(e,t,n,r,a){var o;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},c=(o=ya.get(s))!==null&&o!==void 0?o:0;return ya.set(s,c+1),ql.add(i),Wd(),function(){var d;dh.delete(e),ql.delete(i);const f=(d=ya.get(s))!==null&&d!==void 0?d:1;if(ya.set(s,f-1),Wd(),f===1&&ya.delete(s),On.includes(i)){const h=On.indexOf(i);h>=0&&On.splice(h,1),Ov(),a("up",!0,null)}}}function kW(e){const{target:t}=e,{x:n,y:r}=uh(e);Os=!0,zv({target:t,x:n,y:r}),Wd(),On.length>0&&(Qd("down",e),e.preventDefault(),WT(t)||e.stopImmediatePropagation())}function Mm(e){const{x:t,y:n}=uh(e);if(Os&&e.buttons===0&&(Os=!1,Qd("up",e)),!Os){const{target:r}=e;zv({target:r,x:t,y:n})}Qd("move",e),Ov(),On.length>0&&e.preventDefault()}function Dm(e){const{target:t}=e,{x:n,y:r}=uh(e);dh.clear(),Os=!1,On.length>0&&(e.preventDefault(),WT(t)||e.stopImmediatePropagation()),Qd("up",e),zv({target:t,x:n,y:r}),Ov(),Wd()}function WT(e){let t=e;for(;t;){if(t.hasAttribute(Ze.resizeHandle))return!0;t=t.parentElement}return!1}function zv({target:e,x:t,y:n}){On.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ql.forEach(a=>{const{element:o,hitAreaMargins:s}=a,i=o.getBoundingClientRect(),{bottom:c,left:u,right:d,top:f}=i,h=CW?s.coarse:s.fine;if(t>=u-h&&t<=d+h&&n>=f-h&&n<=c+h){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&SW(r,o)>0){let y=r,x=!1;for(;y&&!y.contains(o);){if(wW(y.getBoundingClientRect(),i)){x=!0;break}y=y.parentElement}if(x)return}On.push(a)}})}function zm(e,t){dh.set(e,t)}function Ov(){let e=!1,t=!1;On.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;dh.forEach(r=>{n|=r}),e&&t?Rm("intersection",n):e?Rm("horizontal",n):t?Rm("vertical",n):xW()}let Om;function Wd(){var e;(e=Om)===null||e===void 0||e.abort(),Om=new AbortController;const t={capture:!0,signal:Om.signal};ql.size&&(Os?(On.length>0&&ya.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Dm,t),a.addEventListener("pointerleave",Mm,t),a.addEventListener("pointermove",Mm,t))}),ya.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Dm,t),a.addEventListener("pointercancel",Dm,t)})):ya.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",kW,t),a.addEventListener("pointermove",Mm,t))}))}function Qd(e,t){ql.forEach(n=>{const{setResizeHandlerState:r}=n,a=On.includes(n);r(e,a,t)})}function jW(){const[e,t]=p.useState(0);return p.useCallback(()=>t(n=>n+1),[])}function de(e,t){if(!e)throw console.error(t),Error(t)}function To(e,t,n=Mv){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Er(e,t,n=Mv){return To(e,t,n)===0}function en(e,t,n){return To(e,t,n)===0}function TW(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!en(a,o,n))return!1}return!0}function vs({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];de(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:s=100,minSize:i=0}=r;if(To(n,i)<0)if(o){const c=(a+i)/2;To(n,c)<0?n=a:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(Mv)),n}function Yi({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(en(e,0))return t;const s=[...t],[i,c]=r;de(i!=null,"Invalid first pivot index"),de(c!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const f=e<0?c:i,h=n[f];de(h,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:y,minSize:x=0}=h;if(y){const w=t[f];if(de(w!=null,`Previous layout not found for panel index ${f}`),en(w,m)){const v=x-w;To(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}{const f=e<0?i:c,h=n[f];de(h,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:y,minSize:x=0}=h;if(y){const w=t[f];if(de(w!=null,`Previous layout not found for panel index ${f}`),en(w,x)){const v=w-m;To(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}}{const f=e<0?1:-1;let h=e<0?c:i,m=0;for(;;){const x=t[h];de(x!=null,`Previous layout not found for panel index ${h}`);const v=vs({panelConstraints:n,panelIndex:h,size:100})-x;if(m+=v,h+=f,h<0||h>=n.length)break}const y=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-y:y}{let h=e<0?i:c;for(;h>=0&&h<n.length;){const m=Math.abs(e)-Math.abs(u),y=t[h];de(y!=null,`Previous layout not found for panel index ${h}`);const x=y-m,w=vs({panelConstraints:n,panelIndex:h,size:x});if(!en(y,w)&&(u+=y-w,s[h]=w,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(TW(a,s))return a;{const f=e<0?c:i,h=t[f];de(h!=null,`Previous layout not found for panel index ${f}`);const m=h+u,y=vs({panelConstraints:n,panelIndex:f,size:m});if(s[f]=y,!en(y,m)){let x=m-y,v=e<0?c:i;for(;v>=0&&v<n.length;){const g=s[v];de(g!=null,`Previous layout not found for panel index ${v}`);const b=g+x,S=vs({panelConstraints:n,panelIndex:v,size:b});if(en(g,S)||(x-=S-g,s[v]=S),en(x,0))break;e>0?v--:v++}}}const d=s.reduce((f,h)=>h+f,0);return en(d,100)?s:a}function RW({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,s=0;const i=n[0];de(i!=null,"No pivot index found"),t.forEach((f,h)=>{const{constraints:m}=f,{maxSize:y=100,minSize:x=0}=m;h===i?(r=x,a=y):(o+=x,s+=y)});const c=Math.min(a,100-o),u=Math.max(r,100-s),d=e[i];return{valueMax:c,valueMin:u,valueNow:d}}function Xl(e,t=document){return Array.from(t.querySelectorAll(`[${Ze.resizeHandleId}][data-panel-group-id="${e}"]`))}function QT(e,t,n=document){const a=Xl(e,n).findIndex(o=>o.getAttribute(Ze.resizeHandleId)===t);return a??null}function JT(e,t,n){const r=QT(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function MW(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function eR(e,t=document){if(MW(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function fh(e,t=document){const n=t.querySelector(`[${Ze.resizeHandleId}="${e}"]`);return n||null}function DW(e,t,n,r=document){var a,o,s,i;const c=fh(t,r),u=Xl(e,r),d=c?u.indexOf(c):-1,f=(a=(o=n[d])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,h=(s=(i=n[d+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[f,h]}function zW({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:s}){p.useRef({didWarnAboutMissingResizeHandle:!1}),vo(()=>{if(!o)return;const i=Xl(n,o);for(let c=0;c<a.length-1;c++){const{valueMax:u,valueMin:d,valueNow:f}=RW({layout:r,panelsArray:a,pivotIndices:[c,c+1]}),h=i[c];if(h!=null){const m=a[c];de(m,`No panel data found for index "${c}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(d)),h.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{i.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[n,r,a,o]),p.useEffect(()=>{if(!o)return;const i=t.current;de(i,"Eager values not found");const{panelDataArray:c}=i,u=eR(n,o);de(u!=null,`No group found for id "${n}"`);const d=Xl(n,o);de(d,`No resize handles found for group id "${n}"`);const f=d.map(h=>{const m=h.getAttribute(Ze.resizeHandleId);de(m,"Resize handle element has no handle id attribute");const[y,x]=DW(n,m,c,o);if(y==null||x==null)return()=>{};const w=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const g=c.findIndex(b=>b.id===y);if(g>=0){const b=c[g];de(b,`No panel data found for index ${g}`);const S=r[g],{collapsedSize:_=0,collapsible:A,minSize:N=0}=b.constraints;if(S!=null&&A){const E=Yi({delta:en(S,_)?N-_:_-S,initialLayout:r,panelConstraints:c.map(j=>j.constraints),pivotIndices:JT(n,m,o),prevLayout:r,trigger:"keyboard"});r!==E&&s(E)}}break}}};return h.addEventListener("keydown",w),()=>{h.removeEventListener("keydown",w)}});return()=>{f.forEach(h=>h())}},[o,e,t,n,r,a,s])}function I1(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function tR(e,t){const n=e==="horizontal",{x:r,y:a}=uh(t);return n?r:a}function OW(e,t,n,r,a){const o=n==="horizontal",s=fh(t,a);de(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute(Ze.groupId);de(i,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=r;const u=tR(n,e),d=eR(i,a);de(d,`No group element found for id "${i}"`);const f=d.getBoundingClientRect(),h=o?f.width:f.height;return(u-c)/h*100}function $W(e,t,n,r,a,o){if(UT(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:a!=null?i=a:i=10;let c=0;switch(e.key){case"ArrowDown":c=s?0:i;break;case"ArrowLeft":c=s?-i:0;break;case"ArrowRight":c=s?i:0;break;case"ArrowUp":c=s?0:-i;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return r==null?0:OW(e,t,n,r,o)}function LW({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const s=n[o];de(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;i!=null&&(r++,t[o]=i,a-=i)}for(let o=0;o<e.length;o++){const s=n[o];de(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;if(i!=null)continue;const c=e.length-r,u=a/c;r++,t[o]=u,a-=u}return t}function Qo(e,t,n){t.forEach((r,a)=>{const o=e[a];de(o,`Panel data not found for index ${a}`);const{callbacks:s,constraints:i,id:c}=o,{collapsedSize:u=0,collapsible:d}=i,f=n[c];if(f==null||r!==f){n[c]=r;const{onCollapse:h,onExpand:m,onResize:y}=s;y&&y(r,f),d&&(h||m)&&(m&&(f==null||Er(f,u))&&!Er(r,u)&&m(),h&&(f==null||!Er(f,u))&&Er(r,u)&&h())}})}function xu(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function PW({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const s=n[a];let i;return s==null?i=e!=null?e.toPrecision(o):"1":r.length===1?i="1":i=s.toPrecision(o),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function IW(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function B1(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function nR(e){return`react-resizable-panels:${e}`}function rR(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function aR(e,t){try{const n=nR(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function BW(e,t,n){var r,a;const o=(r=aR(e,n))!==null&&r!==void 0?r:{},s=rR(t);return(a=o[s])!==null&&a!==void 0?a:null}function HW(e,t,n,r,a){var o;const s=nR(e),i=rR(t),c=(o=aR(e,a))!==null&&o!==void 0?o:{};c[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(s,JSON.stringify(c))}catch(u){console.error(u)}}function H1({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!en(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const s=n[o];de(s!=null,`No layout data found for index ${o}`);const i=100/r*s;n[o]=i}let a=0;for(let o=0;o<t.length;o++){const s=n[o];de(s!=null,`No layout data found for index ${o}`);const i=vs({panelConstraints:t,panelIndex:o,size:s});s!=i&&(a+=s-i,n[o]=i)}if(!en(a,0))for(let o=0;o<t.length;o++){const s=n[o];de(s!=null,`No layout data found for index ${o}`);const i=s+a,c=vs({panelConstraints:t,panelIndex:o,size:i});if(s!==c&&(a-=c-s,n[o]=c,en(a,0)))break}return n}const FW=100,qi={getItem:e=>(B1(qi),qi.getItem(e)),setItem:(e,t)=>{B1(qi),qi.setItem(e,t)}},F1={};function oR({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:s=null,keyboardResizeBy:i=null,storage:c=qi,style:u,tagName:d="div",...f}){const h=Dv(o),m=p.useRef(null),[y,x]=p.useState(null),[w,v]=p.useState([]),g=jW(),b=p.useRef({}),S=p.useRef(new Map),_=p.useRef(0),A=p.useRef({autoSaveId:e,direction:r,dragState:y,id:h,keyboardResizeBy:i,onLayout:s,storage:c}),N=p.useRef({layout:w,panelDataArray:[],panelDataArrayChanged:!1});p.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),p.useImperativeHandle(a,()=>({getId:()=>A.current.id,getLayout:()=>{const{layout:G}=N.current;return G},setLayout:G=>{const{onLayout:D}=A.current,{layout:H,panelDataArray:Z}=N.current,F=H1({layout:G,panelConstraints:Z.map(Y=>Y.constraints)});I1(H,F)||(v(F),N.current.layout=F,D&&D(F),Qo(Z,F,b.current))}}),[]),vo(()=>{A.current.autoSaveId=e,A.current.direction=r,A.current.dragState=y,A.current.id=h,A.current.onLayout=s,A.current.storage=c}),zW({committedValuesRef:A,eagerValuesRef:N,groupId:h,layout:w,panelDataArray:N.current.panelDataArray,setLayout:v,panelGroupElement:m.current}),p.useEffect(()=>{const{panelDataArray:G}=N.current;if(e){if(w.length===0||w.length!==G.length)return;let D=F1[e];D==null&&(D=IW(HW,FW),F1[e]=D);const H=[...G],Z=new Map(S.current);D(e,H,Z,w,c)}},[e,w,c]),p.useEffect(()=>{});const E=p.useCallback(G=>{const{onLayout:D}=A.current,{layout:H,panelDataArray:Z}=N.current;if(G.constraints.collapsible){const F=Z.map(be=>be.constraints),{collapsedSize:Y=0,panelSize:W,pivotIndices:Q}=Qa(Z,G,H);if(de(W!=null,`Panel size not found for panel "${G.id}"`),!Er(W,Y)){S.current.set(G.id,W);const ge=as(Z,G)===Z.length-1?W-Y:Y-W,ce=Yi({delta:ge,initialLayout:H,panelConstraints:F,pivotIndices:Q,prevLayout:H,trigger:"imperative-api"});xu(H,ce)||(v(ce),N.current.layout=ce,D&&D(ce),Qo(Z,ce,b.current))}}},[]),j=p.useCallback((G,D)=>{const{onLayout:H}=A.current,{layout:Z,panelDataArray:F}=N.current;if(G.constraints.collapsible){const Y=F.map(Re=>Re.constraints),{collapsedSize:W=0,panelSize:Q=0,minSize:be=0,pivotIndices:ge}=Qa(F,G,Z),ce=D??be;if(Er(Q,W)){const Re=S.current.get(G.id),Me=Re!=null&&Re>=ce?Re:ce,Ne=as(F,G)===F.length-1?Q-Me:Me-Q,J=Yi({delta:Ne,initialLayout:Z,panelConstraints:Y,pivotIndices:ge,prevLayout:Z,trigger:"imperative-api"});xu(Z,J)||(v(J),N.current.layout=J,H&&H(J),Qo(F,J,b.current))}}},[]),C=p.useCallback(G=>{const{layout:D,panelDataArray:H}=N.current,{panelSize:Z}=Qa(H,G,D);return de(Z!=null,`Panel size not found for panel "${G.id}"`),Z},[]),R=p.useCallback((G,D)=>{const{panelDataArray:H}=N.current,Z=as(H,G);return PW({defaultSize:D,dragState:y,layout:w,panelData:H,panelIndex:Z})},[y,w]),I=p.useCallback(G=>{const{layout:D,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:F,panelSize:Y}=Qa(H,G,D);return de(Y!=null,`Panel size not found for panel "${G.id}"`),F===!0&&Er(Y,Z)},[]),B=p.useCallback(G=>{const{layout:D,panelDataArray:H}=N.current,{collapsedSize:Z=0,collapsible:F,panelSize:Y}=Qa(H,G,D);return de(Y!=null,`Panel size not found for panel "${G.id}"`),!F||To(Y,Z)>0},[]),k=p.useCallback(G=>{const{panelDataArray:D}=N.current;D.push(G),D.sort((H,Z)=>{const F=H.order,Y=Z.order;return F==null&&Y==null?0:F==null?-1:Y==null?1:F-Y}),N.current.panelDataArrayChanged=!0,g()},[g]);vo(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:G,onLayout:D,storage:H}=A.current,{layout:Z,panelDataArray:F}=N.current;let Y=null;if(G){const Q=BW(G,F,H);Q&&(S.current=new Map(Object.entries(Q.expandToSizes)),Y=Q.layout)}Y==null&&(Y=LW({panelDataArray:F}));const W=H1({layout:Y,panelConstraints:F.map(Q=>Q.constraints)});I1(Z,W)||(v(W),N.current.layout=W,D&&D(W),Qo(F,W,b.current))}}),vo(()=>{const G=N.current;return()=>{G.layout=[]}},[]);const O=p.useCallback(G=>{let D=!1;const H=m.current;return H&&window.getComputedStyle(H,null).getPropertyValue("direction")==="rtl"&&(D=!0),function(F){F.preventDefault();const Y=m.current;if(!Y)return()=>null;const{direction:W,dragState:Q,id:be,keyboardResizeBy:ge,onLayout:ce}=A.current,{layout:Re,panelDataArray:Me}=N.current,{initialLayout:xt}=Q??{},Ne=JT(be,G,Y);let J=$W(F,G,W,Q,ge,Y);const We=W==="horizontal";We&&D&&(J=-J);const mr=Me.map(Jr=>Jr.constraints),jn=Yi({delta:J,initialLayout:xt??Re,panelConstraints:mr,pivotIndices:Ne,prevLayout:Re,trigger:UT(F)?"keyboard":"mouse-or-touch"}),pr=!xu(Re,jn);(GT(F)||VT(F))&&_.current!=J&&(_.current=J,!pr&&J!==0?We?zm(G,J<0?YT:qT):zm(G,J<0?XT:KT):zm(G,0)),pr&&(v(jn),N.current.layout=jn,ce&&ce(jn),Qo(Me,jn,b.current))}},[]),T=p.useCallback((G,D)=>{const{onLayout:H}=A.current,{layout:Z,panelDataArray:F}=N.current,Y=F.map(Re=>Re.constraints),{panelSize:W,pivotIndices:Q}=Qa(F,G,Z);de(W!=null,`Panel size not found for panel "${G.id}"`);const ge=as(F,G)===F.length-1?W-D:D-W,ce=Yi({delta:ge,initialLayout:Z,panelConstraints:Y,pivotIndices:Q,prevLayout:Z,trigger:"imperative-api"});xu(Z,ce)||(v(ce),N.current.layout=ce,H&&H(ce),Qo(F,ce,b.current))},[]),P=p.useCallback((G,D)=>{const{layout:H,panelDataArray:Z}=N.current,{collapsedSize:F=0,collapsible:Y}=D,{collapsedSize:W=0,collapsible:Q,maxSize:be=100,minSize:ge=0}=G.constraints,{panelSize:ce}=Qa(Z,G,H);ce!=null&&(Y&&Q&&Er(ce,F)?Er(F,W)||T(G,W):ce<ge?T(G,ge):ce>be&&T(G,be))},[T]),z=p.useCallback((G,D)=>{const{direction:H}=A.current,{layout:Z}=N.current;if(!m.current)return;const F=fh(G,m.current);de(F,`Drag handle element not found for id "${G}"`);const Y=tR(H,D);x({dragHandleId:G,dragHandleRect:F.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:Z})},[]),M=p.useCallback(()=>{x(null)},[]),$=p.useCallback(G=>{const{panelDataArray:D}=N.current,H=as(D,G);H>=0&&(D.splice(H,1),delete b.current[G.id],N.current.panelDataArrayChanged=!0,g())},[g]),U=p.useMemo(()=>({collapsePanel:E,direction:r,dragState:y,expandPanel:j,getPanelSize:C,getPanelStyle:R,groupId:h,isPanelCollapsed:I,isPanelExpanded:B,reevaluatePanelConstraints:P,registerPanel:k,registerResizeHandle:O,resizePanel:T,startDragging:z,stopDragging:M,unregisterPanel:$,panelGroupElement:m.current}),[E,y,r,j,C,R,h,I,B,P,k,O,T,z,M,$]),V={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return p.createElement(ch.Provider,{value:U},p.createElement(d,{...f,children:t,className:n,id:o,ref:m,style:{...V,...u},[Ze.group]:"",[Ze.groupDirection]:r,[Ze.groupId]:h}))}const sR=p.forwardRef((e,t)=>p.createElement(oR,{...e,forwardedRef:t}));oR.displayName="PanelGroup";sR.displayName="forwardRef(PanelGroup)";function as(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function Qa(e,t,n){const r=as(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function UW({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){p.useEffect(()=>{if(e||n==null||r==null)return;const a=fh(t,r);if(a==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=a.getAttribute(Ze.groupId);de(i,`No group element found for id "${i}"`);const c=Xl(i,r),u=QT(i,t,r);de(u!==null,`No resize element found for id "${t}"`);const d=s.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function iR({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:s,onDragging:i,onFocus:c,onPointerDown:u,onPointerUp:d,style:f={},tabIndex:h=0,tagName:m="div",...y}){var x,w;const v=p.useRef(null),g=p.useRef({onClick:s,onDragging:i,onPointerDown:u,onPointerUp:d});p.useEffect(()=>{g.current.onClick=s,g.current.onDragging=i,g.current.onPointerDown=u,g.current.onPointerUp=d});const b=p.useContext(ch);if(b===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:S,groupId:_,registerResizeHandle:A,startDragging:N,stopDragging:E,panelGroupElement:j}=b,C=Dv(a),[R,I]=p.useState("inactive"),[B,k]=p.useState(!1),[O,T]=p.useState(null),P=p.useRef({state:R});vo(()=>{P.current.state=R}),p.useEffect(()=>{if(n)T(null);else{const U=A(C);T(()=>U)}},[n,C,A]);const z=(x=r==null?void 0:r.coarse)!==null&&x!==void 0?x:15,M=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;p.useEffect(()=>{if(n||O==null)return;const U=v.current;de(U,"Element ref not attached");let V=!1;return AW(C,U,S,{coarse:z,fine:M},(D,H,Z)=>{if(!H){I("inactive");return}switch(D){case"down":{I("drag"),V=!1,de(Z,'Expected event to be defined for "down" action'),N(C,Z);const{onDragging:F,onPointerDown:Y}=g.current;F==null||F(!0),Y==null||Y();break}case"move":{const{state:F}=P.current;V=!0,F!=="drag"&&I("hover"),de(Z,'Expected event to be defined for "move" action'),O(Z);break}case"up":{I("hover"),E();const{onClick:F,onDragging:Y,onPointerUp:W}=g.current;Y==null||Y(!1),W==null||W(),V||F==null||F();break}}})},[z,S,n,M,A,C,O,N,E]),UW({disabled:n,handleId:C,resizeHandler:O,panelGroupElement:j});const $={touchAction:"none",userSelect:"none"};return p.createElement(m,{...y,children:e,className:t,id:a,onBlur:()=>{k(!1),o==null||o()},onFocus:()=>{k(!0),c==null||c()},ref:v,role:"separator",style:{...$,...f},tabIndex:h,[Ze.groupDirection]:S,[Ze.groupId]:_,[Ze.resizeHandle]:"",[Ze.resizeHandleActive]:R==="drag"?"pointer":B?"keyboard":void 0,[Ze.resizeHandleEnabled]:!n,[Ze.resizeHandleId]:C,[Ze.resizeHandleState]:R})}iR.displayName="PanelResizeHandle";function GW({className:e,...t}){return l.jsx(sR,{"data-slot":"resizable-panel-group",className:K("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function U1({...e}){return l.jsx(FT,{"data-slot":"resizable-panel",...e})}function VW({withHandle:e,className:t,...n}){return l.jsx(iR,{"data-slot":"resizable-handle",className:K("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&l.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:l.jsx(B3,{className:"size-2.5"})})})}function lR(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const c=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!c.ok)throw new Error("Failed to load perk trees data");const d=(await c.json()).map(f=>({...f,perks:f.perks.map(h=>({...h,currentRank:0,selected:!1}))}));t(d)}catch(c){o(c instanceof Error?c.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(c=>c.treeId===i),loading:n,error:a}}function cR(e){const[t,n]=p.useState({selectedPerks:{},minLevels:{},totalPerks:0}),r=(u,d=new Set)=>{var m;if(!e||d.has(u))return[];d.add(u);const f=e.perks.find(y=>y.perkId===u);if(!f||!((m=f.prerequisites)!=null&&m.perks))return[];const h=[];return f.prerequisites.perks.forEach(y=>{if(y.type==="PERK"&&e.perks.some(w=>w.perkId===y.id)){h.push(y.id);const w=r(y.id,d);h.push(...w)}}),[...new Set(h)]},a=(u,d=new Set)=>{if(!e||d.has(u))return[];d.add(u);const f=[];return e.perks.forEach(h=>{var m,y;if((y=(m=h.prerequisites)==null?void 0:m.perks)!=null&&y.some(x=>x.type==="PERK"&&x.id===u)){f.push(h.perkId);const x=a(h.perkId,d);f.push(...x)}}),[...new Set(f)]},o=p.useCallback(u=>{e&&(console.log(`togglePerk called for ${u} in tree ${e.treeName}`),n(d=>{var x,w;const f=e.treeName,h=d.selectedPerks[f]||[],m=h.findIndex(v=>v.perkId===u),y=e.perks.find(v=>v.perkId===u);if(!y)return d;if(m>=0){const v=h[m];if(y.ranks>1){const b=((v.currentRank||0)+1)%(y.ranks+1);if(b===0)if(((w=(x=y.prerequisites)==null?void 0:x.perks)==null?void 0:w.some(_=>_.type==="PERK"&&_.id!==u&&h.some(A=>A.perkId===_.id)))||!1){const _=[...h];return _[m]={...v,currentRank:0},console.log(`Cycling ${y.perkName} to rank 0 (kept due to other parents)`),{...d,selectedPerks:{...d.selectedPerks,[f]:_}}}else{const _=a(u),A=new Set([u,..._]),N=h.filter(j=>A.has(j.perkId)),E=h.filter(j=>!A.has(j.perkId));return console.log(`Cycling to rank 0, removing ${N.length} perks:`,N.map(j=>j.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:E},totalPerks:d.totalPerks-N.length}}else{const S=[...h];return S[m]={...v,currentRank:b},console.log(`Cycling ${y.perkName} to rank ${b}`),{...d,selectedPerks:{...d.selectedPerks,[f]:S}}}}else{const g=a(u),b=new Set([u,...g]),S=h.filter(A=>b.has(A.perkId)),_=h.filter(A=>!b.has(A.perkId));return console.log(`Removing ${S.length} perks:`,S.map(A=>A.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:_},totalPerks:d.totalPerks-S.length}}}else{const v=r(u),g=new Set([u,...v]),b=Array.from(g).map(j=>e.perks.find(C=>C.perkId===j)).filter(j=>j!==void 0).map(j=>{const C=h.find(R=>R.perkId===j.perkId);if(C)return{...j,selected:!0,currentRank:C.currentRank||0};{const R=j.perkId===u||j.ranks>1&&g.has(j.perkId);return{...j,selected:!0,currentRank:R&&j.ranks>1?1:0}}}),S=new Set(h.map(j=>j.perkId)),_=b.filter(j=>S.has(j.perkId)),A=b.filter(j=>!S.has(j.perkId)),E=[...h.map(j=>{const C=_.find(R=>R.perkId===j.perkId);return C?{...j,...C}:j}),...A];return console.log(`Adding ${A.length} new perks and updating ${_.length} existing perks:`,A.map(j=>j.perkName)),{...d,selectedPerks:{...d.selectedPerks,[f]:E},totalPerks:d.totalPerks+A.length}}}))},[e]),s=p.useCallback((u,d)=>{e&&n(f=>{const h=e.treeName,m=f.selectedPerks[h]||[],y=m.findIndex(w=>w.perkId===u),x=e.perks.find(w=>w.perkId===u);if(!x)return f;if(y>=0){const w=[...m],v=x.ranks>1?Math.max(0,Math.min(d,x.ranks)):0;return w[y]={...w[y],currentRank:v},console.log(`Updated ${x.perkName} rank to ${v}`),{...f,selectedPerks:{...f.selectedPerks,[h]:w}}}else return console.log(`Attempted to update rank for unselected perk: ${x.perkName}`),f})},[e]),i=p.useCallback(()=>{e&&n(u=>{const d=e.treeName,f=u.selectedPerks[d]||[],h={...u.selectedPerks};return delete h[d],{...u,selectedPerks:h,totalPerks:u.totalPerks-f.length}})},[e]),c=p.useCallback(()=>{n({selectedPerks:{},minLevels:{},totalPerks:0})},[]);return{perkPlan:t,togglePerk:o,updatePerkRank:s,clearSkill:i,clearAll:c}}function G1(){const{perkTrees:e,loading:t,error:n}=lR(),[r,a]=p.useState(null),o=e.find(y=>y.treeId===r),{perkPlan:s,togglePerk:i,updatePerkRank:c,clearSkill:u,clearAll:d}=cR(o||void 0),f=o?s.selectedPerks[o.treeName]||[]:[],h=p.useMemo(()=>[{id:"skills",name:"Skills",placeholder:"Search skills...",options:e.map(x=>{const w=s.selectedPerks[x.treeName]||[];return{id:x.treeId,label:x.treeName,value:x.treeId,category:"skills",description:`${w.length} perks selected • ${x.treeDescription}`}})}],[e,s.selectedPerks]),m=y=>{a(y.value)};return L.useEffect(()=>{!r&&e.length>0&&a(e[0].treeId)},[r,e]),t?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading perk trees..."})]})}):n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:n}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perk Planner"}),l.jsx("p",{className:"text-muted-foreground",children:"Plan your character's perk progression through skill trees"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Skill Selection"}),l.jsx(pi,{categories:h,onSelect:m,placeholder:"Search for a skill...",className:"max-w-md"})]}),l.jsxs(GW,{direction:"vertical",className:"min-h-[800px]",children:[l.jsx(U1,{defaultSize:100,children:l.jsxs(tt,{className:"h-full",children:[l.jsx(nt,{children:l.jsx(ut,{children:o?o.treeName:"Select a Skill"})}),l.jsx(qe,{className:"h-full p-0",children:l.jsx(BT,{tree:o,onTogglePerk:i,onRankChange:c,selectedPerks:f})})]})}),l.jsx(VW,{withHandle:!0}),l.jsx(U1,{defaultSize:0})]}),l.jsxs(tt,{children:[l.jsx(nt,{children:l.jsx(ut,{children:"Summary"})}),l.jsx(qe,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsx("span",{className:"font-medium",children:"Total Perks:"}),l.jsx("span",{className:"text-lg font-bold",children:s.totalPerks})]}),o&&l.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("span",{className:"font-medium",children:[o.treeName,":"]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[f.length," perks selected"]})]}),l.jsx(te,{size:"sm",variant:"outline",onClick:u,children:"Clear"})]}),l.jsx("div",{className:"flex justify-center items-center",children:l.jsx(te,{size:"sm",variant:"outline",onClick:d,className:"w-full",children:"Clear All"})})]})})]})]})}function ZW({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var I;return R.label.toLowerCase().includes(u.toLowerCase())||((I=R.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),h(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),h(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},_=C=>{C.key==="ArrowDown"?(C.preventDefault(),h(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),h(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),f>=0&&w[f]?b(w[f]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),h(-1))},A=()=>{s(!0)},N=i||x,E=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:_,className:"pl-10 pr-20"}),j&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Ur,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:ft.AUTOCOMPLETE+10},children:[E&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[l.jsx("span",{children:C.name}),l.jsx(yt,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center gap-2 transition-all duration-200 cursor-pointer",children:[l.jsx(Ur,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${R===f?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function YW({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="keywords"),o=e.filter(s=>s.id!=="keywords");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(ZW,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(pi,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function uR({raceName:e,size:t="md",className:n}){return l.jsx(JA,{entityName:e,entityType:"race",size:t,className:n})}function Ig({item:e,originalRace:t,isExpanded:n=!1,onToggle:r,className:a,showToggle:o=!0}){var s;return l.jsxs(Xy,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[o&&l.jsx(Vf,{children:l.jsx(fy,{itemId:(t==null?void 0:t.edid)||e.id,itemType:"race",itemName:e.name})}),l.jsxs(Zf,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uR,{raceName:e.name,size:"md"}),l.jsx(Ef,{className:"text-primary font-semibold",children:e.name})]}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.category&&l.jsx(we,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ht,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(Yf,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx(Tt,{className:"text-sm text-muted-foreground",children:e.summary||e.description})}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(s=e.effects)==null?void 0:s.slice(0,2).map((i,c)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:i.description,children:[l.jsx(Ht,{className:"h-3 w-3 text-yellow-500"}),l.jsx("span",{className:"font-medium",children:i.name})]},c))})]})}),l.jsx(qf,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(Tt,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(t==null?void 0:t.startingStats)&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Stats"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(t.startingStats).map(([i,c])=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ht,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"font-medium capitalize",children:i})]}),l.jsxs("span",{className:"font-bold text-green-600",children:["+",c]})]},i))})]}),e.effects&&e.effects.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Effects"}),l.jsx("div",{className:"space-y-3",children:e.effects.map((i,c)=>l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx(Ht,{className:"h-4 w-4 text-yellow-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Tt,{className:"font-medium text-sm mb-1",children:i.name}),l.jsx(Tt,{className:"text-sm text-muted-foreground",children:i.description})]})]})},c))})]})]})})]})}function qW(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(c=>c.name),skills:i.skillBonuses.map(c=>c.skill),keywords:i.keywords.map(c=>c.edid),originalRace:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Wr(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:p.useMemo(()=>o.map(i=>i.item.originalRace),[o]),searchResults:o,searchableRaces:n}}const dR={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function fR(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function hR(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function mR(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function pR(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=dR[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function gR(e){const t=e.racialSpells.map(r=>({name:r.name,type:fR(r.name,r.description),description:r.description,value:hR(r.description),target:mR(r.description)})),n=pR(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.category}}function XW(e){const t=e.racialSpells.map(r=>({name:r.name,type:fR(r.name,r.description),description:r.description,value:hR(r.description),target:mR(r.description)})),n=pR(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function Bg(e){return dR[e]||e}function KW(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=Bg(r.edid);t.add(a)})}),Array.from(t).sort()}function WW(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function QW(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function V1(){const e=fn(),{build:t}=Zt(),[n,r]=p.useState([]),[a,o]=p.useState(!0),[s,i]=p.useState(null),[c,u]=p.useState(new Set),[d,f]=p.useState("grid");p.useEffect(()=>{async function N(){try{o(!0);const E=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!E.ok)throw new Error("Failed to fetch race data");const j=await E.json();r(j.races)}catch(E){i("Failed to load race data"),console.error("Error loading races:",E)}finally{o(!1)}}N()},[]);const m=(()=>{const N=[...new Set(n.flatMap(C=>C.keywords.map(R=>R.edid)))],E=[...new Set(n.flatMap(C=>C.skillBonuses.map(R=>R.skill)))],j=[...new Set(n.map(C=>C.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:N.map(C=>({id:`keyword-${C}`,label:C,value:C,category:"Fuzzy Search",description:`Races with ${C} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:E.map(C=>({id:`skill-${C}`,label:C,value:C,category:"Skill Bonuses",description:`Races with ${C} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:j.map(C=>({id:`category-${C}`,label:C,value:C,category:"Race Categories",description:`${C} races`}))}]})(),[y,x]=p.useState([]),w=N=>{let E;typeof N=="string"?E={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:E={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},y.some(j=>j.value===E.value&&j.category===E.category)||x(j=>[...j,E])},v=N=>{x(E=>E.filter(j=>j.id!==N))},g=n.filter(N=>y.length===0?!0:y.every(E=>{switch(E.category){case"Fuzzy Search":return!0;case"Race Categories":return N.category===E.value;case"Skill Bonuses":return N.skillBonuses.some(j=>j.skill===E.value);case"Keywords":return N.keywords.some(j=>j.edid===E.value);default:return!0}})),b=y.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRaces:S}=qW(g,b),_=S.map(N=>gR(N)),A=N=>{const E=new Set(c);if(d==="grid"){const C=_.findIndex(O=>O.id===N),I=Math.floor(C/3)*3,B=Math.min(I+3,_.length);_.slice(I,B).some(O=>E.has(O.id))?_.slice(I,B).forEach(O=>{E.delete(O.id)}):_.slice(I,B).forEach(O=>{E.add(O.id)})}else E.has(N)?E.delete(N):E.add(N);u(E)};return a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(Lr,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs(te,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[l.jsx(eE,{className:"h-4 w-4"}),"Back to Build"]})}),l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(YW,{categories:m,onSelect:w,onCustomSearch:w})}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(te,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(pc,{className:"h-4 w-4"})}),l.jsx(te,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(mc,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:y.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>x([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Sn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),y.map(N=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(N.id),title:"Click to remove",children:[N.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},N.id))]})}),d==="grid"?l.jsx(By,{columns:3,gap:"md",className:"w-full",children:_.map(N=>{const E=n.find(R=>R.edid.toLowerCase().replace("race","")===N.id),j=c.has(N.id),C=t.race===(E==null?void 0:E.edid);return l.jsx(Ig,{item:N,originalRace:E,isExpanded:j,onToggle:()=>A(N.id),className:K("w-full",C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full",children:_.map(N=>{const E=n.find(R=>R.edid.toLowerCase().replace("race","")===N.id),j=c.has(N.id),C=t.race===(E==null?void 0:E.edid);return l.jsx(Ig,{item:N,originalRace:E,isExpanded:j,onToggle:()=>A(N.id),className:K("w-full",C&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}),_.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function JW({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var I;return R.label.toLowerCase().includes(u.toLowerCase())||((I=R.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),h(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),h(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},_=C=>{C.key==="ArrowDown"?(C.preventDefault(),h(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),h(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),f>=0&&w[f]?b(w[f]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),h(-1))},A=()=>{s(!0)},N=i||x,E=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:_,className:"pl-10 pr-20"}),j&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Ur,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:ft.AUTOCOMPLETE},children:[E&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(yt,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Ur,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function eQ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(JW,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(pi,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function $m({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return l.jsx("div",{className:t,children:r.map((a,o)=>{if(a.startsWith("<")&&a.endsWith(">")){const s=a.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:s},o)}return a})})}function tQ({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return l.jsx(Tt,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function Lm({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const o=a.split(/(<[^>]+>)/g);return l.jsx(Tt,{className:"text-xs text-muted-foreground",children:o.map((s,i)=>{if(s.startsWith("<")&&s.endsWith(">")){const c=s.slice(1,-1);return l.jsx("span",{className:"font-bold italic text-skyrim-gold",children:c},i)}return s})})}function Pm(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Im(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(o=>o.test(e)),a=n.some(o=>o.test(e));return{hasMagnitude:r,hasDuration:a}}const nQ={Restoration:l.jsx(H0,{className:"h-4 w-4 text-green-500"}),Destruction:l.jsx(Pp,{className:"h-4 w-4 text-red-500"}),Alteration:l.jsx(ma,{className:"h-4 w-4 text-blue-500"}),Illusion:l.jsx(hb,{className:"h-4 w-4 text-purple-500"}),Conjuration:l.jsx(As,{className:"h-4 w-4 text-purple-500"}),Enchanting:l.jsx(ul,{className:"h-4 w-4 text-blue-500"}),Alchemy:l.jsx(nE,{className:"h-4 w-4 text-green-500"}),"Light Armor":l.jsx(ma,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":l.jsx(ma,{className:"h-4 w-4 text-gray-500"}),"One-Handed":l.jsx(Ip,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":l.jsx(Ip,{className:"h-4 w-4 text-red-500"}),Archery:l.jsx(sE,{className:"h-4 w-4 text-green-500"}),Block:l.jsx(ma,{className:"h-4 w-4 text-yellow-500"}),Smithing:l.jsx(ma,{className:"h-4 w-4 text-gray-500"}),Speechcraft:l.jsx(hb,{className:"h-4 w-4 text-blue-500"}),Sneak:l.jsx(Du,{className:"h-4 w-4 text-purple-500"}),Lockpicking:l.jsx(Sd,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:l.jsx(Sd,{className:"h-4 w-4 text-purple-500"})},rQ={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},Z1={sm:"text-xs px-2 py-0.5"};function Y1({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:o=!0,showTenets:s=!0,showBoons:i=!0,showFavoredRaces:c=!0}){var f,h,m;const u=y=>{switch(y){case"positive":return l.jsx(Ur,{className:"h-4 w-4 text-green-500"});case"negative":return l.jsx(pb,{className:"h-4 w-4 text-red-500"});case"neutral":return l.jsx(go,{className:"h-4 w-4 text-blue-500"})}},d=y=>nQ[y]||l.jsx(Ht,{className:"h-4 w-4 text-skyrim-gold"});return l.jsxs(Xy,{isExpanded:n,onToggle:r||(()=>{}),className:a,children:[l.jsx(Vf,{children:l.jsx(fy,{itemId:e.id,itemType:"religion",itemName:e.name})}),l.jsxs(Zf,{children:[l.jsx("div",{className:"flex-1",children:l.jsx(Ef,{className:"text-primary font-semibold",children:e.name})}),l.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[e.category&&l.jsx(we,{variant:"outline",className:K(rQ[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",Z1.sm,"font-medium transition-colors"),children:e.category}),(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((y,x)=>l.jsxs(we,{variant:"outline",className:K("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",Z1.sm,"font-medium transition-colors"),children:[l.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Favors ",y]},x))}),e.effects&&e.effects.length>0&&l.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-muted-foreground",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ht,{className:"h-3 w-3 text-yellow-500"}),l.jsxs("span",{children:[e.effects.length," effects"]})]})})]})]}),l.jsx(Yf,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"line-clamp-2",children:l.jsx($m,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[(f=e.effects)==null?void 0:f.slice(0,2).map((y,x)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:y.description,children:[u(y.type),l.jsx("span",{className:"font-medium",children:y.name})]},x)),(h=t==null?void 0:t.favoredRaces)==null?void 0:h.slice(0,2).map((y,x)=>l.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[l.jsx(Ht,{className:"h-3 w-3 text-skyrim-gold"}),l.jsx("span",{className:"font-medium",children:y})]},`race-${x}`))]})]})}),l.jsx(qf,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{children:l.jsx($m,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),c&&(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((y,x)=>l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[l.jsx(Ht,{className:"h-4 w-4 text-skyrim-gold"}),l.jsx("span",{className:"text-sm font-medium",children:y})]},x))})]}),(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&l.jsxs("div",{children:[l.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),l.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((y,x)=>l.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(pb,{className:"h-4 w-4 text-red-500 mt-0.5"}),l.jsx($m,{text:y,className:"text-sm text-muted-foreground"})]})},x))})]}),o&&(t==null?void 0:t.blessing)&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),l.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(y=>y.effectType!=="1"&&y.effectType!=="3").map((y,x)=>{const{hasDuration:w}=Im(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Tt,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Lm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs(Tt,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",Pm(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},x)})})]}),s&&((m=t==null?void 0:t.tenet)==null?void 0:m.effects)&&t.tenet.effects.length>0&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((y,x)=>y.effectDescription.split(".").filter(v=>v.trim().length>0).map((v,g)=>l.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.targetAttribute&&d(y.targetAttribute)]}),l.jsx("div",{className:"flex-1",children:l.jsx(tQ,{description:v.trim()+"."})})]},`${x}-${g}`)))})]}),i&&((t==null?void 0:t.boon1)||(t==null?void 0:t.boon2))&&l.jsxs("div",{children:[l.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),l.jsxs("div",{className:"space-y-4",children:[(t==null?void 0:t.boon1)&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((y,x)=>{const{hasDuration:w}=Im(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Tt,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Lm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs(Tt,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Pm(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},x)})})]}),(t==null?void 0:t.boon2)&&l.jsxs("div",{children:[l.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),l.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((y,x)=>{const{hasDuration:w}=Im(y.effectDescription);return l.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&d(y.effectType)]}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Tt,{className:"font-medium text-sm mb-1",children:y.effectName}),l.jsx(Lm,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),w&&y.duration>0&&l.jsxs(Tt,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for"," ",Pm(y.duration),"."]}),l.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&l.jsxs("span",{children:["Area: ",y.area]})})]})]})},x)})})]})]})]})]})})]})}function aQ(e,t){const n=p.useMemo(()=>e.map(i=>{var c,u,d,f,h,m,y,x,w;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((c=i.tenet)==null?void 0:c.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((d=(u=i.tenet)==null?void 0:u.effects)==null?void 0:d.map(v=>`${v.effectName} ${v.effectDescription}`))||[],blessingEffects:((h=(f=i.blessing)==null?void 0:f.effects)==null?void 0:h.map(v=>`${v.effectName} ${v.effectDescription}`))||[],followerPowers:((y=(m=i.boon1)==null?void 0:m.effects)==null?void 0:y.map(v=>`${v.effectName} ${v.effectDescription}`))||[],devoteePowers:((w=(x=i.boon2)==null?void 0:x.effects)==null?void 0:w.map(v=>`${v.effectName} ${v.effectDescription}`))||[],originalReligion:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Wr(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:p.useMemo(()=>o.map(i=>i.item.originalReligion),[o]),searchResults:o,searchableReligions:n}}function q1(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(new Set),[c,u]=p.useState("alphabetical"),[d,f]=p.useState("grid"),[h,m]=p.useState(!0),[y,x]=p.useState(!0),[w,v]=p.useState(!0),[g,b]=p.useState(!0);p.useEffect(()=>{async function $(){try{r(!0);const U=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!U.ok)throw new Error("Failed to fetch religion data");const G=(await U.json()).flatMap(D=>D.deities.map(H=>({...H,pantheon:D.type})));t(G)}catch(U){o("Failed to load religion data"),console.error("Error loading religions:",U)}finally{r(!1)}}$()},[]);const S=e.map($=>{var U,V,G,D,H,Z;return{id:`religion-${$.name.toLowerCase().replace(/\s+/g,"-")}`,name:$.name,description:((U=$.tenet)==null?void 0:U.description)||"",tags:$.favoredRaces||[],summary:((V=$.tenet)==null?void 0:V.description)||"",effects:[...((D=(G=$.tenet)==null?void 0:G.effects)==null?void 0:D.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[],...((Z=(H=$.blessing)==null?void 0:H.effects)==null?void 0:Z.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:$.type}}),A=(()=>{const $=[...new Set(e.map(V=>V.type))],U=[...new Set(S.flatMap(V=>V.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:$.map(V=>({id:`pantheon-${V}`,label:V,value:V,category:"Pantheons",description:`Religions from ${V} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:U.map(V=>({id:`race-${V}`,label:V,value:V,category:"Favored Races",description:`Religions that favor ${V}`}))}]})(),[N,E]=p.useState([]),j=$=>{let U;typeof $=="string"?U={id:`custom-${$}`,label:$,value:$,category:"Fuzzy Search"}:U={id:`${$.category}-${$.id}`,label:$.label,value:$.value,category:$.category},N.some(V=>V.value===U.value&&V.category===U.category)||E(V=>[...V,U])},C=$=>{E(U=>U.filter(V=>V.id!==$))},R=e.filter($=>N.length===0?!0:N.every(U=>{switch(U.category){case"Fuzzy Search":return!0;case"Pantheons":return $.type===U.value;case"Favored Races":return $.favoredRaces.some(V=>V===U.value);default:return!0}})),I=N.filter($=>$.category==="Fuzzy Search").map($=>$.value).join(" "),{filteredReligions:B}=aQ(R,I),O=[...B.map($=>{var U,V,G,D,H,Z;return{id:`religion-${$.name.toLowerCase().replace(/\s+/g,"-")}`,name:$.name,description:((U=$.tenet)==null?void 0:U.description)||"",tags:$.favoredRaces||[],summary:((V=$.tenet)==null?void 0:V.description)||"",effects:[...((D=(G=$.tenet)==null?void 0:G.effects)==null?void 0:D.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[],...((Z=(H=$.blessing)==null?void 0:H.effects)==null?void 0:Z.map(F=>({type:"positive",name:F.effectName,description:F.effectDescription,value:F.magnitude,target:F.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:$.type}})].sort(($,U)=>{switch(c){case"alphabetical":return $.name.localeCompare(U.name);case"divine-type":const V=H=>{switch(H){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},G=V($.category),D=V(U.category);return G!==D?G-D:$.name.localeCompare(U.name);default:return 0}}),T=$=>{const U=new Set(s);if(d==="grid"){const G=O.findIndex(Y=>Y.id===$),H=Math.floor(G/3)*3,Z=Math.min(H+3,O.length);O.slice(H,Z).some(Y=>U.has(Y.id))?O.slice(H,Z).forEach(Y=>{U.delete(Y.id)}):O.slice(H,Z).forEach(Y=>{U.add(Y.id)})}else U.has($)?U.delete($):U.add($);i(U)},P=()=>{const $=O.map(U=>U.id);i(new Set($))},z=()=>{i(new Set)},M=O.length>0&&O.every($=>s.has($.id));return O.some($=>s.has($.id)),n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(Lr,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(eQ,{categories:A,onSelect:j,onCustomSearch:j})}),l.jsxs(My,{children:[l.jsx(Dy,{asChild:!0,children:l.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(yt,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":"Type"]})}),l.jsxs(zf,{align:"end",children:[l.jsx(Pr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Pr,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),l.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[l.jsx(te,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(pc,{className:"h-4 w-4"})}),l.jsx(te,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(mc,{className:"h-4 w-4"})})]}),l.jsx(te,{variant:"outline",size:"sm",onClick:M?z:P,className:"flex items-center justify-center",title:M?"Collapse all accordions":"Expand all accordions",children:M?l.jsx(aE,{className:"h-4 w-4"}):l.jsx(rE,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"my-4",children:N.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>E([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Sn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map($=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>C($.id),title:"Click to remove",children:[$.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},$.id))]})}),O.length>0&&l.jsxs(CI,{children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[l.jsx(_r,{checked:h&&y&&w&&g,onCheckedChange:$=>{m($),x($),v($),b($)}}),l.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),l.jsxs(iI,{columns:4,children:[l.jsx(tu,{title:"Blessings",description:"Deity blessings and effects",checked:h,onCheckedChange:m}),l.jsx(tu,{title:"Tenets",description:"Religious tenets and rules",checked:y,onCheckedChange:x}),l.jsx(tu,{title:"Boons",description:"Follower and devotee powers",checked:w,onCheckedChange:v}),l.jsx(tu,{title:"Favored Races",description:"Races favored by this deity",checked:g,onCheckedChange:b})]})]}),d==="grid"?l.jsx(By,{columns:3,gap:"md",className:"w-full mt-6",children:O.map($=>{const U=e.find(G=>{const D=$.id.replace("religion-","");return G.name.toLowerCase().replace(/\s+/g,"-")===D}),V=s.has($.id);return l.jsx(Y1,{item:$,originalReligion:U,isExpanded:V,onToggle:()=>T($.id),className:"w-full",showBlessings:h,showTenets:y,showBoons:w,showFavoredRaces:g},$.id)})}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:O.map($=>{const U=e.find(G=>{const D=$.id.replace("religion-","");return G.name.toLowerCase().replace(/\s+/g,"-")===D}),V=s.has($.id);return l.jsx(Y1,{item:$,originalReligion:U,isExpanded:V,onToggle:()=>T($.id),className:"w-full",showBlessings:h,showTenets:y,showBoons:w,showFavoredRaces:g},$.id)})}),O.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function oQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const sQ=L.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Tc=()=>{const e=L.useContext(sQ);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};oQ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function iQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function lQ(...e){return t=>e.forEach(n=>iQ(n,t))}function yR(...e){return p.useCallback(lQ(...e),e)}const X1=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Bm(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function cQ(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Hm={DURATION:.5,EASE:[.32,.72,0,1]},uQ=8,dQ=26,fQ=()=>()=>{};function hQ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=Tc(),o=L.useRef(null),s=p.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-dQ)/window.innerWidth}L.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;cQ(r&&!a?Bm(document.body,{background:"black"}):fQ,Bm(c,{transformOrigin:X1(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Hm.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Hm.EASE.join(",")})`}));const u=Bm(c,{borderRadius:`${uQ}px`,overflow:"hidden",...X1(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},Hm.DURATION*1e3)}}},[t,n,s])}const vR=L.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:o,isOpen:s,modal:i,shouldAnimate:c}=Tc(),u=yR(t,n),d=r&&r.length>0;if(!i)return null;const f=L.useCallback(h=>a(h),[a]);return L.createElement(ny,{onMouseUp:f,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":s&&d?"true":"false","data-vaul-snap-points-overlay":s&&o?"true":"false","data-vaul-animate":c!=null&&c.current?"true":"false",...e})});vR.displayName="Drawer.Overlay";const xR=L.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:o,onPress:s,onRelease:i,onDrag:c,keyboardIsOpen:u,snapPointsOffset:d,activeSnapPointIndex:f,modal:h,isOpen:m,direction:y,snapPoints:x,container:w,handleOnly:v,shouldAnimate:g,autoFocus:b}=Tc(),[S,_]=L.useState(!1),A=yR(a,o),N=L.useRef(null),E=L.useRef(null),j=L.useRef(!1),C=x&&x.length>0;hQ();const R=(B,k,O=0)=>{if(j.current)return!0;const T=Math.abs(B.y),P=Math.abs(B.x),z=P>T,M=["bottom","right"].includes(k)?1:-1;if(k==="left"||k==="right"){if(!(B.x*M<0)&&P>=0&&P<=O)return z}else if(!(B.y*M<0)&&T>=0&&T<=O)return!z;return j.current=!0,!0};L.useEffect(()=>{C&&window.requestAnimationFrame(()=>{_(!0)})},[]);function I(B){N.current=null,j.current=!1,i(B)}return L.createElement(ry,{"data-vaul-drawer-direction":y,"data-vaul-drawer":"","data-vaul-delayed-snap-points":S?"true":"false","data-vaul-snap-points":m&&C?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":g!=null&&g.current?"true":"false",...r,ref:A,style:d&&d.length>0?{"--snap-point-height":`${d[f??0]}px`,...t}:t,onPointerDown:B=>{v||(r.onPointerDown==null||r.onPointerDown.call(r,B),N.current={x:B.pageX,y:B.pageY},s(B))},onOpenAutoFocus:B=>{n==null||n(B),b||B.preventDefault()},onPointerDownOutside:B=>{if(e==null||e(B),!h||B.defaultPrevented){B.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:B=>{if(!h){B.preventDefault();return}},onPointerMove:B=>{if(E.current=B,v||(r.onPointerMove==null||r.onPointerMove.call(r,B),!N.current))return;const k=B.pageY-N.current.y,O=B.pageX-N.current.x,T=B.pointerType==="touch"?10:2;R({x:O,y:k},y,T)?c(B):(Math.abs(O)>T||Math.abs(k)>T)&&(N.current=null)},onPointerUp:B=>{r.onPointerUp==null||r.onPointerUp.call(r,B),N.current=null,j.current=!1,i(B)},onPointerOut:B=>{r.onPointerOut==null||r.onPointerOut.call(r,B),I(E.current)},onContextMenu:B=>{r.onContextMenu==null||r.onContextMenu.call(r,B),E.current&&I(E.current)}})});xR.displayName="Drawer.Content";const mQ=250,pQ=120,gQ=L.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:o,snapPoints:s,activeSnapPoint:i,setActiveSnapPoint:c,dismissible:u,handleOnly:d,isOpen:f,onPress:h,onDrag:m}=Tc(),y=L.useRef(null),x=L.useRef(!1);function w(){if(x.current){b();return}window.setTimeout(()=>{v()},pQ)}function v(){if(o||e||x.current){b();return}if(b(),!s||s.length===0){u||a();return}if(i===s[s.length-1]&&u){a();return}const _=s.findIndex(N=>N===i);if(_===-1)return;const A=s[_+1];c(A)}function g(){y.current=window.setTimeout(()=>{x.current=!0},mQ)}function b(){y.current&&window.clearTimeout(y.current),x.current=!1}return L.createElement("div",{onClick:w,onPointerCancel:b,onPointerDown:S=>{d&&h(S),g()},onPointerMove:S=>{d&&m(S)},ref:r,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},L.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});gQ.displayName="Drawer.Handle";function yQ(e){const t=Tc(),{container:n=t.container,...r}=e;return L.createElement(hC,{container:n,...r})}const Fa={Content:xR,Overlay:vR,Portal:yQ,Title:ay,Description:oy},vQ=Fa.Portal,bR=p.forwardRef(({className:e,...t},n)=>l.jsx(Fa.Overlay,{ref:n,className:K("fixed inset-0 bg-black/40",e),style:{zIndex:ft.MODAL},...t}));bR.displayName=Fa.Overlay.displayName;const xQ=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(vQ,{children:[l.jsx(bR,{}),l.jsxs(Fa.Content,{ref:r,className:K("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:ft.MODAL+1},...n,children:[l.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));xQ.displayName="DrawerContent";const bQ=p.forwardRef(({className:e,...t},n)=>l.jsx(Fa.Title,{ref:n,className:K("text-lg font-semibold leading-none tracking-tight",e),...t}));bQ.displayName=Fa.Title.displayName;const wQ=p.forwardRef(({className:e,...t},n)=>l.jsx(Fa.Description,{ref:n,className:K("text-sm text-muted-foreground",e),...t}));wQ.displayName=Fa.Description.displayName;var wR="Toggle",SR=p.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...o}=e,[s,i]=An({prop:n,onChange:a,defaultProp:r??!1,caller:wR});return l.jsx(ue.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:ee(e.onClick,()=>{e.disabled||i(!s)})})});SR.displayName=wR;var Ua="ToggleGroup",[NR,FJ]=Yt(Ua,[mi]),_R=mi(),$v=L.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return l.jsx(SQ,{...a,ref:t})}if(n==="multiple"){const a=r;return l.jsx(NQ,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ua}\``)});$v.displayName=Ua;var[ER,CR]=NR(Ua),SQ=L.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=An({prop:n,defaultProp:r??"",onChange:a,caller:Ua});return l.jsx(ER,{scope:e.__scopeToggleGroup,type:"single",value:L.useMemo(()=>s?[s]:[],[s]),onItemActivate:i,onItemDeactivate:L.useCallback(()=>i(""),[i]),children:l.jsx(AR,{...o,ref:t})})}),NQ=L.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=An({prop:n,defaultProp:r??[],onChange:a,caller:Ua}),c=L.useCallback(d=>i((f=[])=>[...f,d]),[i]),u=L.useCallback(d=>i((f=[])=>f.filter(h=>h!==d)),[i]);return l.jsx(ER,{scope:e.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:c,onItemDeactivate:u,children:l.jsx(AR,{...o,ref:t})})});$v.displayName=Ua;var[_Q,EQ]=NR(Ua),AR=L.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:o,dir:s,loop:i=!0,...c}=e,u=_R(n),d=hi(s),f={role:"group",dir:d,...c};return l.jsx(_Q,{scope:n,rovingFocus:a,disabled:r,children:a?l.jsx(iy,{asChild:!0,...u,orientation:o,dir:d,loop:i,children:l.jsx(ue.div,{...f,ref:t})}):l.jsx(ue.div,{...f,ref:t})})}),Jd="ToggleGroupItem",kR=L.forwardRef((e,t)=>{const n=CR(Jd,e.__scopeToggleGroup),r=EQ(Jd,e.__scopeToggleGroup),a=_R(e.__scopeToggleGroup),o=n.value.includes(e.value),s=r.disabled||e.disabled,i={...e,pressed:o,disabled:s},c=L.useRef(null);return r.rovingFocus?l.jsx(ly,{asChild:!0,...a,focusable:!s,active:o,ref:c,children:l.jsx(K1,{...i,ref:t})}):l.jsx(K1,{...i,ref:t})});kR.displayName=Jd;var K1=L.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,o=CR(Jd,n),s={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=o.type==="single"?s:void 0;return l.jsx(SR,{...i,...a,ref:t,onPressedChange:c=>{c?o.onItemActivate(r):o.onItemDeactivate(r)}})}),jR=$v,TR=kR;const RR=ui("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-transparent hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground",outline:"border border-input bg-background hover:bg-muted hover:text-foreground data-[state=on]:bg-muted data-[state=on]:text-foreground data-[state=on]:border-muted-foreground/20"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-8"}},defaultVariants:{variant:"default",size:"default"}}),CQ=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(jR,{ref:o,className:K(RR({variant:t,size:n}),e),...a,children:r}));CQ.displayName=jR.displayName;const AQ=p.forwardRef(({className:e,variant:t,size:n,children:r,...a},o)=>l.jsx(TR,{ref:o,className:K(RR({variant:t,size:n}),e),...a,children:r}));AQ.displayName=TR.displayName;function kQ({skill:e,onSkillSelect:t,onAssignmentChange:n}){const r=o=>{o.target.closest("[data-badge]")||t()},a=(o,s)=>{o.stopPropagation(),s==="major"?e.isMajor?n("none"):n("major"):s==="minor"&&(e.isMinor?n("none"):n("minor"))};return l.jsxs(tt,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200",onClick:r,children:[l.jsxs(nt,{className:"pb-3",children:[l.jsx(ut,{className:"text-lg font-bold",children:e.name}),l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),l.jsxs(qe,{className:"pt-0 space-y-3",children:[e.perksCount>0&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:["⭐ ",e.perksCount," Perks"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(we,{"data-badge":"major",variant:e.isMajor?"default":"outline",className:`cursor-pointer transition-colors ${e.isMajor?"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90":"hover:bg-skyrim-gold/10 hover:border-skyrim-gold"}`,onClick:o=>a(o,"major"),children:e.isMajor?"Major":"+ Major"}),l.jsx(we,{"data-badge":"minor",variant:e.isMinor?"default":"outline",className:`cursor-pointer transition-colors ${e.isMinor?"bg-gray-600 text-white hover:bg-gray-700":"hover:bg-gray-100 hover:border-gray-400"}`,onClick:o=>a(o,"minor"),children:e.isMinor?"Minor":"+ Minor"})]})]})]})}function jQ({skills:e,onSkillSelect:t,onAssignmentChange:n}){return l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(r=>l.jsx(kQ,{skill:r,onSkillSelect:()=>t(r.edid),onAssignmentChange:a=>n(r.edid,a)},r.edid))})}function TQ({selectedSkill:e,skillName:t,perkTree:n,onBack:r,onReset:a}){const{perkPlan:o,togglePerk:s,updatePerkRank:i,clearSkill:c}=cR(n),u=n?o.selectedPerks[n.treeName]||[]:[],d=()=>{n&&c(),a()};return!e||!n?null:l.jsxs(tt,{className:"w-full",children:[l.jsx(nt,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(te,{variant:"outline",size:"sm",onClick:r,className:"flex items-center gap-2",children:[l.jsx(eE,{className:"h-4 w-4"}),"Back to Skills"]}),l.jsxs("div",{children:[l.jsx(ut,{className:"text-xl",children:t||n.treeName}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.length," perks selected"]})]})]}),l.jsxs(te,{variant:"outline",size:"sm",onClick:d,className:"flex items-center gap-2",children:[l.jsx(F0,{className:"h-4 w-4"}),"Reset Perks"]})]})}),l.jsx(qe,{className:"p-0",children:l.jsx("div",{className:"h-[600px] w-full",children:l.jsx(BT,{tree:n,onTogglePerk:s,onRankChange:i,selectedPerks:u})})})]})}function RQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),{hasMajorSkill:s,hasMinorSkill:i}=Zt(),{perkTrees:c}=lR();return p.useEffect(()=>{async function d(){try{r(!0);const f=await fetch("/lorerim-arcaneum/data/skills.json");if(!f.ok)throw new Error("Failed to fetch skills data");const m=((await f.json()).skills||[]).sort((y,x)=>y.name.localeCompare(x.name));t(m)}catch(f){o("Failed to load skills data"),console.error("Error loading skills:",f)}finally{r(!1)}}d()},[]),{skills:e.map(d=>{const f=c.find(m=>m.treeId===d.edid),h=f?f.perks.length:0;return{...d,perksCount:h,isMajor:s(d.edid),isMinor:i(d.edid)}}),loading:n,error:a,perkTrees:c}}function W1(){const[e,t]=r5(),[n,r]=p.useState(null),{skills:a,loading:o,error:s,perkTrees:i}=RQ(),{addMajorSkill:c,removeMajorSkill:u,addMinorSkill:d,removeMinorSkill:f}=Zt();p.useEffect(()=>{const g=e.get("skill");r(g)},[e]),p.useEffect(()=>{n?e.set("skill",n):e.delete("skill"),t(e,{replace:!0})},[n,e,t]);const h=g=>{r(g),setTimeout(()=>{const b=document.getElementById("perk-tree-view");b&&b.scrollIntoView({behavior:"smooth"})},100)},m=(g,b)=>{b==="major"?c(g):b==="minor"?d(g):(u(g),f(g))},y=()=>{r(null),window.scrollTo({top:0,behavior:"smooth"})},x=()=>{console.log("Reset perks for skill:",n)},w=i.find(g=>g.treeId===n),v=a.find(g=>g.edid===n);return o?l.jsx(Lr,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression.",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading skills and perks..."})]})})}):s?l.jsx(Lr,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression.",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:s}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})})}):l.jsx(Lr,{title:"Skills & Perks",description:"Choose your character's skills and plan your perk progression.",children:l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Skills"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.length," skills available"]})]}),l.jsx(jQ,{skills:a,onSkillSelect:h,onAssignmentChange:m})]}),l.jsx("div",{id:"perk-tree-view",children:l.jsx(TQ,{selectedSkill:n,skillName:v==null?void 0:v.name,perkTree:w,onBack:y,onReset:x})})]})})}function MQ({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,c]=p.useState(null),[u,d]=p.useState(""),[f,h]=p.useState(-1),m=p.useRef(null),y=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const C=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),c(null),h(-1))};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const w=i||x?(i||x).options.filter(C=>{var R;return C.label.toLowerCase().includes(u.toLowerCase())||((R=C.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(C=>C.options.filter(R=>{var I;return R.label.toLowerCase().includes(u.toLowerCase())||((I=R.description)==null?void 0:I.toLowerCase().includes(u.toLowerCase()))})),v=C=>{d(C),s(!0),h(-1)},g=C=>{var R;c(C),d(""),(R=y.current)==null||R.focus()},b=C=>{t(C),d(""),c(null),s(!1),h(-1)},S=()=>{u.trim()&&(n(u.trim()),d(""),c(null),s(!1),h(-1))},_=C=>{C.key==="ArrowDown"?(C.preventDefault(),h(R=>Math.min(R+1,w.length-1))):C.key==="ArrowUp"?(C.preventDefault(),h(R=>Math.max(R-1,-1))):C.key==="Enter"?(C.preventDefault(),f>=0&&w[f]?b(w[f]):u.trim()&&S()):C.key==="Escape"&&(s(!1),c(null),h(-1))},A=()=>{s(!0)},N=i||x,E=!x&&!i,j=u.trim()&&!w.some(C=>C.label.toLowerCase()===u.toLowerCase());return l.jsxs("div",{ref:m,className:`relative ${a}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:y,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:C=>v(C.target.value),onFocus:A,onKeyDown:_,className:"pl-10 pr-20"}),j&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:S,title:"Add custom search term",children:l.jsx(Ur,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:ft.AUTOCOMPLETE},children:[E&&l.jsxs("div",{className:"p-2 border-b border-border",children:[l.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(C=>l.jsxs("button",{onClick:()=>g(C),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[l.jsx("span",{children:C.name}),l.jsx(yt,{className:"h-4 w-4"})]},C.id))]}),j&&l.jsx("div",{className:"p-2 border-b border-border",children:l.jsxs("button",{onClick:S,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[l.jsx(Ur,{className:"h-4 w-4 text-primary"}),l.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),l.jsx("div",{className:"p-2",children:w.length===0&&!j?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):w.map((C,R)=>l.jsxs("button",{onClick:()=>b(C),className:`w-full text-left px-2 py-2 rounded text-sm ${R===f?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[l.jsx("div",{className:"font-medium",children:C.label}),C.description&&l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:C.description})]},C.id))})]})]})}function DQ({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"),o=e.filter(s=>s.id!=="fuzzy-search");return l.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&l.jsx("div",{className:"flex-1 min-w-[300px]",children:l.jsx(MQ,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>l.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:l.jsx(pi,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function Fm({traits:e,onSelect:t,placeholder:n="Search traits...",className:r="",disabled:a=!1}){const[o,s]=p.useState(!1),[i,c]=p.useState(""),[u,d]=p.useState(-1),f=p.useRef(null),h=p.useRef(null);p.useEffect(()=>{const b=S=>{f.current&&!f.current.contains(S.target)&&(s(!1),d(-1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const m=e.filter(b=>{var S;return b.name.toLowerCase().includes(i.toLowerCase())||b.description.toLowerCase().includes(i.toLowerCase())||((S=b.category)==null?void 0:S.toLowerCase().includes(i.toLowerCase()))||b.tags.some(_=>_.toLowerCase().includes(i.toLowerCase()))}),y=b=>{c(b),s(!0),d(-1)},x=b=>{t(b),c(""),s(!1),d(-1)},w=b=>{b.key==="ArrowDown"?(b.preventDefault(),d(S=>Math.min(S+1,m.length-1))):b.key==="ArrowUp"?(b.preventDefault(),d(S=>Math.max(S-1,-1))):b.key==="Enter"?(b.preventDefault(),u>=0&&m[u]&&x(m[u])):b.key==="Escape"&&(s(!1),d(-1))},v=()=>{s(!0)},g=()=>{var b;c(""),(b=h.current)==null||b.focus()};return l.jsxs("div",{ref:f,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:h,type:"text",placeholder:n,value:i,onChange:b=>y(b.target.value),onFocus:v,onKeyDown:w,className:"pl-10 pr-20",disabled:a}),i&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:g,disabled:a,children:l.jsx(Sn,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),disabled:a,children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:ft.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:m.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No traits found"}):m.map((b,S)=>l.jsx("button",{onClick:()=>x(b),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${S===u?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,disabled:a,children:l.jsx("div",{className:"flex items-start gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:b.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[b.category&&l.jsx(we,{variant:"outline",className:"text-xs",children:b.category}),b.effects.length>0&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:[b.effects.length," effect",b.effects.length!==1?"s":""]})]}),l.jsx(Ra,{text:b.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})},b.edid))})})]})}function Q1({item:e}){const{hasRegularTrait:t,hasBonusTrait:n,addRegularTrait:r,addBonusTrait:a,removeTrait:o,getRegularTraitLimit:s,getBonusTraitLimit:i,canAddRegularTrait:c,canAddBonusTrait:u}=Zt(),f=t(e.id)?"primary":n(e.id)?"secondary":"none";s(),i();const h=w=>{f===w?o(e.id):(o(e.id),w==="primary"&&c()?r(e.id):w==="secondary"&&u()&&a(e.id))},m=!c()&&f!=="primary",y=!u()&&f!=="secondary",x=()=>f==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":f==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return l.jsxs(tt,{className:K("cursor-pointer transition-all duration-200 hover:shadow-md min-w-[320px]",x(),"hover:scale-[1.02]"),children:[l.jsx(nt,{className:"pb-3",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-skyrim-gold/20 flex items-center justify-center",children:l.jsx(As,{className:"h-4 w-4 text-skyrim-gold"})}),l.jsx("h3",{className:"font-semibold text-lg",children:e.name})]})})}),l.jsxs(qe,{className:"pt-0 flex flex-col h-full",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Ra,{text:e.description,className:"text-base text-muted-foreground line-clamp-3"})}),l.jsx("div",{className:"mt-auto pt-4",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(te,{size:"sm",variant:f==="primary"?"default":"outline",disabled:m,className:K("flex-1 text-xs",f==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:()=>h("primary"),children:f==="primary"?"- Regular":"+ Regular"}),l.jsx(te,{size:"sm",variant:f==="secondary"?"default":"outline",disabled:y,className:K("flex-1 text-xs",f==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:()=>h("secondary"),children:f==="secondary"?"- Extra Unlock":"+ Extra Unlock"})]})})]})]})}function J1(e){const t=e.effects.map(r=>({type:r.flags.includes("Detrimental")?"negative":"positive",name:r.type,description:r.condition||"",value:r.value,target:r.type})),n=[e.category,...e.tags].filter((r,a,o)=>o.indexOf(r)===a);return{id:e.edid,name:e.name,description:OQ(e.description),tags:n,effects:t,category:e.category}}function MR(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function zQ(e){const t=e.flatMap(n=>n.effects.map(r=>r.type));return[...new Set(t)].sort()}function DR(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}function OQ(e){return e.replace(/<(\d+)>/g,"$1")}const $Q=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],LQ={traits:$Q};function PQ(){const[e,t]=p.useState({search:"",category:"",tags:[]}),n=p.useMemo(()=>{const i=LQ.traits;if(!i||!Array.isArray(i))return console.error("Invalid trait data structure detected"),[];const c=i.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${c.length} traits`),c},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,i.category,...i.tags,...i.effects.map(d=>d.type)].join(" ").toLowerCase().includes(c))return!1}return!(e.category&&i.category!==e.category||e.tags.length>0&&!e.tags.some(u=>i.tags.includes(u)||i.category===u||i.effects.some(d=>d.type===u)))}),[n,e]),a=p.useMemo(()=>MR(n),[n]),o=p.useMemo(()=>zQ(n),[n]),s=p.useMemo(()=>DR(n),[n]);return{traits:r,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:a,allEffectTypes:o,allTags:s}}function IQ({className:e}){const{allTraits:t}=PQ(),{build:n,addTraitToSlot:r,removeTrait:a,getRegularTraitLimit:o,getBonusTraitLimit:s}=Zt(),i=fn();o(),s();const c=n.traits.regular.map(y=>t.find(x=>x.edid===y)).filter(Boolean),u=n.traits.bonus.map(y=>t.find(x=>x.edid===y)).filter(Boolean),d=(y,x)=>{r(y.edid,x)},f=y=>{a(y)},h=()=>{i("/traits")},m=t.filter(y=>!n.traits.regular.includes(y.edid)&&!n.traits.bonus.includes(y.edid));return l.jsx(Ll,{title:"Traits",navigateTo:"traits",onNavigate:h,className:e,children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",className:"text-xs",children:"Slot 1"}),c[0]&&l.jsx(we,{variant:"default",className:"text-xs",children:"Starting"})]}),c[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[0].name}),l.jsx(Ra,{text:c[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>f(c[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(Sn,{className:"h-3 w-3"})})]}):l.jsx(Fm,{traits:m,onSelect:y=>d(y,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",className:"text-xs",children:"Slot 2"}),c[1]&&l.jsx(we,{variant:"default",className:"text-xs",children:"Starting"})]}),c[1]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:c[1].name}),l.jsx(Ra,{text:c[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>f(c[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(Sn,{className:"h-3 w-3"})})]}):l.jsx(Fm,{traits:m,onSelect:y=>d(y,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(we,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&l.jsx(we,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?l.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-sm",children:u[0].name}),l.jsx(Ra,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),l.jsx(te,{variant:"ghost",size:"sm",onClick:()=>f(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:l.jsx(Sn,{className:"h-3 w-3"})})]}):l.jsx(Fm,{traits:m,onSelect:y=>d(y,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function BQ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(c=>`${c.type} ${c.condition||""} ${c.value}`),tags:i.tags,originalTrait:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Wr(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:p.useMemo(()=>o.map(i=>i.item.originalTrait),[o]),searchResults:o,searchableTraits:n}}function eS(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),[c,u]=p.useState("alphabetical"),[d,f]=p.useState("grid");p.useEffect(()=>{async function _(){try{r(!0);const A=await fetch("/lorerim-arcaneum/data/traits.json");if(!A.ok)throw new Error("Failed to fetch trait data");const N=await A.json();t(N.traits)}catch(A){o("Failed to load trait data"),console.error("Error loading traits:",A)}finally{r(!1)}}_()},[]),p.useMemo(()=>e.map(J1),[e]);const m=(()=>{const _=MR(e),A=DR(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:_.map(N=>({id:`category-${N}`,label:N,value:N,category:"Categories",description:`Traits in ${N} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:A.map(N=>({id:`tag-${N}`,label:N,value:N,category:"Tags",description:`Traits tagged with ${N}`}))}]})(),y=_=>{let A;typeof _=="string"?A={id:`custom-${_}`,label:_,value:_,category:"Fuzzy Search"}:A={id:`${_.category}-${_.id}`,label:_.label,value:_.value,category:_.category},s.some(N=>N.value===A.value&&N.category===A.category)||i(N=>[...N,A])},x=_=>{i(A=>A.filter(N=>N.id!==_))},w=e.filter(_=>s.length===0?!0:s.every(A=>{switch(A.category){case"Fuzzy Search":return!0;case"Categories":return _.category===A.value;case"Tags":return _.tags.some(N=>N===A.value);default:return!0}})),v=s.filter(_=>_.category==="Fuzzy Search").map(_=>_.value).join(" "),{filteredTraits:g}=BQ(w,v),S=[...g.map(J1)].sort((_,A)=>{var N,E;switch(c){case"alphabetical":return _.name.localeCompare(A.name);case"category":const j=k=>({combat:1,magic:2,survival:3,social:4,crafting:5,other:6})[k||"other"]||6,C=j(_.category),R=j(A.category);return C!==R?C-R:_.name.localeCompare(A.name);case"effect-count":const I=((N=_.effects)==null?void 0:N.length)||0,B=((E=A.effects)==null?void 0:E.length)||0;return I!==B?B-I:_.name.localeCompare(A.name);default:return 0}});return n?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-destructive mb-4",children:a}),l.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):l.jsxs(Lr,{title:"Traits",description:"Choose your character's traits. Each trait provides unique abilities, bonuses, and sometimes drawbacks that will define your character's strengths and playstyle.",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"flex-1",children:l.jsx(DQ,{categories:m,onSelect:y,onCustomSearch:y})}),l.jsxs(My,{children:[l.jsx(Dy,{asChild:!0,children:l.jsxs(te,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(yt,{className:"h-4 w-4"}),c==="alphabetical"?"A-Z":c==="category"?"Type":"Count"]})}),l.jsxs(zf,{align:"end",children:[l.jsx(Pr,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),l.jsx(Pr,{onClick:()=>u("category"),children:"Category"}),l.jsx(Pr,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),l.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[l.jsx(te,{variant:d==="list"?"default":"ghost",size:"sm",onClick:()=>f("list"),className:"h-8 px-3",title:"List view",children:l.jsx(pc,{className:"h-4 w-4"})}),l.jsx(te,{variant:d==="grid"?"default":"ghost",size:"sm",onClick:()=>f("grid"),className:"h-8 px-3",title:"Grid view",children:l.jsx(mc,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"my-4",children:s.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[l.jsx(Sn,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(_=>l.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>x(_.id),title:"Click to remove",children:[_.label,l.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:"×"})]},_.id))]})}),d==="grid"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:S.map(_=>l.jsx(Q1,{item:_,isSelected:!1},_.id))}):l.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:S.map(_=>l.jsx(Q1,{item:_,isSelected:!1},_.id))}),S.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),l.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function HQ({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r,className:a=""}){const o=p.useMemo(()=>{const s=new Map;e.forEach(h=>{h.path.forEach((m,y)=>{const x=y,w=s.get(m.name);(!w||x<w.level)&&s.set(m.name,{name:m.name,level:x})})});const i=new Set;e.forEach(h=>{h.isComplete&&i.add(h.endNode.name)});const c=Array.from(s.entries()).map(([h,{level:m}])=>({name:h,level:m})).sort((h,m)=>h.level!==m.level?h.level-m.level:h.name.localeCompare(m.name)),u=e.filter(h=>t.length===0?!0:t.every(m=>{const[y,x]=m.value.split(":");return y==="contains"?h.path.some(w=>w.name.toLowerCase().includes(x.toLowerCase())):y==="ends"?h.isComplete&&h.endNode.name.toLowerCase().includes(x.toLowerCase()):!0})),d=new Set;u.forEach(h=>{h.isComplete&&d.add(h.endNode.name)});const f=new Set;return u.forEach(h=>{h.path.forEach((m,y)=>{f.has(m.name)||f.add(m.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:c.filter(({name:h})=>f.has(h)).map(({name:h,level:m})=>({id:`contains-${h}`,label:`${h} (Level ${m})`,value:`contains:${h}`,category:"Contains Node",description:`Paths that include ${h}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(d).sort().map(h=>({id:`ends-${h}`,label:h,value:`ends:${h}`,category:"Ends With Node",description:`Paths that end at ${h}`}))}]},[e,t]);return l.jsxs("div",{className:`space-y-4 ${a}`,children:[l.jsx(Py,{categories:o,onSelect:n,className:"w-full"}),l.jsx(Iy,{tags:t,onRemove:r,className:"justify-start"})]})}function FQ({destinyNodes:e,buildDestinyPath:t,setDestinyPath:n,loading:r,error:a,navigate:o,predictivePaths:s,onBuildPathSelect:i,isNodePlanned:c,onBreadcrumbClick:u,selectedTags:d,onTagSelect:f,onTagRemove:h}){const m=t.map(v=>e.find(g=>g.id===v)).filter(v=>!!v),y=m.length>0?m[m.length-1]:void 0,x=y?e.every(v=>!v.prerequisites.includes(y.name)):!1,w=L.useMemo(()=>s.filter(v=>d.length===0?!0:d.every(g=>{const[b,S]=g.value.split(":");return b==="contains"?v.path.some(_=>_.name.toLowerCase().includes(S.toLowerCase())):b==="ends"?v.isComplete&&v.endNode.name.toLowerCase().includes(S.toLowerCase()):!0})),[s,d]);return l.jsxs(tt,{className:"mb-6",children:[l.jsx(nt,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(ut,{className:"text-lg",children:"Destiny"}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>o("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:"View All"})]})}),l.jsx(qe,{className:"space-y-4",children:r?l.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):a?l.jsx("div",{className:"text-destructive",children:a}):l.jsx(l.Fragment,{children:m.length===0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-muted-foreground font-medium mb-2",children:"Select a node to start building your destiny:"}),l.jsx(zd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:l.jsx(lg,{possiblePaths:w,selectedPath:[],isPlanned:c,onBreadcrumbClick:i})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted transition-colors cursor-pointer",title:"Reset Destiny Path",onClick:()=>n([]),children:l.jsx(F0,{className:"w-4 h-4 text-muted-foreground"})}),l.jsx(wk,{path:m,BreadcrumbHover:(v,g)=>l.jsx(Jy,{node:v,isPlanned:!1,children:g}),onNodeClick:u})]}),l.jsx(Sk,{path:m}),!x&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"my-4 h-px bg-gray-300 dark:bg-gray-600"}),l.jsx(HQ,{predictivePaths:s,selectedTags:d,onTagSelect:f,onTagRemove:h}),l.jsx(zd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:l.jsx(lg,{possiblePaths:w,selectedPath:[],isPlanned:c,onBreadcrumbClick:i})})]})]})})})]})}function UQ(e){const{build:t,setDestinyPath:n}=Zt(),r=t.destinyPath.length===0?[]:t.destinyPath.map(u=>e.find(d=>d.id===u)).filter(u=>!!u),{predictivePaths:a,isNodePlanned:o}=fk({nodes:e,plannedNodes:[],onNodePlan:()=>{},onNodeUnplan:()=>{},initialPath:r});let s=a;if(r.length>0){const u=r[r.length-1];s=a.filter(d=>d.path.length>0&&d.path[0].id===u.id)}return{build:t,selectedDestinyPath:r,filteredPredictivePaths:s,isNodePlanned:o,handleBuildPathSelect:(u,d)=>{const f=u.slice(0,d+1).map(h=>h.id);n(f)},handleBreadcrumbClick:u=>{const d=r.slice(0,u+1).map(f=>f.id);n(d)},setDestinyPath:n}}const GQ=({navigate:e})=>{const[t,n]=p.useState([]),[r,a]=p.useState(!0),[o,s]=p.useState(null);p.useEffect(()=>{async function _(){try{a(!0);const A=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!A.ok)throw new Error("Failed to fetch destiny data");const N=await A.json();n(N.map((E,j)=>({id:E.globalFormId||`destiny-${j}`,name:E.name,description:E.description,tags:[],prerequisites:E.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:E.globalFormId})))}catch{s("Failed to load destiny data")}finally{a(!1)}}_()},[]);const{selectedDestinyPath:i,isNodePlanned:c,handleBuildPathSelect:u,handleBreadcrumbClick:d,build:f,setDestinyPath:h}=UQ(t),m=t.find(_=>_.prerequisites.length===0),y=Nk(t,m);let x=y;i.length>0&&(x=y.filter(_=>i.every((A,N)=>_[N]&&_[N].id===A.id)));function w(_){return t.every(A=>!A.prerequisites.includes(_.name))}const v=x.map(_=>({path:_,isComplete:_.length>0&&w(_[_.length-1]),endNode:_[_.length-1]})),{handleTagSelect:g,handleTagRemove:b,filters:{selectedTags:S}}=ev({onFiltersChange:()=>{},onSearch:()=>{}});return l.jsx(FQ,{selectedPath:i,destinyNodes:t,buildDestinyPath:f.destinyPath,setDestinyPath:h,loading:r,error:o,navigate:e,predictivePaths:v,onBuildPathSelect:u,isNodePlanned:c,onBreadcrumbClick:d,selectedTags:S,onTagSelect:g,onTagRemove:b})};function tS({races:e,onSelect:t,placeholder:n="Search races...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[c,u]=p.useState(-1),d=p.useRef(null),f=p.useRef(null);p.useEffect(()=>{const g=b=>{d.current&&!d.current.contains(b.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=e.filter(g=>{var b;return g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||((b=g.category)==null?void 0:b.toLowerCase().includes(s.toLowerCase()))}),m=g=>{i(g),o(!0),u(-1)},y=g=>{t(g),i(""),o(!1),u(-1)},x=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(b=>Math.min(b+1,h.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(b=>Math.max(b-1,-1))):g.key==="Enter"?(g.preventDefault(),c>=0&&h[c]&&y(h[c])):g.key==="Escape"&&(o(!1),u(-1))},w=()=>{o(!0)},v=()=>{var g;i(""),(g=f.current)==null||g.focus()};return l.jsxs("div",{ref:d,className:`relative ${r}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),l.jsx(Bn,{ref:f,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:w,onKeyDown:x,className:"pl-10 pr-20"}),s&&l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:v,children:l.jsx(Sn,{className:"h-4 w-4"})}),l.jsx(te,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:l.jsx(yt,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:ft.AUTOCOMPLETE+10},children:l.jsx("div",{className:"p-2",children:h.length===0?l.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No races found"}):h.map((g,b)=>l.jsx("button",{onClick:()=>y(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${b===c?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(uR,{raceName:g.name,size:"sm"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium truncate",children:g.name}),l.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.category&&l.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.category}),g.startingStats&&l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/80"}),l.jsx("span",{className:"text-muted-foreground",children:"HP"}),l.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.health})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/80"}),l.jsx("span",{className:"text-muted-foreground",children:"MP"}),l.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.magicka})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/80"}),l.jsx("span",{className:"text-muted-foreground",children:"SP"}),l.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.stamina})]})]})]})]})]})},g.edid))})})]})}function VQ(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>nS(t)):nS(e)}function nS(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return ZQ(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(YQ);case"racialSpells":return Array.isArray(e[n])&&e[n].every(qQ);case"keywords":return Array.isArray(e[n])&&e[n].every(XQ);default:return!0}})}function ZQ(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function YQ(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function qQ(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function XQ(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function KQ(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function WQ(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const o=XW(r);n++,(!o.id||!o.name||!o.category)&&t.push(`Race ${a}: Missing required transformed fields`),o.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(o){t.push(`Race ${a}: Transformation failed - ${o}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const QQ=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],JQ={races:QQ};function eJ(){const[e,t]=p.useState({search:"",type:"",tags:[]}),n=p.useMemo(()=>{const i=JQ.races;if(!VQ({races:i}))return console.error("Invalid race data structure detected"),[];const c=i.map(d=>KQ(d)),u=WQ(c);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),c},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const c=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(d=>d.name),...i.skillBonuses.map(d=>d.skill),...i.keywords.map(d=>Bg(d.edid))].join(" ").toLowerCase().includes(c))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const c=i.keywords.map(h=>Bg(h.edid)),u=i.skillBonuses.map(h=>h.skill),d=i.racialSpells.map(h=>h.name);if(!e.tags.some(h=>c.includes(h)||u.includes(h)||d.includes(h)||i.category===h))return!1}return!0}),[n,e]),a=p.useMemo(()=>KW(n),[n]),o=p.useMemo(()=>WW(n),[n]),s=p.useMemo(()=>QW(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:o,allAbilities:s}}function tJ({className:e}){const{allRaces:t}=eJ(),{build:n,setRace:r}=Zt(),a=fn(),[o,s]=p.useState(!0),i=n.race?t.find(h=>h.edid===n.race):null,c=h=>{r(h.edid)},u=()=>{a("/race")},d=()=>{s(!o)};if(!i)return l.jsxs(Ll,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),l.jsx(tS,{races:t,onSelect:c,placeholder:"Search for a race...",className:"w-full"})]});const f=gR(i);return l.jsxs(Ll,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[l.jsx(tS,{races:t,onSelect:c,placeholder:`Race: Select a race (${i.name})`,className:"w-full"}),l.jsx(Ig,{item:f,originalRace:i,isExpanded:o,onToggle:d,showToggle:!1,className:"border-0 shadow-none"})]})}function nJ({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:r,currentRegularCount:a,currentBonusCount:o,className:s}){const i=e!==2||t!==1;return l.jsxs(s9,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:l.jsx(kl,{className:"h-4 w-4 text-muted-foreground"}),className:s,children:[l.jsx(cw,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(lw,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:a,type:"regular"}),l.jsx(lw,{label:"Late Game Traits Limit",value:t,onChange:r,min:0,max:5,currentCount:o,type:"bonus"})]}),i&&l.jsx(cw,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function rJ({open:e,title:t,message:n,variant:r="warning",confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:c}){return l.jsx(i9,{open:e,title:t,message:n,variant:r,confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:c})}function aJ({open:e,onConfirm:t,onCancel:n}){return l.jsx(rJ,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function oJ({link:e,variant:t="outline",size:n="sm",text:r="Export / Share",onCopied:a,className:o}){return l.jsx(l9,{link:e,variant:t,size:n,text:r,onCopied:a,className:o})}function sJ({onCopied:e,className:t}){const n=window.location.href;return l.jsx(oJ,{link:n,onCopied:e,className:t})}function iJ({build:e,title:t="Build Summary",layout:n="grid",className:r}){const a=u9(e);return l.jsx(c9,{title:t,items:a,layout:n,className:r})}function lJ({name:e,notes:t,onNameChange:n,onNotesChange:r,className:a}){return l.jsxs(tt,{className:`mb-6 ${a||""}`,children:[l.jsx(nt,{children:l.jsx(ut,{children:"Basic Information"})}),l.jsxs(qe,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Rr,{htmlFor:"name",children:"Character Name"}),l.jsx(Bn,{id:"name",value:e,onChange:o=>n(o.target.value),placeholder:"Enter character name..."})]}),l.jsxs("div",{children:[l.jsx(Rr,{htmlFor:"notes",children:"Notes"}),l.jsx("textarea",{id:"notes",value:t,onChange:o=>r(o.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function cJ({onReset:e,className:t}){return l.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${t||""}`,children:[l.jsxs(te,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[l.jsx(F0,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),l.jsx(sJ,{})]})}function uJ(){const{build:e,updateBuild:t}=Zt(),[n,r]=p.useState(e.traitLimits.regular),[a,o]=p.useState(e.traitLimits.bonus),s=p.useCallback(c=>{r(c),t({traitLimits:{...e.traitLimits,regular:c}})},[e.traitLimits,t]),i=p.useCallback(c=>{o(c),t({traitLimits:{...e.traitLimits,bonus:c}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:a,handleRegularLimitChange:s,handleBonusLimitChange:i,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function dJ(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:r}=Zt(),[a,o]=p.useState(!1),s=uJ(),i=fn();return l.jsxs(Lr,{title:"Character Builder",children:[l.jsx(cJ,{onReset:()=>o(!0)}),l.jsx(aJ,{open:a,onConfirm:()=>{r(),o(!1)},onCancel:()=>o(!1)}),l.jsxs(uy,{defaultValue:"build",className:"w-full",children:[l.jsxs(dy,{className:"mb-4",children:[l.jsx(Ml,{value:"build",children:"Build"}),l.jsx(Ml,{value:"config",children:"Config"})]}),l.jsxs(Ed,{value:"build",children:[l.jsx(lJ,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[l.jsx(tJ,{}),l.jsx(y9,{}),l.jsx(IQ,{})]}),l.jsx(GQ,{navigate:i}),l.jsx(iJ,{build:e})]}),l.jsx(Ed,{value:"config",children:l.jsx(nJ,{regularLimit:s.regularLimit,bonusLimit:s.bonusLimit,onRegularLimitChange:s.handleRegularLimitChange,onBonusLimitChange:s.handleBonusLimitChange,currentRegularCount:s.currentRegularCount,currentBonusCount:s.currentBonusCount})})]})]})}function fJ(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(bc,{children:"Crafting"}),l.jsx(Rl,{children:"Plan your crafting recipes and material requirements"})]}),l.jsxs(tt,{children:[l.jsxs(nt,{children:[l.jsx(ut,{children:"Coming Soon"}),l.jsx(Sa,{children:"Crafting system is under development"})]}),l.jsx(qe,{children:l.jsx(Rl,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function hJ(){return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(bc,{children:"Equipment"}),l.jsx(Rl,{children:"Browse and compare weapons, armor, and items"})]}),l.jsxs(tt,{children:[l.jsxs(nt,{children:[l.jsx(ut,{children:"Coming Soon"}),l.jsx(Sa,{children:"Equipment database is under development"})]}),l.jsx(qe,{children:l.jsx(Rl,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const mJ=()=>{const{build:e,getSummary:t}=Zt(),n=fn(),r=t();return!e.name&&!e.race?l.jsxs(tt,{className:"border-dashed border-2 border-muted",children:[l.jsxs(nt,{children:[l.jsx(ut,{className:"text-lg",children:"No Character Build"}),l.jsx(Sa,{children:"Start building your character to see it here"})]}),l.jsx(qe,{children:l.jsx(te,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):l.jsxs(tt,{children:[l.jsxs(nt,{children:[l.jsxs(ut,{className:"text-lg flex items-center justify-between",children:[l.jsx("span",{children:r.name}),l.jsx(te,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),l.jsx(Sa,{children:"Current character build status"})]}),l.jsxs(qe,{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Race:"}),l.jsx(we,{variant:"secondary",className:"ml-2",children:r.race})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),l.jsx(we,{variant:"secondary",className:"ml-2",children:r.stone})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),l.jsx(we,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),l.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[l.jsxs("span",{children:[r.traitCount," traits"]}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:[r.majorSkillCount," major skills"]}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),l.jsx("span",{children:"•"}),l.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function pJ(){return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx(bc,{children:"Welcome to Lorerim Arcaneum"}),l.jsx(kC,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),l.jsx("div",{className:"max-w-md",children:l.jsx(mJ,{})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(tt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(nt,{children:[l.jsxs(ut,{className:"flex items-center gap-2",children:[l.jsx(dl,{className:"h-5 w-5"}),"Player Creation"]}),l.jsx(Sa,{children:"Design your character with races, traits, and birthsigns"})]}),l.jsx(qe,{children:l.jsx(te,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),l.jsxs(tt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(nt,{children:[l.jsxs(ut,{className:"flex items-center gap-2",children:[l.jsx(ma,{className:"h-5 w-5"}),"Equipment"]}),l.jsx(Sa,{children:"Browse and compare weapons, armor, and items"})]}),l.jsx(qe,{children:l.jsx(te,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),l.jsxs(tt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(nt,{children:[l.jsxs(ut,{className:"flex items-center gap-2",children:[l.jsx(F3,{className:"h-5 w-5"}),"Crafting"]}),l.jsx(Sa,{children:"Plan your crafting recipes and material requirements"})]}),l.jsx(qe,{children:l.jsx(te,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),l.jsxs(tt,{className:"hover:shadow-md transition-shadow",children:[l.jsxs(nt,{children:[l.jsxs(ut,{className:"flex items-center gap-2",children:[l.jsx(ul,{className:"h-5 w-5"}),"Skills"]}),l.jsx(Sa,{children:"Explore skill trees and perk combinations"})]}),l.jsx(qe,{children:l.jsx(te,{asChild:!0,variant:"outline",className:"w-full",children:l.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function gJ(){const e=fn();return l.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[l.jsx(bc,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),l.jsx(Tt,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),l.jsx(te,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const yJ=()=>l.jsxs(AO,{children:[l.jsx(Je,{path:"/",element:l.jsx(pJ,{})}),l.jsxs(Je,{path:"/build",element:l.jsx(sP,{}),children:[l.jsx(Je,{index:!0,element:l.jsx(dJ,{})}),l.jsx(Je,{path:"race",element:l.jsx(V1,{})}),l.jsx(Je,{path:"birth-signs",element:l.jsx(vw,{})}),l.jsx(Je,{path:"traits",element:l.jsx(eS,{})}),l.jsx(Je,{path:"religions",element:l.jsx(q1,{})}),l.jsx(Je,{path:"destiny",element:l.jsx(Uw,{})}),l.jsx(Je,{path:"perks",element:l.jsx(G1,{})}),l.jsx(Je,{path:"skills",element:l.jsx(W1,{})})]}),l.jsx(Je,{path:"/race",element:l.jsx(V1,{})}),l.jsx(Je,{path:"/destiny",element:l.jsx(Uw,{})}),l.jsx(Je,{path:"/perks",element:l.jsx(G1,{})}),l.jsx(Je,{path:"/birth-signs",element:l.jsx(vw,{})}),l.jsx(Je,{path:"/traits",element:l.jsx(eS,{})}),l.jsx(Je,{path:"/religions",element:l.jsx(q1,{})}),l.jsx(Je,{path:"/skills",element:l.jsx(W1,{})}),l.jsx(Je,{path:"/equipment",element:l.jsx(hJ,{})}),l.jsx(Je,{path:"/crafting",element:l.jsx(fJ,{})}),l.jsx(Je,{path:"*",element:l.jsx(gJ,{})})]}),zR=p.createContext(void 0);function vJ({children:e}){const[t,n]=p.useState("system"),[r,a]=p.useState("dark");return p.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o)},[]),p.useEffect(()=>{localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,a(o);const s=document.documentElement;o==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]),p.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const i=o.matches?"dark":"light";a(i);const c=document.documentElement;i==="dark"?c.classList.add("dark"):c.classList.remove("dark")}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]),l.jsx(zR.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function xJ(){const e=p.useContext(zR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function bJ(){const{theme:e,setTheme:t}=xJ(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return l.jsx(gb,{className:"h-4 w-4"});case"dark":return l.jsx(oz,{className:"h-4 w-4"});case"system":return l.jsx(rz,{className:"h-4 w-4"});default:return l.jsx(gb,{className:"h-4 w-4"})}};return l.jsxs(te,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function wJ({sidebarCollapsed:e,onToggleSidebar:t}){return l.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:ft.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[l.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:l.jsx(J3,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),l.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),l.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),l.jsx("div",{className:"ml-auto",children:l.jsx(bJ,{})})]})}const SJ=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return l.jsx(o,{ref:a,"data-active":n?"":void 0,className:K("group flex items-center w-full text-left px-3 py-1.5 text-sm rounded transition-colors","hover:bg-skyrim-gold/10 hover:text-skyrim-gold",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-2 border-skyrim-gold font-bold":"text-skyrim-gold/80 border-l-2 border-transparent",e),tabIndex:0,...r})});SJ.displayName="SidebarMenuSubButton";const NJ=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"}]},{label:"Progression",items:[{to:"/destiny",label:"Destiny "},{to:"/perks",label:"Skills and Perks"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]}];function _J({collapsed:e}){const t=fn(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const o=window.location.hash,[s,i]=o.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return l.jsxs(xC,{collapsed:e,children:[l.jsx(SC,{children:!e&&l.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[l.jsx(Z3,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),l.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),l.jsx(bC,{children:NJ.map(a=>l.jsxs(wC,{children:[!e&&l.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),l.jsx(NC,{children:a.items.map(o=>{const s=n===o.to;return l.jsx(EC,{children:l.jsx(_C,{asChild:!0,isActive:s,onClick:()=>r(o.to),tabIndex:0,children:l.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},a.label))}),!e&&l.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[l.jsx(Tt,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),l.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:"⚙️ Settings"})]}),l.jsx(CC,{})]})}function EJ(){const[e,t]=p.useState(!1);return ML(),l.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[l.jsx(wJ,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),l.jsxs("div",{className:"flex flex-1",children:[l.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:ft.SIDEBAR},children:l.jsx(_J,{collapsed:e})}),l.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:l.jsx(yJ,{})})]}),l.jsx(jL,{})]})}function CJ(){return l.jsx(QO,{children:l.jsx(EJ,{})})}d3.createRoot(document.getElementById("root")).render(l.jsx(p.StrictMode,{children:l.jsx(vJ,{children:l.jsx(CJ,{})})}));
