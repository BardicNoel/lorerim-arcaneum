var AM=Object.defineProperty;var TM=(e,t,n)=>t in e?AM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fr=(e,t,n)=>TM(e,typeof t!="symbol"?t+"":t,n);function jM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function pf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var SS={exports:{}},gf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=Symbol.for("react.transitional.element"),DM=Symbol.for("react.fragment");function NS(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:MM,type:e,key:r,ref:t!==void 0?t:null,props:n}}gf.Fragment=DM;gf.jsx=NS;gf.jsxs=NS;SS.exports=gf;var c=SS.exports,kS={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.transitional.element"),zM=Symbol.for("react.portal"),OM=Symbol.for("react.fragment"),PM=Symbol.for("react.strict_mode"),LM=Symbol.for("react.profiler"),$M=Symbol.for("react.consumer"),BM=Symbol.for("react.context"),IM=Symbol.for("react.forward_ref"),HM=Symbol.for("react.suspense"),UM=Symbol.for("react.memo"),ES=Symbol.for("react.lazy"),Jv=Symbol.iterator;function FM(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var _S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CS=Object.assign,AS={};function yi(e,t,n){this.props=e,this.context=t,this.refs=AS,this.updater=n||_S}yi.prototype.isReactComponent={};yi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TS(){}TS.prototype=yi.prototype;function r0(e,t,n){this.props=e,this.context=t,this.refs=AS,this.updater=n||_S}var a0=r0.prototype=new TS;a0.constructor=r0;CS(a0,yi.prototype);a0.isPureReactComponent=!0;var ex=Array.isArray,Ze={H:null,A:null,T:null,S:null,V:null},jS=Object.prototype.hasOwnProperty;function o0(e,t,n,r,a,o){return n=o.ref,{$$typeof:n0,type:e,key:t,ref:n!==void 0?n:null,props:o}}function GM(e,t){return o0(e.type,t,void 0,void 0,void 0,e.props)}function s0(e){return typeof e=="object"&&e!==null&&e.$$typeof===n0}function VM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var tx=/\/+/g;function _h(e,t){return typeof e=="object"&&e!==null&&e.key!=null?VM(""+e.key):t.toString(36)}function nx(){}function ZM(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(nx,nx):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function fs(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n0:case zM:s=!0;break;case ES:return s=e._init,fs(s(e._payload),t,n,r,a)}}if(s)return a=a(e),s=r===""?"."+_h(e,0):r,ex(a)?(n="",s!=null&&(n=s.replace(tx,"$&/")+"/"),fs(a,t,n,"",function(u){return u})):a!=null&&(s0(a)&&(a=GM(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(tx,"$&/")+"/")+s)),t.push(a)),1;s=0;var i=r===""?".":r+":";if(ex(e))for(var l=0;l<e.length;l++)r=e[l],o=i+_h(r,l),s+=fs(r,t,n,o,a);else if(l=FM(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,o=i+_h(r,l++),s+=fs(r,t,n,o,a);else if(o==="object"){if(typeof e.then=="function")return fs(ZM(e),t,n,r,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Vc(e,t,n){if(e==null)return e;var r=[],a=0;return fs(e,r,"","",function(o){return t.call(n,o,a++)}),r}function YM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rx=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qM(){}xe.Children={map:Vc,forEach:function(e,t,n){Vc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vc(e,function(){t++}),t},toArray:function(e){return Vc(e,function(t){return t})||[]},only:function(e){if(!s0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=yi;xe.Fragment=OM;xe.Profiler=LM;xe.PureComponent=r0;xe.StrictMode=PM;xe.Suspense=HM;xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ze;xe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Ze.H.useMemoCache(e)}};xe.cache=function(e){return function(){return e.apply(null,arguments)}};xe.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=CS({},e.props),a=e.key,o=void 0;if(t!=null)for(s in t.ref!==void 0&&(o=void 0),t.key!==void 0&&(a=""+t.key),t)!jS.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];r.children=i}return o0(e.type,a,void 0,void 0,o,r)};xe.createContext=function(e){return e={$$typeof:BM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:$M,_context:e},e};xe.createElement=function(e,t,n){var r,a={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)jS.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var i=Array(s),l=0;l<s;l++)i[l]=arguments[l+2];a.children=i}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return o0(e,o,void 0,void 0,null,a)};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:IM,render:e}};xe.isValidElement=s0;xe.lazy=function(e){return{$$typeof:ES,_payload:{_status:-1,_result:e},_init:YM}};xe.memo=function(e,t){return{$$typeof:UM,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=Ze.T,n={};Ze.T=n;try{var r=e(),a=Ze.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(qM,rx)}catch(o){rx(o)}finally{Ze.T=t}};xe.unstable_useCacheRefresh=function(){return Ze.H.useCacheRefresh()};xe.use=function(e){return Ze.H.use(e)};xe.useActionState=function(e,t,n){return Ze.H.useActionState(e,t,n)};xe.useCallback=function(e,t){return Ze.H.useCallback(e,t)};xe.useContext=function(e){return Ze.H.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e,t){return Ze.H.useDeferredValue(e,t)};xe.useEffect=function(e,t,n){var r=Ze.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};xe.useId=function(){return Ze.H.useId()};xe.useImperativeHandle=function(e,t,n){return Ze.H.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return Ze.H.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Ze.H.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Ze.H.useMemo(e,t)};xe.useOptimistic=function(e,t){return Ze.H.useOptimistic(e,t)};xe.useReducer=function(e,t,n){return Ze.H.useReducer(e,t,n)};xe.useRef=function(e){return Ze.H.useRef(e)};xe.useState=function(e){return Ze.H.useState(e)};xe.useSyncExternalStore=function(e,t,n){return Ze.H.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return Ze.H.useTransition()};xe.version="19.1.0";kS.exports=xe;var p=kS.exports;const P=pf(p),i0=jM({__proto__:null,default:P},[p]);var RS={exports:{}},yf={},MS={exports:{}},DS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,L){var z=j.length;j.push(L);e:for(;0<z;){var M=z-1>>>1,$=j[M];if(0<a($,L))j[M]=L,j[z]=$,z=M;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],z=j.pop();if(z!==L){j[0]=z;e:for(var M=0,$=j.length,I=$>>>1;M<I;){var G=2*(M+1)-1,U=j[G],F=G+1,Z=j[F];if(0>a(U,z))F<$&&0>a(Z,U)?(j[M]=Z,j[F]=z,M=F):(j[M]=U,j[G]=z,M=G);else if(F<$&&0>a(Z,z))j[M]=Z,j[F]=z,M=F;else break e}}return L}function a(j,L){var z=j.sortIndex-L.sortIndex;return z!==0?z:j.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var l=[],u=[],f=1,d=null,h=3,m=!1,x=!1,b=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function w(j){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=j)r(u),L.sortIndex=L.expirationTime,t(l,L);else break;L=n(u)}}function k(j){if(b=!1,w(j),!x)if(n(l)!==null)x=!0,C||(C=!0,B());else{var L=n(u);L!==null&&D(k,L.startTime-j)}}var C=!1,N=-1,E=5,_=-1;function A(){return S?!0:!(e.unstable_now()-_<E)}function R(){if(S=!1,C){var j=e.unstable_now();_=j;var L=!0;try{e:{x=!1,b&&(b=!1,g(N),N=-1),m=!0;var z=h;try{t:{for(w(j),d=n(l);d!==null&&!(d.expirationTime>j&&A());){var M=d.callback;if(typeof M=="function"){d.callback=null,h=d.priorityLevel;var $=M(d.expirationTime<=j);if(j=e.unstable_now(),typeof $=="function"){d.callback=$,w(j),L=!0;break t}d===n(l)&&r(l),w(j)}else r(l);d=n(l)}if(d!==null)L=!0;else{var I=n(u);I!==null&&D(k,I.startTime-j),L=!1}}break e}finally{d=null,h=z,m=!1}L=void 0}}finally{L?B():C=!1}}}var B;if(typeof y=="function")B=function(){y(R)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,T=O.port2;O.port1.onmessage=R,B=function(){T.postMessage(null)}}else B=function(){v(R,0)};function D(j,L){N=v(function(){j(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var z=h;h=L;try{return j()}finally{h=z}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var z=h;h=j;try{return L()}finally{h=z}},e.unstable_scheduleCallback=function(j,L,z){var M=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=z+$,j={id:f++,callback:L,priorityLevel:j,startTime:z,expirationTime:$,sortIndex:-1},z>M?(j.sortIndex=z,t(u,j),n(l)===null&&j===n(u)&&(b?(g(N),N=-1):b=!0,D(k,z-M))):(j.sortIndex=$,t(l,j),x||m||(x=!0,C||(C=!0,B()))),j},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(j){var L=h;return function(){var z=h;h=L;try{return j.apply(this,arguments)}finally{h=z}}}})(DS);MS.exports=DS;var XM=MS.exports,zS={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WM=p;function OS(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _a(){}var Vt={d:{f:_a,r:function(){throw Error(OS(522))},D:_a,C:_a,L:_a,m:_a,X:_a,S:_a,M:_a},p:0,findDOMNode:null},KM=Symbol.for("react.portal");function QM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:KM,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var il=WM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function vf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Vt;Zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(OS(299));return QM(e,t,null,n)};Zt.flushSync=function(e){var t=il.T,n=Vt.p;try{if(il.T=null,Vt.p=2,e)return e()}finally{il.T=t,Vt.p=n,Vt.d.f()}};Zt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Vt.d.C(e,t))};Zt.prefetchDNS=function(e){typeof e=="string"&&Vt.d.D(e)};Zt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=vf(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Vt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n==="script"&&Vt.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Zt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=vf(t.as,t.crossOrigin);Vt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Vt.d.M(e)};Zt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=vf(n,t.crossOrigin);Vt.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Zt.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=vf(t.as,t.crossOrigin);Vt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Vt.d.m(e)};Zt.requestFormReset=function(e){Vt.d.r(e)};Zt.unstable_batchedUpdates=function(e,t){return e(t)};Zt.useFormState=function(e,t,n){return il.H.useFormState(e,t,n)};Zt.useFormStatus=function(){return il.H.useHostTransitionStatus()};Zt.version="19.1.0";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(e){console.error(e)}}PS(),zS.exports=Zt;var ic=zS.exports;const JM=pf(ic);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bt=XM,LS=p,eD=ic;function X(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function $S(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ax(e){if(lc(e)!==e)throw Error(X(188))}function tD(e){var t=e.alternate;if(!t){if(t=lc(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return ax(a),e;if(o===r)return ax(a),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,i=a.child;i;){if(i===n){s=!0,n=a,r=o;break}if(i===r){s=!0,r=a,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=a;break}if(i===r){s=!0,r=o,n=a;break}i=i.sibling}if(!s)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function IS(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=IS(e),t!==null)return t;e=e.sibling}return null}var Ge=Object.assign,nD=Symbol.for("react.element"),Zc=Symbol.for("react.transitional.element"),Ki=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),rD=Symbol.for("react.provider"),US=Symbol.for("react.consumer"),Wr=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),op=Symbol.for("react.activity"),aD=Symbol.for("react.memo_cache_sentinel"),ox=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var oD=Symbol.for("react.client.reference");function sp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===oD?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xs:return"Fragment";case np:return"Profiler";case HS:return"StrictMode";case rp:return"Suspense";case ap:return"SuspenseList";case op:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ki:return"Portal";case Wr:return(e.displayName||"Context")+".Provider";case US:return(e._context.displayName||"Context")+".Consumer";case l0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c0:return t=e.displayName||null,t!==null?t:sp(e.type)||"Memo";case Ma:t=e._payload,e=e._init;try{return sp(e(t))}catch{}}return null}var Qi=Array.isArray,he=LS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Re=eD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_o={pending:!1,data:null,method:null,action:null},ip=[],bs=-1;function Tr(e){return{current:e}}function Ct(e){0>bs||(e.current=ip[bs],ip[bs]=null,bs--)}function Ye(e,t){bs++,ip[bs]=e.current,e.current=t}var wr=Tr(null),El=Tr(null),Xa=Tr(null),id=Tr(null);function ld(e,t){switch(Ye(Xa,t),Ye(El,e),Ye(wr,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ub(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ub(t),e=oE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ct(wr),Ye(wr,e)}function Ws(){Ct(wr),Ct(El),Ct(Xa)}function lp(e){e.memoizedState!==null&&Ye(id,e);var t=wr.current,n=oE(t,e.type);t!==n&&(Ye(El,e),Ye(wr,n))}function cd(e){El.current===e&&(Ct(wr),Ct(El)),id.current===e&&(Ct(id),Ol._currentValue=_o)}var cp=Object.prototype.hasOwnProperty,u0=bt.unstable_scheduleCallback,Ch=bt.unstable_cancelCallback,sD=bt.unstable_shouldYield,iD=bt.unstable_requestPaint,Sr=bt.unstable_now,lD=bt.unstable_getCurrentPriorityLevel,FS=bt.unstable_ImmediatePriority,GS=bt.unstable_UserBlockingPriority,ud=bt.unstable_NormalPriority,cD=bt.unstable_LowPriority,VS=bt.unstable_IdlePriority,uD=bt.log,dD=bt.unstable_setDisableYieldValue,cc=null,xn=null;function Fa(e){if(typeof uD=="function"&&dD(e),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(cc,e)}catch{}}var bn=Math.clz32?Math.clz32:mD,fD=Math.log,hD=Math.LN2;function mD(e){return e>>>=0,e===0?32:31-(fD(e)/hD|0)|0}var Yc=256,qc=4194304;function vo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xf(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var a=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var i=r&134217727;return i!==0?(r=i&~o,r!==0?a=vo(r):(s&=i,s!==0?a=vo(s):n||(n=i&~e,n!==0&&(a=vo(n))))):(i=r&~o,i!==0?a=vo(i):s!==0?a=vo(s):n||(n=r&~e,n!==0&&(a=vo(n)))),a===0?0:t!==0&&t!==a&&!(t&o)&&(o=a&-a,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:a}function uc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function pD(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZS(){var e=Yc;return Yc<<=1,!(Yc&4194048)&&(Yc=256),e}function YS(){var e=qc;return qc<<=1,!(qc&62914560)&&(qc=4194304),e}function Ah(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function dc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gD(e,t,n,r,a,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var f=31-bn(n),d=1<<f;i[f]=0,l[f]=-1;var h=u[f];if(h!==null)for(u[f]=null,f=0;f<h.length;f++){var m=h[f];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&qS(e,r,0),o!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function qS(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-bn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function XS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function d0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function f0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function WS(){var e=Re.p;return e!==0?e:(e=window.event,e===void 0?32:pE(e.type))}function yD(e,t){var n=Re.p;try{return Re.p=e,t()}finally{Re.p=n}}var co=Math.random().toString(36).slice(2),Bt="__reactFiber$"+co,rn="__reactProps$"+co,vi="__reactContainer$"+co,up="__reactEvents$"+co,vD="__reactListeners$"+co,xD="__reactHandles$"+co,sx="__reactResources$"+co,fc="__reactMarker$"+co;function h0(e){delete e[Bt],delete e[rn],delete e[up],delete e[vD],delete e[xD]}function ws(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hb(e);e!==null;){if(n=e[Bt])return n;e=hb(e)}return t}e=n,n=e.parentNode}return null}function xi(e){if(e=e[Bt]||e[vi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(X(33))}function Ds(e){var t=e[sx];return t||(t=e[sx]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Nt(e){e[fc]=!0}var KS=new Set,QS={};function Zo(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(QS[e]=t,e=0;e<t.length;e++)KS.add(t[e])}var bD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ix={},lx={};function wD(e){return cp.call(lx,e)?!0:cp.call(ix,e)?!1:bD.test(e)?lx[e]=!0:(ix[e]=!0,!1)}function Pu(e,t,n){if(wD(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Xc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ur(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Th,cx;function hs(e){if(Th===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Th=t&&t[1]||"",cx=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Th+e+cx}var jh=!1;function Rh(e,t){if(!e||jh)return"";jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var h=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){h=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){h=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],i=o[1];if(s&&i){var l=s.split(`
`),u=i.split(`
`);for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===u.length)for(r=l.length-1,a=u.length-1;1<=r&&0<=a&&l[r]!==u[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==u[a]){if(r!==1||a!==1)do if(r--,a--,0>a||l[r]!==u[a]){var f=`
`+l[r].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=r&&0<=a);break}}}finally{jh=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?hs(n):""}function SD(e){switch(e.tag){case 26:case 27:case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return Rh(e.type,!1);case 11:return Rh(e.type.render,!1);case 1:return Rh(e.type,!0);case 31:return hs("Activity");default:return""}}function ux(e){try{var t="";do t+=SD(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ND(e){var t=JS(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dd(e){e._valueTracker||(e._valueTracker=ND(e))}function eN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=JS(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kD=/[\n"\\]/g;function Pn(e){return e.replace(kD,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function dp(e,t,n,r,a,o,s,i){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dn(t)):e.value!==""+Dn(t)&&(e.value=""+Dn(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?fp(e,s,Dn(t)):n!=null?fp(e,s,Dn(n)):r!=null&&e.removeAttribute("value"),a==null&&o!=null&&(e.defaultChecked=!!o),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.name=""+Dn(i):e.removeAttribute("name")}function tN(e,t,n,r,a,o,s,i){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;n=n!=null?""+Dn(n):"",t=t!=null?""+Dn(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s)}function fp(e,t,n){t==="number"&&fd(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function zs(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function nN(e,t,n){if(t!=null&&(t=""+Dn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Dn(n):""}function rN(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(X(92));if(Qi(r)){if(1<r.length)throw Error(X(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=Dn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function Qs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ED=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dx(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||ED.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function aN(e,t,n){if(t!=null&&typeof t!="object")throw Error(X(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&dx(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&dx(e,o,t[o])}function m0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _D=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lu(e){return CD.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var hp=null;function p0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Os=null;function fx(e){var t=xi(e);if(t&&(e=t.stateNode)){var n=e[rn]||null;e:switch(e=t.stateNode,t.type){case"input":if(dp(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Pn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[rn]||null;if(!a)throw Error(X(90));dp(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&eN(r)}break e;case"textarea":nN(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&zs(e,!!n.multiple,t,!1)}}}var Mh=!1;function oN(e,t,n){if(Mh)return e(t,n);Mh=!0;try{var r=e(t);return r}finally{if(Mh=!1,(Ss!==null||Os!==null)&&(Tf(),Ss&&(t=Ss,e=Os,Os=Ss=null,fx(t),e)))for(t=0;t<e.length;t++)fx(e[t])}}function _l(e,t){var n=e.stateNode;if(n===null)return null;var r=n[rn]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=!1;if(la)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){mp=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{mp=!1}var Ga=null,g0=null,$u=null;function sN(){if($u)return $u;var e,t=g0,n=t.length,r,a="value"in Ga?Ga.value:Ga.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return $u=a.slice(e,1<r?1-r:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wc(){return!0}function hx(){return!1}function on(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wc:hx,this.isPropagationStopped=hx,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bf=on(Yo),hc=Ge({},Yo,{view:0,detail:0}),AD=on(hc),Dh,zh,Oi,wf=Ge({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(Dh=e.screenX-Oi.screenX,zh=e.screenY-Oi.screenY):zh=Dh=0,Oi=e),Dh)},movementY:function(e){return"movementY"in e?e.movementY:zh}}),mx=on(wf),TD=Ge({},wf,{dataTransfer:0}),jD=on(TD),RD=Ge({},hc,{relatedTarget:0}),Oh=on(RD),MD=Ge({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),DD=on(MD),zD=Ge({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OD=on(zD),PD=Ge({},Yo,{data:0}),px=on(PD),LD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$D={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ID(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BD[e])?!!t[e]:!1}function y0(){return ID}var HD=Ge({},hc,{key:function(e){if(e.key){var t=LD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$D[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UD=on(HD),FD=Ge({},wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gx=on(FD),GD=Ge({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),VD=on(GD),ZD=Ge({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YD=on(ZD),qD=Ge({},wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XD=on(qD),WD=Ge({},Yo,{newState:0,oldState:0}),KD=on(WD),QD=[9,13,27,32],v0=la&&"CompositionEvent"in window,ll=null;la&&"documentMode"in document&&(ll=document.documentMode);var JD=la&&"TextEvent"in window&&!ll,iN=la&&(!v0||ll&&8<ll&&11>=ll),yx=" ",vx=!1;function lN(e,t){switch(e){case"keyup":return QD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ns=!1;function e3(e,t){switch(e){case"compositionend":return cN(t);case"keypress":return t.which!==32?null:(vx=!0,yx);case"textInput":return e=t.data,e===yx&&vx?null:e;default:return null}}function t3(e,t){if(Ns)return e==="compositionend"||!v0&&lN(e,t)?(e=sN(),$u=g0=Ga=null,Ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iN&&t.locale!=="ko"?null:t.data;default:return null}}var n3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n3[e.type]:t==="textarea"}function uN(e,t,n,r){Ss?Os?Os.push(r):Os=[r]:Ss=r,t=jd(t,"onChange"),0<t.length&&(n=new bf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cl=null,Cl=null;function r3(e){nE(e,0)}function Sf(e){var t=Ji(e);if(eN(t))return e}function bx(e,t){if(e==="change")return t}var dN=!1;if(la){var Ph;if(la){var Lh="oninput"in document;if(!Lh){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),Lh=typeof wx.oninput=="function"}Ph=Lh}else Ph=!1;dN=Ph&&(!document.documentMode||9<document.documentMode)}function Sx(){cl&&(cl.detachEvent("onpropertychange",fN),Cl=cl=null)}function fN(e){if(e.propertyName==="value"&&Sf(Cl)){var t=[];uN(t,Cl,e,p0(e)),oN(r3,t)}}function a3(e,t,n){e==="focusin"?(Sx(),cl=t,Cl=n,cl.attachEvent("onpropertychange",fN)):e==="focusout"&&Sx()}function o3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sf(Cl)}function s3(e,t){if(e==="click")return Sf(t)}function i3(e,t){if(e==="input"||e==="change")return Sf(t)}function l3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:l3;function Al(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!cp.call(t,a)||!kn(e[a],t[a]))return!1}return!0}function Nx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kx(e,t){var n=Nx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nx(n)}}function hN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mN(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=fd(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fd(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var c3=la&&"documentMode"in document&&11>=document.documentMode,ks=null,pp=null,ul=null,gp=!1;function Ex(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gp||ks==null||ks!==fd(r)||(r=ks,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ul&&Al(ul,r)||(ul=r,r=jd(pp,"onSelect"),0<r.length&&(t=new bf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ks)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Es={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionrun:mo("Transition","TransitionRun"),transitionstart:mo("Transition","TransitionStart"),transitioncancel:mo("Transition","TransitionCancel"),transitionend:mo("Transition","TransitionEnd")},$h={},pN={};la&&(pN=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function qo(e){if($h[e])return $h[e];if(!Es[e])return e;var t=Es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pN)return $h[e]=t[n];return e}var gN=qo("animationend"),yN=qo("animationiteration"),vN=qo("animationstart"),u3=qo("transitionrun"),d3=qo("transitionstart"),f3=qo("transitioncancel"),xN=qo("transitionend"),bN=new Map,yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yp.push("scrollEnd");function or(e,t){bN.set(e,t),Zo(t,[e])}var _x=new WeakMap;function Ln(e,t){if(typeof e=="object"&&e!==null){var n=_x.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ux(t)},_x.set(e,t),t)}return{value:e,source:t,stack:ux(t)}}var Mn=[],_s=0,b0=0;function Nf(){for(var e=_s,t=b0=_s=0;t<e;){var n=Mn[t];Mn[t++]=null;var r=Mn[t];Mn[t++]=null;var a=Mn[t];Mn[t++]=null;var o=Mn[t];if(Mn[t++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}o!==0&&wN(n,a,o)}}function kf(e,t,n,r){Mn[_s++]=e,Mn[_s++]=t,Mn[_s++]=n,Mn[_s++]=r,b0|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function w0(e,t,n,r){return kf(e,t,n,r),hd(e)}function bi(e,t){return kf(e,null,null,t),hd(e)}function wN(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var a=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(a=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,a&&t!==null&&(a=31-bn(n),e=o.hiddenUpdates,r=e[a],r===null?e[a]=[t]:r.push(t),t.lane=n|536870912),o):null}function hd(e){if(50<bl)throw bl=0,$p=null,Error(X(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cs={};function h3(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,t,n,r){return new h3(e,t,n,r)}function S0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ra(e,t){var n=e.alternate;return n===null?(n=vn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function SN(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Iu(e,t,n,r,a,o){var s=0;if(r=e,typeof e=="function")S0(e)&&(s=1);else if(typeof e=="string")s=p4(e,n,wr.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case op:return e=vn(31,n,t,a),e.elementType=op,e.lanes=o,e;case xs:return Co(n.children,a,o,t);case HS:s=8,a|=24;break;case np:return e=vn(12,n,t,a|2),e.elementType=np,e.lanes=o,e;case rp:return e=vn(13,n,t,a),e.elementType=rp,e.lanes=o,e;case ap:return e=vn(19,n,t,a),e.elementType=ap,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rD:case Wr:s=10;break e;case US:s=9;break e;case l0:s=11;break e;case c0:s=14;break e;case Ma:s=16,r=null;break e}s=29,n=Error(X(130,e===null?"null":typeof e,"")),r=null}return t=vn(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Co(e,t,n,r){return e=vn(7,e,r,t),e.lanes=n,e}function Bh(e,t,n){return e=vn(6,e,null,t),e.lanes=n,e}function Ih(e,t,n){return t=vn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var As=[],Ts=0,md=null,pd=0,zn=[],On=0,Ao=null,Kr=1,Qr="";function xo(e,t){As[Ts++]=pd,As[Ts++]=md,md=e,pd=t}function NN(e,t,n){zn[On++]=Kr,zn[On++]=Qr,zn[On++]=Ao,Ao=e;var r=Kr;e=Qr;var a=32-bn(r)-1;r&=~(1<<a),n+=1;var o=32-bn(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Kr=1<<32-bn(t)+a|n<<a|r,Qr=o+e}else Kr=1<<o|n<<a|r,Qr=e}function N0(e){e.return!==null&&(xo(e,1),NN(e,1,0))}function k0(e){for(;e===md;)md=As[--Ts],As[Ts]=null,pd=As[--Ts],As[Ts]=null;for(;e===Ao;)Ao=zn[--On],zn[On]=null,Qr=zn[--On],zn[On]=null,Kr=zn[--On],zn[On]=null}var Gt=null,tt=null,je=!1,To=null,gr=!1,vp=Error(X(519));function Oo(e){var t=Error(X(418,""));throw Tl(Ln(t,e)),vp}function Cx(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Bt]=e,t[rn]=r,n){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(n=0;n<Ml.length;n++)ke(Ml[n],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),tN(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dd(t);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),rN(t,r.value,r.defaultValue,r.children),dd(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||aE(t.textContent,n)?(r.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),r.onScroll!=null&&ke("scroll",t),r.onScrollEnd!=null&&ke("scrollend",t),r.onClick!=null&&(t.onclick=Mf),t=!0):t=!1,t||Oo(e)}function Ax(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:Gt=Gt.return}}function Pi(e){if(e!==Gt)return!1;if(!je)return Ax(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Gp(e.type,e.memoizedProps)),n=!n),n&&tt&&Oo(e),Ax(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){tt=Qn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}tt=null}}else t===27?(t=tt,uo(e.type)?(e=Yp,Yp=null,tt=e):tt=t):tt=Gt?Qn(e.stateNode.nextSibling):null;return!0}function mc(){tt=Gt=null,je=!1}function Tx(){var e=To;return e!==null&&(en===null?en=e:en.push.apply(en,e),To=null),e}function Tl(e){To===null?To=[e]:To.push(e)}var xp=Tr(null),Xo=null,Jr=null;function Pa(e,t,n){Ye(xp,t._currentValue),t._currentValue=n}function aa(e){e._currentValue=xp.current,Ct(xp)}function bp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wp(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;e:for(;o!==null;){var i=o;o=a;for(var l=0;l<t.length;l++)if(i.context===t[l]){o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),bp(o.return,n,e),r||(s=null);break e}o=i.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(X(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),bp(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function pc(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(X(387));if(s=s.memoizedProps,s!==null){var i=a.type;kn(a.pendingProps.value,s.value)||(e!==null?e.push(i):e=[i])}}else if(a===id.current){if(s=a.alternate,s===null)throw Error(X(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ol):e=[Ol])}a=a.return}e!==null&&wp(t,e,n,r),t.flags|=262144}function gd(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Po(e){Xo=e,Jr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return kN(Xo,e)}function Kc(e,t){return Xo===null&&Po(e),kN(e,t)}function kN(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Jr===null){if(e===null)throw Error(X(308));Jr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Jr=Jr.next=t;return n}var m3=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},p3=bt.unstable_scheduleCallback,g3=bt.unstable_NormalPriority,yt={$$typeof:Wr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E0(){return{controller:new m3,data:new Map,refCount:0}}function gc(e){e.refCount--,e.refCount===0&&p3(g3,function(){e.controller.abort()})}var dl=null,Sp=0,Js=0,Ps=null;function y3(e,t){if(dl===null){var n=dl=[];Sp=0,Js=q0(),Ps={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Sp++,t.then(jx,jx),t}function jx(){if(--Sp===0&&dl!==null){Ps!==null&&(Ps.status="fulfilled");var e=dl;dl=null,Js=0,Ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function v3(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var Rx=he.S;he.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&y3(e,t),Rx!==null&&Rx(e,t)};var jo=Tr(null);function _0(){var e=jo.current;return e!==null?e:Ue.pooledCache}function Hu(e,t){t===null?Ye(jo,jo.current):Ye(jo,t.pool)}function EN(){var e=_0();return e===null?null:{parent:yt._currentValue,pool:e}}var yc=Error(X(460)),_N=Error(X(474)),Ef=Error(X(542)),Np={then:function(){}};function Mx(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qc(){}function CN(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Qc,Qc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zx(e),e;default:if(typeof t.status=="string")t.then(Qc,Qc);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(X(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=r}},function(r){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zx(e),e}throw fl=t,yc}}var fl=null;function Dx(){if(fl===null)throw Error(X(459));var e=fl;return fl=null,e}function zx(e){if(e===yc||e===Ef)throw Error(X(483))}var Da=!1;function C0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=hd(e),wN(e,null,n),t}return kf(e,r,t,n),hd(e)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,XS(e,n)}}function Hh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ep=!1;function ml(){if(Ep){var e=Ps;if(e!==null)throw e}}function pl(e,t,n,r){Ep=!1;var a=e.updateQueue;Da=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var l=i,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,i=f.lastBaseUpdate,i!==s&&(i===null?f.firstBaseUpdate=u:i.next=u,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;s=0,f=u=l=null,i=o;do{var h=i.lane&-536870913,m=h!==i.lane;if(m?(Te&h)===h:(r&h)===h){h!==0&&h===Js&&(Ep=!0),f!==null&&(f=f.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var x=e,b=i;h=t;var S=n;switch(b.tag){case 1:if(x=b.payload,typeof x=="function"){d=x.call(S,d,h);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(S,d,h):x,h==null)break e;d=Ge({},d,h);break e;case 2:Da=!0}}h=i.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},f===null?(u=f=m,l=d):f=f.next=m,s|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;m=i,i=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=f,o===null&&(a.shared.lanes=0),so|=s,e.lanes=s,e.memoizedState=d}}function AN(e,t){if(typeof e!="function")throw Error(X(191,e));e.call(t)}function TN(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)AN(n[e],t)}var ei=Tr(null),yd=Tr(0);function Ox(e,t){e=da,Ye(yd,e),Ye(ei,t),da=e|t.baseLanes}function _p(){Ye(yd,da),Ye(ei,ei.current)}function A0(){da=yd.current,Ct(ei),Ct(yd)}var ao=0,we=null,Be=null,ut=null,vd=!1,Ls=!1,Lo=!1,xd=0,jl=0,$s=null,x3=0;function st(){throw Error(X(321))}function T0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kn(e[n],t[n]))return!1;return!0}function j0(e,t,n,r,a,o){return ao=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,he.H=e===null||e.memoizedState===null?sk:ik,Lo=!1,o=n(r,a),Lo=!1,Ls&&(o=RN(t,n,r,a)),jN(e),o}function jN(e){he.H=bd;var t=Be!==null&&Be.next!==null;if(ao=0,ut=Be=we=null,vd=!1,jl=0,$s=null,t)throw Error(X(300));e===null||kt||(e=e.dependencies,e!==null&&gd(e)&&(kt=!0))}function RN(e,t,n,r){we=e;var a=0;do{if(Ls&&($s=null),jl=0,Ls=!1,25<=a)throw Error(X(301));if(a+=1,ut=Be=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}he.H=_3,o=t(n,r)}while(Ls);return o}function b3(){var e=he.H,t=e.useState()[0];return t=typeof t.then=="function"?vc(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(we.flags|=1024),t}function R0(){var e=xd!==0;return xd=0,e}function M0(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function D0(e){if(vd){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vd=!1}ao=0,ut=Be=we=null,Ls=!1,jl=xd=0,$s=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?we.memoizedState=ut=e:ut=ut.next=e,ut}function ht(){if(Be===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=ut===null?we.memoizedState:ut.next;if(t!==null)ut=t,Be=e;else{if(e===null)throw we.alternate===null?Error(X(467)):Error(X(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},ut===null?we.memoizedState=ut=e:ut=ut.next=e}return ut}function z0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(e){var t=jl;return jl+=1,$s===null&&($s=[]),e=CN($s,e,t),t=we,(ut===null?t.memoizedState:ut.next)===null&&(t=t.alternate,he.H=t===null||t.memoizedState===null?sk:ik),e}function _f(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vc(e);if(e.$$typeof===Wr)return It(e)}throw Error(X(438,String(e)))}function O0(e){var t=null,n=we.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=z0(),we.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=aD;return t.index++,n}function ca(e,t){return typeof t=="function"?t(e):t}function Uu(e){var t=ht();return P0(t,Be,e)}function P0(e,t,n){var r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var i=s=null,l=null,u=t,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Te&d)===d:(ao&d)===d){var h=u.revertLane;if(h===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Js&&(f=!0);else if((ao&h)===h){u=u.next,h===Js&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(i=l=d,s=o):l=l.next=d,we.lanes|=h,so|=h;d=u.action,Lo&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else h={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(i=l=h,s=o):l=l.next=h,we.lanes|=d,so|=d;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=i,!kn(o,e.memoizedState)&&(kt=!0,f&&(n=Ps,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Uh(e){var t=ht(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);kn(o,t.memoizedState)||(kt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function MN(e,t,n){var r=we,a=ht(),o=je;if(o){if(n===void 0)throw Error(X(407));n=n()}else n=t();var s=!kn((Be||a).memoizedState,n);s&&(a.memoizedState=n,kt=!0),a=a.queue;var i=ON.bind(null,r,a,e);if(xc(2048,8,i,[e]),a.getSnapshot!==t||s||ut!==null&&ut.memoizedState.tag&1){if(r.flags|=2048,ti(9,Cf(),zN.bind(null,r,a,n,t),null),Ue===null)throw Error(X(349));o||ao&124||DN(r,t,n)}return n}function DN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t=z0(),we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zN(e,t,n,r){t.value=n,t.getSnapshot=r,PN(t)&&LN(e)}function ON(e,t,n){return n(function(){PN(t)&&LN(e)})}function PN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kn(e,n)}catch{return!0}}function LN(e){var t=bi(e,2);t!==null&&Sn(t,e,2)}function Cp(e){var t=Qt();if(typeof e=="function"){var n=e;if(e=n(),Lo){Fa(!0);try{n()}finally{Fa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e},t}function $N(e,t,n,r){return e.baseState=n,P0(e,Be,typeof r=="function"?r:ca)}function w3(e,t,n,r,a){if(Af(e))throw Error(X(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};he.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,BN(t,o)):(o.next=n.next,t.pending=n.next=o)}}function BN(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var o=he.T,s={};he.T=s;try{var i=n(a,r),l=he.S;l!==null&&l(s,i),Px(e,t,i)}catch(u){Ap(e,t,u)}finally{he.T=o}}else try{o=n(a,r),Px(e,t,o)}catch(u){Ap(e,t,u)}}function Px(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Lx(e,t,r)},function(r){return Ap(e,t,r)}):Lx(e,t,n)}function Lx(e,t,n){t.status="fulfilled",t.value=n,IN(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,BN(e,n)))}function Ap(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,IN(t),t=t.next;while(t!==r)}e.action=null}function IN(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function HN(e,t){return t}function $x(e,t){if(je){var n=Ue.formState;if(n!==null){e:{var r=we;if(je){if(tt){t:{for(var a=tt,o=gr;a.nodeType!==8;){if(!o){a=null;break t}if(a=Qn(a.nextSibling),a===null){a=null;break t}}o=a.data,a=o==="F!"||o==="F"?a:null}if(a){tt=Qn(a.nextSibling),r=a.data==="F!";break e}}Oo(r)}r=!1}r&&(t=n[0])}}return n=Qt(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:HN,lastRenderedState:t},n.queue=r,n=rk.bind(null,we,r),r.dispatch=n,r=Cp(!1),o=I0.bind(null,we,!1,r.queue),r=Qt(),a={state:t,dispatch:null,action:e,pending:null},r.queue=a,n=w3.bind(null,we,a,o,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Bx(e){var t=ht();return UN(t,Be,e)}function UN(e,t,n){if(t=P0(e,t,HN)[0],e=Uu(ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=vc(t)}catch(s){throw s===yc?Ef:s}else r=t;t=ht();var a=t.queue,o=a.dispatch;return n!==t.memoizedState&&(we.flags|=2048,ti(9,Cf(),S3.bind(null,a,n),null)),[r,o,e]}function S3(e,t){e.action=t}function Ix(e){var t=ht(),n=Be;if(n!==null)return UN(t,n,e);ht(),t=t.memoizedState,n=ht();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ti(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=we.updateQueue,t===null&&(t=z0(),we.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Cf(){return{destroy:void 0,resource:void 0}}function FN(){return ht().memoizedState}function Fu(e,t,n,r){var a=Qt();r=r===void 0?null:r,we.flags|=e,a.memoizedState=ti(1|t,Cf(),n,r)}function xc(e,t,n,r){var a=ht();r=r===void 0?null:r;var o=a.memoizedState.inst;Be!==null&&r!==null&&T0(r,Be.memoizedState.deps)?a.memoizedState=ti(t,o,n,r):(we.flags|=e,a.memoizedState=ti(1|t,o,n,r))}function Hx(e,t){Fu(8390656,8,e,t)}function GN(e,t){xc(2048,8,e,t)}function VN(e,t){return xc(4,2,e,t)}function ZN(e,t){return xc(4,4,e,t)}function YN(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qN(e,t,n){n=n!=null?n.concat([e]):null,xc(4,4,YN.bind(null,t,e),n)}function L0(){}function XN(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&T0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function WN(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&T0(t,r[1]))return r[0];if(r=e(),Lo){Fa(!0);try{e()}finally{Fa(!1)}}return n.memoizedState=[r,t],r}function $0(e,t,n){return n===void 0||ao&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Ik(),we.lanes|=e,so|=e,n)}function KN(e,t,n,r){return kn(n,t)?n:ei.current!==null?(e=$0(e,n,r),kn(e,t)||(kt=!0),e):ao&42?(e=Ik(),we.lanes|=e,so|=e,t):(kt=!0,e.memoizedState=n)}function QN(e,t,n,r,a){var o=Re.p;Re.p=o!==0&&8>o?o:8;var s=he.T,i={};he.T=i,I0(e,!1,t,n);try{var l=a(),u=he.S;if(u!==null&&u(i,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=v3(l,r);gl(e,t,f,wn(e))}else gl(e,t,r,wn(e))}catch(d){gl(e,t,{then:function(){},status:"rejected",reason:d},wn())}finally{Re.p=o,he.T=s}}function N3(){}function Tp(e,t,n,r){if(e.tag!==5)throw Error(X(476));var a=JN(e).queue;QN(e,a,t,_o,n===null?N3:function(){return ek(e),n(r)})}function JN(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:_o,baseState:_o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:_o},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ek(e){var t=JN(e).next.queue;gl(e,t,{},wn())}function B0(){return It(Ol)}function tk(){return ht().memoizedState}function nk(){return ht().memoizedState}function k3(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=wn();e=Wa(n);var r=Ka(t,e,n);r!==null&&(Sn(r,t,n),hl(r,t,n)),t={cache:E0()},e.payload=t;return}t=t.return}}function E3(e,t,n){var r=wn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Af(e)?ak(t,n):(n=w0(e,t,n,r),n!==null&&(Sn(n,e,r),ok(n,t,r)))}function rk(e,t,n){var r=wn();gl(e,t,n,r)}function gl(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Af(e))ak(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(a.hasEagerState=!0,a.eagerState=i,kn(i,s))return kf(e,t,a,0),Ue===null&&Nf(),!1}catch{}finally{}if(n=w0(e,t,a,r),n!==null)return Sn(n,e,r),ok(n,t,r),!0}return!1}function I0(e,t,n,r){if(r={lane:2,revertLane:q0(),action:r,hasEagerState:!1,eagerState:null,next:null},Af(e)){if(t)throw Error(X(479))}else t=w0(e,n,r,2),t!==null&&Sn(t,e,2)}function Af(e){var t=e.alternate;return e===we||t!==null&&t===we}function ak(e,t){Ls=vd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ok(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,XS(e,n)}}var bd={readContext:It,use:_f,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st},sk={readContext:It,use:_f,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:Hx,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Fu(4194308,4,YN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fu(4194308,4,e,t)},useInsertionEffect:function(e,t){Fu(4,2,e,t)},useMemo:function(e,t){var n=Qt();t=t===void 0?null:t;var r=e();if(Lo){Fa(!0);try{e()}finally{Fa(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Qt();if(n!==void 0){var a=n(t);if(Lo){Fa(!0);try{n(t)}finally{Fa(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=E3.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Cp(e);var t=e.queue,n=rk.bind(null,we,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:L0,useDeferredValue:function(e,t){var n=Qt();return $0(n,e,t)},useTransition:function(){var e=Cp(!1);return e=QN.bind(null,we,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=we,a=Qt();if(je){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Ue===null)throw Error(X(349));Te&124||DN(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Hx(ON.bind(null,r,o,e),[e]),r.flags|=2048,ti(9,Cf(),zN.bind(null,r,o,n,t),null),n},useId:function(){var e=Qt(),t=Ue.identifierPrefix;if(je){var n=Qr,r=Kr;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,t=""+t+"R"+n,n=xd++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=x3++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:B0,useFormState:$x,useActionState:$x,useOptimistic:function(e){var t=Qt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=I0.bind(null,we,!0,n),n.dispatch=t,[e,t]},useMemoCache:O0,useCacheRefresh:function(){return Qt().memoizedState=k3.bind(null,we)}},ik={readContext:It,use:_f,useCallback:XN,useContext:It,useEffect:GN,useImperativeHandle:qN,useInsertionEffect:VN,useLayoutEffect:ZN,useMemo:WN,useReducer:Uu,useRef:FN,useState:function(){return Uu(ca)},useDebugValue:L0,useDeferredValue:function(e,t){var n=ht();return KN(n,Be.memoizedState,e,t)},useTransition:function(){var e=Uu(ca)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:vc(e),t]},useSyncExternalStore:MN,useId:tk,useHostTransitionStatus:B0,useFormState:Bx,useActionState:Bx,useOptimistic:function(e,t){var n=ht();return $N(n,Be,e,t)},useMemoCache:O0,useCacheRefresh:nk},_3={readContext:It,use:_f,useCallback:XN,useContext:It,useEffect:GN,useImperativeHandle:qN,useInsertionEffect:VN,useLayoutEffect:ZN,useMemo:WN,useReducer:Uh,useRef:FN,useState:function(){return Uh(ca)},useDebugValue:L0,useDeferredValue:function(e,t){var n=ht();return Be===null?$0(n,e,t):KN(n,Be.memoizedState,e,t)},useTransition:function(){var e=Uh(ca)[0],t=ht().memoizedState;return[typeof e=="boolean"?e:vc(e),t]},useSyncExternalStore:MN,useId:tk,useHostTransitionStatus:B0,useFormState:Ix,useActionState:Ix,useOptimistic:function(e,t){var n=ht();return Be!==null?$N(n,Be,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:O0,useCacheRefresh:nk},Bs=null,Rl=0;function Jc(e){var t=Rl;return Rl+=1,Bs===null&&(Bs=[]),CN(Bs,e,t)}function Li(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eu(e,t){throw t.$$typeof===nD?Error(X(525)):(e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ux(e){var t=e._init;return t(e._payload)}function lk(e){function t(v,g){if(e){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v){for(var g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function a(v,g){return v=ra(v,g),v.index=0,v.sibling=null,v}function o(v,g,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=67108866,g):y):(v.flags|=67108866,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function i(v,g,y,w){return g===null||g.tag!==6?(g=Bh(y,v.mode,w),g.return=v,g):(g=a(g,y),g.return=v,g)}function l(v,g,y,w){var k=y.type;return k===xs?f(v,g,y.props.children,w,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ma&&Ux(k)===g.type)?(g=a(g,y.props),Li(g,y),g.return=v,g):(g=Iu(y.type,y.key,y.props,null,v.mode,w),Li(g,y),g.return=v,g)}function u(v,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ih(y,v.mode,w),g.return=v,g):(g=a(g,y.children||[]),g.return=v,g)}function f(v,g,y,w,k){return g===null||g.tag!==7?(g=Co(y,v.mode,w,k),g.return=v,g):(g=a(g,y),g.return=v,g)}function d(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Bh(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zc:return y=Iu(g.type,g.key,g.props,null,v.mode,y),Li(y,g),y.return=v,y;case Ki:return g=Ih(g,v.mode,y),g.return=v,g;case Ma:var w=g._init;return g=w(g._payload),d(v,g,y)}if(Qi(g)||Di(g))return g=Co(g,v.mode,y,null),g.return=v,g;if(typeof g.then=="function")return d(v,Jc(g),y);if(g.$$typeof===Wr)return d(v,Kc(v,g),y);eu(v,g)}return null}function h(v,g,y,w){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return k!==null?null:i(v,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:return y.key===k?l(v,g,y,w):null;case Ki:return y.key===k?u(v,g,y,w):null;case Ma:return k=y._init,y=k(y._payload),h(v,g,y,w)}if(Qi(y)||Di(y))return k!==null?null:f(v,g,y,w,null);if(typeof y.then=="function")return h(v,g,Jc(y),w);if(y.$$typeof===Wr)return h(v,g,Kc(v,y),w);eu(v,y)}return null}function m(v,g,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return v=v.get(y)||null,i(g,v,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return v=v.get(w.key===null?y:w.key)||null,l(g,v,w,k);case Ki:return v=v.get(w.key===null?y:w.key)||null,u(g,v,w,k);case Ma:var C=w._init;return w=C(w._payload),m(v,g,y,w,k)}if(Qi(w)||Di(w))return v=v.get(y)||null,f(g,v,w,k,null);if(typeof w.then=="function")return m(v,g,y,Jc(w),k);if(w.$$typeof===Wr)return m(v,g,y,Kc(g,w),k);eu(g,w)}return null}function x(v,g,y,w){for(var k=null,C=null,N=g,E=g=0,_=null;N!==null&&E<y.length;E++){N.index>E?(_=N,N=null):_=N.sibling;var A=h(v,N,y[E],w);if(A===null){N===null&&(N=_);break}e&&N&&A.alternate===null&&t(v,N),g=o(A,g,E),C===null?k=A:C.sibling=A,C=A,N=_}if(E===y.length)return n(v,N),je&&xo(v,E),k;if(N===null){for(;E<y.length;E++)N=d(v,y[E],w),N!==null&&(g=o(N,g,E),C===null?k=N:C.sibling=N,C=N);return je&&xo(v,E),k}for(N=r(N);E<y.length;E++)_=m(N,v,E,y[E],w),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?E:_.key),g=o(_,g,E),C===null?k=_:C.sibling=_,C=_);return e&&N.forEach(function(R){return t(v,R)}),je&&xo(v,E),k}function b(v,g,y,w){if(y==null)throw Error(X(151));for(var k=null,C=null,N=g,E=g=0,_=null,A=y.next();N!==null&&!A.done;E++,A=y.next()){N.index>E?(_=N,N=null):_=N.sibling;var R=h(v,N,A.value,w);if(R===null){N===null&&(N=_);break}e&&N&&R.alternate===null&&t(v,N),g=o(R,g,E),C===null?k=R:C.sibling=R,C=R,N=_}if(A.done)return n(v,N),je&&xo(v,E),k;if(N===null){for(;!A.done;E++,A=y.next())A=d(v,A.value,w),A!==null&&(g=o(A,g,E),C===null?k=A:C.sibling=A,C=A);return je&&xo(v,E),k}for(N=r(N);!A.done;E++,A=y.next())A=m(N,v,E,A.value,w),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?E:A.key),g=o(A,g,E),C===null?k=A:C.sibling=A,C=A);return e&&N.forEach(function(B){return t(v,B)}),je&&xo(v,E),k}function S(v,g,y,w){if(typeof y=="object"&&y!==null&&y.type===xs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Zc:e:{for(var k=y.key;g!==null;){if(g.key===k){if(k=y.type,k===xs){if(g.tag===7){n(v,g.sibling),w=a(g,y.props.children),w.return=v,v=w;break e}}else if(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ma&&Ux(k)===g.type){n(v,g.sibling),w=a(g,y.props),Li(w,y),w.return=v,v=w;break e}n(v,g);break}else t(v,g);g=g.sibling}y.type===xs?(w=Co(y.props.children,v.mode,w,y.key),w.return=v,v=w):(w=Iu(y.type,y.key,y.props,null,v.mode,w),Li(w,y),w.return=v,v=w)}return s(v);case Ki:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),w=a(g,y.children||[]),w.return=v,v=w;break e}else{n(v,g);break}else t(v,g);g=g.sibling}w=Ih(y,v.mode,w),w.return=v,v=w}return s(v);case Ma:return k=y._init,y=k(y._payload),S(v,g,y,w)}if(Qi(y))return x(v,g,y,w);if(Di(y)){if(k=Di(y),typeof k!="function")throw Error(X(150));return y=k.call(y),b(v,g,y,w)}if(typeof y.then=="function")return S(v,g,Jc(y),w);if(y.$$typeof===Wr)return S(v,g,Kc(v,y),w);eu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),w=a(g,y),w.return=v,v=w):(n(v,g),w=Bh(y,v.mode,w),w.return=v,v=w),s(v)):n(v,g)}return function(v,g,y,w){try{Rl=0;var k=S(v,g,y,w);return Bs=null,k}catch(N){if(N===yc||N===Ef)throw N;var C=vn(29,N,null,v.mode);return C.lanes=w,C.return=v,C}finally{}}}var ni=lk(!0),ck=lk(!1),Un=Tr(null),Nr=null;function La(e){var t=e.alternate;Ye(vt,vt.current&1),Ye(Un,e),Nr===null&&(t===null||ei.current!==null||t.memoizedState!==null)&&(Nr=e)}function uk(e){if(e.tag===22){if(Ye(vt,vt.current),Ye(Un,e),Nr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Nr=e)}}else $a()}function $a(){Ye(vt,vt.current),Ye(Un,Un.current)}function ea(e){Ct(Un),Nr===e&&(Nr=null),Ct(vt)}var vt=Tr(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Zp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jp={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wn(),a=Wa(r);a.payload=t,n!=null&&(a.callback=n),t=Ka(e,a,r),t!==null&&(Sn(t,e,r),hl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wn(),a=Wa(r);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ka(e,a,r),t!==null&&(Sn(t,e,r),hl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wn(),r=Wa(n);r.tag=2,t!=null&&(r.callback=t),t=Ka(e,r,n),t!==null&&(Sn(t,e,n),hl(t,e,n))}};function Fx(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Al(n,r)||!Al(a,o):!0}function Gx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jp.enqueueReplaceState(t,t.state,null)}function $o(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=Ge({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var Sd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dk(e){Sd(e)}function fk(e){console.error(e)}function hk(e){Sd(e)}function Nd(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Vx(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Rp(e,t,n){return n=Wa(n),n.tag=3,n.payload={element:null},n.callback=function(){Nd(e,t)},n}function mk(e){return e=Wa(e),e.tag=3,e}function pk(e,t,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var o=r.value;e.payload=function(){return a(o)},e.callback=function(){Vx(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Vx(t,n,r),typeof a!="function"&&(Qa===null?Qa=new Set([this]):Qa.add(this));var i=r.stack;this.componentDidCatch(r.value,{componentStack:i!==null?i:""})})}function C3(e,t,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&pc(t,n,a,!0),n=Un.current,n!==null){switch(n.tag){case 13:return Nr===null?Bp():n.alternate===null&&rt===0&&(rt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Np?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),em(e,r,a)),!1;case 22:return n.flags|=65536,r===Np?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),em(e,r,a)),!1}throw Error(X(435,n.tag))}return em(e,r,a),Bp(),!1}if(je)return t=Un.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==vp&&(e=Error(X(422),{cause:r}),Tl(Ln(e,n)))):(r!==vp&&(t=Error(X(423),{cause:r}),Tl(Ln(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=Ln(r,n),a=Rp(e.stateNode,r,a),Hh(e,a),rt!==4&&(rt=2)),!1;var o=Error(X(520),{cause:r});if(o=Ln(o,n),xl===null?xl=[o]:xl.push(o),rt!==4&&(rt=2),t===null)return!0;r=Ln(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Rp(n.stateNode,r,e),Hh(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Qa===null||!Qa.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=mk(a),pk(a,e,n,r),Hh(n,a),!1}n=n.return}while(n!==null);return!1}var gk=Error(X(461)),kt=!1;function Dt(e,t,n,r){t.child=e===null?ck(t,null,n,r):ni(t,e.child,n,r)}function Zx(e,t,n,r,a){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var i in r)i!=="ref"&&(s[i]=r[i])}else s=r;return Po(t),r=j0(e,t,n,s,o,a),i=R0(),e!==null&&!kt?(M0(e,t,a),ua(e,t,a)):(je&&i&&N0(t),t.flags|=1,Dt(e,t,r,a),t.child)}function Yx(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!S0(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,yk(e,t,o,r,a)):(e=Iu(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!H0(e,a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(s,r)&&e.ref===t.ref)return ua(e,t,a)}return t.flags|=1,e=ra(o,r),e.ref=t.ref,e.return=t,t.child=e}function yk(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(Al(o,r)&&e.ref===t.ref)if(kt=!1,t.pendingProps=r=o,H0(e,a))e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,ua(e,t,a)}return Mp(e,t,n,r,a)}function vk(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=o!==null?o.baseLanes|n:n,e!==null){for(a=t.child=e.child,o=0;a!==null;)o=o|a.lanes|a.childLanes,a=a.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return qx(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(t,o!==null?o.cachePool:null),o!==null?Ox(t,o):_p(),uk(t);else return t.lanes=t.childLanes=536870912,qx(e,t,o!==null?o.baseLanes|n:n,n)}else o!==null?(Hu(t,o.cachePool),Ox(t,o),$a(),t.memoizedState=null):(e!==null&&Hu(t,null),_p(),$a());return Dt(e,t,a,n),t.child}function qx(e,t,n,r){var a=_0();return a=a===null?null:{parent:yt._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Hu(t,null),_p(),uk(t),e!==null&&pc(e,t,r,!0),null}function Gu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(X(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Mp(e,t,n,r,a){return Po(t),n=j0(e,t,n,r,void 0,a),r=R0(),e!==null&&!kt?(M0(e,t,a),ua(e,t,a)):(je&&r&&N0(t),t.flags|=1,Dt(e,t,n,a),t.child)}function Xx(e,t,n,r,a,o){return Po(t),t.updateQueue=null,n=RN(t,r,n,a),jN(e),r=R0(),e!==null&&!kt?(M0(e,t,o),ua(e,t,o)):(je&&r&&N0(t),t.flags|=1,Dt(e,t,n,o),t.child)}function Wx(e,t,n,r,a){if(Po(t),t.stateNode===null){var o=Cs,s=n.contextType;typeof s=="object"&&s!==null&&(o=It(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jp,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},C0(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?It(s):Cs,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Fh(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&jp.enqueueReplaceState(o,o.state,null),pl(t,r,o,a),ml(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var i=t.memoizedProps,l=$o(n,i);o.props=l;var u=o.context,f=n.contextType;s=Cs,typeof f=="object"&&f!==null&&(s=It(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",i=t.pendingProps!==i,f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i||u!==s)&&Gx(t,o,r,s),Da=!1;var h=t.memoizedState;o.state=h,pl(t,r,o,a),ml(),u=t.memoizedState,i||h!==u||Da?(typeof d=="function"&&(Fh(t,n,d,r),u=t.memoizedState),(l=Da||Fx(t,n,l,r,h,u,s))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,kp(e,t),s=t.memoizedProps,f=$o(n,s),o.props=f,d=t.pendingProps,h=o.context,u=n.contextType,l=Cs,typeof u=="object"&&u!==null&&(l=It(u)),i=n.getDerivedStateFromProps,(u=typeof i=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Gx(t,o,r,l),Da=!1,h=t.memoizedState,o.state=h,pl(t,r,o,a),ml();var m=t.memoizedState;s!==d||h!==m||Da||e!==null&&e.dependencies!==null&&gd(e.dependencies)?(typeof i=="function"&&(Fh(t,n,i,r),m=t.memoizedState),(f=Da||Fx(t,n,f,r,h,m,l)||e!==null&&e.dependencies!==null&&gd(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=f):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Gu(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=ni(t,e.child,null,a),t.child=ni(t,null,n,a)):Dt(e,t,n,a),t.memoizedState=o.state,e=t.child):e=ua(e,t,a),e}function Kx(e,t,n,r){return mc(),t.flags|=256,Dt(e,t,n,r),t.child}var Gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(e){return{baseLanes:e,cachePool:EN()}}function Zh(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$n),e}function xk(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(vt.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(a?La(t):$a(),je){var i=tt,l;if(l=i){e:{for(l=i,i=gr;l.nodeType!==8;){if(!i){i=null;break e}if(l=Qn(l.nextSibling),l===null){i=null;break e}}i=l}i!==null?(t.memoizedState={dehydrated:i,treeContext:Ao!==null?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},l=vn(18,null,null,0),l.stateNode=i,l.return=t,t.child=l,Gt=t,tt=null,l=!0):l=!1}l||Oo(t)}if(i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null))return Zp(i)?t.lanes=32:t.lanes=536870912,null;ea(t)}return i=r.children,r=r.fallback,a?($a(),a=t.mode,i=kd({mode:"hidden",children:i},a),r=Co(r,a,n,null),i.return=t,r.return=t,i.sibling=r,t.child=i,a=t.child,a.memoizedState=Vh(n),a.childLanes=Zh(e,s,n),t.memoizedState=Gh,r):(La(t),Dp(t,i))}if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null)){if(o)t.flags&256?(La(t),t.flags&=-257,t=Yh(e,t,n)):t.memoizedState!==null?($a(),t.child=e.child,t.flags|=128,t=null):($a(),a=r.fallback,i=t.mode,r=kd({mode:"visible",children:r.children},i),a=Co(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,ni(t,e.child,null,n),r=t.child,r.memoizedState=Vh(n),r.childLanes=Zh(e,s,n),t.memoizedState=Gh,t=a);else if(La(t),Zp(i)){if(s=i.nextSibling&&i.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(X(419)),r.stack="",r.digest=s,Tl({value:r,source:null,stack:null}),t=Yh(e,t,n)}else if(kt||pc(e,t,n,!1),s=(n&e.childLanes)!==0,kt||s){if(s=Ue,s!==null&&(r=n&-n,r=r&42?1:d0(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,bi(e,r),Sn(s,e,r),gk;i.data==="$?"||Bp(),t=Yh(e,t,n)}else i.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,tt=Qn(i.nextSibling),Gt=t,je=!0,To=null,gr=!1,e!==null&&(zn[On++]=Kr,zn[On++]=Qr,zn[On++]=Ao,Kr=e.id,Qr=e.overflow,Ao=t),t=Dp(t,r.children),t.flags|=4096);return t}return a?($a(),a=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=ra(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?a=ra(u,a):(a=Co(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i===null?i=Vh(n):(l=i.cachePool,l!==null?(u=yt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=EN(),i={baseLanes:i.baseLanes|n,cachePool:l}),a.memoizedState=i,a.childLanes=Zh(e,s,n),t.memoizedState=Gh,r):(La(t),n=e.child,e=n.sibling,n=ra(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function Dp(e,t){return t=kd({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kd(e,t){return e=vn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Yh(e,t,n){return ni(t,e.child,null,n),e=Dp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bp(e.return,t,n)}function qh(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function bk(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Dt(e,t,r.children,n),r=vt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qx(e,n,t);else if(e.tag===19)Qx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Ye(vt,r),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&wd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),qh(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}qh(t,!0,n,null,o);break;case"together":qh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),so|=t.lanes,!(n&t.childLanes))if(e!==null){if(pc(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=ra(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ra(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function H0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&gd(e)))}function A3(e,t,n){switch(t.tag){case 3:ld(t,t.stateNode.containerInfo),Pa(t,yt,e.memoizedState.cache),mc();break;case 27:case 5:lp(t);break;case 4:ld(t,t.stateNode.containerInfo);break;case 10:Pa(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(La(t),t.flags|=128,null):n&t.child.childLanes?xk(e,t,n):(La(t),e=ua(e,t,n),e!==null?e.sibling:null);La(t);break;case 19:var a=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(pc(e,t,n,!1),r=(n&t.childLanes)!==0),a){if(r)return bk(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ye(vt,vt.current),r)break;return null;case 22:case 23:return t.lanes=0,vk(e,t,n);case 24:Pa(t,yt,e.memoizedState.cache)}return ua(e,t,n)}function wk(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)kt=!0;else{if(!H0(e,n)&&!(t.flags&128))return kt=!1,A3(e,t,n);kt=!!(e.flags&131072)}else kt=!1,je&&t.flags&1048576&&NN(t,pd,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,typeof r=="function")S0(r)?(e=$o(r,e),t.tag=1,t=Wx(null,t,r,e,n)):(t.tag=0,t=Mp(null,t,r,e,n));else{if(r!=null){if(a=r.$$typeof,a===l0){t.tag=11,t=Zx(null,t,r,e,n);break e}else if(a===c0){t.tag=14,t=Yx(null,t,r,e,n);break e}}throw t=sp(r)||r,Error(X(306,t,""))}}return t;case 0:return Mp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=$o(r,t.pendingProps),Wx(e,t,r,a,n);case 3:e:{if(ld(t,t.stateNode.containerInfo),e===null)throw Error(X(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,kp(e,t),pl(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Pa(t,yt,r),r!==o.cache&&wp(t,[yt],n,!0),ml(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Kx(e,t,r,n);break e}else if(r!==a){a=Ln(Error(X(424)),t),Tl(a),t=Kx(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=Qn(e.firstChild),Gt=t,je=!0,To=null,gr=!0,n=ck(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(mc(),r===a){t=ua(e,t,n);break e}Dt(e,t,r,n)}t=t.child}return t;case 26:return Gu(e,t),e===null?(n=pb(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,r=Rd(Xa.current).createElement(n),r[Bt]=t,r[rn]=e,Ot(r,n,e),Nt(r),t.stateNode=r):t.memoizedState=pb(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return lp(t),e===null&&je&&(r=t.stateNode=iE(t.type,t.pendingProps,Xa.current),Gt=t,gr=!0,a=tt,uo(t.type)?(Yp=a,tt=Qn(r.firstChild)):tt=a),Dt(e,t,t.pendingProps.children,n),Gu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((a=r=tt)&&(r=n4(r,t.type,t.pendingProps,gr),r!==null?(t.stateNode=r,Gt=t,tt=Qn(r.firstChild),gr=!1,a=!0):a=!1),a||Oo(t)),lp(t),a=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,Gp(a,o)?r=null:s!==null&&Gp(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=j0(e,t,b3,null,null,n),Ol._currentValue=a),Gu(e,t),Dt(e,t,r,n),t.child;case 6:return e===null&&je&&((e=n=tt)&&(n=r4(n,t.pendingProps,gr),n!==null?(t.stateNode=n,Gt=t,tt=null,e=!0):e=!1),e||Oo(t)),null;case 13:return xk(e,t,n);case 4:return ld(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ni(t,null,r,n):Dt(e,t,r,n),t.child;case 11:return Zx(e,t,t.type,t.pendingProps,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Pa(t,t.type,r.value),Dt(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Po(t),a=It(a),r=r(a),t.flags|=1,Dt(e,t,r,n),t.child;case 14:return Yx(e,t,t.type,t.pendingProps,n);case 15:return yk(e,t,t.type,t.pendingProps,n);case 19:return bk(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=kd(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ra(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return vk(e,t,n);case 24:return Po(t),r=It(yt),e===null?(a=_0(),a===null&&(a=Ue,o=E0(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},C0(t),Pa(t,yt,a)):(e.lanes&n&&(kp(e,t),pl(t,null,null,n),ml()),a=e.memoizedState,o=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Pa(t,yt,r)):(r=o.cache,Pa(t,yt,r),r!==a.cache&&wp(t,[yt],n,!0))),Dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(X(156,t.tag))}function Fr(e){e.flags|=4}function Jx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!uE(t)){if(t=Un.current,t!==null&&((Te&4194048)===Te?Nr!==null:(Te&62914560)!==Te&&!(Te&536870912)||t!==Nr))throw fl=Np,_N;e.flags|=8192}}function tu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?YS():536870912,e.lanes|=t,ri|=t)}function $i(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function T3(e,t,n){var r=t.pendingProps;switch(k0(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return We(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),aa(yt),Ws(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pi(t)?Fr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tx())),We(t),null;case 26:return n=t.memoizedState,e===null?(Fr(t),n!==null?(We(t),Jx(t,n)):(We(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Fr(t),We(t),Jx(t,n)):(We(t),t.flags&=-16777217):(e.memoizedProps!==r&&Fr(t),We(t),t.flags&=-16777217),null;case 27:cd(t),n=Xa.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return We(t),null}e=wr.current,Pi(t)?Cx(t):(e=iE(a,r,n),t.stateNode=e,Fr(t))}return We(t),null;case 5:if(cd(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(!r){if(t.stateNode===null)throw Error(X(166));return We(t),null}if(e=wr.current,Pi(t))Cx(t);else{switch(a=Rd(Xa.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Bt]=t,e[rn]=r;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(Ot(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Fr(t)}}return We(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Fr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(e=Xa.current,Pi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Gt,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Bt]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||aE(e.nodeValue,n)),e||Oo(t)}else e=Rd(e).createTextNode(r),e[Bt]=t,t.stateNode=e}return We(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Pi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[Bt]=t}else mc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),a=!1}else a=Tx(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(ea(t),t):(ea(t),null)}if(ea(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool);var o=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tu(t,t.updateQueue),We(t),null;case 4:return Ws(),e===null&&X0(t.stateNode.containerInfo),We(t),null;case 10:return aa(t.type),We(t),null;case 19:if(Ct(vt),a=t.memoizedState,a===null)return We(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)$i(a,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wd(e),o!==null){for(t.flags|=128,$i(a,!1),e=o.updateQueue,t.updateQueue=e,tu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)SN(n,e),n=n.sibling;return Ye(vt,vt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Sr()>_d&&(t.flags|=128,r=!0,$i(a,!1),t.lanes=4194304)}else{if(!r)if(e=wd(o),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tu(t,e),$i(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!je)return We(t),null}else 2*Sr()-a.renderingStartTime>_d&&n!==536870912&&(t.flags|=128,r=!0,$i(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Sr(),t.sibling=null,e=vt.current,Ye(vt,r?e&1|2:e&1),t):(We(t),null);case 22:case 23:return ea(t),A0(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),n=t.updateQueue,n!==null&&tu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&Ct(jo),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),aa(yt),We(t),null;case 25:return null;case 30:return null}throw Error(X(156,t.tag))}function j3(e,t){switch(k0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(yt),Ws(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return cd(t),null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));mc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(vt),null;case 4:return Ws(),null;case 10:return aa(t.type),null;case 22:case 23:return ea(t),A0(),e!==null&&Ct(jo),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(yt),null;case 25:return null;default:return null}}function Sk(e,t){switch(k0(t),t.tag){case 3:aa(yt),Ws();break;case 26:case 27:case 5:cd(t);break;case 4:Ws();break;case 13:ea(t);break;case 19:Ct(vt);break;case 10:aa(t.type);break;case 22:case 23:ea(t),A0(),e!==null&&Ct(jo);break;case 24:aa(yt)}}function bc(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==a)}}catch(i){Ie(t,t.return,i)}}function oo(e,t,n){try{var r=t.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var o=a.next;r=o;do{if((r.tag&e)===e){var s=r.inst,i=s.destroy;if(i!==void 0){s.destroy=void 0,a=t;var l=n,u=i;try{u()}catch(f){Ie(a,l,f)}}}r=r.next}while(r!==o)}}catch(f){Ie(t,t.return,f)}}function Nk(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{TN(t,n)}catch(r){Ie(e,e.return,r)}}}function kk(e,t,n){n.props=$o(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ie(e,t,r)}}function yl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(a){Ie(e,t,a)}}function vr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Ie(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ie(e,t,a)}else n.current=null}function Ek(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Ie(e,e.return,a)}}function Xh(e,t,n){try{var r=e.stateNode;K3(r,e.type,n,t),r[rn]=t}catch(a){Ie(e,e.return,a)}}function _k(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&uo(e.type)||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_k(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&uo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mf));else if(r!==4&&(r===27&&uo(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(zp(e,t,n),e=e.sibling;e!==null;)zp(e,t,n),e=e.sibling}function Ed(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&uo(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ed(e,t,n),e=e.sibling;e!==null;)Ed(e,t,n),e=e.sibling}function Ck(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ot(t,r,n),t[Bt]=e,t[rn]=n}catch(o){Ie(e,e.return,o)}}var Yr=!1,lt=!1,Kh=!1,eb=typeof WeakSet=="function"?WeakSet:Set,St=null;function R3(e,t){if(e=e.containerInfo,Up=Od,e=mN(e),x0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,l=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var m;d!==n||a!==0&&d.nodeType!==3||(i=s+a),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===a&&(i=s),h===o&&++f===r&&(l=s),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=i===-1||l===-1?null:{start:i,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fp={focusedElem:e,selectionRange:n},Od=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){switch(t=St,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var x=$o(n.type,a,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(x,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){Ie(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Vp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(X(163))}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}}function Ak(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ca(e,n),r&4&&bc(5,n);break;case 1:if(Ca(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Ie(n,n.return,s)}else{var a=$o(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Ie(n,n.return,s)}}r&64&&Nk(n),r&512&&yl(n,n.return);break;case 3:if(Ca(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{TN(e,t)}catch(s){Ie(n,n.return,s)}}break;case 27:t===null&&r&4&&Ck(n);case 26:case 5:Ca(e,n),t===null&&r&4&&Ek(n),r&512&&yl(n,n.return);break;case 12:Ca(e,n);break;case 13:Ca(e,n),r&4&&Rk(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=I3.bind(null,n),a4(e,n))));break;case 22:if(r=n.memoizedState!==null||Yr,!r){t=t!==null&&t.memoizedState!==null||lt,a=Yr;var o=lt;Yr=r,(lt=t)&&!o?ja(e,n,(n.subtreeFlags&8772)!==0):Ca(e,n),Yr=a,lt=o}break;case 30:break;default:Ca(e,n)}}function Tk(e){var t=e.alternate;t!==null&&(e.alternate=null,Tk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&h0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Jt=!1;function Gr(e,t,n){for(n=n.child;n!==null;)jk(e,t,n),n=n.sibling}function jk(e,t,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(cc,n)}catch{}switch(n.tag){case 26:lt||vr(n,t),Gr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||vr(n,t);var r=Ve,a=Jt;uo(n.type)&&(Ve=n.stateNode,Jt=!1),Gr(e,t,n),wl(n.stateNode),Ve=r,Jt=a;break;case 5:lt||vr(n,t);case 6:if(r=Ve,a=Jt,Ve=null,Gr(e,t,n),Ve=r,Jt=a,Ve!==null)if(Jt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(n.stateNode)}catch(o){Ie(n,t,o)}else try{Ve.removeChild(n.stateNode)}catch(o){Ie(n,t,o)}break;case 18:Ve!==null&&(Jt?(e=Ve,fb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),$l(e)):fb(Ve,n.stateNode));break;case 4:r=Ve,a=Jt,Ve=n.stateNode.containerInfo,Jt=!0,Gr(e,t,n),Ve=r,Jt=a;break;case 0:case 11:case 14:case 15:lt||oo(2,n,t),lt||oo(4,n,t),Gr(e,t,n);break;case 1:lt||(vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&kk(n,t,r)),Gr(e,t,n);break;case 21:Gr(e,t,n);break;case 22:lt=(r=lt)||n.memoizedState!==null,Gr(e,t,n),lt=r;break;default:Gr(e,t,n)}}function Rk(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$l(e)}catch(n){Ie(t,t.return,n)}}function M3(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new eb),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new eb),t;default:throw Error(X(435,e.tag))}}function Qh(e,t){var n=M3(e);t.forEach(function(r){var a=H3.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 27:if(uo(i.type)){Ve=i.stateNode,Jt=!1;break e}break;case 5:Ve=i.stateNode,Jt=!1;break e;case 3:case 4:Ve=i.stateNode.containerInfo,Jt=!0;break e}i=i.return}if(Ve===null)throw Error(X(160));jk(o,s,a),Ve=null,Jt=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Mk(t,e),t=t.sibling}var Wn=null;function Mk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(t,e),dn(e),r&4&&(oo(3,e,e.return),bc(3,e),oo(5,e,e.return));break;case 1:un(t,e),dn(e),r&512&&(lt||n===null||vr(n,n.return)),r&64&&Yr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Wn;if(un(t,e),dn(e),r&512&&(lt||n===null||vr(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":o=a.getElementsByTagName("title")[0],(!o||o[fc]||o[Bt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector("head > title"))),Ot(o,r,n),o[Bt]=e,Nt(o),r=o;break e;case"link":var s=yb("link","href",a).get(r+(n.href||""));if(s){for(var i=0;i<s.length;i++)if(o=s[i],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(i,1);break t}}o=a.createElement(r),Ot(o,r,n),a.head.appendChild(o);break;case"meta":if(s=yb("meta","content",a).get(r+(n.content||""))){for(i=0;i<s.length;i++)if(o=s[i],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(i,1);break t}}o=a.createElement(r),Ot(o,r,n),a.head.appendChild(o);break;default:throw Error(X(468,r))}o[Bt]=e,Nt(o),r=o}e.stateNode=r}else vb(a,e.type,e.stateNode);else e.stateNode=gb(a,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?vb(a,e.type,e.stateNode):gb(a,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xh(e,e.memoizedProps,n.memoizedProps)}break;case 27:un(t,e),dn(e),r&512&&(lt||n===null||vr(n,n.return)),n!==null&&r&4&&Xh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(un(t,e),dn(e),r&512&&(lt||n===null||vr(n,n.return)),e.flags&32){a=e.stateNode;try{Qs(a,"")}catch(m){Ie(e,e.return,m)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Xh(e,a,n!==null?n.memoizedProps:a)),r&1024&&(Kh=!0);break;case 6:if(un(t,e),dn(e),r&4){if(e.stateNode===null)throw Error(X(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Ie(e,e.return,m)}}break;case 3:if(Yu=null,a=Wn,Wn=Md(t.containerInfo),un(t,e),Wn=a,dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(t.containerInfo)}catch(m){Ie(e,e.return,m)}Kh&&(Kh=!1,Dk(e));break;case 4:r=Wn,Wn=Md(e.stateNode.containerInfo),un(t,e),dn(e),Wn=r;break;case 12:un(t,e),dn(e);break;case 13:un(t,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Z0=Sr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qh(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Yr,f=lt;if(Yr=u||a,lt=f||l,un(t,e),lt=f,Yr=u,dn(e),r&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Yr||lt||bo(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{i=l.stateNode;var d=l.memoizedProps.style,h=d!=null&&d.hasOwnProperty("display")?d.display:null;i.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){Ie(l,l.return,m)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?"":l.memoizedProps}catch(m){Ie(l,l.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Qh(e,n))));break;case 19:un(t,e),dn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Qh(e,r)));break;case 30:break;case 21:break;default:un(t,e),dn(e)}}function dn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(_k(r)){n=r;break}r=r.return}if(n==null)throw Error(X(160));switch(n.tag){case 27:var a=n.stateNode,o=Wh(e);Ed(e,o,a);break;case 5:var s=n.stateNode;n.flags&32&&(Qs(s,""),n.flags&=-33);var i=Wh(e);Ed(e,i,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=Wh(e);zp(e,u,l);break;default:throw Error(X(161))}}catch(f){Ie(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dk(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Dk(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ak(e,t.alternate,t),t=t.sibling}function bo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),bo(t);break;case 1:vr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&kk(t,t.return,n),bo(t);break;case 27:wl(t.stateNode);case 26:case 5:vr(t,t.return),bo(t);break;case 22:t.memoizedState===null&&bo(t);break;case 30:bo(t);break;default:bo(t)}e=e.sibling}}function ja(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,a=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:ja(a,o,n),bc(4,o);break;case 1:if(ja(a,o,n),r=o,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Ie(r,r.return,u)}if(r=o,a=r.updateQueue,a!==null){var i=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(l!==null)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)AN(l[a],i)}catch(u){Ie(r,r.return,u)}}n&&s&64&&Nk(o),yl(o,o.return);break;case 27:Ck(o);case 26:case 5:ja(a,o,n),n&&r===null&&s&4&&Ek(o),yl(o,o.return);break;case 12:ja(a,o,n);break;case 13:ja(a,o,n),n&&s&4&&Rk(a,o);break;case 22:o.memoizedState===null&&ja(a,o,n),yl(o,o.return);break;case 30:break;default:ja(a,o,n)}t=t.sibling}}function U0(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gc(n))}function F0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gc(e))}function hr(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zk(e,t,n,r),t=t.sibling}function zk(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:hr(e,t,n,r),a&2048&&bc(9,t);break;case 1:hr(e,t,n,r);break;case 3:hr(e,t,n,r),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gc(e)));break;case 12:if(a&2048){hr(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,i=o.onPostCommit;typeof i=="function"&&i(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ie(t,t.return,l)}}else hr(e,t,n,r);break;case 13:hr(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?hr(e,t,n,r):vl(e,t):o._visibility&2?hr(e,t,n,r):(o._visibility|=2,ms(e,t,n,r,(t.subtreeFlags&10256)!==0)),a&2048&&U0(s,t);break;case 24:hr(e,t,n,r),a&2048&&F0(t.alternate,t);break;default:hr(e,t,n,r)}}function ms(e,t,n,r,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,s=t,i=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:ms(o,s,i,l,a),bc(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?ms(o,s,i,l,a):vl(o,s):(f._visibility|=2,ms(o,s,i,l,a)),a&&u&2048&&U0(s.alternate,s);break;case 24:ms(o,s,i,l,a),a&&u&2048&&F0(s.alternate,s);break;default:ms(o,s,i,l,a)}t=t.sibling}}function vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:vl(n,r),a&2048&&U0(r.alternate,r);break;case 24:vl(n,r),a&2048&&F0(r.alternate,r);break;default:vl(n,r)}t=t.sibling}}var el=8192;function ts(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Ok(e),e=e.sibling}function Ok(e){switch(e.tag){case 26:ts(e),e.flags&el&&e.memoizedState!==null&&y4(Wn,e.memoizedState,e.memoizedProps);break;case 5:ts(e);break;case 3:case 4:var t=Wn;Wn=Md(e.stateNode.containerInfo),ts(e),Wn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=el,el=16777216,ts(e),el=t):ts(e));break;default:ts(e)}}function Pk(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];St=r,$k(r,e)}Pk(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lk(e),e=e.sibling}function Lk(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&oo(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vu(e)):Bi(e);break;default:Bi(e)}}function Vu(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];St=r,$k(r,e)}Pk(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oo(8,t,t.return),Vu(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vu(t));break;default:Vu(t)}e=e.sibling}}function $k(e,t){for(;St!==null;){var n=St;switch(n.tag){case 0:case 11:case 15:oo(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:gc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,St=r;else e:for(n=e;St!==null;){r=St;var a=r.sibling,o=r.return;if(Tk(r),r===n){St=null;break e}if(a!==null){a.return=o,St=a;break e}St=o}}}var D3={getCacheForType:function(e){var t=It(yt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},z3=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ue=null,_e=null,Te=0,Pe=0,hn=null,Va=!1,wi=!1,G0=!1,da=0,rt=0,so=0,Ro=0,V0=0,$n=0,ri=0,xl=null,en=null,Op=!1,Z0=0,_d=1/0,Cd=null,Qa=null,zt=0,Ja=null,ai=null,Is=0,Pp=0,Lp=null,Bk=null,bl=0,$p=null;function wn(){if(Le&2&&Te!==0)return Te&-Te;if(he.T!==null){var e=Js;return e!==0?e:q0()}return WS()}function Ik(){$n===0&&($n=!(Te&536870912)||je?ZS():536870912);var e=Un.current;return e!==null&&(e.flags|=32),$n}function Sn(e,t,n){(e===Ue&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(oi(e,0),Za(e,Te,$n,!1)),dc(e,n),(!(Le&2)||e!==Ue)&&(e===Ue&&(!(Le&2)&&(Ro|=n),rt===4&&Za(e,Te,$n,!1)),jr(e))}function Hk(e,t,n){if(Le&6)throw Error(X(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||uc(e,t),a=r?L3(e,t):Jh(e,t,!0),o=r;do{if(a===0){wi&&!r&&Za(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!O3(n)){a=Jh(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var i=e;a=xl;var l=i.current.memoizedState.isDehydrated;if(l&&(oi(i,s).flags|=256),s=Jh(i,s,!1),s!==2){if(G0&&!l){i.errorRecoveryDisabledLanes|=o,Ro|=o,a=4;break e}o=en,en=a,o!==null&&(en===null?en=o:en.push.apply(en,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){oi(e,0),Za(e,t,0,!0);break}e:{switch(r=e,o=a,o){case 0:case 1:throw Error(X(345));case 4:if((t&4194048)!==t)break;case 6:Za(r,t,$n,!Va);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(X(329))}if((t&62914560)===t&&(a=Z0+300-Sr(),10<a)){if(Za(r,t,$n,!Va),xf(r,0,!0)!==0)break e;r.timeoutHandle=sE(tb.bind(null,r,n,en,Cd,Op,t,$n,Ro,ri,Va,o,2,-0,0),a);break e}tb(r,n,en,Cd,Op,t,$n,Ro,ri,Va,o,0,-0,0)}}break}while(!0);jr(e)}function tb(e,t,n,r,a,o,s,i,l,u,f,d,h,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:g4},Ok(t),d=v4(),d!==null)){e.cancelPendingCommit=d(rb.bind(null,e,t,o,n,r,a,s,i,l,f,1,h,m)),Za(e,o,s,!u);return}rb(e,t,o,n,r,a,s,i,l)}function O3(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!kn(o(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,n,r){t&=~V0,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var o=31-bn(a),s=1<<o;r[o]=-1,a&=~s}n!==0&&qS(e,n,t)}function Tf(){return Le&6?!0:(wc(0),!1)}function Y0(){if(_e!==null){if(Pe===0)var e=_e.return;else e=_e,Jr=Xo=null,D0(e),Bs=null,Rl=0,e=_e;for(;e!==null;)Sk(e.alternate,e),e=e.return;_e=null}}function oi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,J3(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Y0(),Ue=e,_e=n=ra(e.current,null),Te=t,Pe=0,hn=null,Va=!1,wi=uc(e,t),G0=!1,ri=$n=V0=Ro=so=rt=0,en=xl=null,Op=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var a=31-bn(r),o=1<<a;t|=e[a],r&=~o}return da=t,Nf(),n}function Uk(e,t){we=null,he.H=bd,t===yc||t===Ef?(t=Dx(),Pe=3):t===_N?(t=Dx(),Pe=4):Pe=t===gk?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,_e===null&&(rt=1,Nd(e,Ln(t,e.current)))}function Fk(){var e=he.H;return he.H=bd,e===null?bd:e}function Gk(){var e=he.A;return he.A=D3,e}function Bp(){rt=4,Va||(Te&4194048)!==Te&&Un.current!==null||(wi=!0),!(so&134217727)&&!(Ro&134217727)||Ue===null||Za(Ue,Te,$n,!1)}function Jh(e,t,n){var r=Le;Le|=2;var a=Fk(),o=Gk();(Ue!==e||Te!==t)&&(Cd=null,oi(e,t)),t=!1;var s=rt;e:do try{if(Pe!==0&&_e!==null){var i=_e,l=hn;switch(Pe){case 8:Y0(),s=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(t=!0);var u=Pe;if(Pe=0,hn=null,js(e,i,l,u),n&&wi){s=0;break e}break;default:u=Pe,Pe=0,hn=null,js(e,i,l,u)}}P3(),s=rt;break}catch(f){Uk(e,f)}while(!0);return t&&e.shellSuspendCounter++,Jr=Xo=null,Le=r,he.H=a,he.A=o,_e===null&&(Ue=null,Te=0,Nf()),s}function P3(){for(;_e!==null;)Vk(_e)}function L3(e,t){var n=Le;Le|=2;var r=Fk(),a=Gk();Ue!==e||Te!==t?(Cd=null,_d=Sr()+500,oi(e,t)):wi=uc(e,t);e:do try{if(Pe!==0&&_e!==null){t=_e;var o=hn;t:switch(Pe){case 1:Pe=0,hn=null,js(e,t,o,1);break;case 2:case 9:if(Mx(o)){Pe=0,hn=null,nb(t);break}t=function(){Pe!==2&&Pe!==9||Ue!==e||(Pe=7),jr(e)},o.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:Mx(o)?(Pe=0,hn=null,nb(t)):(Pe=0,hn=null,js(e,t,o,7));break;case 5:var s=null;switch(_e.tag){case 26:s=_e.memoizedState;case 5:case 27:var i=_e;if(!s||uE(s)){Pe=0,hn=null;var l=i.sibling;if(l!==null)_e=l;else{var u=i.return;u!==null?(_e=u,jf(u)):_e=null}break t}}Pe=0,hn=null,js(e,t,o,5);break;case 6:Pe=0,hn=null,js(e,t,o,6);break;case 8:Y0(),rt=6;break e;default:throw Error(X(462))}}$3();break}catch(f){Uk(e,f)}while(!0);return Jr=Xo=null,he.H=r,he.A=a,Le=n,_e!==null?0:(Ue=null,Te=0,Nf(),rt)}function $3(){for(;_e!==null&&!sD();)Vk(_e)}function Vk(e){var t=wk(e.alternate,e,da);e.memoizedProps=e.pendingProps,t===null?jf(e):_e=t}function nb(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xx(n,t,t.pendingProps,t.type,void 0,Te);break;case 11:t=Xx(n,t,t.pendingProps,t.type.render,t.ref,Te);break;case 5:D0(t);default:Sk(n,t),t=_e=SN(t,da),t=wk(n,t,da)}e.memoizedProps=e.pendingProps,t===null?jf(e):_e=t}function js(e,t,n,r){Jr=Xo=null,D0(t),Bs=null,Rl=0;var a=t.return;try{if(C3(e,a,t,n,Te)){rt=1,Nd(e,Ln(n,e.current)),_e=null;return}}catch(o){if(a!==null)throw _e=a,o;rt=1,Nd(e,Ln(n,e.current)),_e=null;return}t.flags&32768?(je||r===1?e=!0:wi||Te&536870912?e=!1:(Va=e=!0,(r===2||r===9||r===3||r===6)&&(r=Un.current,r!==null&&r.tag===13&&(r.flags|=16384))),Zk(t,e)):jf(t)}function jf(e){var t=e;do{if(t.flags&32768){Zk(t,Va);return}e=t.return;var n=T3(t.alternate,t,da);if(n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);rt===0&&(rt=5)}function Zk(e,t){do{var n=j3(e.alternate,e);if(n!==null){n.flags&=32767,_e=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=n}while(e!==null);rt=6,_e=null}function rb(e,t,n,r,a,o,s,i,l){e.cancelPendingCommit=null;do Rf();while(zt!==0);if(Le&6)throw Error(X(327));if(t!==null){if(t===e.current)throw Error(X(177));if(o=t.lanes|t.childLanes,o|=b0,gD(e,n,o,s,i,l),e===Ue&&(_e=Ue=null,Te=0),ai=t,Ja=e,Is=n,Pp=o,Lp=a,Bk=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,U3(ud,function(){return Kk(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=he.T,he.T=null,a=Re.p,Re.p=2,s=Le,Le|=4;try{R3(e,t,n)}finally{Le=s,Re.p=a,he.T=r}}zt=1,Yk(),qk(),Xk()}}function Yk(){if(zt===1){zt=0;var e=Ja,t=ai,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=he.T,he.T=null;var r=Re.p;Re.p=2;var a=Le;Le|=4;try{Mk(t,e);var o=Fp,s=mN(e.containerInfo),i=o.focusedElem,l=o.selectionRange;if(s!==i&&i&&i.ownerDocument&&hN(i.ownerDocument.documentElement,i)){if(l!==null&&x0(i)){var u=l.start,f=l.end;if(f===void 0&&(f=u),"selectionStart"in i)i.selectionStart=u,i.selectionEnd=Math.min(f,i.value.length);else{var d=i.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var m=h.getSelection(),x=i.textContent.length,b=Math.min(l.start,x),S=l.end===void 0?b:Math.min(l.end,x);!m.extend&&b>S&&(s=S,S=b,b=s);var v=kx(i,b),g=kx(i,S);if(v&&g&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=d.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),b>S?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(d=[],m=i;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<d.length;i++){var w=d[i];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Od=!!Up,Fp=Up=null}finally{Le=a,Re.p=r,he.T=n}}e.current=t,zt=2}}function qk(){if(zt===2){zt=0;var e=Ja,t=ai,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=he.T,he.T=null;var r=Re.p;Re.p=2;var a=Le;Le|=4;try{Ak(e,t.alternate,t)}finally{Le=a,Re.p=r,he.T=n}}zt=3}}function Xk(){if(zt===4||zt===3){zt=0,iD();var e=Ja,t=ai,n=Is,r=Bk;t.subtreeFlags&10256||t.flags&10256?zt=5:(zt=0,ai=Ja=null,Wk(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Qa=null),f0(n),t=t.stateNode,xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(cc,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=he.T,a=Re.p,Re.p=2,he.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var i=r[s];o(i.value,{componentStack:i.stack})}}finally{he.T=t,Re.p=a}}Is&3&&Rf(),jr(e),a=e.pendingLanes,n&4194090&&a&42?e===$p?bl++:(bl=0,$p=e):bl=0,wc(0)}}function Wk(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gc(t)))}function Rf(e){return Yk(),qk(),Xk(),Kk()}function Kk(){if(zt!==5)return!1;var e=Ja,t=Pp;Pp=0;var n=f0(Is),r=he.T,a=Re.p;try{Re.p=32>n?32:n,he.T=null,n=Lp,Lp=null;var o=Ja,s=Is;if(zt=0,ai=Ja=null,Is=0,Le&6)throw Error(X(331));var i=Le;if(Le|=4,Lk(o.current),zk(o,o.current,s,n),Le=i,wc(0,!1),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(cc,o)}catch{}return!0}finally{Re.p=a,he.T=r,Wk(e,t)}}function ab(e,t,n){t=Ln(n,t),t=Rp(e.stateNode,t,2),e=Ka(e,t,2),e!==null&&(dc(e,2),jr(e))}function Ie(e,t,n){if(e.tag===3)ab(e,e,n);else for(;t!==null;){if(t.tag===3){ab(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qa===null||!Qa.has(r))){e=Ln(n,e),n=mk(2),r=Ka(t,n,2),r!==null&&(pk(n,r,t,e),dc(r,2),jr(r));break}}t=t.return}}function em(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new z3;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(G0=!0,a.add(n),e=B3.bind(null,e,t,n),t.then(e,e))}function B3(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(Te&n)===n&&(rt===4||rt===3&&(Te&62914560)===Te&&300>Sr()-Z0?!(Le&2)&&oi(e,0):V0|=n,ri===Te&&(ri=0)),jr(e)}function Qk(e,t){t===0&&(t=YS()),e=bi(e,t),e!==null&&(dc(e,t),jr(e))}function I3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qk(e,n)}function H3(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(X(314))}r!==null&&r.delete(t),Qk(e,n)}function U3(e,t){return u0(e,t)}var Ad=null,ps=null,Ip=!1,Td=!1,tm=!1,Mo=0;function jr(e){e!==ps&&e.next===null&&(ps===null?Ad=ps=e:ps=ps.next=e),Td=!0,Ip||(Ip=!0,G3())}function wc(e,t){if(!tm&&Td){tm=!0;do for(var n=!1,r=Ad;r!==null;){if(e!==0){var a=r.pendingLanes;if(a===0)var o=0;else{var s=r.suspendedLanes,i=r.pingedLanes;o=(1<<31-bn(42|e)+1)-1,o&=a&~(s&~i),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,ob(r,o))}else o=Te,o=xf(r,r===Ue?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||uc(r,o)||(n=!0,ob(r,o));r=r.next}while(n);tm=!1}}function F3(){Jk()}function Jk(){Td=Ip=!1;var e=0;Mo!==0&&(Q3()&&(e=Mo),Mo=0);for(var t=Sr(),n=null,r=Ad;r!==null;){var a=r.next,o=eE(r,t);o===0?(r.next=null,n===null?Ad=a:n.next=a,a===null&&(ps=n)):(n=r,(e!==0||o&3)&&(Td=!0)),r=a}wc(e)}function eE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-bn(o),i=1<<s,l=a[s];l===-1?(!(i&n)||i&r)&&(a[s]=pD(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}if(t=Ue,n=Te,n=xf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ch(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||uc(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ch(r),f0(n)){case 2:case 8:n=GS;break;case 32:n=ud;break;case 268435456:n=VS;break;default:n=ud}return r=tE.bind(null,e),n=u0(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ch(r),e.callbackPriority=2,e.callbackNode=null,2}function tE(e,t){if(zt!==0&&zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Rf()&&e.callbackNode!==n)return null;var r=Te;return r=xf(e,e===Ue?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Hk(e,r,t),eE(e,Sr()),e.callbackNode!=null&&e.callbackNode===n?tE.bind(null,e):null)}function ob(e,t){if(Rf())return null;Hk(e,t,!0)}function G3(){e4(function(){Le&6?u0(FS,F3):Jk()})}function q0(){return Mo===0&&(Mo=ZS()),Mo}function sb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Lu(""+e)}function ib(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function V3(e,t,n,r,a){if(t==="submit"&&n&&n.stateNode===a){var o=sb((a[rn]||null).action),s=r.submitter;s&&(t=(t=s[rn]||null)?sb(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var i=new bf("action","action",null,r,a);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mo!==0){var l=s?ib(a,s):new FormData(a);Tp(n,{pending:!0,data:l,method:a.method,action:o},null,l)}}else typeof o=="function"&&(i.preventDefault(),l=s?ib(a,s):new FormData(a),Tp(n,{pending:!0,data:l,method:a.method,action:o},o,l))},currentTarget:a}]})}}for(var nm=0;nm<yp.length;nm++){var rm=yp[nm],Z3=rm.toLowerCase(),Y3=rm[0].toUpperCase()+rm.slice(1);or(Z3,"on"+Y3)}or(gN,"onAnimationEnd");or(yN,"onAnimationIteration");or(vN,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(u3,"onTransitionRun");or(d3,"onTransitionStart");or(f3,"onTransitionCancel");or(xN,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function nE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,u=i.currentTarget;if(i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(f){Sd(f)}a.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(i=r[s],l=i.instance,u=i.currentTarget,i=i.listener,l!==o&&a.isPropagationStopped())break e;o=i,a.currentTarget=u;try{o(a)}catch(f){Sd(f)}a.currentTarget=null,o=l}}}}function ke(e,t){var n=t[up];n===void 0&&(n=t[up]=new Set);var r=e+"__bubble";n.has(r)||(rE(t,e,2,!1),n.add(r))}function am(e,t,n){var r=0;t&&(r|=4),rE(n,e,r,t)}var nu="_reactListening"+Math.random().toString(36).slice(2);function X0(e){if(!e[nu]){e[nu]=!0,KS.forEach(function(n){n!=="selectionchange"&&(q3.has(n)||am(n,!1,e),am(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nu]||(t[nu]=!0,am("selectionchange",!1,t))}}function rE(e,t,n,r){switch(pE(t)){case 2:var a=w4;break;case 8:a=S4;break;default:a=J0}n=a.bind(null,t,n,e),a=void 0,!mp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function om(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;i!==null;){if(s=ws(i),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=o=s;continue e}i=i.parentNode}}r=r.return}oN(function(){var u=o,f=p0(n),d=[];e:{var h=bN.get(e);if(h!==void 0){var m=bf,x=e;switch(e){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":m=UD;break;case"focusin":x="focus",m=Oh;break;case"focusout":x="blur",m=Oh;break;case"beforeblur":case"afterblur":m=Oh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=VD;break;case gN:case yN:case vN:m=DD;break;case xN:m=YD;break;case"scroll":case"scrollend":m=AD;break;case"wheel":m=XD;break;case"copy":case"cut":case"paste":m=OD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=gx;break;case"toggle":case"beforetoggle":m=KD}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),v=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,y;g!==null;){var w=g;if(y=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||y===null||v===null||(w=_l(g,v),w!=null&&b.push(Dl(g,w,y))),S)break;g=g.return}0<b.length&&(h=new m(h,x,null,n,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==hp&&(x=n.relatedTarget||n.fromElement)&&(ws(x)||x[vi]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?ws(x):null,x!==null&&(S=lc(x),b=x.tag,x!==S||b!==5&&b!==27&&b!==6)&&(x=null)):(m=null,x=u),m!==x)){if(b=mx,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=gx,w="onPointerLeave",v="onPointerEnter",g="pointer"),S=m==null?h:Ji(m),y=x==null?h:Ji(x),h=new b(w,g+"leave",m,n,f),h.target=S,h.relatedTarget=y,w=null,ws(f)===u&&(b=new b(v,g+"enter",x,n,f),b.target=y,b.relatedTarget=S,w=b),S=w,m&&x)t:{for(b=m,v=x,g=0,y=b;y;y=ns(y))g++;for(y=0,w=v;w;w=ns(w))y++;for(;0<g-y;)b=ns(b),g--;for(;0<y-g;)v=ns(v),y--;for(;g--;){if(b===v||v!==null&&b===v.alternate)break t;b=ns(b),v=ns(v)}b=null}else b=null;m!==null&&lb(d,h,m,b,!1),x!==null&&S!==null&&lb(d,S,x,b,!0)}}e:{if(h=u?Ji(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=bx;else if(xx(h))if(dN)k=i3;else{k=o3;var C=a3}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&m0(u.elementType)&&(k=bx):k=s3;if(k&&(k=k(e,u))){uN(d,k,n,f);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&fp(h,"number",h.value)}switch(C=u?Ji(u):window,e){case"focusin":(xx(C)||C.contentEditable==="true")&&(ks=C,pp=u,ul=null);break;case"focusout":ul=pp=ks=null;break;case"mousedown":gp=!0;break;case"contextmenu":case"mouseup":case"dragend":gp=!1,Ex(d,n,f);break;case"selectionchange":if(c3)break;case"keydown":case"keyup":Ex(d,n,f)}var N;if(v0)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ns?lN(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iN&&n.locale!=="ko"&&(Ns||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ns&&(N=sN()):(Ga=f,g0="value"in Ga?Ga.value:Ga.textContent,Ns=!0)),C=jd(u,E),0<C.length&&(E=new px(E,e,null,n,f),d.push({event:E,listeners:C}),N?E.data=N:(N=cN(n),N!==null&&(E.data=N)))),(N=JD?e3(e,n):t3(e,n))&&(E=jd(u,"onBeforeInput"),0<E.length&&(C=new px("onBeforeInput","beforeinput",null,n,f),d.push({event:C,listeners:E}),C.data=N)),V3(d,e,u,n,f)}nE(d,t)})}function Dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||o===null||(a=_l(e,n),a!=null&&r.unshift(Dl(e,a,o)),a=_l(e,t),a!=null&&r.push(Dl(e,a,o))),e.tag===3)return r;e=e.return}return[]}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lb(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,l=i.alternate,u=i.stateNode;if(i=i.tag,l!==null&&l===r)break;i!==5&&i!==26&&i!==27||u===null||(l=u,a?(u=_l(n,o),u!=null&&s.unshift(Dl(n,u,l))):a||(u=_l(n,o),u!=null&&s.push(Dl(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var X3=/\r\n?/g,W3=/\u0000|\uFFFD/g;function cb(e){return(typeof e=="string"?e:""+e).replace(X3,`
`).replace(W3,"")}function aE(e,t){return t=cb(t),cb(e)===t}function Mf(){}function $e(e,t,n,r,a,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Qs(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Qs(e,""+r);break;case"className":Xc(e,"class",r);break;case"tabIndex":Xc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xc(e,n,r);break;case"style":aN(e,r,o);break;case"data":if(t!=="object"){Xc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Lu(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&$e(e,t,"name",a.name,a,null),$e(e,t,"formEncType",a.formEncType,a,null),$e(e,t,"formMethod",a.formMethod,a,null),$e(e,t,"formTarget",a.formTarget,a,null)):($e(e,t,"encType",a.encType,a,null),$e(e,t,"method",a.method,a,null),$e(e,t,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Lu(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Mf);break;case"onScroll":r!=null&&ke("scroll",e);break;case"onScrollEnd":r!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Lu(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Pu(e,"popover",r);break;case"xlinkActuate":Ur(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ur(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ur(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ur(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ur(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ur(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ur(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Pu(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_D.get(n)||n,Pu(e,n,r))}}function Hp(e,t,n,r,a,o){switch(n){case"style":aN(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(X(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(X(60));e.innerHTML=n}}break;case"children":typeof r=="string"?Qs(e,r):(typeof r=="number"||typeof r=="bigint")&&Qs(e,""+r);break;case"onScroll":r!=null&&ke("scroll",e);break;case"onScrollEnd":r!=null&&ke("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!QS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),o=e[rn]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,a),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Pu(e,n,r)}}}function Ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:$e(e,t,o,s,n,null)}}a&&$e(e,t,"srcSet",n.srcSet,n,null),r&&$e(e,t,"src",n.src,n,null);return;case"input":ke("invalid",e);var i=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":a=f;break;case"type":s=f;break;case"checked":l=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":i=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(X(137,t));break;default:$e(e,t,r,f,n,null)}}tN(e,o,i,l,u,s,a,!1),dd(e);return;case"select":ke("invalid",e),r=s=o=null;for(a in n)if(n.hasOwnProperty(a)&&(i=n[a],i!=null))switch(a){case"value":o=i;break;case"defaultValue":s=i;break;case"multiple":r=i;default:$e(e,t,a,i,n,null)}t=o,n=s,e.multiple=!!r,t!=null?zs(e,!!r,t,!1):n!=null&&zs(e,!!r,n,!0);return;case"textarea":ke("invalid",e),o=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(i=n[s],i!=null))switch(s){case"value":r=i;break;case"defaultValue":a=i;break;case"children":o=i;break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(X(91));break;default:$e(e,t,s,i,n,null)}rN(e,r,a,o),dd(e);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:$e(e,t,l,r,n,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(r=0;r<Ml.length;r++)ke(Ml[r],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(X(137,t));default:$e(e,t,u,r,n,null)}return;default:if(m0(t)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&Hp(e,t,f,r,n,void 0));return}}for(i in n)n.hasOwnProperty(i)&&(r=n[i],r!=null&&$e(e,t,i,r,n,null))}function K3(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,i=null,l=null,u=null,f=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||$e(e,t,m,null,r,d)}}for(var h in r){var m=r[h];if(d=n[h],r.hasOwnProperty(h)&&(m!=null||d!=null))switch(h){case"type":o=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":f=m;break;case"value":s=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(X(137,t));break;default:m!==d&&$e(e,t,h,m,r,d)}}dp(e,s,i,l,u,f,o,a);return;case"select":m=s=i=h=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||$e(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case"value":h=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:o!==l&&$e(e,t,a,o,r,l)}t=i,n=s,r=m,h!=null?zs(e,!!n,h,!1):!!r!=!!n&&(t!=null?zs(e,!!n,t,!0):zs(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(i in n)if(a=n[i],n.hasOwnProperty(i)&&a!=null&&!r.hasOwnProperty(i))switch(i){case"value":break;case"children":break;default:$e(e,t,i,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(X(91));break;default:a!==o&&$e(e,t,s,a,r,o)}nN(e,h,m);return;case"option":for(var x in n)if(h=n[x],n.hasOwnProperty(x)&&h!=null&&!r.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:$e(e,t,x,null,r,h)}for(l in r)if(h=r[l],m=n[l],r.hasOwnProperty(l)&&h!==m&&(h!=null||m!=null))switch(l){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:$e(e,t,l,h,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b)&&$e(e,t,b,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(X(137,t));break;default:$e(e,t,u,h,r,m)}return;default:if(m0(t)){for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!==void 0&&!r.hasOwnProperty(S)&&Hp(e,t,S,void 0,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||h===void 0&&m===void 0||Hp(e,t,f,h,r,m);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!r.hasOwnProperty(v)&&$e(e,t,v,null,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||h==null&&m==null||$e(e,t,d,h,r,m)}var Up=null,Fp=null;function Rd(e){return e.nodeType===9?e:e.ownerDocument}function ub(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sm=null;function Q3(){var e=window.event;return e&&e.type==="popstate"?e===sm?!1:(sm=e,!0):(sm=null,!1)}var sE=typeof setTimeout=="function"?setTimeout:void 0,J3=typeof clearTimeout=="function"?clearTimeout:void 0,db=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof db<"u"?function(e){return db.resolve(null).then(e).catch(t4)}:sE;function t4(e){setTimeout(function(){throw e})}function uo(e){return e==="head"}function fb(e,t){var n=t,r=0,a=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(n&1&&wl(s.documentElement),n&2&&wl(s.body),n&4)for(n=s.head,wl(n),s=n.firstChild;s;){var i=s.nextSibling,l=s.nodeName;s[fc]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=i}}if(a===0){e.removeChild(o),$l(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);$l(t)}function Vp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Vp(n),h0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function n4(e,t,n,r){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[fc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function r4(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Zp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function a4(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Yp=null;function hb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function iE(e,t,n){switch(t=Rd(n),e){case"html":if(e=t.documentElement,!e)throw Error(X(452));return e;case"head":if(e=t.head,!e)throw Error(X(453));return e;case"body":if(e=t.body,!e)throw Error(X(454));return e;default:throw Error(X(451))}}function wl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);h0(e)}var Fn=new Map,mb=new Set;function Md(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=Re.d;Re.d={f:o4,r:s4,D:i4,C:l4,L:c4,m:u4,X:f4,S:d4,M:h4};function o4(){var e=va.f(),t=Tf();return e||t}function s4(e){var t=xi(e);t!==null&&t.tag===5&&t.type==="form"?ek(t):va.r(e)}var Si=typeof document>"u"?null:document;function lE(e,t,n){var r=Si;if(r&&typeof t=="string"&&t){var a=Pn(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),mb.has(a)||(mb.add(a),e={rel:e,crossOrigin:n,href:t},r.querySelector(a)===null&&(t=r.createElement("link"),Ot(t,"link",e),Nt(t),r.head.appendChild(t)))}}function i4(e){va.D(e),lE("dns-prefetch",e,null)}function l4(e,t){va.C(e,t),lE("preconnect",e,t)}function c4(e,t,n){va.L(e,t,n);var r=Si;if(r&&e&&t){var a='link[rel="preload"][as="'+Pn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Pn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Pn(n.imageSizes)+'"]')):a+='[href="'+Pn(e)+'"]';var o=a;switch(t){case"style":o=si(e);break;case"script":o=Ni(e)}Fn.has(o)||(e=Ge({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Fn.set(o,e),r.querySelector(a)!==null||t==="style"&&r.querySelector(Sc(o))||t==="script"&&r.querySelector(Nc(o))||(t=r.createElement("link"),Ot(t,"link",e),Nt(t),r.head.appendChild(t)))}}function u4(e,t){va.m(e,t);var n=Si;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Pn(r)+'"][href="'+Pn(e)+'"]',o=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Ni(e)}if(!Fn.has(o)&&(e=Ge({rel:"modulepreload",href:e},t),Fn.set(o,e),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nc(o)))return}r=n.createElement("link"),Ot(r,"link",e),Nt(r),n.head.appendChild(r)}}}function d4(e,t,n){va.S(e,t,n);var r=Si;if(r&&e){var a=Ds(r).hoistableStyles,o=si(e);t=t||"default";var s=a.get(o);if(!s){var i={loading:0,preload:null};if(s=r.querySelector(Sc(o)))i.loading=5;else{e=Ge({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fn.get(o))&&W0(e,n);var l=s=r.createElement("link");Nt(l),Ot(l,"link",e),l._p=new Promise(function(u,f){l.onload=u,l.onerror=f}),l.addEventListener("load",function(){i.loading|=1}),l.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Zu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:i},a.set(o,s)}}}function f4(e,t){va.X(e,t);var n=Si;if(n&&e){var r=Ds(n).hoistableScripts,a=Ni(e),o=r.get(a);o||(o=n.querySelector(Nc(a)),o||(e=Ge({src:e,async:!0},t),(t=Fn.get(a))&&K0(e,t),o=n.createElement("script"),Nt(o),Ot(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function h4(e,t){va.M(e,t);var n=Si;if(n&&e){var r=Ds(n).hoistableScripts,a=Ni(e),o=r.get(a);o||(o=n.querySelector(Nc(a)),o||(e=Ge({src:e,async:!0,type:"module"},t),(t=Fn.get(a))&&K0(e,t),o=n.createElement("script"),Nt(o),Ot(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(a,o))}}function pb(e,t,n,r){var a=(a=Xa.current)?Md(a):null;if(!a)throw Error(X(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=si(n.href),n=Ds(a).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=si(n.href);var o=Ds(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Sc(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Fn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fn.set(e,n),o||m4(a,e,n,s.state))),t&&r===null)throw Error(X(528,""));return s}if(t&&r!==null)throw Error(X(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ni(n),n=Ds(a).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(X(444,e))}}function si(e){return'href="'+Pn(e)+'"'}function Sc(e){return'link[rel="stylesheet"]['+e+"]"}function cE(e){return Ge({},e,{"data-precedence":e.precedence,precedence:null})}function m4(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Ot(t,"link",n),Nt(t),e.head.appendChild(t))}function Ni(e){return'[src="'+Pn(e)+'"]'}function Nc(e){return"script[async]"+e}function gb(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Pn(n.href)+'"]');if(r)return t.instance=r,Nt(r),r;var a=Ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Nt(r),Ot(r,"style",a),Zu(r,n.precedence,e),t.instance=r;case"stylesheet":a=si(n.href);var o=e.querySelector(Sc(a));if(o)return t.state.loading|=4,t.instance=o,Nt(o),o;r=cE(n),(a=Fn.get(a))&&W0(r,a),o=(e.ownerDocument||e).createElement("link"),Nt(o);var s=o;return s._p=new Promise(function(i,l){s.onload=i,s.onerror=l}),Ot(o,"link",r),t.state.loading|=4,Zu(o,n.precedence,e),t.instance=o;case"script":return o=Ni(n.src),(a=e.querySelector(Nc(o)))?(t.instance=a,Nt(a),a):(r=n,(a=Fn.get(o))&&(r=Ge({},n),K0(r,a)),e=e.ownerDocument||e,a=e.createElement("script"),Nt(a),Ot(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(X(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Zu(r,n.precedence,e));return t.instance}function Zu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,o=a,s=0;s<r.length;s++){var i=r[s];if(i.dataset.precedence===t)o=i;else if(o!==a)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function W0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function K0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yu=null;function yb(e,t,n){if(Yu===null){var r=new Map,a=Yu=new Map;a.set(n,r)}else a=Yu,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var o=n[a];if(!(o[fc]||o[Bt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var i=r.get(s);i?i.push(o):r.set(s,[o])}}return r}function vb(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function p4(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function uE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var zl=null;function g4(){}function y4(e,t,n){if(zl===null)throw Error(X(475));var r=zl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=si(n.href),o=e.querySelector(Sc(a));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Dd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,Nt(o);return}o=e.ownerDocument||e,n=cE(n),(a=Fn.get(a))&&W0(n,a),o=o.createElement("link"),Nt(o);var s=o;s._p=new Promise(function(i,l){s.onload=i,s.onerror=l}),Ot(o,"link",n),t.instance=o}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Dd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function v4(){if(zl===null)throw Error(X(475));var e=zl;return e.stylesheets&&e.count===0&&qp(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&qp(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Dd(){if(this.count--,this.count===0){if(this.stylesheets)qp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zd=null;function qp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zd=new Map,t.forEach(x4,e),zd=null,Dd.call(e))}function x4(e,t){if(!(t.state.loading&4)){var n=zd.get(e);if(n)var r=n.get(null);else{n=new Map,zd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<a.length;o++){var s=a[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=t.instance,s=a.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,a),n.set(s,a),this.count++,r=Dd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),o?o.parentNode.insertBefore(a,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ol={$$typeof:Wr,Provider:null,Consumer:null,_currentValue:_o,_currentValue2:_o,_threadCount:0};function b4(e,t,n,r,a,o,s,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ah(0),this.hiddenUpdates=Ah(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function dE(e,t,n,r,a,o,s,i,l,u,f,d){return e=new b4(e,t,n,s,i,l,u,d),t=1,o===!0&&(t|=24),o=vn(3,null,null,t),e.current=o,o.stateNode=e,t=E0(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},C0(o),e}function fE(e){return e?(e=Cs,e):Cs}function hE(e,t,n,r,a,o){a=fE(a),r.context===null?r.context=a:r.pendingContext=a,r=Wa(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Ka(e,r,t),n!==null&&(Sn(n,e,t),hl(n,e,t))}function xb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Q0(e,t){xb(e,t),(e=e.alternate)&&xb(e,t)}function mE(e){if(e.tag===13){var t=bi(e,67108864);t!==null&&Sn(t,e,67108864),Q0(e,67108864)}}var Od=!0;function w4(e,t,n,r){var a=he.T;he.T=null;var o=Re.p;try{Re.p=2,J0(e,t,n,r)}finally{Re.p=o,he.T=a}}function S4(e,t,n,r){var a=he.T;he.T=null;var o=Re.p;try{Re.p=8,J0(e,t,n,r)}finally{Re.p=o,he.T=a}}function J0(e,t,n,r){if(Od){var a=Xp(r);if(a===null)om(e,t,r,Pd,n),bb(e,r);else if(k4(a,e,t,n,r))r.stopPropagation();else if(bb(e,r),t&4&&-1<N4.indexOf(e)){for(;a!==null;){var o=xi(a);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=vo(o.pendingLanes);if(s!==0){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;s;){var l=1<<31-bn(s);i.entanglements[1]|=l,s&=~l}jr(o),!(Le&6)&&(_d=Sr()+500,wc(0))}}break;case 13:i=bi(o,2),i!==null&&Sn(i,o,2),Tf(),Q0(o,2)}if(o=Xp(r),o===null&&om(e,t,r,Pd,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else om(e,t,r,null,n)}}function Xp(e){return e=p0(e),ey(e)}var Pd=null;function ey(e){if(Pd=null,e=ws(e),e!==null){var t=lc(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=BS(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pd=e,null}function pE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lD()){case FS:return 2;case GS:return 8;case ud:case cD:return 32;case VS:return 268435456;default:return 32}default:return 32}}var Wp=!1,eo=null,to=null,no=null,Pl=new Map,Ll=new Map,Ba=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bb(e,t){switch(e){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(t.pointerId)}}function Ii(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=xi(t),t!==null&&mE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function k4(e,t,n,r,a){switch(t){case"focusin":return eo=Ii(eo,e,t,n,r,a),!0;case"dragenter":return to=Ii(to,e,t,n,r,a),!0;case"mouseover":return no=Ii(no,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Pl.set(o,Ii(Pl.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ll.set(o,Ii(Ll.get(o)||null,e,t,n,r,a)),!0}return!1}function gE(e){var t=ws(e.target);if(t!==null){var n=lc(t);if(n!==null){if(t=n.tag,t===13){if(t=BS(n),t!==null){e.blockedOn=t,yD(e.priority,function(){if(n.tag===13){var r=wn();r=d0(r);var a=bi(n,r);a!==null&&Sn(a,n,r),Q0(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hp=r,n.target.dispatchEvent(r),hp=null}else return t=xi(n),t!==null&&mE(t),e.blockedOn=n,!1;t.shift()}return!0}function wb(e,t,n){qu(e)&&n.delete(t)}function E4(){Wp=!1,eo!==null&&qu(eo)&&(eo=null),to!==null&&qu(to)&&(to=null),no!==null&&qu(no)&&(no=null),Pl.forEach(wb),Ll.forEach(wb)}function ru(e,t){e.blockedOn===t&&(e.blockedOn=null,Wp||(Wp=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,E4)))}var au=null;function Sb(e){au!==e&&(au=e,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,function(){au===e&&(au=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if(typeof r!="function"){if(ey(r||n)===null)continue;break}var o=xi(n);o!==null&&(e.splice(t,3),t-=3,Tp(o,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function $l(e){function t(l){return ru(l,e)}eo!==null&&ru(eo,e),to!==null&&ru(to,e),no!==null&&ru(no,e),Pl.forEach(t),Ll.forEach(t);for(var n=0;n<Ba.length;n++){var r=Ba[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ba.length&&(n=Ba[0],n.blockedOn===null);)gE(n),n.blockedOn===null&&Ba.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],o=n[r+1],s=a[rn]||null;if(typeof o=="function")s||Sb(n);else if(s){var i=null;if(o&&o.hasAttribute("formAction")){if(a=o,s=o[rn]||null)i=s.formAction;else if(ey(a)!==null)continue}else i=s.action;typeof i=="function"?n[r+1]=i:(n.splice(r,3),r-=3),Sb(n)}}}function ty(e){this._internalRoot=e}Df.prototype.render=ty.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));var n=t.current,r=wn();hE(n,r,e,t,null,null)};Df.prototype.unmount=ty.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hE(e.current,2,null,e,null,null),Tf(),t[vi]=null}};function Df(e){this._internalRoot=e}Df.prototype.unstable_scheduleHydration=function(e){if(e){var t=WS();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ba.length&&t!==0&&t<Ba[n].priority;n++);Ba.splice(n,0,e),n===0&&gE(e)}};var Nb=LS.version;if(Nb!=="19.1.0")throw Error(X(527,Nb,"19.1.0"));Re.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=tD(t),e=e!==null?IS(e):null,e=e===null?null:e.stateNode,e};var _4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{cc=ou.inject(_4),xn=ou}catch{}}yf.createRoot=function(e,t){if(!$S(e))throw Error(X(299));var n=!1,r="",a=dk,o=fk,s=hk,i=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(i=t.unstable_transitionCallbacks)),t=dE(e,1,!1,null,null,n,r,a,o,s,i,null),e[vi]=t.current,X0(e),new ty(t)};yf.hydrateRoot=function(e,t,n){if(!$S(e))throw Error(X(299));var r=!1,a="",o=dk,s=fk,i=hk,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(i=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=dE(e,1,!0,t,n??null,r,a,o,s,i,l,u),t.context=fE(null),n=t.current,r=wn(),r=d0(r),a=Wa(r),a.callback=null,Ka(n,a,r),n=r,t.current.lanes=n,dc(t,n),jr(t),e[vi]=t.current,X0(e),new Df(t)};yf.version="19.1.0";function yE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yE)}catch(e){console.error(e)}}yE(),RS.exports=yf;var C4=RS.exports;const Ht={DROPDOWN:100,AUTOCOMPLETE:120,TOOLTIP:150,MODAL:200,HEADER:50,SIDEBAR:60,NAVIGATION:70};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),kb=e=>{const t=T4(e);return t.charAt(0).toUpperCase()+t.slice(1)},vE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),j4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:s,...i},l)=>p.createElement("svg",{ref:l,...R4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vE("lucide",a),...!o&&!j4(i)&&{"aria-hidden":"true"},...i},[...s.map(([u,f])=>p.createElement(u,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const n=p.forwardRef(({className:r,...a},o)=>p.createElement(M4,{ref:o,iconNode:t,className:vE(`lucide-${A4(kb(e))}`,`lucide-${e}`,r),...a}));return n.displayName=kb(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],z4=me("arrow-left",D4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],xE=me("book-open",O4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Eb=me("brain",P4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bE=me("check",L4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tr=me("chevron-down",$4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I4=me("chevron-left",B4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zf=me("chevron-right",H4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F4=me("circle-alert",U4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],V4=me("circle-check-big",G4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Y4=me("circle-x",Z4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ny=me("circle",q4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],W4=me("copy",X4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Q4=me("droplets",K4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_b=me("external-link",J4);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tz=me("eye",ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],rz=me("flame",nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],kc=me("grid-3x3",az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],sz=me("grip-vertical",oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],lz=me("hammer",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Cb=me("hand",cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],wE=me("heart",uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],fz=me("house",dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bl=me("info",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ec=me("list",mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gz=me("map-pin",pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],SE=me("maximize-2",yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],xz=me("menu",vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],NE=me("minimize-2",bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ab=me("minus",wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Nz=me("monitor",Sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ez=me("moon",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kp=me("plus",_z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kE=me("rotate-ccw",Cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ki=me("search",Az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EE=me("settings",Tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Rz=me("share-2",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gs=me("shield",Mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ya=me("star",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Tb=me("sun",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]],jb=me("sword",Oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Lz=me("tag",Pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bz=me("target",$z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hz=me("trash-2",Iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Il=me("triangle-alert",Uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sl=me("user",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],In=me("x",Gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_E=me("zap",Vz);var ry={};Object.defineProperty(ry,"__esModule",{value:!0});ry.parse=Qz;ry.serialize=Jz;const Zz=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Yz=/^[\u0021-\u003A\u003C-\u007E]*$/,qz=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Xz=/^[\u0020-\u003A\u003D-\u007E]*$/,Wz=Object.prototype.toString,Kz=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function Qz(e,t){const n=new Kz,r=e.length;if(r<2)return n;const a=(t==null?void 0:t.decode)||eO;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const i=e.indexOf(";",o),l=i===-1?r:i;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const u=Rb(e,o,s),f=Mb(e,s,u),d=e.slice(u,f);if(n[d]===void 0){let h=Rb(e,s+1,l),m=Mb(e,l,h);const x=a(e.slice(h,m));n[d]=x}o=l+1}while(o<r);return n}function Rb(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Mb(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function Jz(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!Zz.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=r(t);if(!Yz.test(a))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+a;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!qz.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!Xz.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!tO(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function eO(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function tO(e){return Wz.call(e)==="[object Date]"}var Db="popstate";function nO(e={}){function t(a,o){let{pathname:s="/",search:i="",hash:l=""}=Wo(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Qp("",{pathname:s,search:i,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){let s=a.document.querySelector("base"),i="";if(s&&s.getAttribute("href")){let l=a.location.href,u=l.indexOf("#");i=u===-1?l:l.slice(0,u)}return i+"#"+(typeof o=="string"?o:Hl(o))}function r(a,o){nr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return aO(t,n,r,e)}function Qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rO(){return Math.random().toString(36).substring(2,10)}function zb(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wo(t):t,state:n,key:t&&t.key||r||rO()}}function Hl({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function aO(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,i="POP",l=null,u=f();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function f(){return(s.state||{idx:null}).idx}function d(){i="POP";let S=f(),v=S==null?null:S-u;u=S,l&&l({action:i,location:b.location,delta:v})}function h(S,v){i="PUSH";let g=Qp(b.location,S,v);n&&n(g,S),u=f()+1;let y=zb(g,u),w=b.createHref(g);try{s.pushState(y,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(w)}o&&l&&l({action:i,location:b.location,delta:1})}function m(S,v){i="REPLACE";let g=Qp(b.location,S,v);n&&n(g,S),u=f();let y=zb(g,u),w=b.createHref(g);s.replaceState(y,"",w),o&&l&&l({action:i,location:b.location,delta:0})}function x(S){return oO(S)}let b={get action(){return i},get location(){return e(a,s)},listen(S){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Db,d),l=S,()=>{a.removeEventListener(Db,d),l=null}},createHref(S){return t(a,S)},createURL:x,encodeLocation(S){let v=x(S);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(S){return s.go(S)}};return b}function oO(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Hl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CE(e,t,n="/"){return sO(e,t,n,!1)}function sO(e,t,n,r){let a=typeof t=="string"?Wo(t):t,o=fa(a.pathname||"/",n);if(o==null)return null;let s=AE(e);iO(s);let i=null;for(let l=0;i==null&&l<s.length;++l){let u=vO(o);i=gO(s[l],u,r)}return i}function AE(e,t=[],n=[],r=""){let a=(o,s,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=oa([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(Qe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),AE(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:mO(u,o.index),routesMeta:f})};return e.forEach((o,s)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))a(o,s);else for(let l of TE(o.path))a(o,s,l)}),t}function TE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=TE(r.join("/")),i=[];return i.push(...s.map(l=>l===""?o:[o,l].join("/"))),a&&i.push(...s),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function iO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lO=/^:[\w-]+$/,cO=3,uO=2,dO=1,fO=10,hO=-2,Ob=e=>e==="*";function mO(e,t){let n=e.split("/"),r=n.length;return n.some(Ob)&&(r+=hO),t&&(r+=uO),n.filter(a=>!Ob(a)).reduce((a,o)=>a+(lO.test(o)?cO:o===""?dO:fO),r)}function pO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function gO(e,t,n=!1){let{routesMeta:r}=e,a={},o="/",s=[];for(let i=0;i<r.length;++i){let l=r[i],u=i===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Ld({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:oa([o,d.pathname]),pathnameBase:SO(oa([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=oa([o,d.pathnameBase]))}return s}function Ld(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yO(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:d},h)=>{if(f==="*"){let x=i[h]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const m=i[h];return d&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function yO(e,t=!1,n=!0){nr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,i,l)=>(r.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function vO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function xO(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Wo(e):e;return{pathname:n?n.startsWith("/")?n:bO(n,t):t,search:NO(r),hash:kO(a)}}function bO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function im(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jE(e){let t=wO(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function RE(e,t,n,r=!1){let a;typeof e=="string"?a=Wo(e):(a={...e},Qe(!a.pathname||!a.pathname.includes("?"),im("?","pathname","search",a)),Qe(!a.pathname||!a.pathname.includes("#"),im("#","pathname","hash",a)),Qe(!a.search||!a.search.includes("#"),im("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,i;if(s==null)i=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}i=d>=0?t[d]:"/"}let l=xO(a,i),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var oa=e=>e.join("/").replace(/\/\/+/g,"/"),SO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var _O=["GET",...ME];new Set(_O);var Ei=p.createContext(null);Ei.displayName="DataRouter";var Of=p.createContext(null);Of.displayName="DataRouterState";var DE=p.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var CO=p.createContext(new Map);CO.displayName="Fetchers";var AO=p.createContext(null);AO.displayName="Await";var Rr=p.createContext(null);Rr.displayName="Navigation";var _c=p.createContext(null);_c.displayName="Location";var Mr=p.createContext({outlet:null,matches:[],isDataRoute:!1});Mr.displayName="Route";var ay=p.createContext(null);ay.displayName="RouteError";function TO(e,{relative:t}={}){Qe(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=p.useContext(Rr),{hash:a,pathname:o,search:s}=Ac(e,{relative:t}),i=o;return n!=="/"&&(i=o==="/"?n:oa([n,o])),r.createHref({pathname:i,search:s,hash:a})}function Cc(){return p.useContext(_c)!=null}function xa(){return Qe(Cc(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(_c).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OE(e){p.useContext(Rr).static||p.useLayoutEffect(e)}function Gn(){let{isDataRoute:e}=p.useContext(Mr);return e?GO():jO()}function jO(){Qe(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Ei),{basename:t,navigator:n}=p.useContext(Rr),{matches:r}=p.useContext(Mr),{pathname:a}=xa(),o=JSON.stringify(jE(r)),s=p.useRef(!1);return OE(()=>{s.current=!0}),p.useCallback((l,u={})=>{if(nr(s.current,zE),!s.current)return;if(typeof l=="number"){n.go(l);return}let f=RE(l,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:oa([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,o,a,e])}var RO=p.createContext(null);function MO(e){let t=p.useContext(Mr).outlet;return t&&p.createElement(RO.Provider,{value:e},t)}function Ac(e,{relative:t}={}){let{matches:n}=p.useContext(Mr),{pathname:r}=xa(),a=JSON.stringify(jE(n));return p.useMemo(()=>RE(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function DO(e,t){return PE(e,t)}function PE(e,t,n,r){var v;Qe(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=p.useContext(Rr),{matches:o}=p.useContext(Mr),s=o[o.length-1],i=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",f=s&&s.route;{let g=f&&f.path||"";LE(l,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let d=xa(),h;if(t){let g=typeof t=="string"?Wo(t):t;Qe(u==="/"||((v=g.pathname)==null?void 0:v.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${g.pathname}" was given in the \`location\` prop.`),h=g}else h=d;let m=h.pathname||"/",x=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=CE(e,{pathname:x});nr(f||b!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),nr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=$O(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},i,g.params),pathname:oa([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:oa([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return t&&S?p.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},S):S}function zO(){let e=FO(),t=EO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:o},"ErrorBoundary")," or"," ",p.createElement("code",{style:o},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,s)}var OO=p.createElement(zO,null),PO=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?p.createElement(Mr.Provider,{value:this.props.routeContext},p.createElement(ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LO({routeContext:e,match:t,children:n}){let r=p.useContext(Ei);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Mr.Provider,{value:e},n)}function $O(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let l=a.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let s=!1,i=-1;if(n)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(i=l),u.route.id){let{loaderData:f,errors:d}=n,h=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||h){s=!0,i>=0?a=a.slice(0,i+1):a=[a[0]];break}}}return a.reduceRight((l,u,f)=>{let d,h=!1,m=null,x=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,m=u.route.errorElement||OO,s&&(i<0&&f===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,x=null):i===f&&(h=!0,x=u.route.hydrateFallbackElement||null)));let b=t.concat(a.slice(0,f+1)),S=()=>{let v;return d?v=m:h?v=x:u.route.Component?v=p.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=l,p.createElement(LO,{match:u,routeContext:{outlet:l,matches:b,isDataRoute:n!=null},children:v})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?p.createElement(PO,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:S(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):S()},null)}function oy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BO(e){let t=p.useContext(Ei);return Qe(t,oy(e)),t}function IO(e){let t=p.useContext(Of);return Qe(t,oy(e)),t}function HO(e){let t=p.useContext(Mr);return Qe(t,oy(e)),t}function sy(e){let t=HO(e),n=t.matches[t.matches.length-1];return Qe(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function UO(){return sy("useRouteId")}function FO(){var r;let e=p.useContext(ay),t=IO("useRouteError"),n=sy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function GO(){let{router:e}=BO("useNavigate"),t=sy("useNavigate"),n=p.useRef(!1);return OE(()=>{n.current=!0}),p.useCallback(async(a,o={})=>{nr(n.current,zE),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var Pb={};function LE(e,t,n){!t&&!Pb[e]&&(Pb[e]=!0,nr(!1,n))}p.memo(VO);function VO({routes:e,future:t,state:n}){return PE(e,void 0,n,t)}function ZO(e){return MO(e.context)}function it(e){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YO({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){Qe(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),i=p.useMemo(()=>({basename:s,navigator:a,static:o,future:{}}),[s,a,o]);typeof n=="string"&&(n=Wo(n));let{pathname:l="/",search:u="",hash:f="",state:d=null,key:h="default"}=n,m=p.useMemo(()=>{let x=fa(l,s);return x==null?null:{location:{pathname:x,search:u,hash:f,state:d,key:h},navigationType:r}},[s,l,u,f,d,h,r]);return nr(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:p.createElement(Rr.Provider,{value:i},p.createElement(_c.Provider,{children:t,value:m}))}function qO({children:e,location:t}){return DO(Jp(e),t)}function Jp(e,t=[]){let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){n.push.apply(n,Jp(r.props.children,o));return}Qe(r.type===it,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Jp(r.props.children,o)),n.push(s)}),n}var Xu="get",Wu="application/x-www-form-urlencoded";function Pf(e){return e!=null&&typeof e.tagName=="string"}function XO(e){return Pf(e)&&e.tagName.toLowerCase()==="button"}function WO(e){return Pf(e)&&e.tagName.toLowerCase()==="form"}function KO(e){return Pf(e)&&e.tagName.toLowerCase()==="input"}function QO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JO(e,t){return e.button===0&&(!t||t==="_self")&&!QO(e)}var su=null;function eP(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var tP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(e){return e!=null&&!tP.has(e)?(nr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):e}function nP(e,t){let n,r,a,o,s;if(WO(e)){let i=e.getAttribute("action");r=i?fa(i,t):null,n=e.getAttribute("method")||Xu,a=lm(e.getAttribute("enctype"))||Wu,o=new FormData(e)}else if(XO(e)||KO(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(r=l?fa(l,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Xu,a=lm(e.getAttribute("formenctype"))||lm(i.getAttribute("enctype"))||Wu,o=new FormData(i,e),!eP()){let{name:u,type:f,value:d}=e;if(f==="image"){let h=u?`${u}.`:"";o.append(`${h}x`,"0"),o.append(`${h}y`,"0")}else u&&o.append(u,d)}}else{if(Pf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xu,r=null,a=Wu,s=e}return o&&a==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:s}}function iy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function rP(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function oP(e,t,n){let r=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let s=await rP(o,n);return s.links?s.links():[]}return[]}));return cP(r.flat(1).filter(aP).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Lb(e,t,n,r,a,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,i=(l,u)=>{var f;return n[u].pathname!==l.pathname||((f=n[u].route.path)==null?void 0:f.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||i(l,u)):o==="data"?t.filter((l,u)=>{var d;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(s(l,u)||i(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function sP(e,t,{includeHydrateFallback:n}={}){return iP(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function iP(e){return[...new Set(e)]}function lP(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function cP(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let o=JSON.stringify(lP(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uP=new Set([100,101,204,205]);function dP(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&fa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function $E(){let e=p.useContext(Ei);return iy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fP(){let e=p.useContext(Of);return iy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ly=p.createContext(void 0);ly.displayName="FrameworkContext";function BE(){let e=p.useContext(ly);return iy(e,"You must render this element inside a <HydratedRouter> element"),e}function hP(e,t){let n=p.useContext(ly),[r,a]=p.useState(!1),[o,s]=p.useState(!1),{onFocus:i,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:d}=t,h=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=v=>{v.forEach(g=>{s(g.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return h.current&&S.observe(h.current),()=>{S.disconnect()}}},[e]),p.useEffect(()=>{if(r){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[r]);let m=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Hi(i,m),onBlur:Hi(l,x),onMouseEnter:Hi(u,m),onMouseLeave:Hi(f,x),onTouchStart:Hi(d,m)}]:[!1,h,{}]}function Hi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function mP({page:e,...t}){let{router:n}=$E(),r=p.useMemo(()=>CE(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?p.createElement(gP,{page:e,matches:r,...t}):null}function pP(e){let{manifest:t,routeModules:n}=BE(),[r,a]=p.useState([]);return p.useEffect(()=>{let o=!1;return oP(e,t,n).then(s=>{o||a(s)}),()=>{o=!0}},[e,t,n]),r}function gP({page:e,matches:t,...n}){let r=xa(),{manifest:a,routeModules:o}=BE(),{basename:s}=$E(),{loaderData:i,matches:l}=fP(),u=p.useMemo(()=>Lb(e,t,l,a,r,"data"),[e,t,l,a,r]),f=p.useMemo(()=>Lb(e,t,l,a,r,"assets"),[e,t,l,a,r]),d=p.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,b=!1;if(t.forEach(v=>{var y;let g=a.routes[v.route.id];!g||!g.hasLoader||(!u.some(w=>w.route.id===v.route.id)&&v.route.id in i&&((y=o[v.route.id])!=null&&y.shouldRevalidate)||g.hasClientLoader?b=!0:x.add(v.route.id))}),x.size===0)return[];let S=dP(e,s);return b&&x.size>0&&S.searchParams.set("_routes",t.filter(v=>x.has(v.route.id)).map(v=>v.route.id).join(",")),[S.pathname+S.search]},[s,i,r,a,u,t,e,o]),h=p.useMemo(()=>sP(f,a),[f,a]),m=pP(f);return p.createElement(p.Fragment,null,d.map(x=>p.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),h.map(x=>p.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),m.map(({key:x,link:b})=>p.createElement("link",{key:x,...b})))}function yP(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.6.3")}catch{}function vP({basename:e,children:t,window:n}){let r=p.useRef();r.current==null&&(r.current=nO({window:n,v5Compat:!0}));let a=r.current,[o,s]=p.useState({action:a.action,location:a.location}),i=p.useCallback(l=>{p.startTransition(()=>s(l))},[s]);return p.useLayoutEffect(()=>a.listen(i),[a,i]),p.createElement(YO,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UE=p.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:s,state:i,target:l,to:u,preventScrollReset:f,viewTransition:d,...h},m){let{basename:x}=p.useContext(Rr),b=typeof u=="string"&&HE.test(u),S,v=!1;if(typeof u=="string"&&b&&(S=u,IE))try{let _=new URL(window.location.href),A=u.startsWith("//")?new URL(_.protocol+u):new URL(u),R=fa(A.pathname,x);A.origin===_.origin&&R!=null?u=R+A.search+A.hash:v=!0}catch{nr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=TO(u,{relative:a}),[y,w,k]=hP(r,h),C=SP(u,{replace:s,state:i,target:l,preventScrollReset:f,relative:a,viewTransition:d});function N(_){t&&t(_),_.defaultPrevented||C(_)}let E=p.createElement("a",{...h,...k,href:S||g,onClick:v||o?t:N,ref:yP(m,w),target:l,"data-discover":!b&&n==="render"?"true":void 0});return y&&!b?p.createElement(p.Fragment,null,E,p.createElement(mP,{page:g})):E});UE.displayName="Link";var xP=p.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:s,viewTransition:i,children:l,...u},f){let d=Ac(s,{relative:u.relative}),h=xa(),m=p.useContext(Of),{navigator:x,basename:b}=p.useContext(Rr),S=m!=null&&CP(d)&&i===!0,v=x.encodeLocation?x.encodeLocation(d).pathname:d.pathname,g=h.pathname,y=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(g=g.toLowerCase(),y=y?y.toLowerCase():null,v=v.toLowerCase()),y&&b&&(y=fa(y,b)||y);const w=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let k=g===v||!a&&g.startsWith(v)&&g.charAt(w)==="/",C=y!=null&&(y===v||!a&&y.startsWith(v)&&y.charAt(v.length)==="/"),N={isActive:k,isPending:C,isTransitioning:S},E=k?t:void 0,_;typeof r=="function"?_=r(N):_=[r,k?"active":null,C?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(N):o;return p.createElement(UE,{...u,"aria-current":E,className:_,ref:f,style:A,to:s,viewTransition:i},typeof l=="function"?l(N):l)});xP.displayName="NavLink";var bP=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:o,method:s=Xu,action:i,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:d,...h},m)=>{let x=EP(),b=_P(i,{relative:u}),S=s.toLowerCase()==="get"?"get":"post",v=typeof i=="string"&&HE.test(i),g=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let w=y.nativeEvent.submitter,k=(w==null?void 0:w.getAttribute("formmethod"))||s;x(w||y.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:a,state:o,relative:u,preventScrollReset:f,viewTransition:d})};return p.createElement("form",{ref:m,method:S,action:b,onSubmit:r?l:g,...h,"data-discover":!v&&e==="render"?"true":void 0})});bP.displayName="Form";function wP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FE(e){let t=p.useContext(Ei);return Qe(t,wP(e)),t}function SP(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:s}={}){let i=Gn(),l=xa(),u=Ac(e,{relative:o});return p.useCallback(f=>{if(JO(f,t)){f.preventDefault();let d=n!==void 0?n:Hl(l)===Hl(u);i(e,{replace:d,state:r,preventScrollReset:a,relative:o,viewTransition:s})}},[l,i,u,n,r,t,e,a,o,s])}var NP=0,kP=()=>`__${String(++NP)}__`;function EP(){let{router:e}=FE("useSubmit"),{basename:t}=p.useContext(Rr),n=UO();return p.useCallback(async(r,a={})=>{let{action:o,method:s,encType:i,formData:l,body:u}=nP(r,t);if(a.navigate===!1){let f=a.fetcherKey||kP();await e.fetch(f,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||i,flushSync:a.flushSync})}else await e.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||i,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function _P(e,{relative:t}={}){let{basename:n}=p.useContext(Rr),r=p.useContext(Mr);Qe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...Ac(e||".",{relative:t})},s=xa();if(e==null){o.search=s.search;let i=new URLSearchParams(o.search),l=i.getAll("index");if(l.some(f=>f==="")){i.delete("index"),l.filter(d=>d).forEach(d=>i.append("index",d));let f=i.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:oa([n,o.pathname])),Hl(o)}function CP(e,t={}){let n=p.useContext(DE);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=FE("useViewTransitionState"),a=Ac(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=fa(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=fa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ld(a.pathname,s)!=null||Ld(a.pathname,o)!=null}[...uP];const $b={v:1,name:"",notes:"",race:null,stone:null,religion:null,traits:{regular:[],bonus:[]},traitLimits:{regular:2,bonus:1},skills:{major:[],minor:[]},perks:{selected:{},ranks:{}},equipment:[],userProgress:{unlocks:[]},destinyPath:[]},Bb=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(m=>m(t,h))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,a,i);return i},AP=e=>e?Bb(e):Bb,TP=e=>e;function jP(e,t=TP){const n=P.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return P.useDebugValue(n),n}const Ib=e=>{const t=AP(e),n=r=>jP(t,r);return Object.assign(n,t),n},RP=e=>e?Ib(e):Ib,ys=RP(e=>({build:$b,updateBuild:t=>e(n=>({build:{...n.build,...t}})),setBuild:t=>e({build:t}),resetBuild:()=>e({build:$b})}));function Cn(){const e=ys(H=>H.build.skills.major),t=ys(H=>H.build.skills.minor),n=ys(H=>H.build),r=ys(H=>H.updateBuild),a=ys(H=>H.resetBuild),o=H=>(e==null?void 0:e.includes(H))??!1,s=H=>(t==null?void 0:t.includes(H))??!1;return{build:n,majorSkills:e,minorSkills:t,hasMajorSkill:o,hasMinorSkill:s,addMajorSkill:H=>{const q=e??[],K=t??[];if(!o(H)&&q.length<3){const te=K.filter(W=>W!==H);r({skills:{major:[...q,H],minor:te}})}},removeMajorSkill:H=>{const q=e??[],K=t??[],te=q.filter(W=>W!==H);r({skills:{major:te,minor:K}})},addMinorSkill:H=>{const q=e??[],K=t??[];if(!s(H)&&K.length<3){const te=q.filter(W=>W!==H);r({skills:{major:te,minor:[...K,H]}})}},removeMinorSkill:H=>{const q=e??[],te=(t??[]).filter(W=>W!==H);r({skills:{major:q,minor:te}})},addPerk:(H,q)=>{var W;const K=((W=n==null?void 0:n.perks)==null?void 0:W.selected)??{},te=K[H]??[];te.includes(q)||r({perks:{...n==null?void 0:n.perks,selected:{...K,[H]:[...te,q]}}})},removePerk:(H,q)=>{var de;const K=((de=n==null?void 0:n.perks)==null?void 0:de.selected)??{},W=(K[H]??[]).filter(Ne=>Ne!==q);r({perks:{...n==null?void 0:n.perks,selected:{...K,[H]:W}}})},setPerkRank:(H,q)=>{var te;const K=((te=n==null?void 0:n.perks)==null?void 0:te.ranks)??{};r({perks:{...n==null?void 0:n.perks,ranks:{...K,[H]:q}}})},clearSkillPerks:H=>{var Ne,pe;const q=((Ne=n==null?void 0:n.perks)==null?void 0:Ne.selected)??{},K=((pe=n==null?void 0:n.perks)==null?void 0:pe.ranks)??{},{[H]:te,...W}=q,de={...K};te&&te.forEach(ne=>{delete de[ne]}),r({perks:{...n==null?void 0:n.perks,selected:W,ranks:de}})},getSkillPerks:H=>{var q,K;return((K=(q=n==null?void 0:n.perks)==null?void 0:q.selected)==null?void 0:K[H])??[]},getPerkRank:H=>{var q,K;return((K=(q=n==null?void 0:n.perks)==null?void 0:q.ranks)==null?void 0:K[H])??0},addTrait:H=>{const{regular:q=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]},{regular:te=2,bonus:W=1}=(n==null?void 0:n.traitLimits)??{regular:2,bonus:1};q.length<te?r({traits:{...n==null?void 0:n.traits,regular:[...q,H]}}):K.length<W&&r({traits:{...n==null?void 0:n.traits,bonus:[...K,H]}})},addRegularTrait:H=>{const{regular:q=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:K=2}=(n==null?void 0:n.traitLimits)??{regular:2};q.length<K&&r({traits:{...n==null?void 0:n.traits,regular:[...q,H]}})},addBonusTrait:H=>{const{bonus:q=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:K=1}=(n==null?void 0:n.traitLimits)??{bonus:1};q.length<K&&r({traits:{...n==null?void 0:n.traits,bonus:[...q,H]}})},removeTrait:H=>{const{regular:q=[],bonus:K=[]}=(n==null?void 0:n.traits)??{regular:[],bonus:[]};r({traits:{regular:q.filter(te=>te!==H),bonus:K.filter(te=>te!==H)}})},hasTrait:H=>{var q,K,te,W;return(((K=(q=n==null?void 0:n.traits)==null?void 0:q.regular)==null?void 0:K.includes(H))??!1)||(((W=(te=n==null?void 0:n.traits)==null?void 0:te.bonus)==null?void 0:W.includes(H))??!1)},hasRegularTrait:H=>{var q,K;return((K=(q=n==null?void 0:n.traits)==null?void 0:q.regular)==null?void 0:K.includes(H))??!1},hasBonusTrait:H=>{var q,K;return((K=(q=n==null?void 0:n.traits)==null?void 0:q.bonus)==null?void 0:K.includes(H))??!1},setRace:H=>{r({race:H})},setBirthsign:H=>{r({stone:H})},setStone:H=>{r({stone:H})},setReligion:H=>{r({religion:H})},addEquipment:H=>{const q=(n==null?void 0:n.equipment)??[];q.includes(H)||r({equipment:[...q,H]})},removeEquipment:H=>{const q=(n==null?void 0:n.equipment)??[];r({equipment:q.filter(K=>K!==H)})},setBuildName:H=>{r({name:H})},setBuildNotes:H=>{r({notes:H})},getDestinyPath:()=>(n==null?void 0:n.destinyPath)??[],setDestinyPath:H=>{r({destinyPath:H})},updateBuild:r,clearBuild:()=>{r({name:"",notes:"",race:null,stone:null,skills:{major:[],minor:[]},traits:{regular:[],bonus:[]},destinyPath:[]})},resetBuild:a,getSummary:()=>{var H,q,K,te,W,de,Ne,pe,ne;return{name:(n==null?void 0:n.name)||"Unnamed Character",race:(n==null?void 0:n.race)||"Not selected",stone:(n==null?void 0:n.stone)||"Not selected",religion:(n==null?void 0:n.religion)||"Not selected",traitCount:(((q=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:q.length)??0)+(((te=(K=n==null?void 0:n.traits)==null?void 0:K.bonus)==null?void 0:te.length)??0),majorSkillCount:((de=(W=n==null?void 0:n.skills)==null?void 0:W.major)==null?void 0:de.length)??0,minorSkillCount:((pe=(Ne=n==null?void 0:n.skills)==null?void 0:Ne.minor)==null?void 0:pe.length)??0,equipmentCount:((ne=n==null?void 0:n.equipment)==null?void 0:ne.length)??0}},getRegularTraitLimit:()=>{var H;return((H=n==null?void 0:n.traitLimits)==null?void 0:H.regular)??2},getBonusTraitLimit:()=>{var H;return((H=n==null?void 0:n.traitLimits)==null?void 0:H.bonus)??1},getRegularTraitCount:()=>{var H,q;return((q=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:q.length)??0},getBonusTraitCount:()=>{var H,q;return((q=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:q.length)??0},canAddRegularTrait:()=>{var H,q,K;return(((q=(H=n==null?void 0:n.traits)==null?void 0:H.regular)==null?void 0:q.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.regular)??2)},canAddBonusTrait:()=>{var H,q,K;return(((q=(H=n==null?void 0:n.traits)==null?void 0:H.bonus)==null?void 0:q.length)??0)<(((K=n==null?void 0:n.traitLimits)==null?void 0:K.bonus)??1)},getTraitType:H=>{var q,K,te,W;return(K=(q=n==null?void 0:n.traits)==null?void 0:q.regular)!=null&&K.includes(H)?"regular":(W=(te=n==null?void 0:n.traits)==null?void 0:te.bonus)!=null&&W.includes(H)?"bonus":null},isAllTraitsFull:()=>{var W,de,Ne,pe,ne,He;const H=((de=(W=n==null?void 0:n.traits)==null?void 0:W.regular)==null?void 0:de.length)??0,q=((pe=(Ne=n==null?void 0:n.traits)==null?void 0:Ne.bonus)==null?void 0:pe.length)??0,K=((ne=n==null?void 0:n.traitLimits)==null?void 0:ne.regular)??2,te=((He=n==null?void 0:n.traitLimits)==null?void 0:He.bonus)??1;return H>=K&&q>=te},addTraitToSlot:(H,q)=>{if(q==="regular"){const{regular:K=[]}=(n==null?void 0:n.traits)??{regular:[]},{regular:te=2}=(n==null?void 0:n.traitLimits)??{regular:2};if(K.length<te){const{bonus:W=[]}=(n==null?void 0:n.traits)??{bonus:[]},de=W.filter(Ne=>Ne!==H);r({traits:{regular:[...K,H],bonus:de}})}}else{const{bonus:K=[]}=(n==null?void 0:n.traits)??{bonus:[]},{bonus:te=1}=(n==null?void 0:n.traitLimits)??{bonus:1};if(K.length<te){const{regular:W=[]}=(n==null?void 0:n.traits)??{regular:[]},de=W.filter(Ne=>Ne!==H);r({traits:{regular:de,bonus:[...K,H]}})}}},isSlotAvailable:(H,q=0)=>{var K,te,W,de;return H==="regular"?(((te=(K=n==null?void 0:n.traits)==null?void 0:K.regular)==null?void 0:te.length)??0)<=q:(((de=(W=n==null?void 0:n.traits)==null?void 0:W.bonus)==null?void 0:de.length)??0)<=q}}}function GE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=GE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function VE(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=GE(e))&&(r&&(r+=" "),r+=t);return r}const Hb=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Ub=VE,Tc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Ub(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const f=n==null?void 0:n[u],d=o==null?void 0:o[u];if(f===null)return null;const h=Hb(f)||Hb(d);return a[u][h]}),i=n&&Object.entries(n).reduce((u,f)=>{let[d,h]=f;return h===void 0||(u[d]=h),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:h,...m}=f;return Object.entries(m).every(x=>{let[b,S]=x;return Array.isArray(S)?S.includes({...o,...i}[b]):{...o,...i}[b]===S})?[...u,d,h]:u},[]);return Ub(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},cy="-",MP=e=>{const t=zP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const i=s.split(cy);return i[0]===""&&i.length!==1&&i.shift(),ZE(i,t)||DP(s)},getConflictingClassGroupIds:(s,i)=>{const l=n[s]||[];return i&&r[s]?[...l,...r[s]]:l}}},ZE=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?ZE(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(cy);return(s=t.validators.find(({validator:i})=>i(o)))==null?void 0:s.classGroupId},Fb=/^\[(.+)\]$/,DP=e=>{if(Fb.test(e)){const t=Fb.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},zP=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const a in n)eg(n[a],r,a,t);return r},eg=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Gb(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(OP(a)){eg(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,s])=>{eg(s,Gb(t,o),n,r)})})},Gb=(e,t)=>{let n=e;return t.split(cy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},OP=e=>e.isThemeGetter,PP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return a(o,s),s},set(o,s){n.has(o)?n.set(o,s):a(o,s)}}},tg="!",ng=":",LP=ng.length,$P=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const o=[];let s=0,i=0,l=0,u;for(let x=0;x<a.length;x++){let b=a[x];if(s===0&&i===0){if(b===ng){o.push(a.slice(l,x)),l=x+LP;continue}if(b==="/"){u=x;continue}}b==="["?s++:b==="]"?s--:b==="("?i++:b===")"&&i--}const f=o.length===0?a:a.substring(l),d=BP(f),h=d!==f,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:m}};if(t){const a=t+ng,o=r;r=s=>s.startsWith(a)?o(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const a=r;r=o=>n({className:o,parseClassName:a})}return r},BP=e=>e.endsWith(tg)?e.substring(0,e.length-1):e.startsWith(tg)?e.substring(1):e,IP=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(a.push(...o.sort(),s),o=[]):o.push(s)}),a.push(...o.sort()),a}},HP=e=>({cache:PP(e.cacheSize),parseClassName:$P(e),sortModifiers:IP(e),...MP(e)}),UP=/\s+/,FP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,s=[],i=e.trim().split(UP);let l="";for(let u=i.length-1;u>=0;u-=1){const f=i[u],{isExternal:d,modifiers:h,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:b}=n(f);if(d){l=f+(l.length>0?" "+l:l);continue}let S=!!b,v=r(S?x.substring(0,b):x);if(!v){if(!S){l=f+(l.length>0?" "+l:l);continue}if(v=r(x),!v){l=f+(l.length>0?" "+l:l);continue}S=!1}const g=o(h).join(":"),y=m?g+tg:g,w=y+v;if(s.includes(w))continue;s.push(w);const k=a(v,S);for(let C=0;C<k.length;++C){const N=k[C];s.push(y+N)}l=f+(l.length>0?" "+l:l)}return l};function GP(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=YE(t))&&(r&&(r+=" "),r+=n);return r}const YE=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=YE(e[r]))&&(n&&(n+=" "),n+=t);return n};function VP(e,...t){let n,r,a,o=s;function s(l){const u=t.reduce((f,d)=>d(f),e());return n=HP(u),r=n.cache.get,a=n.cache.set,o=i,i(l)}function i(l){const u=r(l);if(u)return u;const f=FP(l,n);return a(l,f),f}return function(){return o(GP.apply(null,arguments))}}const pt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},qE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZP=/^\d+\/\d+$/,YP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,WP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=e=>ZP.test(e),be=e=>!!e&&!Number.isNaN(Number(e)),Aa=e=>!!e&&Number.isInteger(Number(e)),cm=e=>e.endsWith("%")&&be(e.slice(0,-1)),Vr=e=>YP.test(e),QP=()=>!0,JP=e=>qP.test(e)&&!XP.test(e),WE=()=>!1,e5=e=>WP.test(e),t5=e=>KP.test(e),n5=e=>!oe(e)&&!se(e),r5=e=>_i(e,JE,WE),oe=e=>qE.test(e),po=e=>_i(e,e_,JP),um=e=>_i(e,l5,be),Vb=e=>_i(e,KE,WE),a5=e=>_i(e,QE,t5),iu=e=>_i(e,t_,e5),se=e=>XE.test(e),Ui=e=>Ci(e,e_),o5=e=>Ci(e,c5),Zb=e=>Ci(e,KE),s5=e=>Ci(e,JE),i5=e=>Ci(e,QE),lu=e=>Ci(e,t_,!0),_i=(e,t,n)=>{const r=qE.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ci=(e,t,n=!1)=>{const r=XE.exec(e);return r?r[1]?t(r[1]):n:!1},KE=e=>e==="position"||e==="percentage",QE=e=>e==="image"||e==="url",JE=e=>e==="length"||e==="size"||e==="bg-size",e_=e=>e==="length",l5=e=>e==="number",c5=e=>e==="family-name",t_=e=>e==="shadow",u5=()=>{const e=pt("color"),t=pt("font"),n=pt("text"),r=pt("font-weight"),a=pt("tracking"),o=pt("leading"),s=pt("breakpoint"),i=pt("container"),l=pt("spacing"),u=pt("radius"),f=pt("shadow"),d=pt("inset-shadow"),h=pt("text-shadow"),m=pt("drop-shadow"),x=pt("blur"),b=pt("perspective"),S=pt("aspect"),v=pt("ease"),g=pt("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...w(),se,oe],C=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],E=()=>[se,oe,l],_=()=>[rs,"full","auto",...E()],A=()=>[Aa,"none","subgrid",se,oe],R=()=>["auto",{span:["full",Aa,se,oe]},Aa,se,oe],B=()=>[Aa,"auto",se,oe],O=()=>["auto","min","max","fr",se,oe],T=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...E()],L=()=>[rs,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],z=()=>[e,se,oe],M=()=>[...w(),Zb,Vb,{position:[se,oe]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",s5,r5,{size:[se,oe]}],G=()=>[cm,Ui,po],U=()=>["","none","full",u,se,oe],F=()=>["",be,Ui,po],Z=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[be,cm,Zb,Vb],ee=()=>["","none",x,se,oe],re=()=>["none",be,se,oe],H=()=>["none",be,se,oe],q=()=>[be,se,oe],K=()=>[rs,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vr],breakpoint:[Vr],color:[QP],container:[Vr],"drop-shadow":[Vr],ease:["in","out","in-out"],font:[n5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vr],shadow:[Vr],spacing:["px",be],text:[Vr],"text-shadow":[Vr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rs,oe,se,S]}],container:["container"],columns:[{columns:[be,oe,se,i]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[Aa,"auto",se,oe]}],basis:[{basis:[rs,"full","auto",i,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[be,rs,"auto","initial","none",oe]}],grow:[{grow:["",be,se,oe]}],shrink:[{shrink:["",be,se,oe]}],order:[{order:[Aa,"first","last","none",se,oe]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...T(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...T()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":T()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[i,"screen",...L()]}],"min-w":[{"min-w":[i,"screen","none",...L()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[s]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,Ui,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,se,um]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cm,oe]}],"font-family":[{font:[o5,oe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,se,oe]}],"line-clamp":[{"line-clamp":[be,"none",se,um]}],leading:[{leading:[o,...E()]}],"list-image":[{"list-image":["none",se,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[be,"from-font","auto",se,po]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[be,"auto",se,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Aa,se,oe],radial:["",se,oe],conic:[Aa,se,oe]},i5,a5]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:F()}],"border-w-x":[{"border-x":F()}],"border-w-y":[{"border-y":F()}],"border-w-s":[{"border-s":F()}],"border-w-e":[{"border-e":F()}],"border-w-t":[{"border-t":F()}],"border-w-r":[{"border-r":F()}],"border-w-b":[{"border-b":F()}],"border-w-l":[{"border-l":F()}],"divide-x":[{"divide-x":F()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":F()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[be,se,oe]}],"outline-w":[{outline:["",be,Ui,po]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",f,lu,iu]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",d,lu,iu]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[be,po]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":F()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",h,lu,iu]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[be,se,oe]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[be]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[se,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[be]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,oe]}],filter:[{filter:["","none",se,oe]}],blur:[{blur:ee()}],brightness:[{brightness:[be,se,oe]}],contrast:[{contrast:[be,se,oe]}],"drop-shadow":[{"drop-shadow":["","none",m,lu,iu]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",be,se,oe]}],"hue-rotate":[{"hue-rotate":[be,se,oe]}],invert:[{invert:["",be,se,oe]}],saturate:[{saturate:[be,se,oe]}],sepia:[{sepia:["",be,se,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",se,oe]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[be,se,oe]}],"backdrop-contrast":[{"backdrop-contrast":[be,se,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",be,se,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[be,se,oe]}],"backdrop-invert":[{"backdrop-invert":["",be,se,oe]}],"backdrop-opacity":[{"backdrop-opacity":[be,se,oe]}],"backdrop-saturate":[{"backdrop-saturate":[be,se,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",be,se,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[be,"initial",se,oe]}],ease:[{ease:["linear","initial",v,se,oe]}],delay:[{delay:[be,se,oe]}],animate:[{animate:["none",g,se,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,se,oe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[se,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,oe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[be,Ui,po,um]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},d5=VP(u5);function Q(...e){return d5(VE(e))}const f5=Tc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ge({className:e,variant:t,...n}){return c.jsx("div",{className:Q(f5({variant:t}),e),...n})}function Yb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lf(...e){return t=>{let n=!1;const r=e.map(a=>{const o=Yb(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Yb(e[a],null)}}}}function ze(...e){return p.useCallback(Lf(...e),e)}function ii(e){const t=m5(e),n=p.forwardRef((r,a)=>{const{children:o,...s}=r,i=p.Children.toArray(o),l=i.find(g5);if(l){const u=l.props.children,f=i.map(d=>d===l?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return c.jsx(t,{...s,ref:a,children:p.isValidElement(u)?p.cloneElement(u,void 0,f):null})}return c.jsx(t,{...s,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var h5=ii("Slot");function m5(e){const t=p.forwardRef((n,r)=>{const{children:a,...o}=n;if(p.isValidElement(a)){const s=v5(a),i=y5(o,a.props);return a.type!==p.Fragment&&(i.ref=r?Lf(r,s):s),p.cloneElement(a,i)}return p.Children.count(a)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n_=Symbol("radix.slottable");function p5(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=n_,t}function g5(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n_}function y5(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...i)=>{const l=o(...i);return a(...i),l}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function v5(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const x5=Tc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-base font-semibold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-5 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-5 py-3 has-[>svg]:px-4",sm:"h-9 rounded-md gap-1.5 px-4 has-[>svg]:px-3.5 text-sm",lg:"h-12 rounded-md px-8 has-[>svg]:px-6 text-lg",icon:"size-11"}},defaultVariants:{variant:"default",size:"default"}});function ie({className:e,variant:t,size:n,asChild:r=!1,...a}){const o=r?h5:"button";return c.jsx(o,{"data-slot":"button",className:Q(x5({variant:t,size:n,className:e})),...a})}function ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function b5(e,t){const n=p.createContext(t),r=o=>{const{children:s,...i}=o,l=p.useMemo(()=>i,Object.values(i));return c.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function a(o){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function An(e,t=[]){let n=[];function r(o,s){const i=p.createContext(s),l=n.length;n=[...n,s];const u=d=>{var v;const{scope:h,children:m,...x}=d,b=((v=h==null?void 0:h[e])==null?void 0:v[l])||i,S=p.useMemo(()=>x,Object.values(x));return c.jsx(b.Provider,{value:S,children:m})};u.displayName=o+"Provider";function f(d,h){var b;const m=((b=h==null?void 0:h[e])==null?void 0:b[l])||i,x=p.useContext(m);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=n.map(s=>p.createContext(s));return function(i){const l=(i==null?void 0:i[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return a.scopeName=e,[r,w5(a,...t)]}function w5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((i,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...i,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var Cr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},S5=i0[" useId ".trim().toString()]||(()=>{}),N5=0;function sa(e){const[t,n]=p.useState(S5());return Cr(()=>{n(r=>r??String(N5++))},[e]),t?`radix-${t}`:""}var k5=i0[" useInsertionEffect ".trim().toString()]||Cr;function ba({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,o,s]=E5({defaultProp:t,onChange:n}),i=e!==void 0,l=i?e:a;{const f=p.useRef(e!==void 0);p.useEffect(()=>{const d=f.current;d!==i&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,r])}const u=p.useCallback(f=>{var d;if(i){const h=_5(f)?f(e):f;h!==e&&((d=s.current)==null||d.call(s,h))}else o(f)},[i,e,o,s]);return[l,u]}function E5({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),a=p.useRef(n),o=p.useRef(t);return k5(()=>{o.current=t},[t]),p.useEffect(()=>{var s;a.current!==n&&((s=o.current)==null||s.call(o,n),a.current=n)},[n,a]),[n,r,o]}function _5(e){return typeof e=="function"}var C5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ye=C5.reduce((e,t)=>{const n=ii(`Primitive.${t}`),r=p.forwardRef((a,o)=>{const{asChild:s,...i}=a,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function r_(e,t){e&&ic.flushSync(()=>e.dispatchEvent(t))}function $t(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function A5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var T5="DismissableLayer",rg="dismissableLayer.update",j5="dismissableLayer.pointerDownOutside",R5="dismissableLayer.focusOutside",qb,a_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:i,...l}=e,u=p.useContext(a_),[f,d]=p.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=ze(t,N=>d(N)),b=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(S),g=f?b.indexOf(f):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=g>=v,k=z5(N=>{const E=N.target,_=[...u.branches].some(A=>A.contains(E));!w||_||(a==null||a(N),s==null||s(N),N.defaultPrevented||i==null||i())},h),C=O5(N=>{const E=N.target;[...u.branches].some(A=>A.contains(E))||(o==null||o(N),s==null||s(N),N.defaultPrevented||i==null||i())},h);return A5(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},h),p.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qb=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Xb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qb)}},[f,h,n,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Xb())},[f,u]),p.useEffect(()=>{const N=()=>m({});return document.addEventListener(rg,N),()=>document.removeEventListener(rg,N)},[]),c.jsx(ye.div,{...l,ref:x,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,k.onPointerDownCapture)})});jc.displayName=T5;var M5="DismissableLayerBranch",D5=p.forwardRef((e,t)=>{const n=p.useContext(a_),r=p.useRef(null),a=ze(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(ye.div,{...e,ref:a})});D5.displayName=M5;function z5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let l=function(){o_(j5,n,u,{discrete:!0})};const u={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function O5(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&o_(R5,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xb(){const e=new CustomEvent(rg);document.dispatchEvent(e)}function o_(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?r_(a,o):a.dispatchEvent(o)}var dm="focusScope.autoFocusOnMount",fm="focusScope.autoFocusOnUnmount",Wb={bubbles:!1,cancelable:!0},P5="FocusScope",uy=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[i,l]=p.useState(null),u=$t(a),f=$t(o),d=p.useRef(null),h=ze(t,b=>l(b)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let b=function(y){if(m.paused||!i)return;const w=y.target;i.contains(w)?d.current=w:Ra(d.current,{select:!0})},S=function(y){if(m.paused||!i)return;const w=y.relatedTarget;w!==null&&(i.contains(w)||Ra(d.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const k of y)k.removedNodes.length>0&&Ra(i)};document.addEventListener("focusin",b),document.addEventListener("focusout",S);const g=new MutationObserver(v);return i&&g.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",S),g.disconnect()}}},[r,i,m.paused]),p.useEffect(()=>{if(i){Qb.add(m);const b=document.activeElement;if(!i.contains(b)){const v=new CustomEvent(dm,Wb);i.addEventListener(dm,u),i.dispatchEvent(v),v.defaultPrevented||(L5(U5(s_(i)),{select:!0}),document.activeElement===b&&Ra(i))}return()=>{i.removeEventListener(dm,u),setTimeout(()=>{const v=new CustomEvent(fm,Wb);i.addEventListener(fm,f),i.dispatchEvent(v),v.defaultPrevented||Ra(b??document.body,{select:!0}),i.removeEventListener(fm,f),Qb.remove(m)},0)}}},[i,u,f,m]);const x=p.useCallback(b=>{if(!n&&!r||m.paused)return;const S=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(S&&v){const g=b.currentTarget,[y,w]=$5(g);y&&w?!b.shiftKey&&v===w?(b.preventDefault(),n&&Ra(y,{select:!0})):b.shiftKey&&v===y&&(b.preventDefault(),n&&Ra(w,{select:!0})):v===g&&b.preventDefault()}},[n,r,m.paused]);return c.jsx(ye.div,{tabIndex:-1,...s,ref:h,onKeyDown:x})});uy.displayName=P5;function L5(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ra(r,{select:t}),document.activeElement!==n)return}function $5(e){const t=s_(e),n=Kb(t,e),r=Kb(t.reverse(),e);return[n,r]}function s_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kb(e,t){for(const n of e)if(!B5(n,{upTo:t}))return n}function B5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function I5(e){return e instanceof HTMLInputElement&&"select"in e}function Ra(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&I5(e)&&t&&e.select()}}var Qb=H5();function H5(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Jb(e,t),e.unshift(t)},remove(t){var n;e=Jb(e,t),(n=e[0])==null||n.resume()}}}function Jb(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function U5(e){return e.filter(t=>t.tagName!=="A")}var F5="Portal",dy=p.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[a,o]=p.useState(!1);Cr(()=>o(!0),[]);const s=n||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?JM.createPortal(c.jsx(ye.div,{...r,ref:t}),s):null});dy.displayName=F5;function G5(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Ut=e=>{const{present:t,children:n}=e,r=V5(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=ze(r.ref,Z5(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};Ut.displayName="Presence";function V5(e){const[t,n]=p.useState(),r=p.useRef(null),a=p.useRef(e),o=p.useRef("none"),s=e?"mounted":"unmounted",[i,l]=G5(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=cu(r.current);o.current=i==="mounted"?u:"none"},[i]),Cr(()=>{const u=r.current,f=a.current;if(f!==e){const h=o.current,m=cu(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),Cr(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=m=>{const b=cu(r.current).includes(m.animationName);if(m.target===t&&b&&(l("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=m=>{m.target===t&&(o.current=cu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cu(e){return(e==null?void 0:e.animationName)||"none"}function Z5(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hm=0;function i_(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ew()),document.body.insertAdjacentElement("beforeend",e[1]??ew()),hm++,()=>{hm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),hm--}},[])}function ew(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yr=function(){return yr=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},yr.apply(this,arguments)};function l_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Y5(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Ku="right-scroll-bar-position",Qu="width-before-scroll-bar",q5="with-scroll-bars-hidden",X5="--removed-body-scroll-bar-size";function mm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function W5(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var K5=typeof window<"u"?p.useLayoutEffect:p.useEffect,tw=new WeakMap;function Q5(e,t){var n=W5(null,function(r){return e.forEach(function(a){return mm(a,r)})});return K5(function(){var r=tw.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(i){o.has(i)||mm(i,null)}),o.forEach(function(i){a.has(i)||mm(i,s)})}tw.set(n,e)},[e]),n}function J5(e){return e}function eL(e,t){t===void 0&&(t=J5);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(o),s=n}var l=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return a}function tL(e){e===void 0&&(e={});var t=eL(null);return t.options=yr({async:!0,ssr:!1},e),t}var c_=function(e){var t=e.sideCar,n=l_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,yr({},n))};c_.isSideCarExport=!0;function nL(e,t){return e.useMedium(t),c_}var u_=tL(),pm=function(){},$f=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:pm,onWheelCapture:pm,onTouchMoveCapture:pm}),a=r[0],o=r[1],s=e.forwardProps,i=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,h=e.sideCar,m=e.noRelative,x=e.noIsolation,b=e.inert,S=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,y=e.gapMode,w=l_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=h,C=Q5([n,t]),N=yr(yr({},w),a);return p.createElement(p.Fragment,null,f&&p.createElement(k,{sideCar:u_,removeScrollBar:u,shards:d,noRelative:m,noIsolation:x,inert:b,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:y}),s?p.cloneElement(p.Children.only(i),yr(yr({},N),{ref:C})):p.createElement(g,yr({},N,{className:l,ref:C}),i))});$f.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$f.classNames={fullWidth:Qu,zeroRight:Ku};var rL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rL();return t&&e.setAttribute("nonce",t),e}function oL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=aL())&&(oL(t,n),sL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},lL=function(){var e=iL();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},d_=function(){var e=lL(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},cL={left:0,top:0,right:0,gap:0},gm=function(e){return parseInt(e||"",10)||0},uL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gm(n),gm(r),gm(a)]},dL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return cL;var t=uL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fL=d_(),Hs="data-scroll-locked",hL=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(q5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(Hs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ku,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Ku," .").concat(Ku,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hs,`] {
    `).concat(X5,": ").concat(i,`px;
  }
`)},nw=function(){var e=parseInt(document.body.getAttribute(Hs)||"0",10);return isFinite(e)?e:0},mL=function(){p.useEffect(function(){return document.body.setAttribute(Hs,(nw()+1).toString()),function(){var e=nw()-1;e<=0?document.body.removeAttribute(Hs):document.body.setAttribute(Hs,e.toString())}},[])},pL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;mL();var o=p.useMemo(function(){return dL(a)},[a]);return p.createElement(fL,{styles:hL(o,!t,a,n?"":"!important")})},ag=!1;if(typeof window<"u")try{var uu=Object.defineProperty({},"passive",{get:function(){return ag=!0,!0}});window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{ag=!1}var as=ag?{passive:!1}:!1,gL=function(e){return e.tagName==="TEXTAREA"},f_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gL(e)&&n[t]==="visible")},yL=function(e){return f_(e,"overflowY")},vL=function(e){return f_(e,"overflowX")},rw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=h_(e,r);if(a){var o=m_(e,r),s=o[1],i=o[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},h_=function(e,t){return e==="v"?yL(t):vL(t)},m_=function(e,t){return e==="v"?xL(t):bL(t)},wL=function(e,t){return e==="h"&&t==="rtl"?-1:1},SL=function(e,t,n,r,a){var o=wL(e,window.getComputedStyle(t).direction),s=o*r,i=n.target,l=t.contains(i),u=!1,f=s>0,d=0,h=0;do{if(!i)break;var m=m_(e,i),x=m[0],b=m[1],S=m[2],v=b-S-o*x;(x||v)&&h_(e,i)&&(d+=v,h+=x);var g=i.parentNode;i=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(f&&Math.abs(d)<1||!f&&Math.abs(h)<1)&&(u=!0),u},du=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aw=function(e){return[e.deltaX,e.deltaY]},ow=function(e){return e&&"current"in e?e.current:e},NL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EL=0,os=[];function _L(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(EL++)[0],o=p.useState(d_)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=Y5([e.lockRef.current],(e.shards||[]).map(ow),!0).filter(Boolean);return b.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=p.useCallback(function(b,S){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var v=du(b),g=n.current,y="deltaX"in b?b.deltaX:g[0]-v[0],w="deltaY"in b?b.deltaY:g[1]-v[1],k,C=b.target,N=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in b&&N==="h"&&C.type==="range")return!1;var E=rw(N,C);if(!E)return!0;if(E?k=N:(k=N==="v"?"h":"v",E=rw(N,C)),!E)return!1;if(!r.current&&"changedTouches"in b&&(y||w)&&(r.current=k),!k)return!0;var _=r.current||k;return SL(_,S,b,_==="h"?y:w)},[]),l=p.useCallback(function(b){var S=b;if(!(!os.length||os[os.length-1]!==o)){var v="deltaY"in S?aw(S):du(S),g=t.current.filter(function(k){return k.name===S.type&&(k.target===S.target||S.target===k.shadowParent)&&NL(k.delta,v)})[0];if(g&&g.should){S.cancelable&&S.preventDefault();return}if(!g){var y=(s.current.shards||[]).map(ow).filter(Boolean).filter(function(k){return k.contains(S.target)}),w=y.length>0?i(S,y[0]):!s.current.noIsolation;w&&S.cancelable&&S.preventDefault()}}},[]),u=p.useCallback(function(b,S,v,g){var y={name:b,delta:S,target:v,should:g,shadowParent:CL(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),f=p.useCallback(function(b){n.current=du(b),r.current=void 0},[]),d=p.useCallback(function(b){u(b.type,aw(b),b.target,i(b,e.lockRef.current))},[]),h=p.useCallback(function(b){u(b.type,du(b),b.target,i(b,e.lockRef.current))},[]);p.useEffect(function(){return os.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,as),document.addEventListener("touchmove",l,as),document.addEventListener("touchstart",f,as),function(){os=os.filter(function(b){return b!==o}),document.removeEventListener("wheel",l,as),document.removeEventListener("touchmove",l,as),document.removeEventListener("touchstart",f,as)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:kL(a)}):null,m?p.createElement(pL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const AL=nL(u_,_L);var fy=p.forwardRef(function(e,t){return p.createElement($f,yr({},e,{ref:t,sideCar:AL}))});fy.classNames=$f.classNames;var TL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ss=new WeakMap,fu=new WeakMap,hu={},ym=0,p_=function(e){return e&&(e.host||p_(e.parentNode))},jL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=p_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},RL=function(e,t,n,r){var a=jL(t,Array.isArray(e)?e:[e]);hu[n]||(hu[n]=new WeakMap);var o=hu[n],s=[],i=new Set,l=new Set(a),u=function(d){!d||i.has(d)||(i.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(i.has(h))f(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",b=(ss.get(h)||0)+1,S=(o.get(h)||0)+1;ss.set(h,b),o.set(h,S),s.push(h),b===1&&x&&fu.set(h,!0),S===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return f(t),i.clear(),ym++,function(){s.forEach(function(d){var h=ss.get(d)-1,m=o.get(d)-1;ss.set(d,h),o.set(d,m),h||(fu.has(d)||d.removeAttribute(r),fu.delete(d)),m||d.removeAttribute(n)}),ym--,ym||(ss=new WeakMap,ss=new WeakMap,fu=new WeakMap,hu={})}},g_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=TL(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),RL(r,a,n,"aria-hidden")):function(){return null}},Bf="Dialog",[y_,Bee]=An(Bf),[ML,sr]=y_(Bf),v_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,i=p.useRef(null),l=p.useRef(null),[u,f]=ba({prop:r,defaultProp:a??!1,onChange:o,caller:Bf});return c.jsx(ML,{scope:t,triggerRef:i,contentRef:l,contentId:sa(),titleId:sa(),descriptionId:sa(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(d=>!d),[f]),modal:s,children:n})};v_.displayName=Bf;var x_="DialogTrigger",b_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=sr(x_,n),o=ze(t,a.triggerRef);return c.jsx(ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":py(a.open),...r,ref:o,onClick:ae(e.onClick,a.onOpenToggle)})});b_.displayName=x_;var hy="DialogPortal",[DL,w_]=y_(hy,{forceMount:void 0}),S_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=sr(hy,t);return c.jsx(DL,{scope:t,forceMount:n,children:p.Children.map(r,s=>c.jsx(Ut,{present:n||o.open,children:c.jsx(dy,{asChild:!0,container:a,children:s})}))})};S_.displayName=hy;var $d="DialogOverlay",N_=p.forwardRef((e,t)=>{const n=w_($d,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=sr($d,e.__scopeDialog);return o.modal?c.jsx(Ut,{present:r||o.open,children:c.jsx(OL,{...a,ref:t})}):null});N_.displayName=$d;var zL=ii("DialogOverlay.RemoveScroll"),OL=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=sr($d,n);return c.jsx(fy,{as:zL,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(ye.div,{"data-state":py(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Bo="DialogContent",k_=p.forwardRef((e,t)=>{const n=w_(Bo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=sr(Bo,e.__scopeDialog);return c.jsx(Ut,{present:r||o.open,children:o.modal?c.jsx(PL,{...a,ref:t}):c.jsx(LL,{...a,ref:t})})});k_.displayName=Bo;var PL=p.forwardRef((e,t)=>{const n=sr(Bo,e.__scopeDialog),r=p.useRef(null),a=ze(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return g_(o)},[]),c.jsx(E_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault())})}),LL=p.forwardRef((e,t)=>{const n=sr(Bo,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return c.jsx(E_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),E_=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,i=sr(Bo,n),l=p.useRef(null),u=ze(t,l);return i_(),c.jsxs(c.Fragment,{children:[c.jsx(uy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:c.jsx(jc,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":py(i.open),...s,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx($L,{titleId:i.titleId}),c.jsx(IL,{contentRef:l,descriptionId:i.descriptionId})]})]})}),my="DialogTitle",__=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=sr(my,n);return c.jsx(ye.h2,{id:a.titleId,...r,ref:t})});__.displayName=my;var C_="DialogDescription",A_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=sr(C_,n);return c.jsx(ye.p,{id:a.descriptionId,...r,ref:t})});A_.displayName=C_;var T_="DialogClose",j_=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=sr(T_,n);return c.jsx(ye.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});j_.displayName=T_;function py(e){return e?"open":"closed"}var R_="DialogTitleWarning",[Iee,M_]=b5(R_,{contentName:Bo,titleName:my,docsSlug:"dialog"}),$L=({titleId:e})=>{const t=M_(R_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},BL="DialogDescriptionWarning",IL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M_(BL).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},D_=v_,HL=b_,z_=S_,gy=N_,yy=k_,vy=__,xy=A_,UL=j_;const FL=D_,GL=HL,VL=z_,O_=p.forwardRef(({className:e,...t},n)=>c.jsx(gy,{className:Q("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),style:{zIndex:Ht.MODAL},...t,ref:n}));O_.displayName=gy.displayName;const ZL=Tc("fixed gap-4 border shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),P_=p.forwardRef(({side:e="right",className:t,children:n,...r},a)=>c.jsxs(VL,{children:[c.jsx(O_,{}),c.jsxs(yy,{ref:a,className:Q(ZL({side:e}),t),style:{zIndex:Ht.MODAL+1,backgroundColor:"hsl(var(--background))"},...r,children:[n,c.jsxs(UL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(In,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));P_.displayName=yy.displayName;const L_=({className:e,...t})=>c.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});L_.displayName="SheetHeader";const $_=p.forwardRef(({className:e,...t},n)=>c.jsx(vy,{ref:n,className:Q("text-lg font-semibold text-foreground",e),...t}));$_.displayName=vy.displayName;const B_=p.forwardRef(({className:e,...t},n)=>c.jsx(xy,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));B_.displayName=xy.displayName;const YL=()=>{const{build:e,resetBuild:t,getSummary:n,getRegularTraitLimit:r,getBonusTraitLimit:a}=Cn(),o=Gn(),s=n(),[i,l]=p.useState(!1),u=e.name||e.race||e.traits.regular.length>0||e.traits.bonus.length>0||e.stone||e.religion||e.skills.major.length>0||e.skills.minor.length>0||e.equipment.length>0,f=()=>{navigator.clipboard.writeText(window.location.href)},d=()=>{confirm("Are you sure you want to reset your character build? This cannot be undone.")&&t()},h=S=>{l(!1),o(S)},m=r(),x=a(),b=m+x;return c.jsx("div",{className:"fixed bottom-4 right-4",style:{zIndex:Ht.MODAL+1},children:c.jsxs(FL,{open:i,onOpenChange:l,children:[c.jsx(GL,{asChild:!0,children:c.jsx(ie,{size:"lg",className:`h-12 w-12 rounded-full shadow-lg transition-opacity duration-200 ${i?"opacity-0 pointer-events-none":"opacity-100"}`,style:{backgroundColor:"hsl(var(--primary))",color:"hsl(var(--primary-foreground))"},children:c.jsx(Sl,{className:"h-5 w-5"})})}),c.jsxs(P_,{side:"right",className:"w-[400px] sm:w-[540px] p-6",children:[c.jsxs(L_,{children:[c.jsxs($_,{className:"flex items-center gap-2",children:[c.jsx(Sl,{className:"h-5 w-5"}),u?s.name:"Character Build"]}),c.jsx(B_,{children:u?"Your current character build status":"Create and manage your character build"})]}),c.jsx("div",{className:"mt-6 space-y-6",children:u?c.jsxs(c.Fragment,{children:[e.race&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Race"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:s.race}),c.jsx(ge,{variant:"secondary",className:"bg-blue-500",children:"Selected"})]})]}),e.stone&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Birth Sign"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:s.stone}),c.jsx(ge,{variant:"secondary",className:"bg-purple-500",children:"Selected"})]})]}),e.religion&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Religion"}),c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:s.religion}),c.jsx(ge,{variant:"secondary",className:"bg-orange-500",children:"Selected"})]})]}),(e.traits.regular.length>0||e.traits.bonus.length>0)&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Traits (",e.traits.regular.length+e.traits.bonus.length,"/",b,")"]}),c.jsxs("div",{className:"space-y-2",children:[e.traits.regular.map(S=>c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Starting"})]},`regular-${S}`)),e.traits.bonus.map(S=>c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),c.jsx("span",{className:"text-muted-foreground",children:"Late Game"})]},`bonus-${S}`))]})]}),(e.skills.major.length>0||e.skills.minor.length>0)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Skills"}),c.jsxs("div",{className:"space-y-2",children:[e.skills.major.length>0&&c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium",children:"Major Skills"}),c.jsx(ge,{variant:"outline",children:e.skills.major.length})]}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.major.map(S=>c.jsx(ge,{variant:"secondary",className:"bg-red-500 text-xs",children:S},S))})]}),e.skills.minor.length>0&&c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"font-medium",children:"Minor Skills"}),c.jsx(ge,{variant:"outline",children:e.skills.minor.length})]}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.skills.minor.map(S=>c.jsx(ge,{variant:"secondary",className:"bg-blue-500 text-xs",children:S},S))})]})]})]}),e.equipment.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"text-sm font-medium text-muted-foreground",children:["Equipment (",e.equipment.length,")"]}),c.jsx("div",{className:"space-y-2",children:e.equipment.map(S=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:S}),c.jsx(ge,{variant:"secondary",className:"bg-gray-500",children:"Equipped"})]},S))})]})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Sl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Character Build"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Start building your character by selecting a race, traits, and other options."})]})}),c.jsx("div",{className:"mt-8 space-y-3",children:u?c.jsxs(c.Fragment,{children:[c.jsxs(ie,{onClick:()=>h("/build"),className:"w-full",children:[c.jsx(_b,{className:"w-4 h-4 mr-2"}),"Edit Build"]}),c.jsxs(ie,{variant:"outline",onClick:f,className:"w-full",children:[c.jsx(W4,{className:"w-4 h-4 mr-2"}),"Copy Share URL"]}),c.jsxs(ie,{variant:"destructive",onClick:d,className:"w-full",children:[c.jsx(Hz,{className:"w-4 h-4 mr-2"}),"Reset Build"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(ie,{onClick:()=>h("/build"),className:"w-full",children:[c.jsx(_b,{className:"w-4 h-4 mr-2"}),"Create Character Build"]}),c.jsx(ie,{variant:"outline",onClick:()=>h("/race"),className:"w-full",children:"Browse Races"}),c.jsx(ie,{variant:"outline",onClick:()=>h("/traits"),className:"w-full",children:"Browse Traits"})]})})]})]})})},qL=e=>btoa(unescape(encodeURIComponent(JSON.stringify(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""),XL=e=>{try{const t=e.replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(decodeURIComponent(escape(atob(t))))}catch{return null}},WL=()=>{const{build:e,setBuild:t}=ys();xa(),Gn(),p.useEffect(()=>{const n=window.location.hash,[r,a]=n.split("?"),s=new URLSearchParams(a||"").get("b");if(s){const i=XL(s);(i==null?void 0:i.v)===1?t(i):console.warn("Invalid or outdated build schema in URL")}},[t]),p.useEffect(()=>{const n=qL(e),r=window.location.hash,[a,o]=r.split("?"),s=new URLSearchParams(o||"");s.set("b",n);const i=`${a}?${s.toString()}`;window.history.replaceState(null,"",i)},[e])},I_=p.forwardRef(({className:e,collapsed:t,...n},r)=>c.jsx("aside",{ref:r,"data-collapsed":t?"":void 0,className:Q("flex flex-col bg-card border-r border-skyrim-gold/20 h-[calc(100vh-3rem)] sticky top-12 transition-all duration-300",t?"w-0 overflow-hidden":"w-64",e),...n}));I_.displayName="Sidebar";const H_=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Q("flex-1 flex flex-col justify-start overflow-y-auto px-2 py-2",e),...t}));H_.displayName="SidebarContent";const U_=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Q("mb-2",e),...t}));U_.displayName="SidebarGroup";const F_=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Q("px-3 py-2 border-b border-skyrim-gold/20 flex items-center gap-2 min-h-[48px]",e),...t}));F_.displayName="SidebarHeader";const G_=p.forwardRef(({className:e,...t},n)=>c.jsx("ul",{ref:n,className:Q("flex flex-col gap-0.5 list-none p-0 m-0",e),...t}));G_.displayName="SidebarMenu";const V_=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return c.jsx(o,{ref:a,"data-active":n?"":void 0,className:Q("group flex items-center w-full text-left px-3 py-2 text-sm font-medium rounded transition-all duration-200 ease-in-out","hover:bg-skyrim-gold/15 hover:text-skyrim-gold hover:shadow-md hover:scale-[1.02] hover:border-l-4","active:scale-[0.98] active:bg-skyrim-gold/25","cursor-pointer focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-4 border-skyrim-gold font-bold shadow-sm":"text-skyrim-gold/80 border-l-4 border-transparent",e),tabIndex:0,...r})});V_.displayName="SidebarMenuButton";const Z_=p.forwardRef(({className:e,...t},n)=>c.jsx("li",{ref:n,className:Q("relative flex items-stretch",e),...t}));Z_.displayName="SidebarMenuItem";const Y_=p.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:e,...t}));Y_.displayName="SidebarRail";const KL=Tc("",{variants:{variant:{h1:"scroll-m-20 text-5xl font-black tracking-tight text-balance lg:text-6xl",h2:"scroll-m-20 border-b pb-3 text-4xl font-bold tracking-tight first:mt-0 lg:text-5xl",h3:"scroll-m-20 text-3xl font-bold tracking-tight lg:text-4xl",h4:"scroll-m-20 text-2xl font-bold tracking-tight lg:text-3xl",h5:"scroll-m-20 text-xl font-bold tracking-tight lg:text-2xl",h6:"scroll-m-20 text-lg font-bold tracking-tight lg:text-xl",p:"text-lg leading-8 [&:not(:first-child)]:mt-6",blockquote:"mt-6 border-l-4 pl-6 italic text-lg",code:"bg-muted relative rounded px-[0.4rem] py-[0.3rem] font-mono text-base font-bold",lead:"text-muted-foreground text-2xl leading-8",large:"text-xl font-bold",small:"text-base font-semibold leading-none",muted:"text-muted-foreground text-base"}},defaultVariants:{variant:"p"}}),sn=p.forwardRef(({className:e,variant:t,as:n,...r},a)=>{const o=n||QL(t);return c.jsx(o,{className:Q(KL({variant:t,className:e})),ref:a,...r})});sn.displayName="Typography";function QL(e){switch(e){case"h1":return"h1";case"h2":return"h2";case"h3":return"h3";case"h4":return"h4";case"h5":return"h5";case"h6":return"h6";case"blockquote":return"blockquote";case"code":return"code";case"lead":case"large":case"small":case"muted":case"p":default:return"p"}}const Rc=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h1",as:"h1",className:e,ref:n,...t}));Rc.displayName="H1";const JL=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h2",as:"h2",className:e,ref:n,...t}));JL.displayName="H2";const Mc=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h3",as:"h3",className:e,ref:n,...t}));Mc.displayName="H3";const e$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h4",as:"h4",className:e,ref:n,...t}));e$.displayName="H4";const t$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h5",as:"h5",className:e,ref:n,...t}));t$.displayName="H5";const n$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"h6",as:"h6",className:e,ref:n,...t}));n$.displayName="H6";const pn=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"p",as:"p",className:e,ref:n,...t}));pn.displayName="P";const r$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"blockquote",as:"blockquote",className:e,ref:n,...t}));r$.displayName="Blockquote";const a$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"code",as:"code",className:e,ref:n,...t}));a$.displayName="Code";const q_=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"lead",as:"p",className:e,ref:n,...t}));q_.displayName="Lead";const o$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"large",as:"div",className:e,ref:n,...t}));o$.displayName="Large";const s$=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"small",as:"small",className:e,ref:n,...t}));s$.displayName="Small";const Ul=p.forwardRef(({className:e,...t},n)=>c.jsx(sn,{variant:"muted",as:"p",className:e,ref:n,...t}));Ul.displayName="Muted";const Ai=({children:e,title:t,description:n,className:r=""})=>c.jsxs("div",{className:`container mx-auto p-6 space-y-6 ${r}`,children:[t&&c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:t}),n&&c.jsx("p",{className:"text-muted-foreground mt-2 max-w-4xl",children:n})]})}),e]});function by(e){const t=e+"CollectionProvider",[n,r]=An(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=b=>{const{scope:S,children:v}=b,g=P.useRef(null),y=P.useRef(new Map).current;return c.jsx(a,{scope:S,itemMap:y,collectionRef:g,children:v})};s.displayName=t;const i=e+"CollectionSlot",l=ii(i),u=P.forwardRef((b,S)=>{const{scope:v,children:g}=b,y=o(i,v),w=ze(S,y.collectionRef);return c.jsx(l,{ref:w,children:g})});u.displayName=i;const f=e+"CollectionItemSlot",d="data-radix-collection-item",h=ii(f),m=P.forwardRef((b,S)=>{const{scope:v,children:g,...y}=b,w=P.useRef(null),k=ze(S,w),C=o(f,v);return P.useEffect(()=>(C.itemMap.set(w,{ref:w,...y}),()=>void C.itemMap.delete(w))),c.jsx(h,{[d]:"",ref:k,children:g})});m.displayName=f;function x(b){const S=o(e+"CollectionConsumer",b);return P.useCallback(()=>{const g=S.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(S.itemMap.values()).sort((C,N)=>y.indexOf(C.ref.current)-y.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:u,ItemSlot:m},x,r]}var i$=p.createContext(void 0);function Dc(e){const t=p.useContext(i$);return e||t||"ltr"}var vm="rovingFocusGroup.onEntryFocus",l$={bubbles:!1,cancelable:!0},zc="RovingFocusGroup",[og,X_,c$]=by(zc),[u$,If]=An(zc,[c$]),[d$,f$]=u$(zc),W_=p.forwardRef((e,t)=>c.jsx(og.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(og.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(h$,{...e,ref:t})})}));W_.displayName=zc;var h$=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=e,h=p.useRef(null),m=ze(t,h),x=Dc(o),[b,S]=ba({prop:s,defaultProp:i??null,onChange:l,caller:zc}),[v,g]=p.useState(!1),y=$t(u),w=X_(n),k=p.useRef(!1),[C,N]=p.useState(0);return p.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(vm,y),()=>E.removeEventListener(vm,y)},[y]),c.jsx(d$,{scope:n,orientation:r,dir:x,loop:a,currentTabStopId:b,onItemFocus:p.useCallback(E=>S(E),[S]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:p.useCallback(()=>N(E=>E-1),[]),children:c.jsx(ye.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...d,ref:m,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{k.current=!0}),onFocus:ae(e.onFocus,E=>{const _=!k.current;if(E.target===E.currentTarget&&_&&!v){const A=new CustomEvent(vm,l$);if(E.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=w().filter(j=>j.focusable),B=R.find(j=>j.active),O=R.find(j=>j.id===b),D=[B,O,...R].filter(Boolean).map(j=>j.ref.current);J_(D,f)}}k.current=!1}),onBlur:ae(e.onBlur,()=>g(!1))})})}),K_="RovingFocusGroupItem",Q_=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,children:s,...i}=e,l=sa(),u=o||l,f=f$(K_,n),d=f.currentTabStopId===u,h=X_(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:b}=f;return p.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),c.jsx(og.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:c.jsx(ye.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...i,ref:t,onMouseDown:ae(e.onMouseDown,S=>{r?f.onItemFocus(u):S.preventDefault()}),onFocus:ae(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:ae(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){f.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const v=g$(S,f.orientation,f.dir);if(v!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let y=h().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")y.reverse();else if(v==="prev"||v==="next"){v==="prev"&&y.reverse();const w=y.indexOf(S.currentTarget);y=f.loop?y$(y,w+1):y.slice(w+1)}setTimeout(()=>J_(y))}}),children:typeof s=="function"?s({isCurrentTabStop:d,hasTabStop:b!=null}):s})})});Q_.displayName=K_;var m$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function p$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function g$(e,t,n){const r=p$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return m$[r]}function J_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function y$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var eC=W_,tC=Q_,Hf="Tabs",[v$,Hee]=An(Hf,[If]),nC=If(),[x$,wy]=v$(Hf),rC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:s="horizontal",dir:i,activationMode:l="automatic",...u}=e,f=Dc(i),[d,h]=ba({prop:r,onChange:a,defaultProp:o??"",caller:Hf});return c.jsx(x$,{scope:n,baseId:sa(),value:d,onValueChange:h,orientation:s,dir:f,activationMode:l,children:c.jsx(ye.div,{dir:f,"data-orientation":s,...u,ref:t})})});rC.displayName=Hf;var aC="TabsList",oC=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=wy(aC,n),s=nC(n);return c.jsx(eC,{asChild:!0,...s,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(ye.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});oC.displayName=aC;var sC="TabsTrigger",iC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,s=wy(sC,n),i=nC(n),l=uC(s.baseId,r),u=dC(s.baseId,r),f=r===s.value;return c.jsx(tC,{asChild:!0,...i,focusable:!a,active:f,children:c.jsx(ye.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...o,ref:t,onMouseDown:ae(e.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?s.onValueChange(r):d.preventDefault()}),onKeyDown:ae(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&s.onValueChange(r)}),onFocus:ae(e.onFocus,()=>{const d=s.activationMode!=="manual";!f&&!a&&d&&s.onValueChange(r)})})})});iC.displayName=sC;var lC="TabsContent",cC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...s}=e,i=wy(lC,n),l=uC(i.baseId,r),u=dC(i.baseId,r),f=r===i.value,d=p.useRef(f);return p.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),c.jsx(Ut,{present:a||f,children:({present:h})=>c.jsx(ye.div,{"data-state":f?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:h&&o})})});cC.displayName=lC;function uC(e,t){return`${e}-trigger-${t}`}function dC(e,t){return`${e}-content-${t}`}var b$=rC,w$=oC,S$=iC,N$=cC;function Sy({className:e,...t}){return c.jsx(b$,{"data-slot":"tabs",className:Q("flex flex-col gap-2",e),...t})}function Ny({className:e,...t}){return c.jsx(w$,{"data-slot":"tabs-list",className:Q("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Fl({className:e,...t}){return c.jsx(S$,{"data-slot":"tabs-trigger",className:Q("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Bd({className:e,...t}){return c.jsx(N$,{"data-slot":"tabs-content",className:Q("flex-1 outline-none",e),...t})}const Kt=[{label:"Build",value:"build",to:"/build"},{label:"Race",value:"race",to:"/build/race"},{label:"Birth Signs",value:"birth-signs",to:"/build/birth-signs"},{label:"Traits",value:"traits",to:"/build/traits"},{label:"Religion",value:"religions",to:"/build/religions"},{label:"Destiny",value:"destiny",to:"/build/destiny"},{label:"Perks",value:"perks",to:"/build/perks"}],k$=({currentPath:e})=>{var f;const t=Gn(),n=Kt.findIndex(d=>d.to===e),r=n>=0?n:0,a=d=>{const h=Kt.find(m=>m.value===d);h&&t(h.to)},o=d=>{t(d.to)},s=()=>{r>0&&t(Kt[r-1].to)},i=()=>{r<Kt.length-1&&t(Kt[r+1].to)},l=d=>{switch(d.key){case"ArrowLeft":d.preventDefault(),s();break;case"ArrowRight":d.preventDefault(),i();break;case"Home":d.preventDefault(),t(Kt[0].to);break;case"End":d.preventDefault(),t(Kt[Kt.length-1].to);break}},u=((f=Kt[r])==null?void 0:f.value)||"build";return c.jsx("div",{className:"bg-background border-b border-border shadow-sm sticky top-12 backdrop-blur-sm",style:{zIndex:Ht.NAVIGATION,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},role:"navigation","aria-label":"Character build progress",onKeyDown:l,tabIndex:0,children:c.jsx("div",{style:{backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:c.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[c.jsx(ie,{onClick:s,disabled:r===0,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to previous step: ${r>0?Kt[r-1].label:"none"}`,children:c.jsx(I4,{className:"h-4 w-4"})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx(Sy,{value:u,onValueChange:a,children:c.jsx(Ny,{className:"flex w-full h-auto p-1 bg-muted relative",style:{backgroundColor:"hsl(var(--muted))",backgroundImage:"none"},role:"tablist","aria-label":"Character build steps",children:Kt.map((d,h)=>c.jsxs(Fl,{value:d.value,onClick:()=>o(d),className:Q("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-xs font-medium whitespace-nowrap transition-[color,box-shadow] relative","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm","dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30","text-foreground dark:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","cursor-pointer select-none"),style:{backgroundColor:u===d.value?"hsl(var(--background))":"transparent",backgroundImage:"none"},title:`Step ${h+1}: ${d.label}`,role:"tab","aria-selected":u===d.value,"aria-label":`Step ${h+1}: ${d.label}`,children:[c.jsx("span",{className:"hidden sm:inline",children:d.label}),c.jsx("span",{className:"sm:hidden",children:d.label.split(" ")[0]}),u===d.value&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-skyrim-gold rounded-b-md transition-all duration-200"})]},d.value))})})}),c.jsx(ie,{onClick:i,disabled:r===Kt.length-1,className:"flex items-center justify-center shrink-0 w-10 h-10 cursor-pointer","aria-label":`Go to next step: ${r<Kt.length-1?Kt[r+1].label:"none"}`,children:c.jsx(zf,{className:"h-4 w-4"})})]})})})},E$=()=>{const e=xa();return c.jsxs("div",{className:"flex flex-col min-h-full",children:[c.jsx(k$,{currentPath:e.pathname}),c.jsx("div",{className:"flex-grow",children:c.jsx(ZO,{})})]})};function _$(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function fC(e){const[t,n]=p.useState(void 0);return Cr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,i;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,i=u.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Uf="Switch",[C$,Uee]=An(Uf),[A$,T$]=C$(Uf),hC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:s,disabled:i,value:l="on",onCheckedChange:u,form:f,...d}=e,[h,m]=p.useState(null),x=ze(t,y=>m(y)),b=p.useRef(!1),S=h?f||!!h.closest("form"):!0,[v,g]=ba({prop:a,defaultProp:o??!1,onChange:u,caller:Uf});return c.jsxs(A$,{scope:n,checked:v,disabled:i,children:[c.jsx(ye.button,{type:"button",role:"switch","aria-checked":v,"aria-required":s,"data-state":yC(v),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:x,onClick:ae(e.onClick,y=>{g(w=>!w),S&&(b.current=y.isPropagationStopped(),b.current||y.stopPropagation())})}),S&&c.jsx(gC,{control:h,bubbles:!b.current,name:r,value:l,checked:v,required:s,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});hC.displayName=Uf;var mC="SwitchThumb",pC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=T$(mC,n);return c.jsx(ye.span,{"data-state":yC(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});pC.displayName=mC;var j$="SwitchBubbleInput",gC=p.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},o)=>{const s=p.useRef(null),i=ze(s,o),l=_$(n),u=fC(t);return p.useEffect(()=>{const f=s.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&m){const x=new Event("click",{bubbles:r});m.call(f,n),f.dispatchEvent(x)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gC.displayName=j$;function yC(e){return e?"checked":"unchecked"}var vC=hC,R$=pC;const qr=p.forwardRef(({className:e,...t},n)=>c.jsx(vC,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-black data-[state=unchecked]:bg-gray-300",e),...t,ref:n,children:c.jsx(R$,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qr.displayName=vC.displayName;function ky({itemId:e,itemType:t,itemName:n,isInBuild:r=!1,className:a,onCheckedChange:o}){const{setRace:s,setStone:i,setReligion:l,addRegularTrait:u,addBonusTrait:f,removeTrait:d,addMajorSkill:h,removeMajorSkill:m,removeMinorSkill:x,addEquipment:b,removeEquipment:S,build:v}=Cn(),y=r||(()=>{switch(t){case"race":return v.race===e;case"stone":return v.stone===e;case"religion":return v.religion===e;case"trait":return v.traits.regular.includes(e)||v.traits.bonus.includes(e);case"skill":return v.skills.major.includes(e)||v.skills.minor.includes(e);case"equipment":return v.equipment.includes(e);default:return!1}})(),w=C=>{if(o){o(C);return}switch(t){case"race":s(C?e:null);break;case"stone":i(C?e:null);break;case"religion":l(C?e:null);break;case"trait":C?v.traits.regular.length<2?u(e):v.traits.bonus.length<1&&f(e):d(e);break;case"skill":C?h(e):(m(e),x(e));break;case"equipment":C?b(e):S(e);break}},k=()=>y?`This ${t} is currently in your build`:`Add this ${t} to your character build`;return c.jsx("div",{className:Q("flex items-center justify-center p-2 rounded-lg border transition-all duration-200 cursor-pointer hover:bg-muted/50",y?"border-[#d4af37] bg-[#d4af37]/20 shadow-md":"border-border",a),onClick:C=>{C.stopPropagation(),w(!y)},title:k(),children:c.jsx(qr,{checked:y,onCheckedChange:w,className:Q("transition-all duration-200",y?"data-[state=checked]:bg-[#d4af37]":"")})})}const wa=p.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));wa.displayName="Input";function Ey({categories:e,onSelect:t,placeholder:n="Search categories...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(null),[l,u]=p.useState(""),[f,d]=p.useState(-1),h=p.useRef(null),m=p.useRef(null),x=e.length===1?e[0]:null;p.useEffect(()=>{const N=E=>{h.current&&!h.current.contains(E.target)&&(o(!1),i(null),d(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const b=s||x?(s||x).options.filter(N=>{var E;return N.label.toLowerCase().includes(l.toLowerCase())||((E=N.description)==null?void 0:E.toLowerCase().includes(l.toLowerCase()))}):e.flatMap(N=>N.options.filter(E=>{var _;return E.label.toLowerCase().includes(l.toLowerCase())||((_=E.description)==null?void 0:_.toLowerCase().includes(l.toLowerCase()))})),S=N=>{u(N),o(!0),d(-1)},v=N=>{var E;i(N),u(""),(E=m.current)==null||E.focus()},g=N=>{t(N),u(""),i(null),o(!1),d(-1)},y=N=>{N.key==="ArrowDown"?(N.preventDefault(),d(E=>Math.min(E+1,b.length-1))):N.key==="ArrowUp"?(N.preventDefault(),d(E=>Math.max(E-1,-1))):N.key==="Enter"?(N.preventDefault(),f>=0&&b[f]&&g(b[f])):N.key==="Escape"&&(o(!1),i(null),d(-1))},w=()=>{o(!0)},k=s||x,C=!x&&!s;return c.jsxs("div",{ref:h,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(wa,{ref:m,type:"text",placeholder:k?k.placeholder:n,value:l,onChange:N=>S(N.target.value),onFocus:w,onKeyDown:y,className:"pl-10 pr-10"}),c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:c.jsx(tr,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Ht.AUTOCOMPLETE+10},children:[C&&c.jsxs("div",{className:"p-2 border-b border-border",children:[c.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(N=>c.jsxs("button",{onClick:()=>v(N),className:"w-full text-left px-2 py-2 hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98] rounded text-sm flex items-center justify-between transition-all duration-200 cursor-pointer",children:[c.jsx("span",{children:N.name}),c.jsx(tr,{className:"h-4 w-4"})]},N.id))]}),c.jsx("div",{className:"p-2",children:b.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):b.map((N,E)=>c.jsxs("button",{onClick:()=>g(N),className:`w-full text-left px-2 py-2 rounded text-sm transition-all duration-200 cursor-pointer ${E===f?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:[c.jsx("div",{className:"font-medium",children:N.label}),N.description&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},N.id))})]})]})}function dt({className:e,...t}){return c.jsx("div",{"data-slot":"card",className:Q("bg-card text-card-foreground flex flex-col gap-8 rounded-xl border py-8 px-6 shadow-sm",e),...t})}function Et({className:e,action:t,children:n,...r}){return c.jsxs("div",{"data-slot":"card-header",className:Q("flex flex-row items-start justify-between space-y-0",e),...r,children:[c.jsx("div",{className:"flex-1 flex flex-col space-y-3",children:n}),t&&c.jsx("div",{className:"ml-4 flex-shrink-0",children:t})]})}function _t({className:e,...t}){return c.jsx("div",{"data-slot":"card-title",className:Q("text-xl font-bold leading-none",e),...t})}function qa({className:e,...t}){return c.jsx("div",{"data-slot":"card-description",className:Q("text-base text-muted-foreground",e),...t})}function ft({className:e,...t}){return c.jsx("div",{"data-slot":"card-content",className:Q("pt-0",e),...t})}const M$=["top","right","bottom","left"],io=Math.min,gn=Math.max,Id=Math.round,mu=Math.floor,kr=e=>({x:e,y:e}),D$={left:"right",right:"left",bottom:"top",top:"bottom"},z$={start:"end",end:"start"};function sg(e,t,n){return gn(e,io(t,n))}function ha(e,t){return typeof e=="function"?e(t):e}function ma(e){return e.split("-")[0]}function Ti(e){return e.split("-")[1]}function _y(e){return e==="x"?"y":"x"}function Cy(e){return e==="y"?"height":"width"}const O$=new Set(["top","bottom"]);function xr(e){return O$.has(ma(e))?"y":"x"}function Ay(e){return _y(xr(e))}function P$(e,t,n){n===void 0&&(n=!1);const r=Ti(e),a=Ay(e),o=Cy(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Hd(s)),[s,Hd(s)]}function L$(e){const t=Hd(e);return[ig(e),t,ig(t)]}function ig(e){return e.replace(/start|end/g,t=>z$[t])}const sw=["left","right"],iw=["right","left"],$$=["top","bottom"],B$=["bottom","top"];function I$(e,t,n){switch(e){case"top":case"bottom":return n?t?iw:sw:t?sw:iw;case"left":case"right":return t?$$:B$;default:return[]}}function H$(e,t,n,r){const a=Ti(e);let o=I$(ma(e),n==="start",r);return a&&(o=o.map(s=>s+"-"+a),t&&(o=o.concat(o.map(ig)))),o}function Hd(e){return e.replace(/left|right|bottom|top/g,t=>D$[t])}function U$(e){return{top:0,right:0,bottom:0,left:0,...e}}function xC(e){return typeof e!="number"?U$(e):{top:e,right:e,bottom:e,left:e}}function Ud(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function lw(e,t,n){let{reference:r,floating:a}=e;const o=xr(t),s=Ay(t),i=Cy(s),l=ma(t),u=o==="y",f=r.x+r.width/2-a.width/2,d=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let m;switch(l){case"top":m={x:f,y:r.y-a.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:d};break;case"left":m={x:r.x-a.width,y:d};break;default:m={x:r.x,y:r.y}}switch(Ti(t)){case"start":m[s]-=h*(n&&u?-1:1);break;case"end":m[s]+=h*(n&&u?-1:1);break}return m}const F$=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:s}=n,i=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:d}=lw(u,r,l),h=r,m={},x=0;for(let b=0;b<i.length;b++){const{name:S,fn:v}=i[b],{x:g,y,data:w,reset:k}=await v({x:f,y:d,initialPlacement:r,placement:h,strategy:a,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});f=g??f,d=y??d,m={...m,[S]:{...m[S],...w}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:f,y:d}=lw(u,h,l)),b=-1)}return{x:f,y:d,placement:h,strategy:a,middlewareData:m}};async function Gl(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:s,elements:i,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:m=0}=ha(t,e),x=xC(m),S=i[h?d==="floating"?"reference":"floating":d],v=Ud(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:u,rootBoundary:f,strategy:l})),g=d==="floating"?{x:r,y:a,width:s.floating.width,height:s.floating.height}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),w=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},k=Ud(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:g,offsetParent:y,strategy:l}):g);return{top:(v.top-k.top+x.top)/w.y,bottom:(k.bottom-v.bottom+x.bottom)/w.y,left:(v.left-k.left+x.left)/w.x,right:(k.right-v.right+x.right)/w.x}}const G$=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:s,elements:i,middlewareData:l}=t,{element:u,padding:f=0}=ha(e,t)||{};if(u==null)return{};const d=xC(f),h={x:n,y:r},m=Ay(a),x=Cy(m),b=await s.getDimensions(u),S=m==="y",v=S?"top":"left",g=S?"bottom":"right",y=S?"clientHeight":"clientWidth",w=o.reference[x]+o.reference[m]-h[m]-o.floating[x],k=h[m]-o.reference[m],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=C?C[y]:0;(!N||!await(s.isElement==null?void 0:s.isElement(C)))&&(N=i.floating[y]||o.floating[x]);const E=w/2-k/2,_=N/2-b[x]/2-1,A=io(d[v],_),R=io(d[g],_),B=A,O=N-b[x]-R,T=N/2-b[x]/2+E,D=sg(B,T,O),j=!l.arrow&&Ti(a)!=null&&T!==D&&o.reference[x]/2-(T<B?A:R)-b[x]/2<0,L=j?T<B?T-B:T-O:0;return{[m]:h[m]+L,data:{[m]:D,centerOffset:T-D-L,...j&&{alignmentOffset:L}},reset:j}}}),V$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:s,initialPlacement:i,platform:l,elements:u}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:b=!0,...S}=ha(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=ma(a),g=xr(i),y=ma(i)===i,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),k=h||(y||!b?[Hd(i)]:L$(i)),C=x!=="none";!h&&C&&k.push(...H$(i,b,x,w));const N=[i,...k],E=await Gl(t,S),_=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&_.push(E[v]),d){const T=P$(a,s,w);_.push(E[T[0]],E[T[1]])}if(A=[...A,{placement:a,overflows:_}],!_.every(T=>T<=0)){var R,B;const T=(((R=o.flip)==null?void 0:R.index)||0)+1,D=N[T];if(D&&(!(d==="alignment"?g!==xr(D):!1)||A.every(z=>z.overflows[0]>0&&xr(z.placement)===g)))return{data:{index:T,overflows:A},reset:{placement:D}};let j=(B=A.filter(L=>L.overflows[0]<=0).sort((L,z)=>L.overflows[1]-z.overflows[1])[0])==null?void 0:B.placement;if(!j)switch(m){case"bestFit":{var O;const L=(O=A.filter(z=>{if(C){const M=xr(z.placement);return M===g||M==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((z,M)=>z[1]-M[1])[0])==null?void 0:O[0];L&&(j=L);break}case"initialPlacement":j=i;break}if(a!==j)return{reset:{placement:j}}}return{}}}};function cw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uw(e){return M$.some(t=>e[t]>=0)}const Z$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=ha(e,t);switch(r){case"referenceHidden":{const o=await Gl(t,{...a,elementContext:"reference"}),s=cw(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:uw(s)}}}case"escaped":{const o=await Gl(t,{...a,altBoundary:!0}),s=cw(o,n.floating);return{data:{escapedOffsets:s,escaped:uw(s)}}}default:return{}}}}},bC=new Set(["left","top"]);async function Y$(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),s=ma(n),i=Ti(n),l=xr(n)==="y",u=bC.has(s)?-1:1,f=o&&l?-1:1,d=ha(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&typeof x=="number"&&(m=i==="end"?x*-1:x),l?{x:m*f,y:h*u}:{x:h*u,y:m*f}}const q$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:s,middlewareData:i}=t,l=await Y$(t,e);return s===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:o+l.y,data:{...l,placement:s}}}}},X$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:i={fn:S=>{let{x:v,y:g}=S;return{x:v,y:g}}},...l}=ha(e,t),u={x:n,y:r},f=await Gl(t,l),d=xr(ma(a)),h=_y(d);let m=u[h],x=u[d];if(o){const S=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=m+f[S],y=m-f[v];m=sg(g,m,y)}if(s){const S=d==="y"?"top":"left",v=d==="y"?"bottom":"right",g=x+f[S],y=x-f[v];x=sg(g,x,y)}const b=i.fn({...t,[h]:m,[d]:x});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[h]:o,[d]:s}}}}}},W$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:s}=t,{offset:i=0,mainAxis:l=!0,crossAxis:u=!0}=ha(e,t),f={x:n,y:r},d=xr(a),h=_y(d);let m=f[h],x=f[d];const b=ha(i,t),S=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const y=h==="y"?"height":"width",w=o.reference[h]-o.floating[y]+S.mainAxis,k=o.reference[h]+o.reference[y]-S.mainAxis;m<w?m=w:m>k&&(m=k)}if(u){var v,g;const y=h==="y"?"width":"height",w=bC.has(ma(a)),k=o.reference[d]-o.floating[y]+(w&&((v=s.offset)==null?void 0:v[d])||0)+(w?0:S.crossAxis),C=o.reference[d]+o.reference[y]+(w?0:((g=s.offset)==null?void 0:g[d])||0)-(w?S.crossAxis:0);x<k?x=k:x>C&&(x=C)}return{[h]:m,[d]:x}}}},K$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:s,elements:i}=t,{apply:l=()=>{},...u}=ha(e,t),f=await Gl(t,u),d=ma(a),h=Ti(a),m=xr(a)==="y",{width:x,height:b}=o.floating;let S,v;d==="top"||d==="bottom"?(S=d,v=h===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(v=d,S=h==="end"?"top":"bottom");const g=b-f.top-f.bottom,y=x-f.left-f.right,w=io(b-f[S],g),k=io(x-f[v],y),C=!t.middlewareData.shift;let N=w,E=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),C&&!h){const A=gn(f.left,0),R=gn(f.right,0),B=gn(f.top,0),O=gn(f.bottom,0);m?E=x-2*(A!==0||R!==0?A+R:gn(f.left,f.right)):N=b-2*(B!==0||O!==0?B+O:gn(f.top,f.bottom))}await l({...t,availableWidth:E,availableHeight:N});const _=await s.getDimensions(i.floating);return x!==_.width||b!==_.height?{reset:{rects:!0}}:{}}}};function Ff(){return typeof window<"u"}function ji(e){return wC(e)?(e.nodeName||"").toLowerCase():"#document"}function Nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(wC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function wC(e){return Ff()?e instanceof Node||e instanceof Nn(e).Node:!1}function rr(e){return Ff()?e instanceof Element||e instanceof Nn(e).Element:!1}function Ar(e){return Ff()?e instanceof HTMLElement||e instanceof Nn(e).HTMLElement:!1}function dw(e){return!Ff()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nn(e).ShadowRoot}const Q$=new Set(["inline","contents"]);function Oc(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Q$.has(a)}const J$=new Set(["table","td","th"]);function e6(e){return J$.has(ji(e))}const t6=[":popover-open",":modal"];function Gf(e){return t6.some(t=>{try{return e.matches(t)}catch{return!1}})}const n6=["transform","translate","scale","rotate","perspective"],r6=["transform","translate","scale","rotate","perspective","filter"],a6=["paint","layout","strict","content"];function Ty(e){const t=jy(),n=rr(e)?ar(e):e;return n6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||r6.some(r=>(n.willChange||"").includes(r))||a6.some(r=>(n.contain||"").includes(r))}function o6(e){let t=lo(e);for(;Ar(t)&&!li(t);){if(Ty(t))return t;if(Gf(t))return null;t=lo(t)}return null}function jy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const s6=new Set(["html","body","#document"]);function li(e){return s6.has(ji(e))}function ar(e){return Nn(e).getComputedStyle(e)}function Vf(e){return rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function lo(e){if(ji(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dw(e)&&e.host||Dr(e);return dw(t)?t.host:t}function SC(e){const t=lo(e);return li(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ar(t)&&Oc(t)?t:SC(t)}function Vl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=SC(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),s=Nn(a);if(o){const i=lg(s);return t.concat(s,s.visualViewport||[],Oc(a)?a:[],i&&n?Vl(i):[])}return t.concat(a,Vl(a,[],n))}function lg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NC(e){const t=ar(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ar(e),o=a?e.offsetWidth:n,s=a?e.offsetHeight:r,i=Id(n)!==o||Id(r)!==s;return i&&(n=o,r=s),{width:n,height:r,$:i}}function Ry(e){return rr(e)?e:e.contextElement}function Us(e){const t=Ry(e);if(!Ar(t))return kr(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=NC(t);let s=(o?Id(n.width):n.width)/r,i=(o?Id(n.height):n.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const i6=kr(0);function kC(e){const t=Nn(e);return!jy()||!t.visualViewport?i6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function l6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Nn(e)?!1:t}function Io(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=Ry(e);let s=kr(1);t&&(r?rr(r)&&(s=Us(r)):s=Us(e));const i=l6(o,n,r)?kC(o):kr(0);let l=(a.left+i.x)/s.x,u=(a.top+i.y)/s.y,f=a.width/s.x,d=a.height/s.y;if(o){const h=Nn(o),m=r&&rr(r)?Nn(r):r;let x=h,b=lg(x);for(;b&&r&&m!==x;){const S=Us(b),v=b.getBoundingClientRect(),g=ar(b),y=v.left+(b.clientLeft+parseFloat(g.paddingLeft))*S.x,w=v.top+(b.clientTop+parseFloat(g.paddingTop))*S.y;l*=S.x,u*=S.y,f*=S.x,d*=S.y,l+=y,u+=w,x=Nn(b),b=lg(x)}}return Ud({width:f,height:d,x:l,y:u})}function My(e,t){const n=Vf(e).scrollLeft;return t?t.left+n:Io(Dr(e)).left+n}function EC(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:My(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function c6(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",s=Dr(r),i=t?Gf(t.floating):!1;if(r===s||i&&o)return n;let l={scrollLeft:0,scrollTop:0},u=kr(1);const f=kr(0),d=Ar(r);if((d||!d&&!o)&&((ji(r)!=="body"||Oc(s))&&(l=Vf(r)),Ar(r))){const m=Io(r);u=Us(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const h=s&&!d&&!o?EC(s,l,!0):kr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+f.x+h.x,y:n.y*u.y-l.scrollTop*u.y+f.y+h.y}}function u6(e){return Array.from(e.getClientRects())}function d6(e){const t=Dr(e),n=Vf(e),r=e.ownerDocument.body,a=gn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=gn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+My(e);const i=-n.scrollTop;return ar(r).direction==="rtl"&&(s+=gn(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:s,y:i}}function f6(e,t){const n=Nn(e),r=Dr(e),a=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,i=0,l=0;if(a){o=a.width,s=a.height;const u=jy();(!u||u&&t==="fixed")&&(i=a.offsetLeft,l=a.offsetTop)}return{width:o,height:s,x:i,y:l}}const h6=new Set(["absolute","fixed"]);function m6(e,t){const n=Io(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Ar(e)?Us(e):kr(1),s=e.clientWidth*o.x,i=e.clientHeight*o.y,l=a*o.x,u=r*o.y;return{width:s,height:i,x:l,y:u}}function fw(e,t,n){let r;if(t==="viewport")r=f6(e,n);else if(t==="document")r=d6(Dr(e));else if(rr(t))r=m6(t,n);else{const a=kC(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ud(r)}function _C(e,t){const n=lo(e);return n===t||!rr(n)||li(n)?!1:ar(n).position==="fixed"||_C(n,t)}function p6(e,t){const n=t.get(e);if(n)return n;let r=Vl(e,[],!1).filter(i=>rr(i)&&ji(i)!=="body"),a=null;const o=ar(e).position==="fixed";let s=o?lo(e):e;for(;rr(s)&&!li(s);){const i=ar(s),l=Ty(s);!l&&i.position==="fixed"&&(a=null),(o?!l&&!a:!l&&i.position==="static"&&!!a&&h6.has(a.position)||Oc(s)&&!l&&_C(e,s))?r=r.filter(f=>f!==s):a=i,s=lo(s)}return t.set(e,r),r}function g6(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const s=[...n==="clippingAncestors"?Gf(t)?[]:p6(t,this._c):[].concat(n),r],i=s[0],l=s.reduce((u,f)=>{const d=fw(t,f,a);return u.top=gn(d.top,u.top),u.right=io(d.right,u.right),u.bottom=io(d.bottom,u.bottom),u.left=gn(d.left,u.left),u},fw(t,i,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function y6(e){const{width:t,height:n}=NC(e);return{width:t,height:n}}function v6(e,t,n){const r=Ar(t),a=Dr(t),o=n==="fixed",s=Io(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=kr(0);function u(){l.x=My(a)}if(r||!r&&!o)if((ji(t)!=="body"||Oc(a))&&(i=Vf(t)),r){const m=Io(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();o&&!r&&a&&u();const f=a&&!r&&!o?EC(a,i):kr(0),d=s.left+i.scrollLeft-l.x-f.x,h=s.top+i.scrollTop-l.y-f.y;return{x:d,y:h,width:s.width,height:s.height}}function xm(e){return ar(e).position==="static"}function hw(e,t){if(!Ar(e)||ar(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Dr(e)===n&&(n=n.ownerDocument.body),n}function CC(e,t){const n=Nn(e);if(Gf(e))return n;if(!Ar(e)){let a=lo(e);for(;a&&!li(a);){if(rr(a)&&!xm(a))return a;a=lo(a)}return n}let r=hw(e,t);for(;r&&e6(r)&&xm(r);)r=hw(r,t);return r&&li(r)&&xm(r)&&!Ty(r)?n:r||o6(e)||n}const x6=async function(e){const t=this.getOffsetParent||CC,n=this.getDimensions,r=await n(e.floating);return{reference:v6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b6(e){return ar(e).direction==="rtl"}const w6={convertOffsetParentRelativeRectToViewportRelativeRect:c6,getDocumentElement:Dr,getClippingRect:g6,getOffsetParent:CC,getElementRects:x6,getClientRects:u6,getDimensions:y6,getScale:Us,isElement:rr,isRTL:b6};function AC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function S6(e,t){let n=null,r;const a=Dr(e);function o(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function s(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:f,top:d,width:h,height:m}=u;if(i||t(),!h||!m)return;const x=mu(d),b=mu(a.clientWidth-(f+h)),S=mu(a.clientHeight-(d+m)),v=mu(f),y={rootMargin:-x+"px "+-b+"px "+-S+"px "+-v+"px",threshold:gn(0,io(1,l))||1};let w=!0;function k(C){const N=C[0].intersectionRatio;if(N!==l){if(!w)return s();N?s(!1,N):r=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!AC(u,e.getBoundingClientRect())&&s(),w=!1}try{n=new IntersectionObserver(k,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(k,y)}n.observe(e)}return s(!0),o}function N6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ry(e),f=a||o?[...u?Vl(u):[],...Vl(t)]:[];f.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const d=u&&i?S6(u,n):null;let h=-1,m=null;s&&(m=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let x,b=l?Io(e):null;l&&S();function S(){const v=Io(e);b&&!AC(b,v)&&n(),b=v,x=requestAnimationFrame(S)}return n(),()=>{var v;f.forEach(g=>{a&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),d==null||d(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const k6=q$,E6=X$,_6=V$,C6=K$,A6=Z$,mw=G$,T6=W$,j6=(e,t,n)=>{const r=new Map,a={platform:w6,...n},o={...a.platform,_c:r};return F$(e,t,{...a,platform:o})};var R6=typeof document<"u",M6=function(){},Ju=R6?p.useLayoutEffect:M6;function Fd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Fd(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Fd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function TC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pw(e,t){const n=TC(e);return Math.round(t*n)/n}function bm(e){const t=p.useRef(e);return Ju(()=>{t.current=e}),t}function D6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:s}={},transform:i=!0,whileElementsMounted:l,open:u}=e,[f,d]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Fd(h,r)||m(r);const[x,b]=p.useState(null),[S,v]=p.useState(null),g=p.useCallback(z=>{z!==C.current&&(C.current=z,b(z))},[]),y=p.useCallback(z=>{z!==N.current&&(N.current=z,v(z))},[]),w=o||x,k=s||S,C=p.useRef(null),N=p.useRef(null),E=p.useRef(f),_=l!=null,A=bm(l),R=bm(a),B=bm(u),O=p.useCallback(()=>{if(!C.current||!N.current)return;const z={placement:t,strategy:n,middleware:h};R.current&&(z.platform=R.current),j6(C.current,N.current,z).then(M=>{const $={...M,isPositioned:B.current!==!1};T.current&&!Fd(E.current,$)&&(E.current=$,ic.flushSync(()=>{d($)}))})},[h,t,n,R,B]);Ju(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[u]);const T=p.useRef(!1);Ju(()=>(T.current=!0,()=>{T.current=!1}),[]),Ju(()=>{if(w&&(C.current=w),k&&(N.current=k),w&&k){if(A.current)return A.current(w,k,O);O()}},[w,k,O,A,_]);const D=p.useMemo(()=>({reference:C,floating:N,setReference:g,setFloating:y}),[g,y]),j=p.useMemo(()=>({reference:w,floating:k}),[w,k]),L=p.useMemo(()=>{const z={position:n,left:0,top:0};if(!j.floating)return z;const M=pw(j.floating,f.x),$=pw(j.floating,f.y);return i?{...z,transform:"translate("+M+"px, "+$+"px)",...TC(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:$}},[n,i,j.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:O,refs:D,elements:j,floatingStyles:L}),[f,O,D,j,L])}const z6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?mw({element:r.current,padding:a}).fn(n):{}:r?mw({element:r,padding:a}).fn(n):{}}}},O6=(e,t)=>({...k6(e),options:[e,t]}),P6=(e,t)=>({...E6(e),options:[e,t]}),L6=(e,t)=>({...T6(e),options:[e,t]}),$6=(e,t)=>({..._6(e),options:[e,t]}),B6=(e,t)=>({...C6(e),options:[e,t]}),I6=(e,t)=>({...A6(e),options:[e,t]}),H6=(e,t)=>({...z6(e),options:[e,t]});var U6="Arrow",jC=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return c.jsx(ye.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});jC.displayName=U6;var F6=jC,Dy="Popper",[RC,Ri]=An(Dy),[G6,MC]=RC(Dy),DC=e=>{const{__scopePopper:t,children:n}=e,[r,a]=p.useState(null);return c.jsx(G6,{scope:t,anchor:r,onAnchorChange:a,children:n})};DC.displayName=Dy;var zC="PopperAnchor",OC=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=MC(zC,n),s=p.useRef(null),i=ze(t,s);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:c.jsx(ye.div,{...a,ref:i})});OC.displayName=zC;var zy="PopperContent",[V6,Z6]=RC(zy),PC=p.forwardRef((e,t)=>{var V,ee,re,H,q,K;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:s=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...b}=e,S=MC(zy,n),[v,g]=p.useState(null),y=ze(t,te=>g(te)),[w,k]=p.useState(null),C=fC(w),N=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,_=r+(o!=="center"?"-"+o:""),A=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},R=Array.isArray(u)?u:[u],B=R.length>0,O={padding:A,boundary:R.filter(q6),altBoundary:B},{refs:T,floatingStyles:D,placement:j,isPositioned:L,middlewareData:z}=D6({strategy:"fixed",placement:_,whileElementsMounted:(...te)=>N6(...te,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[O6({mainAxis:a+E,alignmentAxis:s}),l&&P6({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?L6():void 0,...O}),l&&$6({...O}),B6({...O,apply:({elements:te,rects:W,availableWidth:de,availableHeight:Ne})=>{const{width:pe,height:ne}=W.reference,He=te.floating.style;He.setProperty("--radix-popper-available-width",`${de}px`),He.setProperty("--radix-popper-available-height",`${Ne}px`),He.setProperty("--radix-popper-anchor-width",`${pe}px`),He.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),w&&H6({element:w,padding:i}),X6({arrowWidth:N,arrowHeight:E}),h&&I6({strategy:"referenceHidden",...O})]}),[M,$]=BC(j),I=$t(x);Cr(()=>{L&&(I==null||I())},[L,I]);const G=(V=z.arrow)==null?void 0:V.x,U=(ee=z.arrow)==null?void 0:ee.y,F=((re=z.arrow)==null?void 0:re.centerOffset)!==0,[Z,J]=p.useState();return Cr(()=>{v&&J(window.getComputedStyle(v).zIndex)},[v]),c.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:L?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(H=z.transformOrigin)==null?void 0:H.x,(q=z.transformOrigin)==null?void 0:q.y].join(" "),...((K=z.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(V6,{scope:n,placedSide:M,onArrowChange:k,arrowX:G,arrowY:U,shouldHideArrow:F,children:c.jsx(ye.div,{"data-side":M,"data-align":$,...b,ref:y,style:{...b.style,animation:L?void 0:"none"}})})})});PC.displayName=zy;var LC="PopperArrow",Y6={top:"bottom",right:"left",bottom:"top",left:"right"},$C=p.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=Z6(LC,r),s=Y6[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(F6,{...a,ref:n,style:{...a.style,display:"block"}})})});$C.displayName=LC;function q6(e){return e!==null}var X6=e=>({name:"transformOrigin",options:e,fn(t){var S,v,g;const{placement:n,rects:r,middlewareData:a}=t,s=((S=a.arrow)==null?void 0:S.centerOffset)!==0,i=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,f]=BC(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((v=a.arrow)==null?void 0:v.x)??0)+i/2,m=(((g=a.arrow)==null?void 0:g.y)??0)+l/2;let x="",b="";return u==="bottom"?(x=s?d:`${h}px`,b=`${-l}px`):u==="top"?(x=s?d:`${h}px`,b=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,b=s?d:`${m}px`):u==="left"&&(x=`${r.floating.width+l}px`,b=s?d:`${m}px`),{data:{x,y:b}}}});function BC(e){const[t,n="center"]=e.split("-");return[t,n]}var IC=DC,Oy=OC,Py=PC,Ly=$C,cg=["Enter"," "],W6=["ArrowDown","PageUp","Home"],HC=["ArrowUp","PageDown","End"],K6=[...W6,...HC],Q6={ltr:[...cg,"ArrowRight"],rtl:[...cg,"ArrowLeft"]},J6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Pc="Menu",[Zl,e8,t8]=by(Pc),[Ko,UC]=An(Pc,[t8,Ri,If]),Zf=Ri(),FC=If(),[n8,Qo]=Ko(Pc),[r8,Lc]=Ko(Pc),GC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:o,modal:s=!0}=e,i=Zf(t),[l,u]=p.useState(null),f=p.useRef(!1),d=$t(o),h=Dc(a);return p.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),c.jsx(IC,{...i,children:c.jsx(n8,{scope:t,open:n,onOpenChange:d,content:l,onContentChange:u,children:c.jsx(r8,{scope:t,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:s,children:r})})})};GC.displayName=Pc;var a8="MenuAnchor",$y=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Zf(n);return c.jsx(Oy,{...a,...r,ref:t})});$y.displayName=a8;var By="MenuPortal",[o8,VC]=Ko(By,{forceMount:void 0}),ZC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,o=Qo(By,t);return c.jsx(o8,{scope:t,forceMount:n,children:c.jsx(Ut,{present:n||o.open,children:c.jsx(dy,{asChild:!0,container:a,children:r})})})};ZC.displayName=By;var Hn="MenuContent",[s8,Iy]=Ko(Hn),YC=p.forwardRef((e,t)=>{const n=VC(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Qo(Hn,e.__scopeMenu),s=Lc(Hn,e.__scopeMenu);return c.jsx(Zl.Provider,{scope:e.__scopeMenu,children:c.jsx(Ut,{present:r||o.open,children:c.jsx(Zl.Slot,{scope:e.__scopeMenu,children:s.modal?c.jsx(i8,{...a,ref:t}):c.jsx(l8,{...a,ref:t})})})})}),i8=p.forwardRef((e,t)=>{const n=Qo(Hn,e.__scopeMenu),r=p.useRef(null),a=ze(t,r);return p.useEffect(()=>{const o=r.current;if(o)return g_(o)},[]),c.jsx(Hy,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l8=p.forwardRef((e,t)=>{const n=Qo(Hn,e.__scopeMenu);return c.jsx(Hy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c8=ii("MenuContent.ScrollLock"),Hy=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...b}=e,S=Qo(Hn,n),v=Lc(Hn,n),g=Zf(n),y=FC(n),w=e8(n),[k,C]=p.useState(null),N=p.useRef(null),E=ze(t,N,S.onContentChange),_=p.useRef(0),A=p.useRef(""),R=p.useRef(0),B=p.useRef(null),O=p.useRef("right"),T=p.useRef(0),D=x?fy:p.Fragment,j=x?{as:c8,allowPinchZoom:!0}:void 0,L=M=>{var V,ee;const $=A.current+M,I=w().filter(re=>!re.disabled),G=document.activeElement,U=(V=I.find(re=>re.ref.current===G))==null?void 0:V.textValue,F=I.map(re=>re.textValue),Z=w8(F,$,U),J=(ee=I.find(re=>re.textValue===Z))==null?void 0:ee.ref.current;(function re(H){A.current=H,window.clearTimeout(_.current),H!==""&&(_.current=window.setTimeout(()=>re(""),1e3))})($),J&&setTimeout(()=>J.focus())};p.useEffect(()=>()=>window.clearTimeout(_.current),[]),i_();const z=p.useCallback(M=>{var I,G;return O.current===((I=B.current)==null?void 0:I.side)&&N8(M,(G=B.current)==null?void 0:G.area)},[]);return c.jsx(s8,{scope:n,searchRef:A,onItemEnter:p.useCallback(M=>{z(M)&&M.preventDefault()},[z]),onItemLeave:p.useCallback(M=>{var $;z(M)||(($=N.current)==null||$.focus(),C(null))},[z]),onTriggerLeave:p.useCallback(M=>{z(M)&&M.preventDefault()},[z]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback(M=>{B.current=M},[]),children:c.jsx(D,{...j,children:c.jsx(uy,{asChild:!0,trapped:a,onMountAutoFocus:ae(o,M=>{var $;M.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:c.jsx(jc,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:m,children:c.jsx(eC,{asChild:!0,...y,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:C,onEntryFocus:ae(l,M=>{v.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Py,{role:"menu","aria-orientation":"vertical","data-state":c2(S.open),"data-radix-menu-content":"",dir:v.dir,...g,...b,ref:E,style:{outline:"none",...b.style},onKeyDown:ae(b.onKeyDown,M=>{const I=M.target.closest("[data-radix-menu-content]")===M.currentTarget,G=M.ctrlKey||M.altKey||M.metaKey,U=M.key.length===1;I&&(M.key==="Tab"&&M.preventDefault(),!G&&U&&L(M.key));const F=N.current;if(M.target!==F||!K6.includes(M.key))return;M.preventDefault();const J=w().filter(V=>!V.disabled).map(V=>V.ref.current);HC.includes(M.key)&&J.reverse(),x8(J)}),onBlur:ae(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(_.current),A.current="")}),onPointerMove:ae(e.onPointerMove,Yl(M=>{const $=M.target,I=T.current!==M.clientX;if(M.currentTarget.contains($)&&I){const G=M.clientX>T.current?"right":"left";O.current=G,T.current=M.clientX}}))})})})})})})});YC.displayName=Hn;var u8="MenuGroup",Uy=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(ye.div,{role:"group",...r,ref:t})});Uy.displayName=u8;var d8="MenuLabel",qC=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(ye.div,{...r,ref:t})});qC.displayName=d8;var Gd="MenuItem",gw="menu.itemSelect",Yf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,o=p.useRef(null),s=Lc(Gd,e.__scopeMenu),i=Iy(Gd,e.__scopeMenu),l=ze(t,o),u=p.useRef(!1),f=()=>{const d=o.current;if(!n&&d){const h=new CustomEvent(gw,{bubbles:!0,cancelable:!0});d.addEventListener(gw,m=>r==null?void 0:r(m),{once:!0}),r_(d,h),h.defaultPrevented?u.current=!1:s.onClose()}};return c.jsx(XC,{...a,ref:l,disabled:n,onClick:ae(e.onClick,f),onPointerDown:d=>{var h;(h=e.onPointerDown)==null||h.call(e,d),u.current=!0},onPointerUp:ae(e.onPointerUp,d=>{var h;u.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:ae(e.onKeyDown,d=>{const h=i.searchRef.current!=="";n||h&&d.key===" "||cg.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Yf.displayName=Gd;var XC=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...o}=e,s=Iy(Gd,n),i=FC(n),l=p.useRef(null),u=ze(t,l),[f,d]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const x=l.current;x&&m((x.textContent??"").trim())},[o.children]),c.jsx(Zl.ItemSlot,{scope:n,disabled:r,textValue:a??h,children:c.jsx(tC,{asChild:!0,...i,focusable:!r,children:c.jsx(ye.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ae(e.onPointerMove,Yl(x=>{r?s.onItemLeave(x):(s.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,Yl(x=>s.onItemLeave(x))),onFocus:ae(e.onFocus,()=>d(!0)),onBlur:ae(e.onBlur,()=>d(!1))})})})}),f8="MenuCheckboxItem",WC=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return c.jsx(t2,{scope:e.__scopeMenu,checked:n,children:c.jsx(Yf,{role:"menuitemcheckbox","aria-checked":Vd(n)?"mixed":n,...a,ref:t,"data-state":Gy(n),onSelect:ae(a.onSelect,()=>r==null?void 0:r(Vd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});WC.displayName=f8;var KC="MenuRadioGroup",[h8,m8]=Ko(KC,{value:void 0,onValueChange:()=>{}}),QC=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,o=$t(r);return c.jsx(h8,{scope:e.__scopeMenu,value:n,onValueChange:o,children:c.jsx(Uy,{...a,ref:t})})});QC.displayName=KC;var JC="MenuRadioItem",e2=p.forwardRef((e,t)=>{const{value:n,...r}=e,a=m8(JC,e.__scopeMenu),o=n===a.value;return c.jsx(t2,{scope:e.__scopeMenu,checked:o,children:c.jsx(Yf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Gy(o),onSelect:ae(r.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,n)},{checkForDefaultPrevented:!1})})})});e2.displayName=JC;var Fy="MenuItemIndicator",[t2,p8]=Ko(Fy,{checked:!1}),n2=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,o=p8(Fy,n);return c.jsx(Ut,{present:r||Vd(o.checked)||o.checked===!0,children:c.jsx(ye.span,{...a,ref:t,"data-state":Gy(o.checked)})})});n2.displayName=Fy;var g8="MenuSeparator",r2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return c.jsx(ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});r2.displayName=g8;var y8="MenuArrow",a2=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Zf(n);return c.jsx(Ly,{...a,...r,ref:t})});a2.displayName=y8;var v8="MenuSub",[Fee,o2]=Ko(v8),tl="MenuSubTrigger",s2=p.forwardRef((e,t)=>{const n=Qo(tl,e.__scopeMenu),r=Lc(tl,e.__scopeMenu),a=o2(tl,e.__scopeMenu),o=Iy(tl,e.__scopeMenu),s=p.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},f=p.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return p.useEffect(()=>f,[f]),p.useEffect(()=>{const d=i.current;return()=>{window.clearTimeout(d),l(null)}},[i,l]),c.jsx($y,{asChild:!0,...u,children:c.jsx(XC,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":c2(n.open),...e,ref:Lf(t,a.onTriggerChange),onClick:d=>{var h;(h=e.onClick)==null||h.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,Yl(d=>{o.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:ae(e.onPointerLeave,Yl(d=>{var m,x;f();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const b=(x=n.content)==null?void 0:x.dataset.side,S=b==="right",v=S?-5:5,g=h[S?"left":"right"],y=h[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:g,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:g,y:h.bottom}],side:b}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(d),d.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,d=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&d.key===" "||Q6[r.dir].includes(d.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),d.preventDefault())})})})});s2.displayName=tl;var i2="MenuSubContent",l2=p.forwardRef((e,t)=>{const n=VC(Hn,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,o=Qo(Hn,e.__scopeMenu),s=Lc(Hn,e.__scopeMenu),i=o2(i2,e.__scopeMenu),l=p.useRef(null),u=ze(t,l);return c.jsx(Zl.Provider,{scope:e.__scopeMenu,children:c.jsx(Ut,{present:r||o.open,children:c.jsx(Zl.Slot,{scope:e.__scopeMenu,children:c.jsx(Hy,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;s.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ae(e.onFocusOutside,f=>{f.target!==i.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,f=>{s.onClose(),f.preventDefault()}),onKeyDown:ae(e.onKeyDown,f=>{var m;const d=f.currentTarget.contains(f.target),h=J6[s.dir].includes(f.key);d&&h&&(o.onOpenChange(!1),(m=i.trigger)==null||m.focus(),f.preventDefault())})})})})})});l2.displayName=i2;function c2(e){return e?"open":"closed"}function Vd(e){return e==="indeterminate"}function Gy(e){return Vd(e)?"indeterminate":e?"checked":"unchecked"}function x8(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function b8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function w8(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=b8(e,Math.max(o,0));a.length===1&&(s=s.filter(u=>u!==n));const l=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return l!==n?l:void 0}function S8(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],l=t[s],u=i.x,f=i.y,d=l.x,h=l.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(a=!a)}return a}function N8(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return S8(n,t)}function Yl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var k8=GC,E8=$y,_8=ZC,C8=YC,A8=Uy,T8=qC,j8=Yf,R8=WC,M8=QC,D8=e2,z8=n2,O8=r2,P8=a2,L8=s2,$8=l2,qf="DropdownMenu",[B8,Gee]=An(qf,[UC]),Yt=UC(),[I8,u2]=B8(qf),d2=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:o,onOpenChange:s,modal:i=!0}=e,l=Yt(t),u=p.useRef(null),[f,d]=ba({prop:a,defaultProp:o??!1,onChange:s,caller:qf});return c.jsx(I8,{scope:t,triggerId:sa(),triggerRef:u,contentId:sa(),open:f,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:i,children:c.jsx(k8,{...l,open:f,onOpenChange:d,dir:r,modal:i,children:n})})};d2.displayName=qf;var f2="DropdownMenuTrigger",h2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,o=u2(f2,n),s=Yt(n);return c.jsx(E8,{asChild:!0,...s,children:c.jsx(ye.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Lf(t,o.triggerRef),onPointerDown:ae(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(o.onOpenToggle(),o.open||i.preventDefault())}),onKeyDown:ae(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&o.onOpenToggle(),i.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});h2.displayName=f2;var H8="DropdownMenuPortal",m2=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Yt(t);return c.jsx(_8,{...r,...n})};m2.displayName=H8;var p2="DropdownMenuContent",g2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=u2(p2,n),o=Yt(n),s=p.useRef(!1);return c.jsx(C8,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...r,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,i=>{var l;s.current||(l=a.triggerRef.current)==null||l.focus(),s.current=!1,i.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!a.modal||f)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g2.displayName=p2;var U8="DropdownMenuGroup",F8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(A8,{...a,...r,ref:t})});F8.displayName=U8;var G8="DropdownMenuLabel",y2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(T8,{...a,...r,ref:t})});y2.displayName=G8;var V8="DropdownMenuItem",v2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(j8,{...a,...r,ref:t})});v2.displayName=V8;var Z8="DropdownMenuCheckboxItem",x2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(R8,{...a,...r,ref:t})});x2.displayName=Z8;var Y8="DropdownMenuRadioGroup",q8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(M8,{...a,...r,ref:t})});q8.displayName=Y8;var X8="DropdownMenuRadioItem",b2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(D8,{...a,...r,ref:t})});b2.displayName=X8;var W8="DropdownMenuItemIndicator",w2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(z8,{...a,...r,ref:t})});w2.displayName=W8;var K8="DropdownMenuSeparator",S2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(O8,{...a,...r,ref:t})});S2.displayName=K8;var Q8="DropdownMenuArrow",J8=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(P8,{...a,...r,ref:t})});J8.displayName=Q8;var eB="DropdownMenuSubTrigger",N2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx(L8,{...a,...r,ref:t})});N2.displayName=eB;var tB="DropdownMenuSubContent",k2=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Yt(n);return c.jsx($8,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});k2.displayName=tB;var nB=d2,rB=h2,aB=m2,E2=g2,_2=y2,C2=v2,A2=x2,T2=b2,j2=w2,R2=S2,M2=N2,D2=k2;const Vy=nB,Zy=rB,oB=p.forwardRef(({className:e,inset:t,children:n,...r},a)=>c.jsxs(M2,{ref:a,className:Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,c.jsx(zf,{className:"ml-auto h-4 w-4"})]}));oB.displayName=M2.displayName;const sB=p.forwardRef(({className:e,...t},n)=>c.jsx(D2,{ref:n,className:Q("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ht.DROPDOWN},...t}));sB.displayName=D2.displayName;const Xf=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(aB,{children:c.jsx(E2,{ref:r,sideOffset:t,className:Q("min-w-[8rem] overflow-hidden rounded-md dropdown-enhanced p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ht.DROPDOWN},...n})}));Xf.displayName=E2.displayName;const ia=p.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(C2,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));ia.displayName=C2.displayName;const iB=p.forwardRef(({className:e,children:t,checked:n,...r},a)=>c.jsxs(A2,{ref:a,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(j2,{children:c.jsx(bE,{className:"h-4 w-4"})})}),t]}));iB.displayName=A2.displayName;const lB=p.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(T2,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(j2,{children:c.jsx(ny,{className:"h-2 w-2 fill-current"})})}),t]}));lB.displayName=T2.displayName;const cB=p.forwardRef(({className:e,inset:t,...n},r)=>c.jsx(_2,{ref:r,className:Q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));cB.displayName=_2.displayName;const uB=p.forwardRef(({className:e,...t},n)=>c.jsx(R2,{ref:n,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));uB.displayName=R2.displayName;function dB(e,[t,n]){return Math.min(n,Math.max(t,e))}function fB(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Yy="ScrollArea",[z2,Vee]=An(Yy),[hB,Vn]=z2(Yy),O2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:o=600,...s}=e,[i,l]=p.useState(null),[u,f]=p.useState(null),[d,h]=p.useState(null),[m,x]=p.useState(null),[b,S]=p.useState(null),[v,g]=p.useState(0),[y,w]=p.useState(0),[k,C]=p.useState(!1),[N,E]=p.useState(!1),_=ze(t,R=>l(R)),A=Dc(a);return c.jsx(hB,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:i,viewport:u,onViewportChange:f,content:d,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:k,onScrollbarXEnabledChange:C,scrollbarY:b,onScrollbarYChange:S,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:w,children:c.jsx(ye.div,{dir:A,...s,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});O2.displayName=Yy;var P2="ScrollAreaViewport",L2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...o}=e,s=Vn(P2,n),i=p.useRef(null),l=ze(t,i,s.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),c.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});L2.displayName=P2;var zr="ScrollAreaScrollbar",qy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Vn(zr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=a,i=e.orientation==="horizontal";return p.useEffect(()=>(i?o(!0):s(!0),()=>{i?o(!1):s(!1)}),[i,o,s]),a.type==="hover"?c.jsx(mB,{...r,ref:t,forceMount:n}):a.type==="scroll"?c.jsx(pB,{...r,ref:t,forceMount:n}):a.type==="auto"?c.jsx($2,{...r,ref:t,forceMount:n}):a.type==="always"?c.jsx(Xy,{...r,ref:t}):null});qy.displayName=zr;var mB=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Vn(zr,e.__scopeScrollArea),[o,s]=p.useState(!1);return p.useEffect(()=>{const i=a.scrollArea;let l=0;if(i){const u=()=>{window.clearTimeout(l),s(!0)},f=()=>{l=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),c.jsx(Ut,{present:n||o,children:c.jsx($2,{"data-state":o?"visible":"hidden",...r,ref:t})})}),pB=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Vn(zr,e.__scopeScrollArea),o=e.orientation==="horizontal",s=Kf(()=>l("SCROLL_END"),100),[i,l]=fB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>l("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,a.scrollHideDelay,l]),p.useEffect(()=>{const u=a.viewport,f=o?"scrollLeft":"scrollTop";if(u){let d=u[f];const h=()=>{const m=u[f];d!==m&&(l("SCROLL"),s()),d=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,o,l,s]),c.jsx(Ut,{present:n||i!=="hidden",children:c.jsx(Xy,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ae(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ae(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),$2=p.forwardRef((e,t)=>{const n=Vn(zr,e.__scopeScrollArea),{forceMount:r,...a}=e,[o,s]=p.useState(!1),i=e.orientation==="horizontal",l=Kf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(i?u:f)}},10);return ci(n.viewport,l),ci(n.content,l),c.jsx(Ut,{present:r||o,children:c.jsx(Xy,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Xy=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Vn(zr,e.__scopeScrollArea),o=p.useRef(null),s=p.useRef(0),[i,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=F2(i.viewport,i.content),f={...r,sizes:i,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,m){return wB(h,s.current,i,m)}return n==="horizontal"?c.jsx(gB,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollLeft,m=yw(h,i,a.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):n==="vertical"?c.jsx(yB,{...f,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const h=a.viewport.scrollTop,m=yw(h,i);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),gB=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Vn(zr,e.__scopeScrollArea),[s,i]=p.useState(),l=p.useRef(null),u=ze(t,l,o.onScrollbarXChange);return p.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),c.jsx(I2,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(h),V2(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Yd(s.paddingLeft),paddingEnd:Yd(s.paddingRight)}})}})}),yB=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,o=Vn(zr,e.__scopeScrollArea),[s,i]=p.useState(),l=p.useRef(null),u=ze(t,l,o.onScrollbarYChange);return p.useEffect(()=>{l.current&&i(getComputedStyle(l.current))},[l]),c.jsx(I2,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wf(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(o.viewport){const h=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(h),V2(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Yd(s.paddingTop),paddingEnd:Yd(s.paddingBottom)}})}})}),[vB,B2]=z2(zr),I2=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:i,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:d,...h}=e,m=Vn(zr,n),[x,b]=p.useState(null),S=ze(t,_=>b(_)),v=p.useRef(null),g=p.useRef(""),y=m.viewport,w=r.content-r.viewport,k=$t(f),C=$t(l),N=Kf(d,10);function E(_){if(v.current){const A=_.clientX-v.current.left,R=_.clientY-v.current.top;u({x:A,y:R})}}return p.useEffect(()=>{const _=A=>{const R=A.target;(x==null?void 0:x.contains(R))&&k(A,w)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[y,x,w,k]),p.useEffect(C,[r,C]),ci(x,N),ci(m.content,N),c.jsx(vB,{scope:n,scrollbar:x,hasThumb:a,onThumbChange:$t(o),onThumbPointerUp:$t(s),onThumbPositionChange:C,onThumbPointerDown:$t(i),children:c.jsx(ye.div,{...h,ref:S,style:{position:"absolute",...h.style},onPointerDown:ae(e.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),v.current=x.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(_))}),onPointerMove:ae(e.onPointerMove,E),onPointerUp:ae(e.onPointerUp,_=>{const A=_.target;A.hasPointerCapture(_.pointerId)&&A.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=g.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),Zd="ScrollAreaThumb",H2=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=B2(Zd,e.__scopeScrollArea);return c.jsx(Ut,{present:n||a.hasThumb,children:c.jsx(xB,{ref:t,...r})})}),xB=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,o=Vn(Zd,n),s=B2(Zd,n),{onThumbPositionChange:i}=s,l=ze(t,d=>s.onThumbChange(d)),u=p.useRef(void 0),f=Kf(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const d=o.viewport;if(d){const h=()=>{if(f(),!u.current){const m=SB(d,i);u.current=m,i()}};return i(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,f,i]),c.jsx(ye.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ae(e.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),x=d.clientX-m.left,b=d.clientY-m.top;s.onThumbPointerDown({x,y:b})}),onPointerUp:ae(e.onPointerUp,s.onThumbPointerUp)})});H2.displayName=Zd;var Wy="ScrollAreaCorner",U2=p.forwardRef((e,t)=>{const n=Vn(Wy,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(bB,{...e,ref:t}):null});U2.displayName=Wy;var bB=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Vn(Wy,n),[o,s]=p.useState(0),[i,l]=p.useState(0),u=!!(o&&i);return ci(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),l(f)}),ci(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),s(f)}),u?c.jsx(ye.div,{...r,ref:t,style:{width:o,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Yd(e){return e?parseInt(e,10):0}function F2(e,t){const n=e/t;return isNaN(n)?0:n}function Wf(e){const t=F2(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function wB(e,t,n,r="ltr"){const a=Wf(n),o=a/2,s=t||o,i=a-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return G2([l,u],d)(e)}function yw(e,t,n="ltr"){const r=Wf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,s=t.content-t.viewport,i=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=dB(e,l);return G2([0,s],[0,i])(u)}function G2(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function V2(e,t){return e>0&&e<t}var SB=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,i=n.top!==o.top;(s||i)&&t(),n=o,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Kf(e,t){const n=$t(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ci(e,t){const n=$t(t);Cr(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var Z2=O2,NB=L2,kB=U2;const qd=p.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(Z2,{ref:r,className:Q("relative overflow-hidden",e),...n,children:[c.jsx(NB,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(Y2,{}),c.jsx(kB,{})]}));qd.displayName=Z2.displayName;const Y2=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>c.jsx(qy,{ref:r,orientation:t,className:Q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:c.jsx(H2,{className:"relative flex-1 rounded-full bg-border"})}));Y2.displayName=qy.displayName;function Ky({categories:e,onSelect:t,className:n=""}){return c.jsx("div",{className:`flex flex-wrap gap-4 justify-start ${n}`,children:e.map(r=>c.jsx("div",{className:"flex-1 min-w-[180px]",children:c.jsx(Ey,{categories:[r],onSelect:t,placeholder:r.placeholder,className:"w-full"})},r.id))})}function Qy({tags:e,onRemove:t,className:n=""}){return e.length===0?null:c.jsx("div",{className:`flex flex-wrap gap-2 ${n}`,children:e.map(r=>c.jsxs(ge,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1 text-sm",children:[c.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.category,":"]}),c.jsx("span",{children:r.label}),c.jsx("button",{onClick:()=>t(r.id),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5",children:c.jsx(In,{className:"h-3 w-3"})})]},r.id))})}function EB({categories:e,onSelect:t,onCustomSearch:n,placeholder:r="Search by name, description, or abilities...",className:a=""}){const[o,s]=p.useState(!1),[i,l]=p.useState(null),[u,f]=p.useState(""),[d,h]=p.useState(-1),m=p.useRef(null),x=p.useRef(null),b=e.length===1?e[0]:null;p.useEffect(()=>{const A=R=>{m.current&&!m.current.contains(R.target)&&(s(!1),l(null),h(-1))};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const S=i||b?(i||b).options.filter(A=>{var R;return A.label.toLowerCase().includes(u.toLowerCase())||((R=A.description)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))}):e.flatMap(A=>A.options.filter(R=>{var B;return R.label.toLowerCase().includes(u.toLowerCase())||((B=R.description)==null?void 0:B.toLowerCase().includes(u.toLowerCase()))})),v=A=>{f(A),s(!0),h(-1)},g=A=>{var R;l(A),f(""),(R=x.current)==null||R.focus()},y=A=>{t(A),f(""),l(null),s(!1),h(-1)},w=()=>{u.trim()&&(n(u.trim()),f(""),l(null),s(!1),h(-1))},k=A=>{A.key==="ArrowDown"?(A.preventDefault(),h(R=>Math.min(R+1,S.length-1))):A.key==="ArrowUp"?(A.preventDefault(),h(R=>Math.max(R-1,-1))):A.key==="Enter"?(A.preventDefault(),d>=0&&S[d]?y(S[d]):u.trim()&&w()):A.key==="Escape"&&(s(!1),l(null),h(-1))},C=()=>{s(!0)},N=i||b,E=!b&&!i,_=u.trim()&&!S.some(A=>A.label.toLowerCase()===u.toLowerCase());return c.jsxs("div",{ref:m,className:`relative ${a}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(wa,{ref:x,type:"text",placeholder:N?N.placeholder:r,value:u,onChange:A=>v(A.target.value),onFocus:C,onKeyDown:k,className:"pl-10 pr-20"}),_&&c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:w,title:"Add custom search term",children:c.jsx(Kp,{className:"h-4 w-4"})}),c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),children:c.jsx(tr,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto",style:{zIndex:Ht.AUTOCOMPLETE},children:[E&&c.jsxs("div",{className:"p-2 border-b border-border",children:[c.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2 px-2",children:"Categories"}),e.map(A=>c.jsxs("button",{onClick:()=>g(A),className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center justify-between",children:[c.jsx("span",{children:A.name}),c.jsx(tr,{className:"h-4 w-4"})]},A.id))]}),_&&c.jsx("div",{className:"p-2 border-b border-border",children:c.jsxs("button",{onClick:w,className:"w-full text-left px-2 py-2 hover:bg-muted rounded text-sm flex items-center gap-2",children:[c.jsx(Kp,{className:"h-4 w-4 text-primary"}),c.jsxs("span",{className:"font-medium",children:['Search for "',u,'"']}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"(Custom search)"})]})}),c.jsx("div",{className:"p-2",children:S.length===0&&!_?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No options found"}):S.map((A,R)=>c.jsxs("button",{onClick:()=>y(A),className:`w-full text-left px-2 py-2 rounded text-sm ${R===d?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[c.jsx("div",{className:"font-medium",children:A.label}),A.description&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:A.description})]},A.id))})]})]})}function Qf({categories:e,onSelect:t,onCustomSearch:n,className:r=""}){const a=e.find(s=>s.id==="fuzzy-search"||s.id==="keywords"),o=e.filter(s=>s.id!=="fuzzy-search"&&s.id!=="keywords");return c.jsxs("div",{className:`flex flex-wrap gap-4 justify-start ${r}`,children:[a&&c.jsx("div",{className:"flex-1 min-w-[300px]",children:c.jsx(EB,{categories:[a],onSelect:t,onCustomSearch:n,placeholder:a.placeholder,className:"w-full"})}),o.map(s=>c.jsx("div",{className:"flex-shrink-0 min-w-[200px] max-w-[300px]",children:c.jsx(Ey,{categories:[s],onSelect:t,placeholder:s.placeholder,className:"w-full"})},s.id))]})}function _B({searchCategories:e,selectedTags:t,viewMode:n="grid",onTagSelect:r,onTagRemove:a,onViewModeChange:o,children:s,className:i=""}){return c.jsxs("div",{className:`mb-8 space-y-4 ${i}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Ky,{categories:e,onSelect:r,className:"w-full"})}),o&&c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ie,{variant:n==="grid"?"default":"ghost",size:"sm",onClick:()=>o("grid"),className:"h-8 px-3",children:c.jsx(kc,{className:"h-4 w-4"})}),c.jsx(ie,{variant:n==="list"?"default":"ghost",size:"sm",onClick:()=>o("list"),className:"h-8 px-3",children:c.jsx(Ec,{className:"h-4 w-4"})})]})]}),c.jsx(Qy,{tags:t,onRemove:a,className:"justify-start"}),s&&c.jsx("div",{className:"pt-4",children:s})]})}function Jy({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={sm:"gap-3",md:"gap-4",lg:"gap-6"};return c.jsx("div",{className:Q("grid",a[t],o[n],r),children:e})}function CB({children:e,columns:t=2,gap:n="md",className:r}){const a={1:"grid-cols-1",2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4"},o={sm:"gap-2",md:"gap-4",lg:"gap-6"};return c.jsx("div",{className:Q("grid",a[t],o[n],r),children:e})}var Jf="Collapsible",[AB,q2]=An(Jf),[TB,ev]=AB(Jf),X2=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:s,...i}=e,[l,u]=ba({prop:r,defaultProp:a??!1,onChange:s,caller:Jf});return c.jsx(TB,{scope:n,disabled:o,contentId:sa(),open:l,onOpenToggle:p.useCallback(()=>u(f=>!f),[u]),children:c.jsx(ye.div,{"data-state":nv(l),"data-disabled":o?"":void 0,...i,ref:t})})});X2.displayName=Jf;var W2="CollapsibleTrigger",K2=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=ev(W2,n);return c.jsx(ye.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":nv(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:ae(e.onClick,a.onOpenToggle)})});K2.displayName=W2;var tv="CollapsibleContent",Q2=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ev(tv,e.__scopeCollapsible);return c.jsx(Ut,{present:n||a.open,children:({present:o})=>c.jsx(jB,{...r,ref:t,present:o})})});Q2.displayName=tv;var jB=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,s=ev(tv,n),[i,l]=p.useState(r),u=p.useRef(null),f=ze(t,u),d=p.useRef(0),h=d.current,m=p.useRef(0),x=m.current,b=s.open||i,S=p.useRef(b),v=p.useRef(void 0);return p.useEffect(()=>{const g=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(g)},[]),Cr(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const y=g.getBoundingClientRect();d.current=y.height,m.current=y.width,S.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),l(r)}},[s.open,r]),c.jsx(ye.div,{"data-state":nv(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!b,...o,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:b&&a})});function nv(e){return e?"open":"closed"}var RB=X2,MB=K2,DB=Q2,ir="Accordion",zB=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[rv,OB,PB]=by(ir),[eh,Zee]=An(ir,[PB,q2]),av=q2(),J2=P.forwardRef((e,t)=>{const{type:n,...r}=e,a=r,o=r;return c.jsx(rv.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?c.jsx(IB,{...o,ref:t}):c.jsx(BB,{...a,ref:t})})});J2.displayName=ir;var[eA,LB]=eh(ir),[tA,$B]=eh(ir,{collapsible:!1}),BB=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},collapsible:o=!1,...s}=e,[i,l]=ba({prop:n,defaultProp:r??"",onChange:a,caller:ir});return c.jsx(eA,{scope:e.__scopeAccordion,value:P.useMemo(()=>i?[i]:[],[i]),onItemOpen:l,onItemClose:P.useCallback(()=>o&&l(""),[o,l]),children:c.jsx(tA,{scope:e.__scopeAccordion,collapsible:o,children:c.jsx(nA,{...s,ref:t})})})}),IB=P.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...o}=e,[s,i]=ba({prop:n,defaultProp:r??[],onChange:a,caller:ir}),l=P.useCallback(f=>i((d=[])=>[...d,f]),[i]),u=P.useCallback(f=>i((d=[])=>d.filter(h=>h!==f)),[i]);return c.jsx(eA,{scope:e.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u,children:c.jsx(tA,{scope:e.__scopeAccordion,collapsible:!0,children:c.jsx(nA,{...o,ref:t})})})}),[HB,th]=eh(ir),nA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:a,orientation:o="vertical",...s}=e,i=P.useRef(null),l=ze(i,t),u=OB(n),d=Dc(a)==="ltr",h=ae(e.onKeyDown,m=>{var E;if(!zB.includes(m.key))return;const x=m.target,b=u().filter(_=>{var A;return!((A=_.ref.current)!=null&&A.disabled)}),S=b.findIndex(_=>_.ref.current===x),v=b.length;if(S===-1)return;m.preventDefault();let g=S;const y=0,w=v-1,k=()=>{g=S+1,g>w&&(g=y)},C=()=>{g=S-1,g<y&&(g=w)};switch(m.key){case"Home":g=y;break;case"End":g=w;break;case"ArrowRight":o==="horizontal"&&(d?k():C());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(d?C():k());break;case"ArrowUp":o==="vertical"&&C();break}const N=g%v;(E=b[N].ref.current)==null||E.focus()});return c.jsx(HB,{scope:n,disabled:r,direction:a,orientation:o,children:c.jsx(rv.Slot,{scope:n,children:c.jsx(ye.div,{...s,"data-orientation":o,ref:l,onKeyDown:r?void 0:h})})})}),Xd="AccordionItem",[UB,ov]=eh(Xd),rA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...a}=e,o=th(Xd,n),s=LB(Xd,n),i=av(n),l=sa(),u=r&&s.value.includes(r)||!1,f=o.disabled||e.disabled;return c.jsx(UB,{scope:n,open:u,disabled:f,triggerId:l,children:c.jsx(RB,{"data-orientation":o.orientation,"data-state":cA(u),...i,...a,ref:t,disabled:f,open:u,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})})});rA.displayName=Xd;var aA="AccordionHeader",oA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=th(ir,n),o=ov(aA,n);return c.jsx(ye.h3,{"data-orientation":a.orientation,"data-state":cA(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});oA.displayName=aA;var ug="AccordionTrigger",sA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=th(ir,n),o=ov(ug,n),s=$B(ug,n),i=av(n);return c.jsx(rv.ItemSlot,{scope:n,children:c.jsx(MB,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":a.orientation,id:o.triggerId,...i,...r,ref:t})})});sA.displayName=ug;var iA="AccordionContent",lA=P.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,a=th(ir,n),o=ov(iA,n),s=av(n);return c.jsx(DB,{role:"region","aria-labelledby":o.triggerId,"data-orientation":a.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});lA.displayName=iA;function cA(e){return e?"open":"closed"}var FB=J2,GB=rA,VB=oA,uA=sA,dA=lA;const sv=FB,nh=p.forwardRef(({className:e,...t},n)=>c.jsx(GB,{ref:n,className:Q("border-b",e),...t}));nh.displayName="AccordionItem";const rh=p.forwardRef(({className:e,children:t,...n},r)=>c.jsx(VB,{className:"flex",children:c.jsxs(uA,{ref:r,className:Q("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,c.jsx(tr,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));rh.displayName=uA.displayName;const ah=p.forwardRef(({className:e,children:t,...n},r)=>c.jsx(dA,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:c.jsx("div",{className:Q("pb-4 pt-0",e),children:t})}));ah.displayName=dA.displayName;function ZB({children:e,title:t="Customize Display",description:n="Configure what information to show",defaultOpen:r=!1,className:a}){return c.jsx(sv,{type:"single",collapsible:!0,defaultValue:r?"customize-display":void 0,className:a,children:c.jsxs(nh,{value:"customize-display",className:"border-none",children:[c.jsx(rh,{className:"hover:no-underline",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(EE,{className:"h-4 w-4"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-medium",children:t}),c.jsx("div",{className:"text-sm text-muted-foreground",children:n})]})]})}),c.jsx(ah,{children:c.jsx("div",{className:"space-y-4 pt-2",children:e})})]})})}var YB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qB="VisuallyHidden",fA=p.forwardRef((e,t)=>c.jsx(ye.span,{...e,ref:t,style:{...YB,...e.style}}));fA.displayName=qB;var XB=fA,[oh,Yee]=An("Tooltip",[Ri]),iv=Ri(),WB="TooltipProvider",vw="tooltip.open",[qee,hA]=oh(WB),mA="Tooltip",[Xee,sh]=oh(mA),dg="TooltipTrigger",KB=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=sh(dg,n),o=hA(dg,n),s=iv(n),i=p.useRef(null),l=ze(t,i,a.onTriggerChange),u=p.useRef(!1),f=p.useRef(!1),d=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),c.jsx(Oy,{asChild:!0,...s,children:c.jsx(ye.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:l,onPointerMove:ae(e.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),f.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{a.onTriggerLeave(),f.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:ae(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ae(e.onBlur,a.onClose),onClick:ae(e.onClick,a.onClose)})})});KB.displayName=dg;var QB="TooltipPortal",[Wee,JB]=oh(QB,{forceMount:void 0}),ui="TooltipContent",pA=p.forwardRef((e,t)=>{const n=JB(ui,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,s=sh(ui,e.__scopeTooltip);return c.jsx(Ut,{present:r||s.open,children:s.disableHoverableContent?c.jsx(gA,{side:a,...o,ref:t}):c.jsx(eI,{side:a,...o,ref:t})})}),eI=p.forwardRef((e,t)=>{const n=sh(ui,e.__scopeTooltip),r=hA(ui,e.__scopeTooltip),a=p.useRef(null),o=ze(t,a),[s,i]=p.useState(null),{trigger:l,onClose:u}=n,f=a.current,{onPointerInTransitChange:d}=r,h=p.useCallback(()=>{i(null),d(!1)},[d]),m=p.useCallback((x,b)=>{const S=x.currentTarget,v={x:x.clientX,y:x.clientY},g=oI(v,S.getBoundingClientRect()),y=sI(v,g),w=iI(b.getBoundingClientRect()),k=cI([...y,...w]);i(k),d(!0)},[d]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(l&&f){const x=S=>m(S,f),b=S=>m(S,l);return l.addEventListener("pointerleave",x),f.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",b)}}},[l,f,m,h]),p.useEffect(()=>{if(s){const x=b=>{const S=b.target,v={x:b.clientX,y:b.clientY},g=(l==null?void 0:l.contains(S))||(f==null?void 0:f.contains(S)),y=!lI(v,s);g?h():y&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,f,s,u,h]),c.jsx(gA,{...e,ref:o})}),[tI,nI]=oh(mA,{isInside:!1}),rI=p5("TooltipContent"),gA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:s,...i}=e,l=sh(ui,n),u=iv(n),{onClose:f}=l;return p.useEffect(()=>(document.addEventListener(vw,f),()=>document.removeEventListener(vw,f)),[f]),p.useEffect(()=>{if(l.trigger){const d=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),c.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:c.jsxs(Py,{"data-state":l.stateAttribute,...u,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(rI,{children:r}),c.jsx(tI,{scope:n,isInside:!0,children:c.jsx(XB,{id:l.contentId,role:"tooltip",children:a||r})})]})})});pA.displayName=ui;var yA="TooltipArrow",aI=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=iv(n);return nI(yA,n).isInside?null:c.jsx(Ly,{...a,...r,ref:t})});aI.displayName=yA;function oI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function sI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function iI(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function lI(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const i=t[o],l=t[s],u=i.x,f=i.y,d=l.x,h=l.y;f>r!=h>r&&n<(d-u)*(r-f)/(h-f)+u&&(a=!a)}return a}function cI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),uI(t)}function uI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(a.y-s.y)>=(o.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vA=pA;const dI=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(vA,{ref:r,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));dI.displayName=vA.displayName;function ql({title:e,navigateTo:t,onNavigate:n,children:r,className:a,showHeaderButton:o=!0}){return c.jsxs(dt,{className:a,children:[c.jsx(Et,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(_t,{className:"text-lg",children:e}),o&&c.jsxs(ie,{variant:"outline",size:"sm",onClick:n,className:"text-sm whitespace-nowrap cursor-pointer",children:["View all ",t," "]})]})}),c.jsx(ft,{className:"space-y-4",children:r})]})}var fI="Label",xA=p.forwardRef((e,t)=>c.jsx(ye.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xA.displayName=fI;const hI=Tc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ta=p.forwardRef(({className:e,children:t,...n},r)=>c.jsx(xA,{ref:r,className:Q(hI(),e),...n,children:t}));ta.displayName="Label";function pu({title:e,description:t,checked:n,onCheckedChange:r,className:a,disabled:o=!1,onClick:s,showSwitch:i=!0}){const l=()=>{s?s():o||r(!n)};return c.jsxs("div",{className:Q("flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",o&&"opacity-50 cursor-not-allowed",a),onClick:l,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ta,{className:"text-base font-medium",children:e}),t&&c.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),i&&c.jsx(qr,{checked:n,onCheckedChange:r,disabled:o})]})}function mI(e){const t=e.map(n=>n.group);return[...new Set(t)].sort()}function pI(e){const t=e.flatMap(n=>[...n.stat_modifications.map(r=>r.stat),...n.skill_bonuses.map(r=>r.stat)]);return[...new Set(t)].sort()}const gI={race:{Altmer:"altmer.png",Argonian:"argonian.png",Bosmer:"bosmer.png",Breton:"breton.png",Dunmer:"dunmer.png",Imperial:"imperial.png",Khajiit:"khajit.png",Nord:"nord.png",Orsimer:"orismer.png",Redguard:"redguard.png"},religion:{},trait:{},destiny:{},birthsign:{Apprentice:"apprentice.svg"}},xw={sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},yI={sm:"text-sm",md:"text-lg",lg:"text-xl",xl:"text-2xl"};function bA({entityName:e,entityType:t,size:n="md",className:r}){const o=gI[t][e],[s,i]=P.useState(!1);return!o||s?c.jsx("div",{className:Q("bg-muted rounded-full flex items-center justify-center font-bold text-muted-foreground",xw[n],r),children:c.jsx("span",{className:Q(yI[n]),children:e.charAt(0)})}):c.jsx("div",{className:Q("rounded-full overflow-hidden bg-muted flex items-center justify-center",xw[n],r),children:c.jsx("img",{src:`/lorerim-arcaneum/assets/${t==="birthsign"?"sign-avatar":`${t}-avatar`}/${o}`,alt:`${e} avatar`,className:"w-full h-full object-cover",onError:()=>i(!0),loading:"lazy"})})}const wm=new Map;function vI(e,t={}){if(!e)return[];const n=JSON.stringify({text:e,options:t});if(wm.has(n))return wm.get(n);let r=[{text:e,key:"0"}];return t.customPatterns&&t.customPatterns.length>0&&t.customPatterns.forEach((a,o)=>{const s=[];r.forEach(i=>{if(i.className)s.push(i);else{let l=0,u;const f=new RegExp(a.pattern,a.pattern.flags.includes("g")?a.pattern.flags:a.pattern.flags+"g");f.lastIndex=0;let d=0;for(;(u=f.exec(i.text))!==null;){u.index>l&&s.push({text:i.text.slice(l,u.index),key:`${i.key}-${d++}`});let h=u[0];a.transform&&(h=a.transform(h));const m=typeof a.className=="function"?a.className(h):a.className;s.push({text:h,className:m,key:`${i.key}-${d++}`}),l=f.lastIndex}l<i.text.length&&s.push({text:i.text.slice(l),key:`${i.key}-${d++}`})}}),r=s}),r=r.map((a,o)=>({...a,key:a.key||String(o)})),wm.set(n,r),r}const xI=["health","magicka","stamina","health regeneration","magicka regeneration","stamina regeneration"],bI=["one-handed","two-handed","archery","block","heavy armor","light armor","smithing","alchemy"];function wI(){return{highlightBrackets:!0,highlightAttributes:!0,highlightSkills:!0,highlightNumbers:!0,customPatterns:[{pattern:/[+-]?\d+(?:\.\d+)?%?/g,className:e=>{const t=parseFloat(e),n=e.startsWith("+")||t>0,r=e.startsWith("-")||t<0;return n?"font-bold text-green-600":r?"font-bold text-red-600":"font-bold text-skyrim-gold"}},{pattern:/\*\*\*(.*?)\*\*\*/g,className:e=>{const n=e.slice(3,-3).match(/[+-]?\d+(?:\.\d+)?%?/);if(n){const r=parseFloat(n[0]),a=n[0].startsWith("+")||r>0,o=n[0].startsWith("-")||r<0;if(a)return"font-bold text-green-600 bg-skyrim-gold/10 px-1 py-0.5 rounded";if(o)return"font-bold text-red-600 bg-skyrim-gold/10 px-1 py-0.5 rounded"}return"font-bold text-skyrim-gold bg-skyrim-gold/10 px-1 py-0.5 rounded"},transform:e=>e.slice(3,-3)},{pattern:/<\d+>/g,className:"font-bold italic text-skyrim-gold",transform:e=>e.slice(1,-1)},{pattern:new RegExp(`\\b(${xI.join("|")})\\b`,"gi"),className:"font-semibold text-primary"},{pattern:new RegExp(`\\b(${bI.join("|")})\\b`,"gi"),className:"font-semibold text-primary"}]}}function Fs({text:e,options:t,className:n="text-sm text-muted-foreground",as:r="div"}){const a=p.useMemo(()=>wI(),[]),o=p.useMemo(()=>e?vI(e,t||a):[],[e,t,a]);if(!e)return null;if(n.includes("line-clamp")){const i=n.match(/line-clamp-\d+/g)||[],l=n.replace(/line-clamp-\d+/g,"").trim();return c.jsx(r,{className:l,children:c.jsx("div",{className:`${i.join(" ")} overflow-hidden`,children:o.map(u=>c.jsx("span",{className:u.className,children:u.text},u.key))})})}return c.jsx(r,{className:n,children:o.map(i=>c.jsx("span",{className:i.className,children:i.text},i.key))})}const $c={traitLimit:{regular:"text-blue-600",bonus:"text-purple-600",warning:"text-yellow-600",error:"text-red-600"},shareButton:{copied:"text-green-600",default:"text-blue-600",hover:"text-blue-700"},summaryCard:{primary:"text-primary",secondary:"text-muted-foreground",accent:"text-accent"},backgrounds:{warning:"bg-yellow-50 dark:bg-yellow-950",info:"bg-blue-50 dark:bg-blue-950",error:"bg-red-50 dark:bg-red-950",success:"bg-green-50 dark:bg-green-950"},borders:{warning:"border-yellow-200 dark:border-yellow-800",info:"border-blue-200 dark:border-blue-800",error:"border-red-200 dark:border-red-800",success:"border-green-200 dark:border-green-800"}},Gs={card:"p-6 space-y-4",section:"space-y-3",item:"space-y-2"};function SI(e){return $c.traitLimit[e]}function NI(e){return $c.shareButton[e]}function bw(e){return $c.summaryCard[e]}function kI(e){return $c.backgrounds[e]}function wA(e){return $c.borders[e]}function EI({title:e,description:t,icon:n,variant:r="default",children:a,className:o}){const s=()=>{if(n)return n;switch(r){case"warning":return c.jsx(Il,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return c.jsx(Bl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});default:return null}};return c.jsxs(dt,{className:Q(Gs.card,o),children:[c.jsxs(Et,{children:[c.jsxs(_t,{className:"flex items-center gap-2",children:[s(),e]}),t&&c.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),c.jsx(ft,{className:Q(Gs.section),children:a})]})}function ww({label:e,value:t,onChange:n,min:r=0,max:a=10,currentCount:o,type:s="regular",className:i}){const l=()=>{switch(s){case"regular":return c.jsx(ny,{className:"h-4 w-4"});case"bonus":return c.jsx(Ya,{className:"h-4 w-4"});default:return null}},u=()=>SI(s);return c.jsxs("div",{className:Q(Gs.item,i),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l(),c.jsx(ta,{htmlFor:`${s}-limit`,className:u(),children:e})]}),c.jsx(wa,{id:`${s}-limit`,type:"number",min:r,max:a,value:t,onChange:f=>n(parseInt(f.target.value)||0),className:"mt-1"}),o!==void 0&&c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Currently selected: ",o]})]})}function Sw({type:e,title:t,message:n,className:r}){const a=()=>{switch(e){case"warning":return c.jsx(Il,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"});case"info":return c.jsx(Bl,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"});case"error":return c.jsx(Il,{className:"h-4 w-4 text-red-600 dark:text-red-400"});case"success":return c.jsx(Bl,{className:"h-4 w-4 text-green-600 dark:text-green-400"});default:return null}};return c.jsxs("div",{className:Q("flex items-start gap-2 p-4 rounded-lg border",kI(e),wA(e),r),children:[a(),c.jsxs("div",{className:"text-sm",children:[c.jsx("strong",{children:t}),c.jsx("p",{className:"mt-1",children:n})]})]})}function _I({open:e,title:t,message:n,variant:r="warning",confirmText:a="Confirm",cancelText:o="Cancel",onConfirm:s,onCancel:i,className:l}){if(!e)return null;const u=()=>{switch(r){case"warning":return c.jsx(Il,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"});case"info":return c.jsx(Bl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"});case"error":return c.jsx(Y4,{className:"h-5 w-5 text-red-600 dark:text-red-400"});case"success":return c.jsx(V4,{className:"h-5 w-5 text-green-600 dark:text-green-400"});default:return c.jsx(Il,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}},f=()=>{switch(r){case"error":return"destructive";case"success":return"default";default:return"default"}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:c.jsxs("div",{className:Q("bg-white dark:bg-zinc-900 rounded-lg shadow-lg p-6 w-full max-w-xs space-y-4 border",wA(r),l),children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u(),c.jsx("span",{className:"font-semibold",children:t})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:n}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(ie,{variant:"outline",size:"sm",onClick:i,children:o}),c.jsx(ie,{variant:f(),size:"sm",onClick:s,children:a})]})]})})}function CI({link:e,variant:t="outline",size:n="sm",icon:r,text:a="Share / Export",onCopied:o,className:s}){const[i,l]=p.useState(!1),u=async()=>{try{await navigator.clipboard.writeText(e),l(!0),o==null||o(),setTimeout(()=>l(!1),1500)}catch(h){console.error("Failed to copy link:",h);const m=document.createElement("textarea");m.value=e,document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),l(!0),o==null||o(),setTimeout(()=>l(!1),1500)}},f=()=>r||(i?c.jsx(bE,{className:"w-4 h-4"}):c.jsx(Rz,{className:"w-4 h-4"})),d=()=>i?"Copied!":a;return c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(ie,{variant:t,size:n,onClick:u,className:Q("cursor-pointer hover:opacity-90",i&&NI("copied"),s),children:[f(),c.jsx("span",{className:"ml-2",children:d()})]})})}function AI({title:e,items:t,layout:n="grid",className:r}){const a=s=>{switch(s){case"race":return c.jsx(Sl,{className:"h-4 w-4"});case"birthsign":return c.jsx(Ya,{className:"h-4 w-4"});case"religion":return c.jsx(wE,{className:"h-4 w-4"});case"traits":return c.jsx(Lz,{className:"h-4 w-4"});default:return null}},o=()=>{switch(n){case"grid":return"grid grid-cols-2 md:grid-cols-4 gap-4";case"list":return"space-y-3";default:return"grid grid-cols-2 md:grid-cols-4 gap-4"}};return c.jsxs(dt,{className:Q(Gs.card,r),children:[c.jsx(Et,{children:c.jsx(_t,{children:e})}),c.jsx(ft,{className:Q(Gs.section),children:c.jsx("div",{className:o(),children:t.map((s,i)=>c.jsxs("div",{className:Q(Gs.item,s.className),children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.icon||a(s.type),c.jsxs("span",{className:Q("font-medium text-sm",bw("primary")),children:[s.label,":"]})]}),c.jsx("div",{className:Q("text-sm",bw("secondary")),children:s.value||"Not selected"})]},i))})})]})}function TI(e){return[{label:"Race",value:e.race||"Not selected",type:"race"},{label:"Birth Sign",value:e.stone||"Not selected",type:"birthsign"},{label:"Religion",value:e.religion||"Not selected",type:"religion"},{label:"Traits",value:`${e.traits.regular.length}/${e.traitLimits.regular} starting, ${e.traits.bonus.length}/${e.traitLimits.bonus} late game`,type:"traits"}]}function SA({birthsignName:e,size:t="md",className:n}){return c.jsx(bA,{entityName:e,entityType:"birthsign",size:t,className:n})}function qe({children:e,className:t,expanded:n,onToggle:r,disableHover:a=!1}){let o,s,i,l;P.Children.forEach(e,x=>{P.isValidElement(x)&&(x.type===qe.Header&&(o=x),x.type===qe.Summary&&(s=x),x.type===qe.Footer&&(i=x),x.type===qe.Details&&(l=x))});const[u,f]=p.useState(!1),d=n!==void 0?n:u,h=r||(()=>f(x=>!x)),m=a?"":"hover:shadow-md hover:scale-[1.02]";return c.jsxs("div",{className:Q("rounded-lg border bg-background shadow-sm transition-all duration-200 flex flex-col",m,t),children:[o&&P.cloneElement(o,{onClick:h,expanded:d}),c.jsxs("div",{className:"flex-1",children:[s,d&&l]}),i]})}qe.Header=function({children:t,className:n,onClick:r,expanded:a}){return c.jsxs("div",{className:Q("flex items-center gap-3 px-4 py-2 bg-muted/30 cursor-pointer select-none",n),onClick:r,tabIndex:0,role:"button","aria-expanded":a,children:[t,c.jsx("span",{className:Q("ml-auto transition-transform",a?"rotate-90":""),children:c.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:c.jsx("path",{d:"M6 8l4 4 4-4",strokeLinecap:"round",strokeLinejoin:"round"})})})]})};qe.Summary=function({children:t,className:n}){return c.jsx("div",{className:Q("px-4 py-2 space-y-3",n),children:t})};qe.Footer=function({children:t,className:n}){return c.jsx("div",{className:Q("px-4 py-2",n),children:t})};qe.Details=function({children:t,className:n}){return c.jsx("div",{className:Q("px-4 py-4 space-y-4 bg-background",n),children:t})};const Nw={Warrior:{background:"bg-red-100",text:"text-red-800",border:"border-red-200",hover:"hover:bg-red-200"},Mage:{background:"bg-blue-100",text:"text-blue-800",border:"border-blue-200",hover:"hover:bg-blue-200"},Thief:{background:"bg-green-100",text:"text-green-800",border:"border-green-200",hover:"hover:bg-red-200"},Serpent:{background:"bg-purple-100",text:"text-purple-800",border:"border-purple-200",hover:"hover:bg-purple-200"},Other:{background:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200",hover:"hover:bg-yellow-200"}};function jI(e){return Nw[e]||Nw.Other}function fg({item:e,className:t,showAddToBuild:n=!0,isExpanded:r=!1,onToggle:a,disableHover:o=!1}){var i,l,u,f;const s=e.originalBirthsign;return s?c.jsxs(qe,{className:t,expanded:r,onToggle:a,disableHover:o,children:[c.jsxs(qe.Header,{children:[n&&c.jsx(ky,{itemId:e.id,itemType:"stone",itemName:e.name}),c.jsx(SA,{birthsignName:s.name,size:"md"}),c.jsx(Mc,{className:"text-primary font-semibold",children:s.name}),c.jsx("div",{className:"flex items-center gap-3 ml-auto",children:s.group&&c.jsx(ge,{variant:"outline",className:Q(jI(s.group)||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200","text-xs font-medium transition-colors"),children:s.group})})]}),c.jsx(qe.Summary,{children:c.jsx(Fs,{text:s.description,className:"text-base text-muted-foreground"})}),c.jsxs(qe.Details,{children:[s.stat_modifications.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Stat Modifications"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.stat_modifications.map((d,h)=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[c.jsx("span",{className:"font-medium capitalize",children:d.stat}),c.jsxs("span",{className:Q("font-bold",d.type==="bonus"?"text-green-600":"text-red-600"),children:[d.type==="bonus"?"+":"-",d.value,d.value_type==="percentage"?"%":""]})]},h))})]}),s.powers.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Powers"}),c.jsx("div",{className:"space-y-2",children:s.powers.map((d,h)=>c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ya,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{className:"font-medium text-sm",children:d.name})]}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]},h))})]}),s.skill_bonuses.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Skill Bonuses"}),c.jsx("div",{className:"space-y-2",children:s.skill_bonuses.map((d,h)=>c.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium",children:[d.stat," +",d.value]}),c.jsx(ge,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},h))})]}),(((i=s.conditional_effects)==null?void 0:i.length)>0||((l=s.mastery_effects)==null?void 0:l.length)>0)&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Special Effects"}),c.jsxs("div",{className:"space-y-3",children:[(u=s.conditional_effects)==null?void 0:u.map((d,h)=>c.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[c.jsx("div",{className:"flex items-center gap-2 mb-1",children:c.jsx("span",{className:"font-medium text-sm",children:"Conditional Effect"})}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm font-medium",children:d.stat}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]},`conditional-${h}`)),(f=s.mastery_effects)==null?void 0:f.map((d,h)=>c.jsxs("div",{className:"p-3 rounded-lg border bg-muted/30",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ya,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{className:"font-medium text-sm",children:"Mastery Effect"})]}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm font-medium",children:d.stat}),c.jsx("div",{className:"text-sm text-muted-foreground",children:d.description})]},`mastery-${h}`))]})]})]})]}):null}function kw({birthsigns:e,onSelect:t,placeholder:n="Search birthsigns...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[l,u]=p.useState(-1),f=p.useRef(null),d=p.useRef(null);p.useEffect(()=>{const g=y=>{f.current&&!f.current.contains(y.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=e.filter(g=>g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||g.group.toLowerCase().includes(s.toLowerCase())),m=g=>{i(g),o(!0),u(-1)},x=g=>{t(g),i(""),o(!1),u(-1)},b=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(y=>Math.min(y+1,h.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(y=>Math.max(y-1,-1))):g.key==="Enter"?(g.preventDefault(),l>=0&&h[l]&&x(h[l])):g.key==="Escape"&&(o(!1),u(-1))},S=()=>{o(!0)},v=()=>{var g;i(""),(g=d.current)==null||g.focus()};return c.jsxs("div",{ref:f,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(wa,{ref:d,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:S,onKeyDown:b,className:"pl-10 pr-20"}),s&&c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:v,children:c.jsx(In,{className:"h-4 w-4"})}),c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:c.jsx(tr,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Ht.AUTOCOMPLETE+10},children:c.jsx("div",{className:"p-2",children:h.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No birthsigns found"}):h.map((g,y)=>c.jsx("button",{onClick:()=>x(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${y===l?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(SA,{birthsignName:g.name,size:"sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:g.name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.group}),g.powers.length>0&&c.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500/80"}),c.jsxs("span",{className:"text-muted-foreground",children:[g.powers.length," power",g.powers.length!==1?"s":""]})]})]})]})]})},g.edid))})})]})}const RI={birthsigns:[],loading:!0,error:null};function MI(e,t){switch(t.type){case"FETCH_START":return{...e,loading:!0,error:null};case"FETCH_SUCCESS":return{...e,loading:!1,birthsigns:t.payload,error:null};case"FETCH_ERROR":return{...e,loading:!1,error:t.payload};default:return e}}function NA(){const[e,t]=p.useReducer(MI,RI),n=p.useCallback(async()=>{t({type:"FETCH_START"});try{const r=await fetch("/lorerim-arcaneum/data/birthsigns.json");if(!r.ok)throw new Error("Failed to fetch birthsign data");const a=await r.json();t({type:"FETCH_SUCCESS",payload:a})}catch{t({type:"FETCH_ERROR",payload:"Failed to load birthsign data"})}},[]);return p.useEffect(()=>{n()},[n]),{...e,refetch:n}}function Ew(e){var t,n,r,a,o,s;return{id:`religion-${e.name.toLowerCase().replace(/\s+/g,"-")}`,name:e.name,description:((t=e.tenet)==null?void 0:t.description)||"",tags:e.favoredRaces||[],summary:((n=e.tenet)==null?void 0:n.description)||"",effects:[...((a=(r=e.tenet)==null?void 0:r.effects)==null?void 0:a.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[],...((s=(o=e.blessing)==null?void 0:o.effects)==null?void 0:s.map(i=>({type:"positive",name:i.effectName,description:i.effectDescription,value:i.magnitude,target:i.targetAttribute||""})))||[]],associatedItems:[],imageUrl:void 0,category:e.type}}function kA(e){var t,n;return{...e,id:e.edid,name:e.name,description:e.description,tags:[e.category,...Array.isArray(e.flags)?e.flags:[]],summary:e.description,effects:[...((t=e.skillBonuses)==null?void 0:t.map(r=>({type:"positive",name:r.skill,description:`+${r.bonus} to ${r.skill}`,value:r.bonus,target:r.skill})))||[],...((n=e.racialSpells)==null?void 0:n.map(r=>({type:"positive",name:r.name,description:r.description})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalRace:e}}function _w(e){var t;return{...e,id:e.edid,name:e.name,description:e.description,tags:e.tags||[],summary:e.description,effects:[...((t=e.effects)==null?void 0:t.map(n=>({type:"positive",name:n.type,description:n.condition?`${n.type} (${n.condition})`:n.type,value:n.value})))||[]],associatedItems:[],imageUrl:void 0,category:e.category,originalTrait:e}}function EA(e){var r,a,o,s,i,l,u,f;const t=[...((r=e.stat_modifications)==null?void 0:r.map(d=>({type:d.type==="bonus"?"positive":"negative",name:`${d.stat} ${d.type==="bonus"?"+":"-"}${d.value}${d.value_type==="percentage"?"%":""}`,description:`${d.stat} ${d.type==="bonus"?"increased":"decreased"} by ${d.value}${d.value_type==="percentage"?"%":""}`,value:d.value,target:d.stat})))||[],...((a=e.skill_bonuses)==null?void 0:a.map(d=>({type:"positive",name:`${d.stat} +${d.value}${d.value_type==="percentage"?"%":""}`,description:`${d.stat} skill increased by ${d.value}${d.value_type==="percentage"?"%":""}`,value:d.value,target:d.stat})))||[],...((o=e.powers)==null?void 0:o.map(d=>({type:"positive",name:d.name,description:d.description,value:d.magnitude||0,target:"power"})))||[],...((s=e.conditional_effects)==null?void 0:s.map(d=>({type:"neutral",name:d.stat,description:d.description,value:d.value,target:d.stat})))||[],...((i=e.mastery_effects)==null?void 0:i.map(d=>({type:"positive",name:d.stat,description:d.description,value:d.value,target:d.stat})))||[]],n=[e.group,...((l=e.stat_modifications)==null?void 0:l.map(d=>d.stat))||[],...((u=e.skill_bonuses)==null?void 0:u.map(d=>d.stat))||[],...((f=e.powers)==null?void 0:f.map(d=>d.name))||[]].filter((d,h,m)=>m.indexOf(d)===h);return{...e,id:e.edid,name:e.name,description:e.description,tags:n,summary:e.description,effects:t,associatedItems:[],imageUrl:void 0,category:e.group,originalBirthsign:e}}function DI({className:e}){const{birthsigns:t}=NA(),{build:n,setStone:r}=Cn(),a=Gn(),[o,s]=p.useState(!0),i=n.stone?t.find(h=>h.edid===n.stone):null,l=h=>{r(h.edid)},u=()=>{a("/birth-signs")},f=()=>{s(!o)};if(!i)return c.jsxs(ql,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's birthsign"}),c.jsx(kw,{birthsigns:t,onSelect:l,placeholder:"Search for a birthsign...",className:"w-full"})]});const d=EA(i);return c.jsxs(ql,{title:"Birth Sign",navigateTo:"birthsigns",onNavigate:u,className:e,children:[c.jsx(kw,{birthsigns:t,onSelect:l,placeholder:`Birth Sign: Select a birthsign (${i.name})`,className:"w-full"}),c.jsx(fg,{item:d,isExpanded:o,onToggle:f,className:"border-0 shadow-none",showAddToBuild:!1,disableHover:!0})]})}function pa(e){return Array.isArray?Array.isArray(e):AA(e)==="[object Array]"}function zI(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function OI(e){return e==null?"":zI(e)}function br(e){return typeof e=="string"}function _A(e){return typeof e=="number"}function PI(e){return e===!0||e===!1||LI(e)&&AA(e)=="[object Boolean]"}function CA(e){return typeof e=="object"}function LI(e){return CA(e)&&e!==null}function yn(e){return e!=null}function Sm(e){return!e.trim().length}function AA(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const $I="Incorrect 'index' type",BI=e=>`Invalid value for key ${e}`,II=e=>`Pattern length exceeds max of ${e}.`,HI=e=>`Missing ${e} property in key`,UI=e=>`Property 'weight' in key '${e}' must be a positive integer`,Cw=Object.prototype.hasOwnProperty;class FI{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let a=TA(r);this._keys.push(a),this._keyMap[a.id]=a,n+=a.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function TA(e){let t=null,n=null,r=null,a=1,o=null;if(br(e)||pa(e))r=e,t=Aw(e),n=hg(e);else{if(!Cw.call(e,"name"))throw new Error(HI("name"));const s=e.name;if(r=s,Cw.call(e,"weight")&&(a=e.weight,a<=0))throw new Error(UI(s));t=Aw(s),n=hg(s),o=e.getFn}return{path:t,id:n,weight:a,src:r,getFn:o}}function Aw(e){return pa(e)?e:e.split(".")}function hg(e){return pa(e)?e.join("."):e}function GI(e,t){let n=[],r=!1;const a=(o,s,i)=>{if(yn(o))if(!s[i])n.push(o);else{let l=s[i];const u=o[l];if(!yn(u))return;if(i===s.length-1&&(br(u)||_A(u)||PI(u)))n.push(OI(u));else if(pa(u)){r=!0;for(let f=0,d=u.length;f<d;f+=1)a(u[f],s,i+1)}else s.length&&a(u,s,i+1)}};return a(e,br(t)?t.split("."):t,0),r?n:n[0]}const VI={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ZI={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},YI={location:0,threshold:.6,distance:100},qI={useExtendedSearch:!1,getFn:GI,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var fe={...ZI,...VI,...YI,...qI};const XI=/[^ ]+/g;function WI(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(a){const o=a.match(XI).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*e),i=parseFloat(Math.round(s*r)/r);return n.set(o,i),i},clear(){n.clear()}}}class lv{constructor({getFn:t=fe.getFn,fieldNormWeight:n=fe.fieldNormWeight}={}){this.norm=WI(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,br(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();br(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!yn(t)||Sm(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((a,o)=>{let s=a.getFn?a.getFn(t):this.getFn(t,a.path);if(yn(s)){if(pa(s)){let i=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:f}=l.pop();if(yn(f))if(br(f)&&!Sm(f)){let d={v:f,i:u,n:this.norm.get(f)};i.push(d)}else pa(f)&&f.forEach((d,h)=>{l.push({nestedArrIndex:h,value:d})})}r.$[o]=i}else if(br(s)&&!Sm(s)){let i={v:s,n:this.norm.get(s)};r.$[o]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function jA(e,t,{getFn:n=fe.getFn,fieldNormWeight:r=fe.fieldNormWeight}={}){const a=new lv({getFn:n,fieldNormWeight:r});return a.setKeys(e.map(TA)),a.setSources(t),a.create(),a}function KI(e,{getFn:t=fe.getFn,fieldNormWeight:n=fe.fieldNormWeight}={}){const{keys:r,records:a}=e,o=new lv({getFn:t,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(a),o}function gu(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:a=fe.distance,ignoreLocation:o=fe.ignoreLocation}={}){const s=t/e.length;if(o)return s;const i=Math.abs(r-n);return a?s+i/a:i?1:s}function QI(e=[],t=fe.minMatchCharLength){let n=[],r=-1,a=-1,o=0;for(let s=e.length;o<s;o+=1){let i=e[o];i&&r===-1?r=o:!i&&r!==-1&&(a=o-1,a-r+1>=t&&n.push([r,a]),r=-1)}return e[o-1]&&o-r>=t&&n.push([r,o-1]),n}const No=32;function JI(e,t,n,{location:r=fe.location,distance:a=fe.distance,threshold:o=fe.threshold,findAllMatches:s=fe.findAllMatches,minMatchCharLength:i=fe.minMatchCharLength,includeMatches:l=fe.includeMatches,ignoreLocation:u=fe.ignoreLocation}={}){if(t.length>No)throw new Error(II(No));const f=t.length,d=e.length,h=Math.max(0,Math.min(r,d));let m=o,x=h;const b=i>1||l,S=b?Array(d):[];let v;for(;(v=e.indexOf(t,x))>-1;){let N=gu(t,{currentLocation:v,expectedLocation:h,distance:a,ignoreLocation:u});if(m=Math.min(N,m),x=v+f,b){let E=0;for(;E<f;)S[v+E]=1,E+=1}}x=-1;let g=[],y=1,w=f+d;const k=1<<f-1;for(let N=0;N<f;N+=1){let E=0,_=w;for(;E<_;)gu(t,{errors:N,currentLocation:h+_,expectedLocation:h,distance:a,ignoreLocation:u})<=m?E=_:w=_,_=Math.floor((w-E)/2+E);w=_;let A=Math.max(1,h-_+1),R=s?d:Math.min(h+_,d)+f,B=Array(R+2);B[R+1]=(1<<N)-1;for(let T=R;T>=A;T-=1){let D=T-1,j=n[e.charAt(D)];if(b&&(S[D]=+!!j),B[T]=(B[T+1]<<1|1)&j,N&&(B[T]|=(g[T+1]|g[T])<<1|1|g[T+1]),B[T]&k&&(y=gu(t,{errors:N,currentLocation:D,expectedLocation:h,distance:a,ignoreLocation:u}),y<=m)){if(m=y,x=D,x<=h)break;A=Math.max(1,2*h-x)}}if(gu(t,{errors:N+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:u})>m)break;g=B}const C={isMatch:x>=0,score:Math.max(.001,y)};if(b){const N=QI(S,i);N.length?l&&(C.indices=N):C.isMatch=!1}return C}function e9(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}const Wd=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class RA{constructor(t,{location:n=fe.location,threshold:r=fe.threshold,distance:a=fe.distance,includeMatches:o=fe.includeMatches,findAllMatches:s=fe.findAllMatches,minMatchCharLength:i=fe.minMatchCharLength,isCaseSensitive:l=fe.isCaseSensitive,ignoreDiacritics:u=fe.ignoreDiacritics,ignoreLocation:f=fe.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:f},t=l?t:t.toLowerCase(),t=u?Wd(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const d=(m,x)=>{this.chunks.push({pattern:m,alphabet:e9(m),startIndex:x})},h=this.pattern.length;if(h>No){let m=0;const x=h%No,b=h-x;for(;m<b;)d(this.pattern.substr(m,No),m),m+=No;if(x){const S=h-No;d(this.pattern.substr(S),S)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a}=this.options;if(t=n?t:t.toLowerCase(),t=r?Wd(t):t,this.pattern===t){let b={isMatch:!0,score:0};return a&&(b.indices=[[0,t.length-1]]),b}const{location:o,distance:s,threshold:i,findAllMatches:l,minMatchCharLength:u,ignoreLocation:f}=this.options;let d=[],h=0,m=!1;this.chunks.forEach(({pattern:b,alphabet:S,startIndex:v})=>{const{isMatch:g,score:y,indices:w}=JI(t,b,S,{location:o+v,distance:s,threshold:i,findAllMatches:l,minMatchCharLength:u,includeMatches:a,ignoreLocation:f});g&&(m=!0),h+=y,g&&w&&(d=[...d,...w])});let x={isMatch:m,score:m?h/this.chunks.length:1};return m&&a&&(x.indices=d),x}}class fo{constructor(t){this.pattern=t}static isMultiMatch(t){return Tw(t,this.multiRegex)}static isSingleMatch(t){return Tw(t,this.singleRegex)}search(){}}function Tw(e,t){const n=e.match(t);return n?n[1]:null}class t9 extends fo{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class n9 extends fo{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class r9 extends fo{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class a9 extends fo{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class o9 extends fo{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class s9 extends fo{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class MA extends fo{constructor(t,{location:n=fe.location,threshold:r=fe.threshold,distance:a=fe.distance,includeMatches:o=fe.includeMatches,findAllMatches:s=fe.findAllMatches,minMatchCharLength:i=fe.minMatchCharLength,isCaseSensitive:l=fe.isCaseSensitive,ignoreDiacritics:u=fe.ignoreDiacritics,ignoreLocation:f=fe.ignoreLocation}={}){super(t),this._bitapSearch=new RA(t,{location:n,threshold:r,distance:a,includeMatches:o,findAllMatches:s,minMatchCharLength:i,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class DA extends fo{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const a=[],o=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+o,a.push([r,n-1]);const s=!!a.length;return{isMatch:s,score:s?0:1,indices:a}}}const mg=[t9,DA,r9,a9,s9,o9,n9,MA],jw=mg.length,i9=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,l9="|";function c9(e,t={}){return e.split(l9).map(n=>{let r=n.trim().split(i9).filter(o=>o&&!!o.trim()),a=[];for(let o=0,s=r.length;o<s;o+=1){const i=r[o];let l=!1,u=-1;for(;!l&&++u<jw;){const f=mg[u];let d=f.isMultiMatch(i);d&&(a.push(new f(d,t)),l=!0)}if(!l)for(u=-1;++u<jw;){const f=mg[u];let d=f.isSingleMatch(i);if(d){a.push(new f(d,t));break}}}return a})}const u9=new Set([MA.type,DA.type]);class d9{constructor(t,{isCaseSensitive:n=fe.isCaseSensitive,ignoreDiacritics:r=fe.ignoreDiacritics,includeMatches:a=fe.includeMatches,minMatchCharLength:o=fe.minMatchCharLength,ignoreLocation:s=fe.ignoreLocation,findAllMatches:i=fe.findAllMatches,location:l=fe.location,threshold:u=fe.threshold,distance:f=fe.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:a,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:l,threshold:u,distance:f},t=n?t:t.toLowerCase(),t=r?Wd(t):t,this.pattern=t,this.query=c9(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:a,ignoreDiacritics:o}=this.options;t=a?t:t.toLowerCase(),t=o?Wd(t):t;let s=0,i=[],l=0;for(let u=0,f=n.length;u<f;u+=1){const d=n[u];i.length=0,s=0;for(let h=0,m=d.length;h<m;h+=1){const x=d[h],{isMatch:b,indices:S,score:v}=x.search(t);if(b){if(s+=1,l+=v,r){const g=x.constructor.type;u9.has(g)?i=[...i,...S]:i.push(S)}}else{l=0,s=0,i.length=0;break}}if(s){let h={isMatch:!0,score:l/s};return r&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const pg=[];function f9(...e){pg.push(...e)}function gg(e,t){for(let n=0,r=pg.length;n<r;n+=1){let a=pg[n];if(a.condition(e,t))return new a(e,t)}return new RA(e,t)}const Kd={AND:"$and",OR:"$or"},yg={PATH:"$path",PATTERN:"$val"},vg=e=>!!(e[Kd.AND]||e[Kd.OR]),h9=e=>!!e[yg.PATH],m9=e=>!pa(e)&&CA(e)&&!vg(e),Rw=e=>({[Kd.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function zA(e,t,{auto:n=!0}={}){const r=a=>{let o=Object.keys(a);const s=h9(a);if(!s&&o.length>1&&!vg(a))return r(Rw(a));if(m9(a)){const l=s?a[yg.PATH]:o[0],u=s?a[yg.PATTERN]:a[l];if(!br(u))throw new Error(BI(l));const f={keyId:hg(l),pattern:u};return n&&(f.searcher=gg(u,t)),f}let i={children:[],operator:o[0]};return o.forEach(l=>{const u=a[l];pa(u)&&u.forEach(f=>{i.children.push(r(f))})}),i};return vg(e)||(e=Rw(e)),r(e)}function p9(e,{ignoreFieldNorm:t=fe.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:a,norm:o,score:s})=>{const i=a?a.weight:null;r*=Math.pow(s===0&&i?Number.EPSILON:s,(i||1)*(t?1:o))}),n.score=r})}function g9(e,t){const n=e.matches;t.matches=[],yn(n)&&n.forEach(r=>{if(!yn(r.indices)||!r.indices.length)return;const{indices:a,value:o}=r;let s={indices:a,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function y9(e,t){t.score=e.score}function v9(e,t,{includeMatches:n=fe.includeMatches,includeScore:r=fe.includeScore}={}){const a=[];return n&&a.push(g9),r&&a.push(y9),e.map(o=>{const{idx:s}=o,i={item:t[s],refIndex:s};return a.length&&a.forEach(l=>{l(o,i)}),i})}class Sa{constructor(t,n={},r){this.options={...fe,...n},this.options.useExtendedSearch,this._keyStore=new FI(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof lv))throw new Error($I);this._myIndex=n||jA(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){yn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,a=this._docs.length;r<a;r+=1){const o=this._docs[r];t(o,r)&&(this.removeAt(r),r-=1,a-=1,n.push(o))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:a,shouldSort:o,sortFn:s,ignoreFieldNorm:i}=this.options;let l=br(t)?br(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return p9(l,{ignoreFieldNorm:i}),o&&l.sort(s),_A(n)&&n>-1&&(l=l.slice(0,n)),v9(l,this._docs,{includeMatches:r,includeScore:a})}_searchStringList(t){const n=gg(t,this.options),{records:r}=this._myIndex,a=[];return r.forEach(({v:o,i:s,n:i})=>{if(!yn(o))return;const{isMatch:l,score:u,indices:f}=n.searchIn(o);l&&a.push({item:o,idx:s,matches:[{score:u,value:o,norm:i,indices:f}]})}),a}_searchLogical(t){const n=zA(t,this.options),r=(i,l,u)=>{if(!i.children){const{keyId:d,searcher:h}=i,m=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:h});return m&&m.length?[{idx:u,item:l,matches:m}]:[]}const f=[];for(let d=0,h=i.children.length;d<h;d+=1){const m=i.children[d],x=r(m,l,u);if(x.length)f.push(...x);else if(i.operator===Kd.AND)return[]}return f},a=this._myIndex.records,o={},s=[];return a.forEach(({$:i,i:l})=>{if(yn(i)){let u=r(n,i,l);u.length&&(o[l]||(o[l]={idx:l,item:i,matches:[]},s.push(o[l])),u.forEach(({matches:f})=>{o[l].matches.push(...f)}))}}),s}_searchObjectList(t){const n=gg(t,this.options),{keys:r,records:a}=this._myIndex,o=[];return a.forEach(({$:s,i})=>{if(!yn(s))return;let l=[];r.forEach((u,f)=>{l.push(...this._findMatches({key:u,value:s[f],searcher:n}))}),l.length&&o.push({idx:i,item:s,matches:l})}),o}_findMatches({key:t,value:n,searcher:r}){if(!yn(n))return[];let a=[];if(pa(n))n.forEach(({v:o,i:s,n:i})=>{if(!yn(o))return;const{isMatch:l,score:u,indices:f}=r.searchIn(o);l&&a.push({score:u,key:t,value:o,idx:s,norm:i,indices:f})});else{const{v:o,n:s}=n,{isMatch:i,score:l,indices:u}=r.searchIn(o);i&&a.push({score:l,key:t,value:o,norm:s,indices:u})}return a}}Sa.version="7.1.0";Sa.createIndex=jA;Sa.parseIndex=KI;Sa.config=fe;Sa.parseQuery=zA;f9(d9);function x9(e,t){const n=p.useMemo(()=>e.map(i=>{var l,u;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:i.description,group:i.group,statModifications:i.stat_modifications.map(f=>`${f.stat} ${f.type} ${f.value}${f.value_type==="percentage"?"%":""}`),skillBonuses:i.skill_bonuses.map(f=>`${f.stat} +${f.value}${f.value_type==="percentage"?"%":""}`),powers:i.powers.map(f=>`${f.name} ${f.description}`),conditionalEffects:((l=i.conditional_effects)==null?void 0:l.map(f=>`${f.stat} ${f.description} ${f.condition||""}`))||[],masteryEffects:((u=i.mastery_effects)==null?void 0:u.map(f=>`${f.stat} ${f.description} ${f.condition||""}`))||[],originalBirthsign:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"powers",weight:.2},{name:"statModifications",weight:.15},{name:"skillBonuses",weight:.15},{name:"conditionalEffects",weight:.1},{name:"masteryEffects",weight:.1},{name:"group",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Sa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredBirthsigns:p.useMemo(()=>o.map(i=>i.item.originalBirthsign),[o]),searchResults:o,searchableBirthsigns:n}}const b9={selectedTags:[],sortBy:"alphabetical",viewMode:"grid",expandedBirthsigns:new Set};function w9(e,t){switch(t.type){case"ADD_TAG":return e.selectedTags.some(n=>n.value===t.payload.value&&n.category===t.payload.category)?e:{...e,selectedTags:[...e.selectedTags,t.payload]};case"REMOVE_TAG":return{...e,selectedTags:e.selectedTags.filter(n=>n.id!==t.payload)};case"SET_SORT":return{...e,sortBy:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"TOGGLE_EXPANDED":{const n=new Set(e.expandedBirthsigns);return n.has(t.payload)?n.delete(t.payload):n.add(t.payload),{...e,expandedBirthsigns:n}}case"EXPAND_ALL":return{...e,expandedBirthsigns:new Set(t.payload)};case"COLLAPSE_ALL":return{...e,expandedBirthsigns:new Set};default:return e}}function S9(e){const[t,n]=p.useReducer(w9,b9),r=p.useMemo(()=>{const S=mI(e),v=pI(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"groups",name:"Birthsign Groups",placeholder:"Search by birthsign group...",options:S.map(g=>({id:`group-${g}`,label:g,value:g,category:"Birthsign Groups",description:`Birthsigns from ${g} group`}))},{id:"stats",name:"Stats & Skills",placeholder:"Search by stats and skills...",options:v.map(g=>({id:`stat-${g}`,label:g.replace(/_/g," ").replace(/\b\w/g,y=>y.toUpperCase()),value:g,category:"Stats & Skills",description:`Birthsigns that affect ${g}`}))}]},[e]),a=p.useMemo(()=>t.selectedTags.length===0?e:e.filter(S=>t.selectedTags.every(v=>{switch(v.category){case"Fuzzy Search":return!0;case"Birthsign Groups":return S.group===v.value;case"Stats & Skills":return[...S.stat_modifications.map(y=>y.stat),...S.skill_bonuses.map(y=>y.stat)].some(y=>y===v.value);default:return!0}})),[e,t.selectedTags]),o=p.useMemo(()=>t.selectedTags.filter(S=>S.category==="Fuzzy Search").map(S=>S.value).join(" "),[t.selectedTags]),{filteredBirthsigns:s}=x9(a,o),i=p.useMemo(()=>s.map(EA),[s]),l=p.useMemo(()=>[...i].sort((S,v)=>{var g,y;switch(t.sortBy){case"alphabetical":return S.name.localeCompare(v.name);case"group":{const w=N=>{switch(N){case"Warrior":return 1;case"Mage":return 2;case"Thief":return 3;case"Serpent":return 4;case"Other":return 5;default:return 6}},k=w(S.category),C=w(v.category);return k!==C?k-C:S.name.localeCompare(v.name)}case"power-count":{const w=((g=S.effects)==null?void 0:g.filter(C=>C.target==="power").length)||0,k=((y=v.effects)==null?void 0:y.filter(C=>C.target==="power").length)||0;return w!==k?k-w:S.name.localeCompare(v.name)}default:return 0}}),[i,t.sortBy]),u=p.useCallback(S=>{n({type:"ADD_TAG",payload:S})},[]),f=p.useCallback(S=>{n({type:"REMOVE_TAG",payload:S})},[]),d=p.useCallback(S=>{n({type:"SET_SORT",payload:S})},[]),h=p.useCallback(S=>{n({type:"SET_VIEW_MODE",payload:S})},[]),m=p.useCallback(S=>{n({type:"TOGGLE_EXPANDED",payload:S})},[]),x=p.useCallback(S=>{n({type:"EXPAND_ALL",payload:S})},[]),b=p.useCallback(()=>{n({type:"COLLAPSE_ALL"})},[]);return{...t,addTag:u,removeTag:f,setSort:d,setViewMode:h,toggleExpanded:m,expandAll:x,collapseAll:b,searchCategories:r,fuzzySearchQuery:o,filteredBirthsigns:a,displayItems:i,sortedDisplayItems:l}}const N9={showStats:!0,showPowers:!0,showSkills:!0,showEffects:!0};function k9(e,t){switch(t.type){case"TOGGLE_STATS":return{...e,showStats:!e.showStats};case"TOGGLE_POWERS":return{...e,showPowers:!e.showPowers};case"TOGGLE_SKILLS":return{...e,showSkills:!e.showSkills};case"TOGGLE_EFFECTS":return{...e,showEffects:!e.showEffects};case"TOGGLE_ALL":return{showStats:t.payload,showPowers:t.payload,showSkills:t.payload,showEffects:t.payload};case"SET_STATS":return{...e,showStats:t.payload};case"SET_POWERS":return{...e,showPowers:t.payload};case"SET_SKILLS":return{...e,showSkills:t.payload};case"SET_EFFECTS":return{...e,showEffects:t.payload};default:return e}}function E9(){const[e,t]=p.useReducer(k9,N9),n=p.useCallback(()=>{t({type:"TOGGLE_STATS"})},[]),r=p.useCallback(()=>{t({type:"TOGGLE_POWERS"})},[]),a=p.useCallback(()=>{t({type:"TOGGLE_SKILLS"})},[]),o=p.useCallback(()=>{t({type:"TOGGLE_EFFECTS"})},[]),s=p.useCallback(d=>{t({type:"TOGGLE_ALL",payload:d})},[]),i=p.useCallback(d=>{t({type:"SET_STATS",payload:d})},[]),l=p.useCallback(d=>{t({type:"SET_POWERS",payload:d})},[]),u=p.useCallback(d=>{t({type:"SET_SKILLS",payload:d})},[]),f=p.useCallback(d=>{t({type:"SET_EFFECTS",payload:d})},[]);return{...e,toggleStats:n,togglePowers:r,toggleSkills:a,toggleEffects:o,toggleAll:s,setStats:i,setPowers:l,setSkills:u,setEffects:f}}function Mw(){const{birthsigns:e,loading:t,error:n}=NA(),{selectedTags:r,sortBy:a,viewMode:o,addTag:s,removeTag:i,setSort:l,setViewMode:u,searchCategories:f,sortedDisplayItems:d}=S9(e),[h,m]=p.useState(new Set),{showStats:x,showPowers:b,showSkills:S,showEffects:v,toggleStats:g,togglePowers:y,toggleSkills:w,toggleEffects:k,toggleAll:C,setStats:N,setPowers:E,setSkills:_,setEffects:A}=E9(),R=d.length>0&&d.every(O=>h.has(O.id));d.some(O=>h.has(O.id));const B=O=>{const T=new Set(h),D=3,j=d.findIndex(I=>I.id===O),z=Math.floor(j/D)*D,M=Math.min(z+D,d.length);d.slice(z,M).some(I=>T.has(I.id))?d.slice(z,M).forEach(I=>{T.delete(I.id)}):d.slice(z,M).forEach(I=>{T.add(I.id)}),m(T)};return t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading birthsigns..."})]})}):n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:n}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(Ai,{title:"Birth Signs",description:"Choose your character's birthsign to gain unique abilities and bonuses based on the celestial constellations.",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:f,onSelect:O=>{let T;typeof O=="string"?T={id:`custom-${O}`,label:O,value:O,category:"Fuzzy Search"}:T={id:`${O.category}-${O.id}`,label:O.label,value:O.value,category:O.category},r.some(D=>D.value===T.value&&D.category===T.category)||s(T)},onCustomSearch:O=>{let T;typeof O=="string"?T={id:`custom-${O}`,label:O,value:O,category:"Fuzzy Search"}:T={id:`${O.category}-${O.id}`,label:O.label,value:O.value,category:O.category},r.some(D=>D.value===T.value&&D.category===T.category)||s(T)}})}),c.jsxs(Vy,{children:[c.jsx(Zy,{asChild:!0,children:c.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(tr,{className:"h-4 w-4"}),a==="alphabetical"?"A-Z":a==="group"?"Type":"Count"]})}),c.jsxs(Xf,{align:"end",children:[c.jsx(ia,{onClick:()=>l("alphabetical"),children:"Alphabetical"}),c.jsx(ia,{onClick:()=>l("group"),children:"Birthsign Group"}),c.jsx(ia,{onClick:()=>l("power-count"),children:"Power Count"})]})]}),c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ie,{variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>u("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Ec,{className:"h-4 w-4"})}),c.jsx(ie,{variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>u("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(kc,{className:"h-4 w-4"})})]}),c.jsx(ie,{variant:"outline",size:"sm",onClick:R?()=>{m(new Set)}:()=>{m(new Set(d.map(O=>O.id)))},className:"flex items-center justify-center",title:R?"Collapse all accordions":"Expand all accordions",children:R?c.jsx(NE,{className:"h-4 w-4"}):c.jsx(SE,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"my-4",children:r.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>r.forEach(O=>i(O.id)),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(In,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),r.map(O=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>i(O.id),title:"Click to remove",children:[O.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},O.id))]})}),d.length>0&&c.jsx(sv,{type:"single",collapsible:!0,className:"w-full",children:c.jsxs(nh,{value:"customize-display",className:"border-none",children:[c.jsxs(rh,{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-background hover:bg-muted/50 transition-colors data-[state=open]:rounded-b-none data-[state=open]:border-b-0 justify-start",children:[c.jsx(EE,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Customize Display"})]}),c.jsx(ah,{className:"px-3 py-3 rounded-b-lg border border-t-0 bg-background",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[c.jsx(qr,{checked:x&&b&&S&&v,onCheckedChange:C}),c.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),c.jsxs("div",{className:"flex items-stretch gap-3 w-full",children:[c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:g,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ta,{className:"text-base font-medium",children:"Stats"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Attribute modifications"})]}),c.jsx(qr,{checked:x,onCheckedChange:N,onClick:O=>O.stopPropagation()})]}),c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:y,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ta,{className:"text-base font-medium",children:"Powers"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Special abilities and spells"})]}),c.jsx(qr,{checked:b,onCheckedChange:E,onClick:O=>O.stopPropagation()})]}),c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:w,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ta,{className:"text-base font-medium",children:"Skills"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Skill bonuses and effects"})]}),c.jsx(qr,{checked:S,onCheckedChange:_,onClick:O=>O.stopPropagation()})]}),c.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm flex-1 min-h-[80px] cursor-pointer hover:bg-muted/50 transition-colors",onClick:k,children:[c.jsxs("div",{className:"space-y-0.5",children:[c.jsx(ta,{className:"text-base font-medium",children:"Effects"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Conditional and mastery effects"})]}),c.jsx(qr,{checked:v,onCheckedChange:A,onClick:O=>O.stopPropagation()})]})]})]})})]})}),o==="grid"?c.jsx(Jy,{columns:3,gap:"md",className:"w-full mt-6",children:d.map(O=>{const T=e.find(j=>{const L=O.id;return j.name.toLowerCase().replace(/\s+/g,"-")===L});if(!T)return null;const D=h.has(O.id);return c.jsx(fg,{item:{...O,originalBirthsign:T},isExpanded:D,onToggle:()=>B(O.id),className:"w-full"},O.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:d.map(O=>{const T=e.find(j=>{const L=O.id;return j.name.toLowerCase().replace(/\s+/g,"-")===L});if(!T)return null;const D=h.has(O.id);return c.jsx(fg,{item:{...O,originalBirthsign:T},isExpanded:D,onToggle:()=>B(O.id),className:"w-full"},O.id)})}),d.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No birthsigns found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function OA({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:a=[]}){const[o,s]=p.useState(a),i=p.useMemo(()=>e.filter(g=>g.prerequisites.length===0),[e]),l=g=>e.filter(y=>y.prerequisites.includes(g)),u=p.useMemo(()=>{if(o.length===0)return i;const g=o[o.length-1];return l(g.name)},[o,i]),f=p.useMemo(()=>{const g=[],y=new Set,w=k=>{const C=k[k.length-1],N=l(C.name);if(N.length===0){g.push({path:[...k],isComplete:!0,endNode:C});return}N.forEach(E=>{const _=k.map(A=>A.id).join("->")+"->"+E.id;y.has(_)||(y.add(_),w([...k,E]))})};return o.length===0?i.forEach(k=>{w([k])}):u.forEach(k=>{w([...o,k])}),g},[o,u,i,e]),d=g=>t.some(y=>y.id===g),h=g=>{t.forEach(y=>{r(y.id)}),g.forEach(y=>{n(y.id)})};return{selectedPath:o,rootNodes:i,currentOptions:u,predictivePaths:f,isNodePlanned:d,getCurrentNodeName:()=>o.length===0?"Destiny":o[o.length-1].name,backtrack:g=>{const y=o.slice(0,g+1);s(y),h(y)},handleBreadcrumbClick:(g,y)=>{const w=g.slice(0,y+1);s(w),h(w)},startPath:g=>{s([g]),h([g])},startNewPath:()=>{s([]),h([])}}}var Nm,ih="HoverCard",[PA,Kee]=An(ih,[Ri]),lh=Ri(),[_9,cv]=PA(ih),LA=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:a,onOpenChange:o,openDelay:s=700,closeDelay:i=300}=e,l=lh(t),u=p.useRef(0),f=p.useRef(0),d=p.useRef(!1),h=p.useRef(!1),[m,x]=ba({prop:r,defaultProp:a??!1,onChange:o,caller:ih}),b=p.useCallback(()=>{clearTimeout(f.current),u.current=window.setTimeout(()=>x(!0),s)},[s,x]),S=p.useCallback(()=>{clearTimeout(u.current),!d.current&&!h.current&&(f.current=window.setTimeout(()=>x(!1),i))},[i,x]),v=p.useCallback(()=>x(!1),[x]);return p.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(f.current)},[]),c.jsx(_9,{scope:t,open:m,onOpenChange:x,onOpen:b,onClose:S,onDismiss:v,hasSelectionRef:d,isPointerDownOnContentRef:h,children:c.jsx(IC,{...l,children:n})})};LA.displayName=ih;var $A="HoverCardTrigger",BA=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=cv($A,n),o=lh(n);return c.jsx(Oy,{asChild:!0,...o,children:c.jsx(ye.a,{"data-state":a.open?"open":"closed",...r,ref:t,onPointerEnter:ae(e.onPointerEnter,Jd(a.onOpen)),onPointerLeave:ae(e.onPointerLeave,Jd(a.onClose)),onFocus:ae(e.onFocus,a.onOpen),onBlur:ae(e.onBlur,a.onClose),onTouchStart:ae(e.onTouchStart,s=>s.preventDefault())})})});BA.displayName=$A;var C9="HoverCardPortal",[Qee,A9]=PA(C9,{forceMount:void 0}),Qd="HoverCardContent",IA=p.forwardRef((e,t)=>{const n=A9(Qd,e.__scopeHoverCard),{forceMount:r=n.forceMount,...a}=e,o=cv(Qd,e.__scopeHoverCard);return c.jsx(Ut,{present:r||o.open,children:c.jsx(T9,{"data-state":o.open?"open":"closed",...a,onPointerEnter:ae(e.onPointerEnter,Jd(o.onOpen)),onPointerLeave:ae(e.onPointerLeave,Jd(o.onClose)),ref:t})})});IA.displayName=Qd;var T9=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,...i}=e,l=cv(Qd,n),u=lh(n),f=p.useRef(null),d=ze(t,f),[h,m]=p.useState(!1);return p.useEffect(()=>{if(h){const x=document.body;return Nm=x.style.userSelect||x.style.webkitUserSelect,x.style.userSelect="none",x.style.webkitUserSelect="none",()=>{x.style.userSelect=Nm,x.style.webkitUserSelect=Nm}}},[h]),p.useEffect(()=>{if(f.current){const x=()=>{m(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var S;((S=document.getSelection())==null?void 0:S.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",x),()=>{document.removeEventListener("pointerup",x),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),p.useEffect(()=>{f.current&&M9(f.current).forEach(b=>b.setAttribute("tabindex","-1"))}),c.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:s,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:ae(o,x=>{x.preventDefault()}),onDismiss:l.onDismiss,children:c.jsx(Py,{...u,...i,onPointerDown:ae(i.onPointerDown,x=>{x.currentTarget.contains(x.target)&&m(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...i.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),j9="HoverCardArrow",R9=p.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,a=lh(n);return c.jsx(Ly,{...a,...r,ref:t})});R9.displayName=j9;function Jd(e){return t=>t.pointerType==="touch"?void 0:e()}function M9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var D9=LA,z9=BA,HA=IA;const UA=D9,FA=z9,uv=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},a)=>c.jsx(HA,{ref:a,align:t,sideOffset:n,className:Q("w-64 rounded-md dropdown-enhanced p-4 text-popover-foreground outline-none animate-in zoom-in-90 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-90 data-[state=open]:zoom-in-90 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),style:{zIndex:Ht.TOOLTIP},...r}));uv.displayName=HA.displayName;function dv({node:e,isPlanned:t,children:n}){return c.jsxs(UA,{openDelay:100,closeDelay:0,children:[c.jsx(FA,{asChild:!0,children:n}),c.jsx(uv,{className:"w-80",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h4",{className:"font-medium text-lg",children:e.name})}),c.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),e.prerequisites.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Prerequisites:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.prerequisites.map((r,a)=>c.jsx(ge,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:r},a))})]}),e.tags.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"Tags:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((r,a)=>c.jsx(ge,{variant:"secondary",className:"text-xs",children:r},a))})]})]})})]})}function GA({path:e,onNodeClick:t,showChevrons:n=!0,BreadcrumbHover:r}){return c.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.map((a,o)=>{const s=c.jsx(ge,{variant:o===e.length-1?"default":"secondary",className:"cursor-pointer hover:bg-primary/80",onClick:t?()=>t(o):void 0,children:a.name});return c.jsx(P.Fragment,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[r?r(a,s):s,n&&o<e.length-1&&c.jsx(zf,{className:"w-4 h-4 text-muted-foreground"})]})},a.id)})})}function VA({path:e,renderNode:t,onNodeClick:n}){return c.jsx("div",{className:"space-y-2",children:e.map((r,a)=>t?t(r,a):c.jsx("div",{className:`flex items-center p-2 border rounded ${n?"cursor-pointer":""}`,onClick:n?()=>n(r,a):void 0,children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"font-medium flex items-center gap-2",children:[c.jsxs(ge,{variant:"secondary",className:"text-xs",children:["Step ",a+1]}),r.name]}),c.jsx("div",{className:"text-sm text-muted-foreground truncate",children:r.description})]})},r.id))})}function O9({selectedPath:e,rootNodes:t,isPlanned:n,onBacktrack:r,onStartPath:a,action:o}){return c.jsxs(dt,{children:[c.jsx(Et,{action:o,children:c.jsxs(_t,{className:"flex items-center gap-2",children:[c.jsx(gz,{className:"w-5 h-5"}),"Your Destiny Path"]})}),c.jsx(ft,{children:e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"No path started yet"}),c.jsx(ie,{onClick:()=>a(t[0]),children:"Start Your Journey"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx(GA,{path:e,onNodeClick:r,BreadcrumbHover:(s,i)=>c.jsx(dv,{node:s,isPlanned:n(s.id),children:i})}),c.jsx(VA,{path:e})]})})]})}function P9({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r}){const a=p.useMemo(()=>{const o=new Map;e.forEach(d=>{d.path.forEach((h,m)=>{const x=m,b=o.get(h.name);(!b||x<b.level)&&o.set(h.name,{name:h.name,level:x})})});const s=new Set;e.forEach(d=>{d.isComplete&&s.add(d.endNode.name)});const i=Array.from(o.entries()).map(([d,{level:h}])=>({name:d,level:h})).sort((d,h)=>d.level!==h.level?d.level-h.level:d.name.localeCompare(h.name)),l=e.filter(d=>t.length===0?!0:t.every(h=>{const[m,x]=h.value.split(":");return m==="contains"?d.path.some(b=>b.name.toLowerCase().includes(x.toLowerCase())):m==="ends"?d.isComplete&&d.endNode.name.toLowerCase().includes(x.toLowerCase()):!0})),u=new Set;l.forEach(d=>{d.isComplete&&u.add(d.endNode.name)});const f=new Set;return l.forEach(d=>{d.path.forEach((h,m)=>{f.has(h.name)||f.add(h.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:i.filter(({name:d})=>f.has(d)).map(({name:d,level:h})=>({id:`contains-${d}`,label:`${d} (Level ${h})`,value:`contains:${d}`,category:"Contains Node",description:`Paths that include ${d}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(u).sort().map(d=>({id:`ends-${d}`,label:d,value:`ends:${d}`,category:"Ends With Node",description:`Paths that end at ${d}`}))}]},[e,t]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx(Ky,{categories:a,onSelect:n,className:"w-full"}),c.jsx(Qy,{tags:t,onRemove:r,className:"justify-start"})]})}function L9({predictivePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r,getCurrentNodeName:a,selectedTags:o,onTagSelect:s,onTagRemove:i,hideFilters:l=!1}){const u=p.useMemo(()=>e.filter(f=>o.length===0?!0:o.every(d=>{const[h,m]=d.value.split(":");return h==="contains"?f.path.some(x=>x.name.toLowerCase().includes(m.toLowerCase())):h==="ends"?f.isComplete&&f.endNode.name.toLowerCase().includes(m.toLowerCase()):!0})),[e,o]);return e.length===0?null:c.jsxs("div",{className:"space-y-4",children:[!l&&c.jsx(P9,{predictivePaths:e,selectedTags:o,onTagSelect:s,onTagRemove:i}),c.jsx(xg,{possiblePaths:u,selectedPath:t,isPlanned:n,onBreadcrumbClick:r})]})}function xg({possiblePaths:e,selectedPath:t,isPlanned:n,onBreadcrumbClick:r}){return e.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-muted-foreground",children:"No paths match your current filters."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search criteria."})]}):c.jsx("div",{className:"space-y-4",children:e.map((a,o)=>c.jsxs("div",{className:"p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("div",{className:"flex items-center gap-2 mb-2",children:c.jsx("div",{className:"flex flex-wrap items-center gap-1",children:a.path.map((s,i)=>c.jsxs(P.Fragment,{children:[c.jsx(dv,{node:s,isPlanned:n(s.id),children:c.jsx(ge,{variant:i<t.length?"default":i===t.length?"secondary":"outline",className:`text-xs cursor-pointer hover:scale-105 transition-transform ${i<t.length?"bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600":a.isComplete&&i===a.path.length-1?"bg-red-800 text-red-100 border-red-700":""}`,onClick:l=>{l.stopPropagation(),r(a.path,i)},children:s.name})}),i<a.path.length-1&&c.jsx(zf,{className:"w-3 h-3 text-muted-foreground"})]},s.id))})}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{children:["Length: ",a.path.length," steps"]}),a.isComplete&&c.jsxs("span",{children:[" Ends at: ",a.endNode.name]}),a.path.length>t.length&&c.jsxs("span",{children:[" ",a.path.length-t.length," more choices"]})]})]},o))})}function $9({selectedPath:e,currentOptions:t,onStartNewPath:n}){return e.length===0||t.length>0?null:c.jsxs(dt,{children:[c.jsx(Et,{children:c.jsx(_t,{children:"Path Complete"})}),c.jsx(ft,{children:c.jsxs("div",{className:"text-center py-8",children:[c.jsxs("p",{className:"text-muted-foreground mb-4",children:[`You've reached the end of this path. "`,e[e.length-1].name,'" has no further progression options.']}),c.jsx(ie,{onClick:n,children:"Start New Path"})]})})]})}function fv({initialFilters:e,onFiltersChange:t,onSearch:n,onTagSelect:r,onTagRemove:a}={}){const[o,s]=p.useState(e||{search:"",selectedFilters:{},selectedTags:[]});return p.useEffect(()=>{e&&s(e)},[e]),{filters:o,handleSearch:d=>{const h={...o,search:d};s(h),n==null||n(d)},handleTagSelect:d=>{const h={id:`${d.category}-${d.id}`,label:d.label,value:d.value,category:d.category};if(!o.selectedTags.some(x=>x.id===h.id)){const x={...o,selectedTags:[...o.selectedTags,h]};s(x),r==null||r(h),t==null||t(x)}},handleTagRemove:d=>{const h={...o,selectedTags:o.selectedTags.filter(m=>m.id!==d)};s(h),a==null||a(d),t==null||t(h)},updateFilters:d=>{s(d),t==null||t(d)}}}function ZA(e,t){const n=p.useMemo(()=>e.filter(s=>s.prerequisites.length===0),[e]),r=s=>e.filter(i=>i.prerequisites.includes(s)),a=(s,i)=>{const l=s[s.length-1],u=r(l.name);if(u.length===0){i.push([...s]);return}u.forEach(f=>{a([...s,f],i)})};return p.useMemo(()=>{const s=[];return t?a([t],s):n.forEach(i=>{a([i],s)}),s},[e,t,n])}function B9({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r}){const{getDestinyPath:a,setDestinyPath:o}=Cn(),s=a(),i=P.useMemo(()=>s.map(E=>e.find(_=>_.id===E)).filter(E=>!!E),[s,e]),{selectedPath:l,rootNodes:u,currentOptions:f,isNodePlanned:d,getCurrentNodeName:h,backtrack:m,handleBreadcrumbClick:x,startPath:b,startNewPath:S}=OA({nodes:e,plannedNodes:t,onNodePlan:n,onNodeUnplan:r,initialPath:i});P.useEffect(()=>{const E=a(),_=l.map(A=>A.id);(E.length!==_.length||E.some((A,R)=>A!==_[R]))&&o(_)},[l,a,o]);const{handleTagSelect:v,handleTagRemove:g,filters:{selectedTags:y}}=fv({onFiltersChange:()=>{},onSearch:()=>{}}),w=l.length>0?l[l.length-1]:void 0,k=ZA(e,w);function C(E){return e.every(_=>!_.prerequisites.includes(E.name))}const N=k.map(E=>({path:E,isComplete:E.length>0&&C(E[E.length-1]),endNode:E[E.length-1]}));return c.jsxs("div",{className:"space-y-6",children:[c.jsx(O9,{selectedPath:l,rootNodes:u,isPlanned:d,onBacktrack:m,onStartPath:b}),c.jsx(L9,{predictivePaths:N,selectedPath:l,isPlanned:d,onBreadcrumbClick:x,getCurrentNodeName:h,selectedTags:y,onTagSelect:v,onTagRemove:g}),c.jsx($9,{selectedPath:l,currentOptions:f,onStartNewPath:S})]})}function I9(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function H9(){return this.eachAfter(I9)}function U9(e){var t=this,n,r=[t],a,o,s;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)r.push(a[o]);while(r.length);return this}function F9(e){for(var t=this,n=[t],r,a;t=n.pop();)if(e(t),r=t.children,r)for(a=r.length-1;a>=0;--a)n.push(r[a]);return this}function G9(e){for(var t=this,n=[t],r=[],a,o,s;t=n.pop();)if(r.push(t),a=t.children,a)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=r.pop();)e(t);return this}function V9(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function Z9(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Y9(e){for(var t=this,n=q9(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function q9(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function X9(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function W9(){var e=[];return this.each(function(t){e.push(t)}),e}function K9(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Q9(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function hv(e,t){var n=new Xl(e),r=+e.value&&(n.value=e.value),a,o=[n],s,i,l,u;for(t==null&&(t=eH);a=o.pop();)if(r&&(a.value=+a.data.value),(i=t(a.data))&&(u=i.length))for(a.children=new Array(u),l=u-1;l>=0;--l)o.push(s=a.children[l]=new Xl(i[l])),s.parent=a,s.depth=a.depth+1;return n.eachBefore(nH)}function J9(){return hv(this).eachBefore(tH)}function eH(e){return e.children}function tH(e){e.data=e.data.data}function nH(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Xl(e){this.data=e,this.depth=this.height=0,this.parent=null}Xl.prototype=hv.prototype={constructor:Xl,count:H9,each:U9,eachAfter:G9,eachBefore:F9,sum:V9,sort:Z9,path:Y9,ancestors:X9,descendants:W9,leaves:K9,links:Q9,copy:J9};function rH(e,t){return e.parent===t.parent?1:2}function km(e){var t=e.children;return t?t[0]:e.t}function Em(e){var t=e.children;return t?t[t.length-1]:e.t}function aH(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function oH(e){for(var t=0,n=0,r=e.children,a=r.length,o;--a>=0;)o=r[a],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function sH(e,t,n){return e.a.parent===t.parent?e.a:n}function ed(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}ed.prototype=Object.create(Xl.prototype);function iH(e){for(var t=new ed(e,0),n,r=[t],a,o,s,i;n=r.pop();)if(o=n._.children)for(n.children=new Array(i=o.length),s=i-1;s>=0;--s)r.push(a=n.children[s]=new ed(o[s],s)),a.parent=n;return(t.parent=new ed(null,0)).children=[t],t}function lH(){var e=rH,t=1,n=1,r=null;function a(u){var f=iH(u);if(f.eachAfter(o),f.parent.m=-f.z,f.eachBefore(s),r)u.eachBefore(l);else{var d=u,h=u,m=u;u.eachBefore(function(g){g.x<d.x&&(d=g),g.x>h.x&&(h=g),g.depth>m.depth&&(m=g)});var x=d===h?1:e(d,h)/2,b=x-d.x,S=t/(h.x+x+b),v=n/(m.depth||1);u.eachBefore(function(g){g.x=(g.x+b)*S,g.y=g.depth*v})}return u}function o(u){var f=u.children,d=u.parent.children,h=u.i?d[u.i-1]:null;if(f){oH(u);var m=(f[0].z+f[f.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-m):u.z=m}else h&&(u.z=h.z+e(u._,h._));u.parent.A=i(u,h,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function i(u,f,d){if(f){for(var h=u,m=u,x=f,b=h.parent.children[0],S=h.m,v=m.m,g=x.m,y=b.m,w;x=Em(x),h=km(h),x&&h;)b=km(b),m=Em(m),m.a=u,w=x.z+g-h.z-S+e(x._,h._),w>0&&(aH(sH(x,u,d),u,w),S+=w,v+=w),g+=x.m,S+=h.m,y+=b.m,v+=m.m;x&&!Em(m)&&(m.t=x,m.m+=g-v),h&&!km(b)&&(b.t=h,b.m+=S-y,d=u)}return d}function l(u){u.x*=t,u.y=u.depth*n}return a.separation=function(u){return arguments.length?(e=u,a):e},a.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],a):r?null:[t,n]},a.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],a):r?[t,n]:null},a}var bg="http://www.w3.org/1999/xhtml";const Dw={svg:"http://www.w3.org/2000/svg",xhtml:bg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ch(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Dw.hasOwnProperty(t)?{space:Dw[t],local:e}:e}function cH(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bg&&t.documentElement.namespaceURI===bg?t.createElement(e):t.createElementNS(n,e)}}function uH(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function YA(e){var t=ch(e);return(t.local?uH:cH)(t)}function dH(){}function mv(e){return e==null?dH:function(){return this.querySelector(e)}}function fH(e){typeof e!="function"&&(e=mv(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=new Array(s),l,u,f=0;f<s;++f)(l=o[f])&&(u=e.call(l,l.__data__,f,o))&&("__data__"in l&&(u.__data__=l.__data__),i[f]=u);return new En(r,this._parents)}function hH(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function mH(){return[]}function qA(e){return e==null?mH:function(){return this.querySelectorAll(e)}}function pH(e){return function(){return hH(e.apply(this,arguments))}}function gH(e){typeof e=="function"?e=pH(e):e=qA(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var s=t[o],i=s.length,l,u=0;u<i;++u)(l=s[u])&&(r.push(e.call(l,l.__data__,u,s)),a.push(l));return new En(r,a)}function XA(e){return function(){return this.matches(e)}}function WA(e){return function(t){return t.matches(e)}}var yH=Array.prototype.find;function vH(e){return function(){return yH.call(this.children,e)}}function xH(){return this.firstElementChild}function bH(e){return this.select(e==null?xH:vH(typeof e=="function"?e:WA(e)))}var wH=Array.prototype.filter;function SH(){return Array.from(this.children)}function NH(e){return function(){return wH.call(this.children,e)}}function kH(e){return this.selectAll(e==null?SH:NH(typeof e=="function"?e:WA(e)))}function EH(e){typeof e!="function"&&(e=XA(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&i.push(l);return new En(r,this._parents)}function KA(e){return new Array(e.length)}function _H(){return new En(this._enter||this._groups.map(KA),this._parents)}function ef(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ef.prototype={constructor:ef,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function CH(e){return function(){return e}}function AH(e,t,n,r,a,o){for(var s=0,i,l=t.length,u=o.length;s<u;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new ef(e,o[s]);for(;s<l;++s)(i=t[s])&&(a[s]=i)}function TH(e,t,n,r,a,o,s){var i,l,u=new Map,f=t.length,d=o.length,h=new Array(f),m;for(i=0;i<f;++i)(l=t[i])&&(h[i]=m=s.call(l,l.__data__,i,t)+"",u.has(m)?a[i]=l:u.set(m,l));for(i=0;i<d;++i)m=s.call(e,o[i],i,o)+"",(l=u.get(m))?(r[i]=l,l.__data__=o[i],u.delete(m)):n[i]=new ef(e,o[i]);for(i=0;i<f;++i)(l=t[i])&&u.get(h[i])===l&&(a[i]=l)}function jH(e){return e.__data__}function RH(e,t){if(!arguments.length)return Array.from(this,jH);var n=t?TH:AH,r=this._parents,a=this._groups;typeof e!="function"&&(e=CH(e));for(var o=a.length,s=new Array(o),i=new Array(o),l=new Array(o),u=0;u<o;++u){var f=r[u],d=a[u],h=d.length,m=MH(e.call(f,f&&f.__data__,u,r)),x=m.length,b=i[u]=new Array(x),S=s[u]=new Array(x),v=l[u]=new Array(h);n(f,d,b,S,v,m,t);for(var g=0,y=0,w,k;g<x;++g)if(w=b[g]){for(g>=y&&(y=g+1);!(k=S[y])&&++y<x;);w._next=k||null}}return s=new En(s,r),s._enter=i,s._exit=l,s}function MH(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DH(){return new En(this._exit||this._groups.map(KA),this._parents)}function zH(e,t,n){var r=this.enter(),a=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?o.remove():n(o),r&&a?r.merge(a).order():a}function OH(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,s=Math.min(a,o),i=new Array(a),l=0;l<s;++l)for(var u=n[l],f=r[l],d=u.length,h=i[l]=new Array(d),m,x=0;x<d;++x)(m=u[x]||f[x])&&(h[x]=m);for(;l<a;++l)i[l]=n[l];return new En(i,this._parents)}function PH(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,o=r[a],s;--a>=0;)(s=r[a])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function LH(e){e||(e=$H);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var s=n[o],i=s.length,l=a[o]=new Array(i),u,f=0;f<i;++f)(u=s[f])&&(l[f]=u);l.sort(t)}return new En(a,this._parents).order()}function $H(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function BH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function IH(){return Array.from(this)}function HH(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var s=r[a];if(s)return s}return null}function UH(){let e=0;for(const t of this)++e;return e}function FH(){return!this.node()}function GH(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],o=0,s=a.length,i;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this}function VH(e){return function(){this.removeAttribute(e)}}function ZH(e){return function(){this.removeAttributeNS(e.space,e.local)}}function YH(e,t){return function(){this.setAttribute(e,t)}}function qH(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function XH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WH(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function KH(e,t){var n=ch(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ZH:VH:typeof t=="function"?n.local?WH:XH:n.local?qH:YH)(n,t))}function QA(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function QH(e){return function(){this.style.removeProperty(e)}}function JH(e,t,n){return function(){this.style.setProperty(e,t,n)}}function e7(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function t7(e,t,n){return arguments.length>1?this.each((t==null?QH:typeof t=="function"?e7:JH)(e,t,n??"")):di(this.node(),e)}function di(e,t){return e.style.getPropertyValue(t)||QA(e).getComputedStyle(e,null).getPropertyValue(t)}function n7(e){return function(){delete this[e]}}function r7(e,t){return function(){this[e]=t}}function a7(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function o7(e,t){return arguments.length>1?this.each((t==null?n7:typeof t=="function"?a7:r7)(e,t)):this.node()[e]}function JA(e){return e.trim().split(/^|\s+/)}function pv(e){return e.classList||new eT(e)}function eT(e){this._node=e,this._names=JA(e.getAttribute("class")||"")}eT.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function tT(e,t){for(var n=pv(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function nT(e,t){for(var n=pv(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function s7(e){return function(){tT(this,e)}}function i7(e){return function(){nT(this,e)}}function l7(e,t){return function(){(t.apply(this,arguments)?tT:nT)(this,e)}}function c7(e,t){var n=JA(e+"");if(arguments.length<2){for(var r=pv(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?l7:t?s7:i7)(n,t))}function u7(){this.textContent=""}function d7(e){return function(){this.textContent=e}}function f7(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function h7(e){return arguments.length?this.each(e==null?u7:(typeof e=="function"?f7:d7)(e)):this.node().textContent}function m7(){this.innerHTML=""}function p7(e){return function(){this.innerHTML=e}}function g7(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function y7(e){return arguments.length?this.each(e==null?m7:(typeof e=="function"?g7:p7)(e)):this.node().innerHTML}function v7(){this.nextSibling&&this.parentNode.appendChild(this)}function x7(){return this.each(v7)}function b7(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function w7(){return this.each(b7)}function S7(e){var t=typeof e=="function"?e:YA(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function N7(){return null}function k7(e,t){var n=typeof e=="function"?e:YA(e),r=t==null?N7:typeof t=="function"?t:mv(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function E7(){var e=this.parentNode;e&&e.removeChild(this)}function _7(){return this.each(E7)}function C7(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function A7(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function T7(e){return this.select(e?A7:C7)}function j7(e){return arguments.length?this.property("__data__",e):this.node().__data__}function R7(e){return function(t){e.call(this,t,this.__data__)}}function M7(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function D7(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,a=t.length,o;n<a;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function z7(e,t,n){return function(){var r=this.__on,a,o=R7(t);if(r){for(var s=0,i=r.length;s<i;++s)if((a=r[s]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=n),a.value=t;return}}this.addEventListener(e.type,o,n),a={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(a):this.__on=[a]}}function O7(e,t,n){var r=M7(e+""),a,o=r.length,s;if(arguments.length<2){var i=this.node().__on;if(i){for(var l=0,u=i.length,f;l<u;++l)for(a=0,f=i[l];a<o;++a)if((s=r[a]).type===f.type&&s.name===f.name)return f.value}return}for(i=t?z7:D7,a=0;a<o;++a)this.each(i(r[a],t,n));return this}function rT(e,t,n){var r=QA(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function P7(e,t){return function(){return rT(this,e,t)}}function L7(e,t){return function(){return rT(this,e,t.apply(this,arguments))}}function $7(e,t){return this.each((typeof t=="function"?L7:P7)(e,t))}function*B7(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length,s;a<o;++a)(s=r[a])&&(yield s)}var aT=[null];function En(e,t){this._groups=e,this._parents=t}function Bc(){return new En([[document.documentElement]],aT)}function I7(){return this}En.prototype=Bc.prototype={constructor:En,select:fH,selectAll:gH,selectChild:bH,selectChildren:kH,filter:EH,data:RH,enter:_H,exit:DH,join:zH,merge:OH,selection:I7,order:PH,sort:LH,call:BH,nodes:IH,node:HH,size:UH,empty:FH,each:GH,attr:KH,style:t7,property:o7,classed:c7,text:h7,html:y7,raise:x7,lower:w7,append:S7,insert:k7,remove:_7,clone:T7,datum:j7,on:O7,dispatch:$7,[Symbol.iterator]:B7};function xt(e){return typeof e=="string"?new En([[document.querySelector(e)]],[document.documentElement]):new En([[e]],aT)}function H7(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pr(e,t){if(e=H7(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var U7={value:()=>{}};function uh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new td(n)}function td(e){this._=e}function F7(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}td.prototype=uh.prototype={constructor:td,on:function(e,t){var n=this._,r=F7(e+"",n),a,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((a=(e=r[o]).type)&&(a=G7(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(e=r[o]).type)n[a]=zw(n[a],e.name,t);else if(t==null)for(a in n)n[a]=zw(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new td(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,o;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};function G7(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function zw(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=U7,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const V7={passive:!1},Wl={capture:!0,passive:!1};function _m(e){e.stopImmediatePropagation()}function Vs(e){e.preventDefault(),e.stopImmediatePropagation()}function oT(e){var t=e.document.documentElement,n=xt(e).on("dragstart.drag",Vs,Wl);"onselectstart"in t?n.on("selectstart.drag",Vs,Wl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function sT(e,t){var n=e.document.documentElement,r=xt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vs,Wl),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yu=e=>()=>e;function wg(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:o,x:s,y:i,dx:l,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}wg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Z7(e){return!e.ctrlKey&&!e.button}function Y7(){return this.parentNode}function q7(e,t){return t??{x:e.x,y:e.y}}function X7(){return navigator.maxTouchPoints||"ontouchstart"in this}function W7(){var e=Z7,t=Y7,n=q7,r=X7,a={},o=uh("start","drag","end"),s=0,i,l,u,f,d=0;function h(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",S).on("touchmove.drag",v,V7).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,k){if(!(f||!e.call(this,w,k))){var C=y(this,t.call(this,w,k),w,k,"mouse");C&&(xt(w.view).on("mousemove.drag",x,Wl).on("mouseup.drag",b,Wl),oT(w.view),_m(w),u=!1,i=w.clientX,l=w.clientY,C("start",w))}}function x(w){if(Vs(w),!u){var k=w.clientX-i,C=w.clientY-l;u=k*k+C*C>d}a.mouse("drag",w)}function b(w){xt(w.view).on("mousemove.drag mouseup.drag",null),sT(w.view,u),Vs(w),a.mouse("end",w)}function S(w,k){if(e.call(this,w,k)){var C=w.changedTouches,N=t.call(this,w,k),E=C.length,_,A;for(_=0;_<E;++_)(A=y(this,N,w,k,C[_].identifier,C[_]))&&(_m(w),A("start",w,C[_]))}}function v(w){var k=w.changedTouches,C=k.length,N,E;for(N=0;N<C;++N)(E=a[k[N].identifier])&&(Vs(w),E("drag",w,k[N]))}function g(w){var k=w.changedTouches,C=k.length,N,E;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<C;++N)(E=a[k[N].identifier])&&(_m(w),E("end",w,k[N]))}function y(w,k,C,N,E,_){var A=o.copy(),R=pr(_||C,k),B,O,T;if((T=n.call(w,new wg("beforestart",{sourceEvent:C,target:h,identifier:E,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:A}),N))!=null)return B=T.x-R[0]||0,O=T.y-R[1]||0,function D(j,L,z){var M=R,$;switch(j){case"start":a[E]=D,$=s++;break;case"end":delete a[E],--s;case"drag":R=pr(z||L,k),$=s;break}A.call(j,w,new wg(j,{sourceEvent:L,subject:T,target:h,identifier:E,active:$,x:R[0]+B,y:R[1]+O,dx:R[0]-M[0],dy:R[1]-M[1],dispatch:A}),N)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:yu(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:yu(w),h):t},h.subject=function(w){return arguments.length?(n=typeof w=="function"?w:yu(w),h):n},h.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:yu(!!w),h):r},h.on=function(){var w=o.on.apply(o,arguments);return w===o?h:w},h.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,h):Math.sqrt(d)},h}function gv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function iT(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ic(){}var Kl=.7,tf=1/Kl,Zs="\\s*([+-]?\\d+)\\s*",Ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K7=/^#([0-9a-f]{3,8})$/,Q7=new RegExp(`^rgb\\(${Zs},${Zs},${Zs}\\)$`),J7=new RegExp(`^rgb\\(${Er},${Er},${Er}\\)$`),eU=new RegExp(`^rgba\\(${Zs},${Zs},${Zs},${Ql}\\)$`),tU=new RegExp(`^rgba\\(${Er},${Er},${Er},${Ql}\\)$`),nU=new RegExp(`^hsl\\(${Ql},${Er},${Er}\\)$`),rU=new RegExp(`^hsla\\(${Ql},${Er},${Er},${Ql}\\)$`),Ow={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gv(Ic,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pw,formatHex:Pw,formatHex8:aU,formatHsl:oU,formatRgb:Lw,toString:Lw});function Pw(){return this.rgb().formatHex()}function aU(){return this.rgb().formatHex8()}function oU(){return lT(this).formatHsl()}function Lw(){return this.rgb().formatRgb()}function Jl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=K7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$w(t):n===3?new tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Q7.exec(e))?new tn(t[1],t[2],t[3],1):(t=J7.exec(e))?new tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eU.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=tU.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nU.exec(e))?Hw(t[1],t[2]/100,t[3]/100,1):(t=rU.exec(e))?Hw(t[1],t[2]/100,t[3]/100,t[4]):Ow.hasOwnProperty(e)?$w(Ow[e]):e==="transparent"?new tn(NaN,NaN,NaN,0):null}function $w(e){return new tn(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,n,r){return r<=0&&(e=t=n=NaN),new tn(e,t,n,r)}function sU(e){return e instanceof Ic||(e=Jl(e)),e?(e=e.rgb(),new tn(e.r,e.g,e.b,e.opacity)):new tn}function Sg(e,t,n,r){return arguments.length===1?sU(e):new tn(e,t,n,r??1)}function tn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gv(tn,Sg,iT(Ic,{brighter(e){return e=e==null?tf:Math.pow(tf,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kl:Math.pow(Kl,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(Do(this.r),Do(this.g),Do(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bw,formatHex:Bw,formatHex8:iU,formatRgb:Iw,toString:Iw}));function Bw(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}`}function iU(){return`#${ko(this.r)}${ko(this.g)}${ko(this.b)}${ko((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iw(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Do(this.r)}, ${Do(this.g)}, ${Do(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Do(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ko(e){return e=Do(e),(e<16?"0":"")+e.toString(16)}function Hw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Kn(e,t,n,r)}function lT(e){if(e instanceof Kn)return new Kn(e.h,e.s,e.l,e.opacity);if(e instanceof Ic||(e=Jl(e)),!e)return new Kn;if(e instanceof Kn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,i=o-a,l=(o+a)/2;return i?(t===o?s=(n-r)/i+(n<r)*6:n===o?s=(r-t)/i+2:s=(t-n)/i+4,i/=l<.5?o+a:2-o-a,s*=60):i=l>0&&l<1?0:s,new Kn(s,i,l,e.opacity)}function lU(e,t,n,r){return arguments.length===1?lT(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gv(Kn,lU,iT(Ic,{brighter(e){return e=e==null?tf:Math.pow(tf,e),new Kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kl:Math.pow(Kl,e),new Kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new tn(Cm(e>=240?e-240:e+120,a,r),Cm(e,a,r),Cm(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Kn(Uw(this.h),xu(this.s),xu(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${Uw(this.h)}, ${xu(this.s)*100}%, ${xu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Uw(e){return e=(e||0)%360,e<0?e+360:e}function xu(e){return Math.max(0,Math.min(1,e||0))}function Cm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const cT=e=>()=>e;function cU(e,t){return function(n){return e+n*t}}function uU(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dU(e){return(e=+e)==1?uT:function(t,n){return n-t?uU(t,n,e):cT(isNaN(t)?n:t)}}function uT(e,t){var n=t-e;return n?cU(e,n):cT(isNaN(e)?t:e)}const Fw=function e(t){var n=dU(t);function r(a,o){var s=n((a=Sg(a)).r,(o=Sg(o)).r),i=n(a.g,o.g),l=n(a.b,o.b),u=uT(a.opacity,o.opacity);return function(f){return a.r=s(f),a.g=i(f),a.b=l(f),a.opacity=u(f),a+""}}return r.gamma=e,r}(1);function za(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Am=new RegExp(Ng.source,"g");function fU(e){return function(){return e}}function hU(e){return function(t){return e(t)+""}}function mU(e,t){var n=Ng.lastIndex=Am.lastIndex=0,r,a,o,s=-1,i=[],l=[];for(e=e+"",t=t+"";(r=Ng.exec(e))&&(a=Am.exec(t));)(o=a.index)>n&&(o=t.slice(n,o),i[s]?i[s]+=o:i[++s]=o),(r=r[0])===(a=a[0])?i[s]?i[s]+=a:i[++s]=a:(i[++s]=null,l.push({i:s,x:za(r,a)})),n=Am.lastIndex;return n<t.length&&(o=t.slice(n),i[s]?i[s]+=o:i[++s]=o),i.length<2?l[0]?hU(l[0].x):fU(t):(t=l.length,function(u){for(var f=0,d;f<t;++f)i[(d=l[f]).i]=d.x(u);return i.join("")})}var Gw=180/Math.PI,kg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dT(e,t,n,r,a,o){var s,i,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,l/=i),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Gw,skewX:Math.atan(l)*Gw,scaleX:s,scaleY:i}}var bu;function pU(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kg:dT(t.a,t.b,t.c,t.d,t.e,t.f)}function gU(e){return e==null||(bu||(bu=document.createElementNS("http://www.w3.org/2000/svg","g")),bu.setAttribute("transform",e),!(e=bu.transform.baseVal.consolidate()))?kg:(e=e.matrix,dT(e.a,e.b,e.c,e.d,e.e,e.f))}function fT(e,t,n,r){function a(u){return u.length?u.pop()+" ":""}function o(u,f,d,h,m,x){if(u!==d||f!==h){var b=m.push("translate(",null,t,null,n);x.push({i:b-4,x:za(u,d)},{i:b-2,x:za(f,h)})}else(d||h)&&m.push("translate("+d+t+h+n)}function s(u,f,d,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:d.push(a(d)+"rotate(",null,r)-2,x:za(u,f)})):f&&d.push(a(d)+"rotate("+f+r)}function i(u,f,d,h){u!==f?h.push({i:d.push(a(d)+"skewX(",null,r)-2,x:za(u,f)}):f&&d.push(a(d)+"skewX("+f+r)}function l(u,f,d,h,m,x){if(u!==d||f!==h){var b=m.push(a(m)+"scale(",null,",",null,")");x.push({i:b-4,x:za(u,d)},{i:b-2,x:za(f,h)})}else(d!==1||h!==1)&&m.push(a(m)+"scale("+d+","+h+")")}return function(u,f){var d=[],h=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,d,h),s(u.rotate,f.rotate,d,h),i(u.skewX,f.skewX,d,h),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,h),u=f=null,function(m){for(var x=-1,b=h.length,S;++x<b;)d[(S=h[x]).i]=S.x(m);return d.join("")}}}var yU=fT(pU,"px, ","px)","deg)"),vU=fT(gU,", ",")",")"),xU=1e-12;function Vw(e){return((e=Math.exp(e))+1/e)/2}function bU(e){return((e=Math.exp(e))-1/e)/2}function wU(e){return((e=Math.exp(2*e))-1)/(e+1)}const SU=function e(t,n,r){function a(o,s){var i=o[0],l=o[1],u=o[2],f=s[0],d=s[1],h=s[2],m=f-i,x=d-l,b=m*m+x*x,S,v;if(b<xU)v=Math.log(h/u)/t,S=function(N){return[i+N*m,l+N*x,u*Math.exp(t*N*v)]};else{var g=Math.sqrt(b),y=(h*h-u*u+r*b)/(2*u*n*g),w=(h*h-u*u-r*b)/(2*h*n*g),k=Math.log(Math.sqrt(y*y+1)-y),C=Math.log(Math.sqrt(w*w+1)-w);v=(C-k)/t,S=function(N){var E=N*v,_=Vw(k),A=u/(n*g)*(_*wU(t*E+k)-bU(k));return[i+A*m,l+A*x,u*_/Vw(t*E+k)]}}return S.duration=v*1e3*t/Math.SQRT2,S}return a.rho=function(o){var s=Math.max(.001,+o),i=s*s,l=i*i;return e(s,i,l)},a}(Math.SQRT2,2,4);var fi=0,nl=0,Fi=0,hT=1e3,rf,rl,af=0,Ho=0,dh=0,ec=typeof performance=="object"&&performance.now?performance:Date,mT=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yv(){return Ho||(mT(NU),Ho=ec.now()+dh)}function NU(){Ho=0}function of(){this._call=this._time=this._next=null}of.prototype=pT.prototype={constructor:of,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?yv():+n)+(t==null?0:+t),!this._next&&rl!==this&&(rl?rl._next=this:rf=this,rl=this),this._call=e,this._time=n,Eg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Eg())}};function pT(e,t,n){var r=new of;return r.restart(e,t,n),r}function kU(){yv(),++fi;for(var e=rf,t;e;)(t=Ho-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fi}function Zw(){Ho=(af=ec.now())+dh,fi=nl=0;try{kU()}finally{fi=0,_U(),Ho=0}}function EU(){var e=ec.now(),t=e-af;t>hT&&(dh-=t,af=e)}function _U(){for(var e,t=rf,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:rf=n);rl=e,Eg(r)}function Eg(e){if(!fi){nl&&(nl=clearTimeout(nl));var t=e-Ho;t>24?(e<1/0&&(nl=setTimeout(Zw,e-ec.now()-dh)),Fi&&(Fi=clearInterval(Fi))):(Fi||(af=ec.now(),Fi=setInterval(EU,hT)),fi=1,mT(Zw))}}function Yw(e,t,n){var r=new of;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var CU=uh("start","end","cancel","interrupt"),AU=[],gT=0,qw=1,_g=2,nd=3,Xw=4,Cg=5,rd=6;function fh(e,t,n,r,a,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;TU(e,n,{name:t,index:r,group:a,on:CU,tween:AU,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gT})}function vv(e,t){var n=lr(e,t);if(n.state>gT)throw new Error("too late; already scheduled");return n}function Or(e,t){var n=lr(e,t);if(n.state>nd)throw new Error("too late; already running");return n}function lr(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function TU(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=pT(o,0,n.time);function o(u){n.state=qw,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,d,h,m;if(n.state!==qw)return l();for(f in r)if(m=r[f],m.name===n.name){if(m.state===nd)return Yw(s);m.state===Xw?(m.state=rd,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[f]):+f<t&&(m.state=rd,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[f])}if(Yw(function(){n.state===nd&&(n.state=Xw,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=_g,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_g){for(n.state=nd,a=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(m=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(a[++d]=m);a.length=d+1}}function i(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Cg,1),d=-1,h=a.length;++d<h;)a[d].call(e,f);n.state===Cg&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=rd,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function ad(e,t){var n=e.__transition,r,a,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}a=r.state>_g&&r.state<Cg,r.state=rd,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function jU(e){return this.each(function(){ad(this,e)})}function RU(e,t){var n,r;return function(){var a=Or(this,e),o=a.tween;if(o!==n){r=n=o;for(var s=0,i=r.length;s<i;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function MU(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var o=Or(this,e),s=o.tween;if(s!==r){a=(r=s).slice();for(var i={name:t,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===t){a[l]=i;break}l===u&&a.push(i)}o.tween=a}}function DU(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=lr(this.node(),n).tween,a=0,o=r.length,s;a<o;++a)if((s=r[a]).name===e)return s.value;return null}return this.each((t==null?RU:MU)(n,e,t))}function xv(e,t,n){var r=e._id;return e.each(function(){var a=Or(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return lr(a,r).value[t]}}function yT(e,t){var n;return(typeof t=="number"?za:t instanceof Jl?Fw:(n=Jl(t))?(t=n,Fw):mU)(e,t)}function zU(e){return function(){this.removeAttribute(e)}}function OU(e){return function(){this.removeAttributeNS(e.space,e.local)}}function PU(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttribute(e);return s===a?null:s===r?o:o=t(r=s,n)}}function LU(e,t,n){var r,a=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===r?o:o=t(r=s,n)}}function $U(e,t,n){var r,a,o;return function(){var s,i=n(this),l;return i==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=i+"",s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i)))}}function BU(e,t,n){var r,a,o;return function(){var s,i=n(this),l;return i==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=i+"",s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i)))}}function IU(e,t){var n=ch(e),r=n==="transform"?vU:yT;return this.attrTween(e,typeof t=="function"?(n.local?BU:$U)(n,r,xv(this,"attr."+e,t)):t==null?(n.local?OU:zU)(n):(n.local?LU:PU)(n,r,t))}function HU(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function UU(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function FU(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&UU(e,o)),n}return a._value=t,a}function GU(e,t){var n,r;function a(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&HU(e,o)),n}return a._value=t,a}function VU(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ch(e);return this.tween(n,(r.local?FU:GU)(r,t))}function ZU(e,t){return function(){vv(this,e).delay=+t.apply(this,arguments)}}function YU(e,t){return t=+t,function(){vv(this,e).delay=t}}function qU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ZU:YU)(t,e)):lr(this.node(),t).delay}function XU(e,t){return function(){Or(this,e).duration=+t.apply(this,arguments)}}function WU(e,t){return t=+t,function(){Or(this,e).duration=t}}function KU(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XU:WU)(t,e)):lr(this.node(),t).duration}function QU(e,t){if(typeof t!="function")throw new Error;return function(){Or(this,e).ease=t}}function JU(e){var t=this._id;return arguments.length?this.each(QU(t,e)):lr(this.node(),t).ease}function eF(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Or(this,e).ease=n}}function tF(e){if(typeof e!="function")throw new Error;return this.each(eF(this._id,e))}function nF(e){typeof e!="function"&&(e=XA(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o=t[a],s=o.length,i=r[a]=[],l,u=0;u<s;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&i.push(l);return new ga(r,this._parents,this._name,this._id)}function rF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),s=new Array(r),i=0;i<o;++i)for(var l=t[i],u=n[i],f=l.length,d=s[i]=new Array(f),h,m=0;m<f;++m)(h=l[m]||u[m])&&(d[m]=h);for(;i<r;++i)s[i]=t[i];return new ga(s,this._parents,this._name,this._id)}function aF(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function oF(e,t,n){var r,a,o=aF(t)?vv:Or;return function(){var s=o(this,e),i=s.on;i!==r&&(a=(r=i).copy()).on(t,n),s.on=a}}function sF(e,t){var n=this._id;return arguments.length<2?lr(this.node(),n).on.on(e):this.each(oF(n,e,t))}function iF(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lF(){return this.on("end.remove",iF(this._id))}function cF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mv(e));for(var r=this._groups,a=r.length,o=new Array(a),s=0;s<a;++s)for(var i=r[s],l=i.length,u=o[s]=new Array(l),f,d,h=0;h<l;++h)(f=i[h])&&(d=e.call(f,f.__data__,h,i))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d,fh(u[h],t,n,h,u,lr(f,n)));return new ga(o,this._parents,t,n)}function uF(e){var t=this._name,n=this._id;typeof e!="function"&&(e=qA(e));for(var r=this._groups,a=r.length,o=[],s=[],i=0;i<a;++i)for(var l=r[i],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var h=e.call(f,f.__data__,d,l),m,x=lr(f,n),b=0,S=h.length;b<S;++b)(m=h[b])&&fh(m,t,n,b,h,x);o.push(h),s.push(f)}return new ga(o,s,t,n)}var dF=Bc.prototype.constructor;function fF(){return new dF(this._groups,this._parents)}function hF(e,t){var n,r,a;return function(){var o=di(this,e),s=(this.style.removeProperty(e),di(this,e));return o===s?null:o===n&&s===r?a:a=t(n=o,r=s)}}function vT(e){return function(){this.style.removeProperty(e)}}function mF(e,t,n){var r,a=n+"",o;return function(){var s=di(this,e);return s===a?null:s===r?o:o=t(r=s,n)}}function pF(e,t,n){var r,a,o;return function(){var s=di(this,e),i=n(this),l=i+"";return i==null&&(l=i=(this.style.removeProperty(e),di(this,e))),s===l?null:s===r&&l===a?o:(a=l,o=t(r=s,i))}}function gF(e,t){var n,r,a,o="style."+t,s="end."+o,i;return function(){var l=Or(this,e),u=l.on,f=l.value[o]==null?i||(i=vT(t)):void 0;(u!==n||a!==f)&&(r=(n=u).copy()).on(s,a=f),l.on=r}}function yF(e,t,n){var r=(e+="")=="transform"?yU:yT;return t==null?this.styleTween(e,hF(e,r)).on("end.style."+e,vT(e)):typeof t=="function"?this.styleTween(e,pF(e,r,xv(this,"style."+e,t))).each(gF(this._id,e)):this.styleTween(e,mF(e,r,t),n).on("end.style."+e,null)}function vF(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function xF(e,t,n){var r,a;function o(){var s=t.apply(this,arguments);return s!==a&&(r=(a=s)&&vF(e,s,n)),r}return o._value=t,o}function bF(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,xF(e,t,n??""))}function wF(e){return function(){this.textContent=e}}function SF(e){return function(){var t=e(this);this.textContent=t??""}}function NF(e){return this.tween("text",typeof e=="function"?SF(xv(this,"text",e)):wF(e==null?"":e+""))}function kF(e){return function(t){this.textContent=e.call(this,t)}}function EF(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&kF(a)),t}return r._value=e,r}function _F(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,EF(e))}function CF(){for(var e=this._name,t=this._id,n=xT(),r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,l,u=0;u<i;++u)if(l=s[u]){var f=lr(l,t);fh(l,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ga(r,this._parents,e,n)}function AF(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,s){var i={value:s},l={value:function(){--a===0&&o()}};n.each(function(){var u=Or(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),u.on=t}),a===0&&o()})}var TF=0;function ga(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function xT(){return++TF}var Zr=Bc.prototype;ga.prototype={constructor:ga,select:cF,selectAll:uF,selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:nF,merge:rF,selection:fF,transition:CF,call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:sF,attr:IU,attrTween:VU,style:yF,styleTween:bF,text:NF,textTween:_F,remove:lF,tween:DU,delay:qU,duration:KU,ease:JU,easeVarying:tF,end:AF,[Symbol.iterator]:Zr[Symbol.iterator]};function jF(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var RF={time:null,delay:0,duration:250,ease:jF};function MF(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function DF(e){var t,n;e instanceof ga?(t=e._id,e=e._name):(t=xT(),(n=RF).time=yv(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var s=r[o],i=s.length,l,u=0;u<i;++u)(l=s[u])&&fh(l,e,t,u,s,n||MF(l,t));return new ga(r,this._parents,e,t)}Bc.prototype.interrupt=jU;Bc.prototype.transition=DF;const wu=e=>()=>e;function zF(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}function na(e,t,n){this.k=e,this.x=t,this.y=n}na.prototype={constructor:na,scale:function(e){return e===1?this:new na(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new na(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _r=new na(1,0,0);na.prototype;function Tm(e){e.stopImmediatePropagation()}function Gi(e){e.preventDefault(),e.stopImmediatePropagation()}function OF(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function PF(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ww(){return this.__zoom||_r}function LF(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $F(){return navigator.maxTouchPoints||"ontouchstart"in this}function BF(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function od(){var e=OF,t=PF,n=BF,r=LF,a=$F,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],i=250,l=SU,u=uh("start","zoom","end"),f,d,h,m=500,x=150,b=0,S=10;function v(T){T.property("__zoom",Ww).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",R).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(T,D,j,L){var z=T.selection?T.selection():T;z.property("__zoom",Ww),T!==z?k(T,D,j,L):z.interrupt().each(function(){C(this,arguments).event(L).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},v.scaleBy=function(T,D,j,L){v.scaleTo(T,function(){var z=this.__zoom.k,M=typeof D=="function"?D.apply(this,arguments):D;return z*M},j,L)},v.scaleTo=function(T,D,j,L){v.transform(T,function(){var z=t.apply(this,arguments),M=this.__zoom,$=j==null?w(z):typeof j=="function"?j.apply(this,arguments):j,I=M.invert($),G=typeof D=="function"?D.apply(this,arguments):D;return n(y(g(M,G),$,I),z,s)},j,L)},v.translateBy=function(T,D,j,L){v.transform(T,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof j=="function"?j.apply(this,arguments):j),t.apply(this,arguments),s)},null,L)},v.translateTo=function(T,D,j,L,z){v.transform(T,function(){var M=t.apply(this,arguments),$=this.__zoom,I=L==null?w(M):typeof L=="function"?L.apply(this,arguments):L;return n(_r.translate(I[0],I[1]).scale($.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof j=="function"?-j.apply(this,arguments):-j),M,s)},L,z)};function g(T,D){return D=Math.max(o[0],Math.min(o[1],D)),D===T.k?T:new na(D,T.x,T.y)}function y(T,D,j){var L=D[0]-j[0]*T.k,z=D[1]-j[1]*T.k;return L===T.x&&z===T.y?T:new na(T.k,L,z)}function w(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function k(T,D,j,L){T.on("start.zoom",function(){C(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(L).end()}).tween("zoom",function(){var z=this,M=arguments,$=C(z,M).event(L),I=t.apply(z,M),G=j==null?w(I):typeof j=="function"?j.apply(z,M):j,U=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),F=z.__zoom,Z=typeof D=="function"?D.apply(z,M):D,J=l(F.invert(G).concat(U/F.k),Z.invert(G).concat(U/Z.k));return function(V){if(V===1)V=Z;else{var ee=J(V),re=U/ee[2];V=new na(re,G[0]-ee[0]*re,G[1]-ee[1]*re)}$.zoom(null,V)}})}function C(T,D,j){return!j&&T.__zooming||new N(T,D)}function N(T,D){this.that=T,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,D),this.taps=0}N.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,D){return this.mouse&&T!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var D=xt(this.that).datum();u.call(T,this.that,new zF(T,{sourceEvent:this.sourceEvent,target:v,transform:this.that.__zoom,dispatch:u}),D)}};function E(T,...D){if(!e.apply(this,arguments))return;var j=C(this,D).event(T),L=this.__zoom,z=Math.max(o[0],Math.min(o[1],L.k*Math.pow(2,r.apply(this,arguments)))),M=pr(T);if(j.wheel)(j.mouse[0][0]!==M[0]||j.mouse[0][1]!==M[1])&&(j.mouse[1]=L.invert(j.mouse[0]=M)),clearTimeout(j.wheel);else{if(L.k===z)return;j.mouse=[M,L.invert(M)],ad(this),j.start()}Gi(T),j.wheel=setTimeout($,x),j.zoom("mouse",n(y(g(L,z),j.mouse[0],j.mouse[1]),j.extent,s));function $(){j.wheel=null,j.end()}}function _(T,...D){if(h||!e.apply(this,arguments))return;var j=T.currentTarget,L=C(this,D,!0).event(T),z=xt(T.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",U,!0),M=pr(T,j),$=T.clientX,I=T.clientY;oT(T.view),Tm(T),L.mouse=[M,this.__zoom.invert(M)],ad(this),L.start();function G(F){if(Gi(F),!L.moved){var Z=F.clientX-$,J=F.clientY-I;L.moved=Z*Z+J*J>b}L.event(F).zoom("mouse",n(y(L.that.__zoom,L.mouse[0]=pr(F,j),L.mouse[1]),L.extent,s))}function U(F){z.on("mousemove.zoom mouseup.zoom",null),sT(F.view,L.moved),Gi(F),L.event(F).end()}}function A(T,...D){if(e.apply(this,arguments)){var j=this.__zoom,L=pr(T.changedTouches?T.changedTouches[0]:T,this),z=j.invert(L),M=j.k*(T.shiftKey?.5:2),$=n(y(g(j,M),L,z),t.apply(this,D),s);Gi(T),i>0?xt(this).transition().duration(i).call(k,$,L,T):xt(this).call(v.transform,$,L,T)}}function R(T,...D){if(e.apply(this,arguments)){var j=T.touches,L=j.length,z=C(this,D,T.changedTouches.length===L).event(T),M,$,I,G;for(Tm(T),$=0;$<L;++$)I=j[$],G=pr(I,this),G=[G,this.__zoom.invert(G),I.identifier],z.touch0?!z.touch1&&z.touch0[2]!==G[2]&&(z.touch1=G,z.taps=0):(z.touch0=G,M=!0,z.taps=1+!!f);f&&(f=clearTimeout(f)),M&&(z.taps<2&&(d=G[0],f=setTimeout(function(){f=null},m)),ad(this),z.start())}}function B(T,...D){if(this.__zooming){var j=C(this,D).event(T),L=T.changedTouches,z=L.length,M,$,I,G;for(Gi(T),M=0;M<z;++M)$=L[M],I=pr($,this),j.touch0&&j.touch0[2]===$.identifier?j.touch0[0]=I:j.touch1&&j.touch1[2]===$.identifier&&(j.touch1[0]=I);if($=j.that.__zoom,j.touch1){var U=j.touch0[0],F=j.touch0[1],Z=j.touch1[0],J=j.touch1[1],V=(V=Z[0]-U[0])*V+(V=Z[1]-U[1])*V,ee=(ee=J[0]-F[0])*ee+(ee=J[1]-F[1])*ee;$=g($,Math.sqrt(V/ee)),I=[(U[0]+Z[0])/2,(U[1]+Z[1])/2],G=[(F[0]+J[0])/2,(F[1]+J[1])/2]}else if(j.touch0)I=j.touch0[0],G=j.touch0[1];else return;j.zoom("touch",n(y($,I,G),j.extent,s))}}function O(T,...D){if(this.__zooming){var j=C(this,D).event(T),L=T.changedTouches,z=L.length,M,$;for(Tm(T),h&&clearTimeout(h),h=setTimeout(function(){h=null},m),M=0;M<z;++M)$=L[M],j.touch0&&j.touch0[2]===$.identifier?delete j.touch0:j.touch1&&j.touch1[2]===$.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&($=pr($,this),Math.hypot(d[0]-$[0],d[1]-$[1])<S)){var I=xt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return v.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:wu(+T),v):r},v.filter=function(T){return arguments.length?(e=typeof T=="function"?T:wu(!!T),v):e},v.touchable=function(T){return arguments.length?(a=typeof T=="function"?T:wu(!!T),v):a},v.extent=function(T){return arguments.length?(t=typeof T=="function"?T:wu([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),v):t},v.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],v):[o[0],o[1]]},v.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(T){return arguments.length?(n=T,v):n},v.duration=function(T){return arguments.length?(i=+T,v):i},v.interpolate=function(T){return arguments.length?(l=T,v):l},v.on=function(){var T=u.on.apply(u,arguments);return T===u?v:T},v.clickDistance=function(T){return arguments.length?(b=(T=+T)*T,v):Math.sqrt(b)},v.tapDistance=function(T){return arguments.length?(S=+T,v):S},v}var Kw=Object.prototype.hasOwnProperty;function Nl(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Nl(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Kw.call(e,n)&&++r&&!Kw.call(t,n)||!(n in t)||!Nl(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var bT={exports:{}};(function(e){var t=function(){function n(h,m){return m!=null&&h instanceof m}var r;try{r=Map}catch{r=function(){}}var a;try{a=Set}catch{a=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(h,m,x,b,S){typeof m=="object"&&(x=m.depth,b=m.prototype,S=m.includeNonEnumerable,m=m.circular);var v=[],g=[],y=typeof Buffer<"u";typeof m>"u"&&(m=!0),typeof x>"u"&&(x=1/0);function w(k,C){if(k===null)return null;if(C===0)return k;var N,E;if(typeof k!="object")return k;if(n(k,r))N=new r;else if(n(k,a))N=new a;else if(n(k,o))N=new o(function(L,z){k.then(function(M){L(w(M,C-1))},function(M){z(w(M,C-1))})});else if(s.__isArray(k))N=[];else if(s.__isRegExp(k))N=new RegExp(k.source,d(k)),k.lastIndex&&(N.lastIndex=k.lastIndex);else if(s.__isDate(k))N=new Date(k.getTime());else{if(y&&Buffer.isBuffer(k))return Buffer.allocUnsafe?N=Buffer.allocUnsafe(k.length):N=new Buffer(k.length),k.copy(N),N;n(k,Error)?N=Object.create(k):typeof b>"u"?(E=Object.getPrototypeOf(k),N=Object.create(E)):(N=Object.create(b),E=b)}if(m){var _=v.indexOf(k);if(_!=-1)return g[_];v.push(k),g.push(N)}n(k,r)&&k.forEach(function(L,z){var M=w(z,C-1),$=w(L,C-1);N.set(M,$)}),n(k,a)&&k.forEach(function(L){var z=w(L,C-1);N.add(z)});for(var A in k){var R;E&&(R=Object.getOwnPropertyDescriptor(E,A)),!(R&&R.set==null)&&(N[A]=w(k[A],C-1))}if(Object.getOwnPropertySymbols)for(var B=Object.getOwnPropertySymbols(k),A=0;A<B.length;A++){var O=B[A],T=Object.getOwnPropertyDescriptor(k,O);T&&!T.enumerable&&!S||(N[O]=w(k[O],C-1),T.enumerable||Object.defineProperty(N,O,{enumerable:!1}))}if(S)for(var D=Object.getOwnPropertyNames(k),A=0;A<D.length;A++){var j=D[A],T=Object.getOwnPropertyDescriptor(k,j);T&&T.enumerable||(N[j]=w(k[j],C-1),Object.defineProperty(N,j,{enumerable:!1}))}return N}return w(h,x)}s.clonePrototype=function(m){if(m===null)return null;var x=function(){};return x.prototype=m,new x};function i(h){return Object.prototype.toString.call(h)}s.__objToStr=i;function l(h){return typeof h=="object"&&i(h)==="[object Date]"}s.__isDate=l;function u(h){return typeof h=="object"&&i(h)==="[object Array]"}s.__isArray=u;function f(h){return typeof h=="object"&&i(h)==="[object RegExp]"}s.__isRegExp=f;function d(h){var m="";return h.global&&(m+="g"),h.ignoreCase&&(m+="i"),h.multiline&&(m+="m"),m}return s.__getRegExpFlags=d,s}();e.exports&&(e.exports=t)})(bT);var IF=bT.exports;const Ft=pf(IF);var Su,HF=new Uint8Array(16);function UF(){if(!Su&&(Su=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Su))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Su(HF)}const FF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function GF(e){return typeof e=="string"&&FF.test(e)}var Mt=[];for(var jm=0;jm<256;++jm)Mt.push((jm+256).toString(16).substr(1));function VF(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Mt[e[t+0]]+Mt[e[t+1]]+Mt[e[t+2]]+Mt[e[t+3]]+"-"+Mt[e[t+4]]+Mt[e[t+5]]+"-"+Mt[e[t+6]]+Mt[e[t+7]]+"-"+Mt[e[t+8]]+Mt[e[t+9]]+"-"+Mt[e[t+10]]+Mt[e[t+11]]+Mt[e[t+12]]+Mt[e[t+13]]+Mt[e[t+14]]+Mt[e[t+15]]).toLowerCase();if(!GF(n))throw TypeError("Stringified UUID is invalid");return n}function Rm(e,t,n){e=e||{};var r=e.random||(e.rng||UF)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,VF(r)}var Ag={exports:{}},wT={exports:{}},ZF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YF=ZF,qF=YF;function ST(){}function NT(){}NT.resetWarningCache=ST;var XF=function(){function e(r,a,o,s,i,l){if(l!==qF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NT,resetWarningCache:ST};return n.PropTypes=n,n};wT.exports=XF();var hh=wT.exports,Tg={exports:{}},WF=function(){for(var t=arguments.length,n=[],r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(a,o){return function(){a.apply(this,arguments),o.apply(this,arguments)}})},KF=function(){},QF=KF;function kT(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function ET(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function _T(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}kT.__suppressDeprecationWarning=!0;ET.__suppressDeprecationWarning=!0;_T.__suppressDeprecationWarning=!0;function JF(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,a=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),n!==null||r!==null||a!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=kT,t.componentWillReceiveProps=ET),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=_T;var i=t.componentDidUpdate;t.componentDidUpdate=function(u,f,d){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;i.call(this,u,f,h)}}return e}const eG=Object.freeze(Object.defineProperty({__proto__:null,polyfill:JF},Symbol.toStringTag,{value:"Module"})),tG=RM(eG);var mh={};mh.__esModule=!0;mh.getChildMapping=rG;mh.mergeChildMappings=aG;var nG=p;function rG(e){if(!e)return e;var t={};return nG.Children.map(e,function(n){return n}).forEach(function(n){t[n.key]=n}),t}function aG(e,t){e=e||{},t=t||{};function n(f){return t.hasOwnProperty(f)?t[f]:e[f]}var r={},a=[];for(var o in e)t.hasOwnProperty(o)?a.length&&(r[o]=a,a=[]):a.push(o);var s=void 0,i={};for(var l in t){if(r.hasOwnProperty(l))for(s=0;s<r[l].length;s++){var u=r[l][s];i[r[l][s]]=n(u)}i[l]=n(l)}for(s=0;s<a.length;s++)i[a[s]]=n(a[s]);return i}(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(g[k]=w[k])}return g},r=WF,a=h(r),o=p,s=h(o),i=hh,l=h(i),u=QF;h(u);var f=tG,d=mh;function h(g){return g&&g.__esModule?g:{default:g}}function m(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function x(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function b(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}l.default.any,l.default.func,l.default.node;var S={component:"span",childFactory:function(y){return y}},v=function(g){b(y,g);function y(w,k){m(this,y);var C=x(this,g.call(this,w,k));return C.performAppear=function(N,E){C.currentlyTransitioningKeys[N]=!0,E.componentWillAppear?E.componentWillAppear(C._handleDoneAppearing.bind(C,N,E)):C._handleDoneAppearing(N,E)},C._handleDoneAppearing=function(N,E){E&&E.componentDidAppear&&E.componentDidAppear(),delete C.currentlyTransitioningKeys[N];var _=(0,d.getChildMapping)(C.props.children);(!_||!_.hasOwnProperty(N))&&C.performLeave(N,E)},C.performEnter=function(N,E){C.currentlyTransitioningKeys[N]=!0,E.componentWillEnter?E.componentWillEnter(C._handleDoneEntering.bind(C,N,E)):C._handleDoneEntering(N,E)},C._handleDoneEntering=function(N,E){E&&E.componentDidEnter&&E.componentDidEnter(),delete C.currentlyTransitioningKeys[N];var _=(0,d.getChildMapping)(C.props.children);(!_||!_.hasOwnProperty(N))&&C.performLeave(N,E)},C.performLeave=function(N,E){C.currentlyTransitioningKeys[N]=!0,E&&E.componentWillLeave?E.componentWillLeave(C._handleDoneLeaving.bind(C,N,E)):C._handleDoneLeaving(N,E)},C._handleDoneLeaving=function(N,E){E&&E.componentDidLeave&&E.componentDidLeave(),delete C.currentlyTransitioningKeys[N];var _=(0,d.getChildMapping)(C.props.children);_&&_.hasOwnProperty(N)?C.keysToEnter.push(N):C.setState(function(A){var R=n({},A.children);return delete R[N],{children:R}})},C.childRefs=Object.create(null),C.currentlyTransitioningKeys={},C.keysToEnter=[],C.keysToLeave=[],C.state={children:(0,d.getChildMapping)(w.children)},C}return y.prototype.componentDidMount=function(){var k=this.state.children;for(var C in k)k[C]&&this.performAppear(C,this.childRefs[C])},y.getDerivedStateFromProps=function(k,C){var N=(0,d.getChildMapping)(k.children),E=C.children;return{children:(0,d.mergeChildMappings)(E,N)}},y.prototype.componentDidUpdate=function(k,C){var N=this,E=(0,d.getChildMapping)(this.props.children),_=C.children;for(var A in E){var R=_&&_.hasOwnProperty(A);E[A]&&!R&&!this.currentlyTransitioningKeys[A]&&this.keysToEnter.push(A)}for(var B in _){var O=E&&E.hasOwnProperty(B);_[B]&&!O&&!this.currentlyTransitioningKeys[B]&&this.keysToLeave.push(B)}var T=this.keysToEnter;this.keysToEnter=[],T.forEach(function(j){return N.performEnter(j,N.childRefs[j])});var D=this.keysToLeave;this.keysToLeave=[],D.forEach(function(j){return N.performLeave(j,N.childRefs[j])})},y.prototype.render=function(){var k=this,C=[],N=function(R){var B=k.state.children[R];if(B){var O=typeof B.ref!="string",T=k.props.childFactory(B),D=function(L){k.childRefs[R]=L};T===B&&O&&(D=(0,a.default)(B.ref,D)),C.push(s.default.cloneElement(T,{key:R,ref:D}))}};for(var E in this.state.children)N(E);var _=n({},this.props);return delete _.transitionLeave,delete _.transitionName,delete _.transitionAppear,delete _.transitionEnter,delete _.childFactory,delete _.transitionLeaveTimeout,delete _.transitionEnterTimeout,delete _.transitionAppearTimeout,delete _.component,s.default.createElement(this.props.component,_,C)},y}(s.default.Component);v.displayName="TransitionGroup",v.propTypes={},v.defaultProps=S,t.default=(0,f.polyfill)(v),e.exports=t.default})(Tg,Tg.exports);var CT=Tg.exports,jg={exports:{}},Rg={exports:{}},AT={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(AT);var bv=AT.exports,Nu={exports:{}},Qw;function oG(){return Qw||(Qw=1,function(e,t){t.__esModule=!0,t.default=n;function n(r,a){return r.classList?!!a&&r.classList.contains(a):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+a+" ")!==-1}e.exports=t.default}(Nu,Nu.exports)),Nu.exports}(function(e,t){var n=bv;t.__esModule=!0,t.default=a;var r=n(oG());function a(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}e.exports=t.default})(Rg,Rg.exports);var sG=Rg.exports;function Jw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var iG=function(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=Jw(t.className,n):t.setAttribute("class",Jw(t.className&&t.className.baseVal||"",n))},Mg={exports:{}},ku={exports:{}},e1;function TT(){return e1||(e1=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);t.default=n,e.exports=t.default}(ku,ku.exports)),ku.exports}(function(e,t){var n=bv;t.__esModule=!0,t.default=void 0;var r=n(TT()),a=["","webkit","moz","o","ms"],o="clearTimeout",s=f,i,l=function(m,x){return m+(m?x[0].toUpperCase()+x.substr(1):x)+"AnimationFrame"};r.default&&a.some(function(h){var m=l(h,"request");if(m in window)return o=l(h,"cancel"),s=function(b){return window[m](b)}});var u=new Date().getTime();function f(h){var m=new Date().getTime(),x=Math.max(0,16-(m-u)),b=setTimeout(h,x);return u=m,b}i=function(m){return s(m)},i.cancel=function(h){window[o]&&typeof window[o]=="function"&&window[o](h)};var d=i;t.default=d,e.exports=t.default})(Mg,Mg.exports);var lG=Mg.exports,Ee={},cG=bv;Ee.__esModule=!0;Ee.default=Ee.animationEnd=Ee.animationDelay=Ee.animationTiming=Ee.animationDuration=Ee.animationName=Ee.transitionEnd=Ee.transitionDuration=Ee.transitionDelay=Ee.transitionTiming=Ee.transitionProperty=Ee.transform=void 0;var uG=cG(TT()),sf="transform";Ee.transform=sf;var mr,wv,jT;Ee.animationEnd=jT;Ee.transitionEnd=wv;var Sv,Nv,kv,Ev;Ee.transitionDelay=Ev;Ee.transitionTiming=kv;Ee.transitionDuration=Nv;Ee.transitionProperty=Sv;var RT,MT,DT,zT;Ee.animationDelay=zT;Ee.animationTiming=DT;Ee.animationDuration=MT;Ee.animationName=RT;if(uG.default){var Mm=fG();mr=Mm.prefix,Ee.transitionEnd=wv=Mm.transitionEnd,Ee.animationEnd=jT=Mm.animationEnd,Ee.transform=sf=mr+"-"+sf,Ee.transitionProperty=Sv=mr+"-transition-property",Ee.transitionDuration=Nv=mr+"-transition-duration",Ee.transitionDelay=Ev=mr+"-transition-delay",Ee.transitionTiming=kv=mr+"-transition-timing-function",Ee.animationName=RT=mr+"-animation-name",Ee.animationDuration=MT=mr+"-animation-duration",Ee.animationTiming=DT=mr+"-animation-delay",Ee.animationDelay=zT=mr+"-animation-timing-function"}var dG={transform:sf,end:wv,property:Sv,timing:kv,delay:Ev,duration:Nv};Ee.default=dG;function fG(){for(var e=document.createElement("div").style,t={O:function(u){return"o"+u.toLowerCase()},Moz:function(u){return u.toLowerCase()},Webkit:function(u){return"webkit"+u},ms:function(u){return"MS"+u}},n=Object.keys(t),r,a,o="",s=0;s<n.length;s++){var i=n[s];if(i+"TransitionProperty"in e){o="-"+i.toLowerCase(),r=t[i]("TransitionEnd"),a=t[i]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!a&&"animationName"in e&&(a="animationend"),e=null,{animationEnd:a,transitionEnd:r,prefix:o}}var Mi={};Mi.__esModule=!0;Mi.nameShape=void 0;Mi.transitionTimeout=pG;var hG=p;OT(hG);var mG=hh,fn=OT(mG);function OT(e){return e&&e.__esModule?e:{default:e}}function pG(e){var t="transition"+e+"Timeout",n="transition"+e;return function(r){if(r[n]){if(r[t]==null)return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof r[t]!="number")return new Error(t+" must be a number (in milliseconds)")}return null}}Mi.nameShape=fn.default.oneOfType([fn.default.string,fn.default.shape({enter:fn.default.string,leave:fn.default.string,active:fn.default.string}),fn.default.shape({enter:fn.default.string,enterActive:fn.default.string,leave:fn.default.string,leaveActive:fn.default.string,appear:fn.default.string,appearActive:fn.default.string})]);(function(e,t){t.__esModule=!0;var n=Object.assign||function(N){for(var E=1;E<arguments.length;E++){var _=arguments[E];for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&(N[A]=_[A])}return N},r=sG,a=S(r),o=iG,s=S(o),i=lG,l=S(i),u=Ee,f=p,d=S(f),h=hh,m=S(h),x=ic,b=Mi;function S(N){return N&&N.__esModule?N:{default:N}}function v(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function g(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function y(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var w=[];u.transitionEnd&&w.push(u.transitionEnd),u.animationEnd&&w.push(u.animationEnd);function k(N,E){return w.length?w.forEach(function(_){return N.addEventListener(_,E,!1)}):setTimeout(E,0),function(){w.length&&w.forEach(function(_){return N.removeEventListener(_,E,!1)})}}m.default.node,b.nameShape.isRequired,m.default.bool,m.default.bool,m.default.bool,m.default.number,m.default.number,m.default.number;var C=function(N){y(E,N);function E(_,A){v(this,E);var R=g(this,N.call(this,_,A));return R.componentWillAppear=function(B){R.props.appear?R.transition("appear",B,R.props.appearTimeout):B()},R.componentWillEnter=function(B){R.props.enter?R.transition("enter",B,R.props.enterTimeout):B()},R.componentWillLeave=function(B){R.props.leave?R.transition("leave",B,R.props.leaveTimeout):B()},R.classNameAndNodeQueue=[],R.transitionTimeouts=[],R}return E.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(A){clearTimeout(A)}),this.classNameAndNodeQueue.length=0},E.prototype.transition=function(A,R,B){var O=(0,x.findDOMNode)(this);if(!O){R&&R();return}var T=this.props.name[A]||this.props.name+"-"+A,D=this.props.name[A+"Active"]||T+"-active",j=null,L=void 0;(0,a.default)(O,T),this.queueClassAndNode(D,O);var z=function($){$&&$.target!==O||(clearTimeout(j),L&&L(),(0,s.default)(O,T),(0,s.default)(O,D),L&&L(),R&&R())};B?(j=setTimeout(z,B),this.transitionTimeouts.push(j)):u.transitionEnd&&(L=k(O,z))},E.prototype.queueClassAndNode=function(A,R){var B=this;this.classNameAndNodeQueue.push({className:A,node:R}),this.rafHandle||(this.rafHandle=(0,l.default)(function(){return B.flushClassNameAndNodeQueue()}))},E.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(A){A.node.scrollTop,(0,a.default)(A.node,A.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},E.prototype.render=function(){var A=n({},this.props);return delete A.name,delete A.appear,delete A.enter,delete A.leave,delete A.appearTimeout,delete A.enterTimeout,delete A.leaveTimeout,delete A.children,d.default.cloneElement(d.default.Children.only(this.props.children),A)},E}(d.default.Component);C.displayName="CSSTransitionGroupChild",C.propTypes={},t.default=C,e.exports=t.default})(jg,jg.exports);var gG=jg.exports;(function(e,t){t.__esModule=!0;var n=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var w=arguments[y];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(g[k]=w[k])}return g},r=p,a=h(r),o=hh,s=h(o),i=CT,l=h(i),u=gG,f=h(u),d=Mi;function h(g){return g&&g.__esModule?g:{default:g}}function m(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function x(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function b(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}d.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,d.transitionTimeout)("Appear"),(0,d.transitionTimeout)("Enter"),(0,d.transitionTimeout)("Leave");var S={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},v=function(g){b(y,g);function y(){var w,k,C;m(this,y);for(var N=arguments.length,E=Array(N),_=0;_<N;_++)E[_]=arguments[_];return C=(w=(k=x(this,g.call.apply(g,[this].concat(E))),k),k._wrapChild=function(A){return a.default.createElement(f.default,{name:k.props.transitionName,appear:k.props.transitionAppear,enter:k.props.transitionEnter,leave:k.props.transitionLeave,appearTimeout:k.props.transitionAppearTimeout,enterTimeout:k.props.transitionEnterTimeout,leaveTimeout:k.props.transitionLeaveTimeout},A)},w),x(k,C)}return y.prototype.render=function(){return a.default.createElement(l.default,n({},this.props,{childFactory:this._wrapChild}))},y}(a.default.Component);v.displayName="CSSTransitionGroup",v.propTypes={},v.defaultProps=S,t.default=v,e.exports=t.default})(Ag,Ag.exports);var yG=Ag.exports,vG=yG,xG=PT(vG),bG=CT,wG=PT(bG);function PT(e){return e&&e.__esModule?e:{default:e}}var SG={TransitionGroup:wG.default,CSSTransitionGroup:xG.default};const NG=e=>e.enableLegacyTransitions?P.createElement(SG.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):P.createElement("g",{className:e.className,transform:e.transform},e.children),kG=15,t1={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},EG=({nodeDatum:e,toggleNode:t,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:a})=>P.createElement(P.Fragment,null,P.createElement("circle",{r:kG,onClick:o=>{t(),n(o)},onMouseOver:r,onMouseOut:a}),P.createElement("g",{className:"rd3t-label"},P.createElement("text",Object.assign({className:"rd3t-label__title"},t1.title),e.name),P.createElement("text",{className:"rd3t-label__attributes"},e.attributes&&Object.entries(e.attributes).map(([o,s],i)=>P.createElement("tspan",Object.assign({key:`${o}-${i}`},t1.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));let _G=class extends P.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(t,n,r,a)=>n.subscriptions!==t.subscriptions||n.position.x!==t.position.x||n.position.y!==t.position.y||n.orientation!==t.orientation||a.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:t,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,a=typeof r=="function"?r:EG,o={hierarchyPointNode:n,nodeDatum:t,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return a(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=t=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,t)},this.handleOnMouseOver=t=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,t)},this.handleOnMouseOut=t=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,t)},this.handleAddChildren=t=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,t)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(t,n){return this.shouldNodeTransform(this.props,t,this.state,n)}setTransform(t,n,r,a=!1){if(a){const o=n!=null,s=o?n.x:0,i=o?n.y:0;return r==="horizontal"?`translate(${i},${s})`:`translate(${s},${i})`}return r==="horizontal"?`translate(${t.y},${t.x})`:`translate(${t.x},${t.y})`}applyTransform(t,n,r=1,a=()=>{}){this.props.enableLegacyTransitions?xt(this.nodeRef).transition().duration(n).attr("transform",t).style("opacity",r).on("end",a):(xt(this.nodeRef).attr("transform",t).style("opacity",r),a())}commitTransform(){const{orientation:t,transitionDuration:n,position:r,parent:a}=this.props,o=this.setTransform(r,a,t);this.applyTransform(o,n)}componentWillLeave(t){const{orientation:n,transitionDuration:r,position:a,parent:o}=this.props,s=this.setTransform(a,o,n,!0);this.applyTransform(s,r,0,t)}render(){const{data:t,nodeClassName:n}=this.props;return P.createElement("g",{id:t.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[t.children&&t.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}};var Dg=Math.PI,zg=2*Dg,wo=1e-6,CG=zg-wo;function Og(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function LT(){return new Og}Og.prototype=LT.prototype={constructor:Og,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,a,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+o)},arcTo:function(e,t,n,r,a){e=+e,t=+t,n=+n,r=+r,a=+a;var o=this._x1,s=this._y1,i=n-e,l=r-t,u=o-e,f=s-t,d=u*u+f*f;if(a<0)throw new Error("negative radius: "+a);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>wo)if(!(Math.abs(f*i-l*u)>wo)||!a)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var h=n-o,m=r-s,x=i*i+l*l,b=h*h+m*m,S=Math.sqrt(x),v=Math.sqrt(d),g=a*Math.tan((Dg-Math.acos((x+d-b)/(2*S*v)))/2),y=g/v,w=g/S;Math.abs(y-1)>wo&&(this._+="L"+(e+y*u)+","+(t+y*f)),this._+="A"+a+","+a+",0,0,"+ +(f*h>u*m)+","+(this._x1=e+w*i)+","+(this._y1=t+w*l)}},arc:function(e,t,n,r,a,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),i=n*Math.sin(r),l=e+s,u=t+i,f=1^o,d=o?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>wo||Math.abs(this._y1-u)>wo)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%zg+zg),d>CG?this._+="A"+n+","+n+",0,1,"+f+","+(e-s)+","+(t-i)+"A"+n+","+n+",0,1,"+f+","+(this._x1=l)+","+(this._y1=u):d>wo&&(this._+="A"+n+","+n+",0,"+ +(d>=Dg)+","+f+","+(this._x1=e+n*Math.cos(a))+","+(this._y1=t+n*Math.sin(a))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function n1(e){return function(){return e}}function AG(e){return e[0]}function TG(e){return e[1]}var jG=Array.prototype.slice;function RG(e){return e.source}function MG(e){return e.target}function $T(e){var t=RG,n=MG,r=AG,a=TG,o=null;function s(){var i,l=jG.call(arguments),u=t.apply(this,l),f=n.apply(this,l);if(o||(o=i=LT()),e(o,+r.apply(this,(l[0]=u,l)),+a.apply(this,l),+r.apply(this,(l[0]=f,l)),+a.apply(this,l)),i)return o=null,i+""||null}return s.source=function(i){return arguments.length?(t=i,s):t},s.target=function(i){return arguments.length?(n=i,s):n},s.x=function(i){return arguments.length?(r=typeof i=="function"?i:n1(+i),s):r},s.y=function(i){return arguments.length?(a=typeof i=="function"?i:n1(+i),s):a},s.context=function(i){return arguments.length?(o=i??null,s):o},s}function DG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,a,r,a)}function zG(e,t,n,r,a){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+a)/2,r,n,r,a)}function OG(){return $T(DG)}function PG(){return $T(zG)}class LG extends P.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=t=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOver=t=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOut=t=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,t)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(t){this.applyOpacity(0,this.props.transitionDuration,t)}applyOpacity(t,n,r=()=>{}){this.props.enableLegacyTransitions?xt(this.linkRef).transition().duration(n).style("opacity",t).on("end",r):(xt(this.linkRef).style("opacity",t),r())}drawStepPath(t,n){const{source:r,target:a}=t,o=a.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${a.x} H${a.y}`:`M${r.x},${r.y} V${r.y+o/2} H${a.x} V${a.y}`}drawDiagonalPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?OG()({source:[r.y,r.x],target:[a.y,a.x]}):PG()({source:[r.x,r.y],target:[a.x,a.y]})}drawStraightPath(t,n){const{source:r,target:a}=t;return n==="horizontal"?`M${r.y},${r.x}L${a.y},${a.x}`:`M${r.x},${r.y}L${a.x},${a.y}`}drawElbowPath(t,n){return n==="horizontal"?`M${t.source.y},${t.source.x}V${t.target.x}H${t.target.y}`:`M${t.source.x},${t.source.y}V${t.target.y}H${t.target.x}`}drawPath(){const{linkData:t,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(t,n):r==="elbow"?this.drawElbowPath(t,n):r==="straight"?this.drawStraightPath(t,n):r==="step"?this.drawStepPath(t,n):this.drawDiagonalPath(t,n)}getClassNames(){const{linkData:t,orientation:n,pathClassFunc:r}=this.props,a=["rd3t-link"];return typeof r=="function"&&a.push(r(t,n)),a.join(" ").trim()}render(){const{linkData:t}=this.props;return P.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":t.source.id,"data-target-id":t.target.id})}}const $G=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class Rn extends P.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:Rn.assignInternalProperties(Ft(this.props.data)),d3:Rn.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${Rm()}`,this.gInstanceRef=`rd3t-g-${Rm()}`,this.handleNodeToggle=t=>{const n=Ft(this.state.data),a=this.findNodesById(t,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(a.__rd3t.collapsed?(Rn.expandNode(a),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(a,n)):Rn.collapseNode(a),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=a)},this.handleAddChildrenToNode=(t,n)=>{const r=Ft(this.state.data),a=this.findNodesById(t,r,[]);if(a.length>0){const o=a[0],s=o.__rd3t.depth,i=Ft(n).map(l=>Rn.assignInternalProperties([l],s+1));o.children.push(...i.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(t,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ft(t),n))},this.handleOnLinkClickCb=(t,n,r)=>{const{onLinkClick:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ft(t),Ft(n),r))},this.handleOnNodeMouseOverCb=(t,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ft(t),n))},this.handleOnLinkMouseOverCb=(t,n,r)=>{const{onLinkMouseOver:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ft(t),Ft(n),r))},this.handleOnNodeMouseOutCb=(t,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(Ft(t),n))},this.handleOnLinkMouseOutCb=(t,n,r)=>{const{onLinkMouseOut:a}=this.props;a&&typeof a=="function"&&(r.persist(),a(Ft(t),Ft(n),r))},this.centerNode=t=>{const{dimensions:n,orientation:r,zoom:a,centeringTransitionDuration:o}=this.props;if(n){const s=xt(`.${this.gInstanceRef}`),i=xt(`.${this.svgInstanceRef}`),l=this.state.d3.scale;let u,f;r==="horizontal"?(f=-t.x*l+n.height/2,u=-t.y*l+n.width/2):(u=-t.x*l+n.width/2,f=-t.y*l+n.height/2),s.transition().duration(o).attr("transform","translate("+u+","+f+")scale("+l+")"),i.call(od().transform,_r.translate(u,f).scale(a))}},this.getNodeClassName=(t,n)=>{const{rootNodeClassName:r,branchNodeClassName:a,leafNodeClassName:o}=this.props;return t!=null?n.children?a:o:r}}static getDerivedStateFromProps(t,n){let r=null;const a=!t.dataKey||n.dataKey!==t.dataKey;t.data!==n.dataRef&&a&&(r={dataRef:t.data,data:Rn.assignInternalProperties(Ft(t.data)),isInitialRenderForDataset:!0,dataKey:t.dataKey});const o=Rn.calculateD3Geometry(t);return Nl(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(t){this.props.data!==t.data&&this.setState({isInitialRenderForDataset:!1}),(!Nl(this.props.translate,t.translate)||!Nl(this.props.scaleExtent,t.scaleExtent)||this.props.zoomable!==t.zoomable||this.props.draggable!==t.draggable||this.props.zoom!==t.zoom||this.props.enableLegacyTransitions!==t.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?Ft(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(t,n){t.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(t){const{zoomable:n,scaleExtent:r,translate:a,zoom:o,onUpdate:s,hasInteractiveNodes:i}=t,l=xt(`.${this.svgInstanceRef}`),u=xt(`.${this.gInstanceRef}`);l.call(od().transform,_r.translate(a.x,a.y).scale(o)),l.call(od().scaleExtent(n?[r.min,r.max]:[o,o]).filter(f=>i?f.target.classList.contains(this.svgInstanceRef)||f.target.classList.contains(this.gInstanceRef)||f.shiftKey:!0).on("zoom",f=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(f.sourceEvent.type)||(u.attr("transform",f.transform),typeof s=="function"&&(s({node:null,zoom:f.transform.k,translate:{x:f.transform.x,y:f.transform.y}}),this.state.d3.scale=f.transform.k,this.state.d3.translate={x:f.transform.x,y:f.transform.y}))}))}static assignInternalProperties(t,n=0){return(Array.isArray(t)?t:[t]).map(a=>{const o=a;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=Rm(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=Rn.assignInternalProperties(o.children,n+1)),o})}findNodesById(t,n,r){return r.length>0||(r=r.concat(n.filter(a=>a.__rd3t.id===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesById(t,a.children,r))})),r}findNodesAtDepth(t,n,r){return r=r.concat(n.filter(a=>a.__rd3t.depth===t)),n.forEach(a=>{a.children&&a.children.length>0&&(r=this.findNodesAtDepth(t,a.children,r))}),r}static collapseNode(t){t.__rd3t.collapsed=!0,t.children&&t.children.length>0&&t.children.forEach(n=>{Rn.collapseNode(n)})}static expandNode(t){t.__rd3t.collapsed=!1}collapseNeighborNodes(t,n){this.findNodesAtDepth(t.__rd3t.depth,n,[]).filter(a=>a.__rd3t.id!==t.__rd3t.id).forEach(a=>Rn.collapseNode(a))}generateTree(){const{initialDepth:t,depthFactor:n,separation:r,nodeSize:a,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,l=lH().nodeSize(o==="horizontal"?[a.y,a.x]:[a.x,a.y]).separation((d,h)=>d.parent.data.__rd3t.id===h.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(hv(this.state.data[0],d=>d.__rd3t.collapsed?null:d.children));let u=l.descendants();const f=l.links();return t!==void 0&&s&&this.setInitialTreeDepth(u,t),n&&u.forEach(d=>{d.y=d.depth*n}),{nodes:u,links:f}}static calculateD3Geometry(t){let n;return t.zoom>t.scaleExtent.max?n=t.scaleExtent.max:t.zoom<t.scaleExtent.min?n=t.scaleExtent.min:n=t.zoom,{translate:t.translate,scale:n}}render(){const{nodes:t,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:a,pathFunc:o,transitionDuration:s,nodeSize:i,depthFactor:l,initialDepth:u,separation:f,enableLegacyTransitions:d,svgClassName:h,pathClassFunc:m}=this.props,{translate:x,scale:b}=this.state.d3,S=Object.assign(Object.assign(Object.assign({},i),f),{depthFactor:l,initialDepth:u});return P.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},P.createElement("style",null,$G),P.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${h}`,width:"100%",height:"100%"},P.createElement(NG,{enableLegacyTransitions:d,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${x.x},${x.y}) scale(${b})`},n.map((v,g)=>P.createElement(LG,{key:"link-"+g,orientation:a,pathFunc:o,pathClassFunc:m,linkData:v,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:d,transitionDuration:s})),t.map((v,g)=>{const{data:y,x:w,y:k,parent:C}=v;return P.createElement(_G,{key:"node-"+g,data:y,position:{x:w,y:k},hierarchyPointNode:v,parent:C,nodeClassName:this.getNodeClassName(C,y),renderCustomNodeElement:r,nodeSize:i,orientation:a,enableLegacyTransitions:d,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:S,centerNode:this.centerNode})}))))}}Rn.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};function BG({items:e,filters:t=[]}){const[n,r]=p.useState(null),[a,o]=p.useState("grid"),[s,i]=p.useState({search:"",selectedFilters:{},selectedTags:[]}),l=p.useMemo(()=>{let x=e;if(s.search){const b=s.search.toLowerCase();x=x.filter(S=>S.name.toLowerCase().includes(b)||S.description.toLowerCase().includes(b)||S.tags.some(v=>v.toLowerCase().includes(b)))}return s.selectedTags.length>0&&(x=x.filter(b=>s.selectedTags.some(S=>b.tags.includes(S.value)||b.category===S.value||b.name.toLowerCase().includes(S.value.toLowerCase())))),x},[e,s]),u=p.useMemo(()=>t.length===0?[]:t.map(x=>({...x,options:x.options.map(b=>({...b,count:e.filter(S=>S.tags.includes(b.value)||S.category===b.value).length}))})),[t,e]),f=p.useCallback(x=>{r(x)},[]),d=p.useCallback(x=>{i(x)},[]),h=p.useCallback(x=>{i(b=>({...b,search:x}))},[]),m=p.useCallback(x=>{o(x)},[]);return{selectedItem:n,viewMode:a,currentFilters:s,filteredItems:l,filtersWithCounts:u,handleItemSelect:f,handleFiltersChange:d,handleSearch:h,handleViewModeChange:m,setSelectedItem:r}}function IG({item:e,originalNode:t,allNodes:n}){const r=a=>n.filter(o=>o.prerequisites.includes(a)).map(o=>o.name);return c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t&&t.prerequisites.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Prereq:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:t.prerequisites.map((a,o)=>c.jsx(ge,{variant:"outline",className:"text-xs bg-orange-50 text-orange-700 border-orange-200",children:a},o))})]}),t&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Leads to:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[r(t.name).map((a,o)=>c.jsx(ge,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:a},o)),r(t.name).length===0&&c.jsx("span",{className:"text-xs text-muted-foreground",children:"Terminal"})]})]}),e.tags.length>0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs font-semibold text-foreground",children:"Tags:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.map((a,o)=>c.jsx(ge,{variant:"secondary",className:"text-xs",children:a},o))})]})]})}function HG({items:e,allNodes:t}){return c.jsx(qd,{className:"h-[calc(100vh-500px)]",children:c.jsx(sv,{type:"single",collapsible:!0,className:"w-full",children:e.map(n=>c.jsxs(nh,{value:n.id,children:[c.jsx(rh,{className:"text-left hover:no-underline",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-bold text-base text-foreground truncate hover:underline",children:n.name}),c.jsx("div",{className:"text-base text-muted-foreground truncate",children:n.description})]})}),c.jsx(ah,{children:c.jsx(IG,{item:n,originalNode:t.find(r=>r.id===n.id),allNodes:t})})]},n.id))})})}function r1(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]);p.useEffect(()=>{async function y(){try{r(!0);const w=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!w.ok)throw new Error("Failed to fetch destiny data");const C=(await w.json()).map((N,E)=>({id:N.globalFormId||`destiny-${E}`,name:N.name,description:N.description,tags:[],prerequisites:N.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:N.globalFormId}));C.forEach(N=>{const E=[];N.description.toLowerCase().includes("magicka")&&E.push("Magic"),N.description.toLowerCase().includes("health")&&E.push("Defensive"),N.description.toLowerCase().includes("stamina")&&E.push("Utility"),N.description.toLowerCase().includes("damage")&&E.push("Offensive"),N.description.toLowerCase().includes("armor")&&E.push("Defensive"),N.description.toLowerCase().includes("spell")&&E.push("Magic"),N.description.toLowerCase().includes("weapon")&&E.push("Combat"),N.tags=E}),t(C)}catch(w){o("Failed to load destiny data"),console.error("Error loading destiny data:",w)}finally{r(!1)}}y()},[]);const l=e.map(y=>({id:y.id,name:y.name,description:y.description,tags:y.tags,summary:y.description,effects:[],associatedItems:[],imageUrl:void 0,category:void 0})),f=(()=>{const y=[...new Set(e.flatMap(k=>k.tags))],w=[...new Set(e.flatMap(k=>k.prerequisites))];return[{id:"tags",name:"Tags",placeholder:"Search by tag...",options:y.map(k=>({id:`tag-${k}`,label:k,value:k,category:"Tags",description:`Destiny nodes with ${k} tag`}))},{id:"prerequisites",name:"Prerequisites",placeholder:"Search by prerequisite...",options:w.map(k=>({id:`prereq-${k}`,label:k,value:k,category:"Prerequisites",description:`Destiny nodes requiring ${k}`}))}]})(),{filteredItems:d,currentFilters:h,handleFiltersChange:m,handleSearch:x}=BG({items:l,filters:[]}),{handleTagSelect:b,handleTagRemove:S}=fv({initialFilters:h,onFiltersChange:m,onSearch:x}),v=y=>{const w=e.find(k=>k.id===y);w&&i(k=>k.some(N=>N.id===y)?k.filter(N=>N.id!==y):[...k,{id:y,name:w.name,description:w.description,levelRequirement:w.levelRequirement}])},g=y=>{i(w=>w.filter(k=>k.id!==y))};return n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading destiny data..."})]})}):a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:a}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsx(Ai,{title:"Destiny",description:"Plan your character's destiny through the perk tree. Each node represents a powerful ability or enhancement that will shape your journey.",children:c.jsx("div",{className:"mb-6",children:c.jsxs(Sy,{defaultValue:"path",className:"w-full",children:[c.jsxs(Ny,{className:"grid w-full grid-cols-2",children:[c.jsx(Fl,{value:"path",children:"Path Builder"}),c.jsx(Fl,{value:"reference",children:"Reference"})]}),c.jsxs(Bd,{value:"reference",className:"space-y-4",children:[c.jsx(_B,{searchCategories:f,selectedTags:h.selectedTags,onTagSelect:b,onTagRemove:S}),c.jsx("div",{className:"w-full",children:c.jsx(HG,{items:d,allNodes:e})})]}),c.jsx(Bd,{value:"path",className:"space-y-4",children:c.jsx(B9,{nodes:e,plannedNodes:s,onNodePlan:v,onNodeUnplan:g})})]})})})}function qt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=qt(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var BT={exports:{}},IT={},HT={exports:{}},UT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hi=p;function UG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var FG=typeof Object.is=="function"?Object.is:UG,GG=hi.useState,VG=hi.useEffect,ZG=hi.useLayoutEffect,YG=hi.useDebugValue;function qG(e,t){var n=t(),r=GG({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return ZG(function(){a.value=n,a.getSnapshot=t,Dm(a)&&o({inst:a})},[e,n,t]),VG(function(){return Dm(a)&&o({inst:a}),e(function(){Dm(a)&&o({inst:a})})},[e]),YG(n),n}function Dm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!FG(e,n)}catch{return!0}}function XG(e,t){return t()}var WG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XG:qG;UT.useSyncExternalStore=hi.useSyncExternalStore!==void 0?hi.useSyncExternalStore:WG;HT.exports=UT;var KG=HT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=p,QG=KG;function JG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eV=typeof Object.is=="function"?Object.is:JG,tV=QG.useSyncExternalStore,nV=ph.useRef,rV=ph.useEffect,aV=ph.useMemo,oV=ph.useDebugValue;IT.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=nV(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=aV(function(){function l(m){if(!u){if(u=!0,f=m,m=r(m),a!==void 0&&s.hasValue){var x=s.value;if(a(x,m))return d=x}return d=m}if(x=d,eV(f,m))return x;var b=r(m);return a!==void 0&&a(x,b)?(f=m,x):(f=m,d=b)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,a]);var i=tV(e,o[0],o[1]);return rV(function(){s.hasValue=!0,s.value=i},[i]),oV(i),i};BT.exports=IT;var sV=BT.exports;const iV=pf(sV),lV={},a1=e=>{let t;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const m=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,m))}},a=()=>t,l={setState:r,getState:a,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(lV?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,a,l);return l},cV=e=>e?a1(e):a1,{useDebugValue:uV}=P,{useSyncExternalStoreWithSelector:dV}=iV,fV=e=>e;function FT(e,t=fV,n){const r=dV(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return uV(r),r}const o1=(e,t)=>{const n=cV(e),r=(a,o=t)=>FT(n,a,o);return Object.assign(r,n),r},hV=(e,t)=>e?o1(e,t):o1;function an(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const gh=p.createContext(null),mV=gh.Provider,ya={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},GT=ya.error001();function Je(e,t){const n=p.useContext(gh);if(n===null)throw new Error(GT);return FT(n,e,t)}const At=()=>{const e=p.useContext(gh);if(e===null)throw new Error(GT);return p.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},pV=e=>e.userSelectionActive?"none":"all";function VT({position:e,children:t,className:n,style:r,...a}){const o=Je(pV),s=`${e}`.split("-");return P.createElement("div",{className:qt(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...a},t)}function gV({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:P.createElement(VT,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},P.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const yV=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:a=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:i=2,children:l,className:u,...f})=>{const d=p.useRef(null),[h,m]=p.useState({x:0,y:0,width:0,height:0}),x=qt(["react-flow__edge-textwrapper",u]);return p.useEffect(()=>{if(d.current){const b=d.current.getBBox();m({x:b.x,y:b.y,width:b.width,height:b.height})}},[n]),typeof n>"u"||!n?null:P.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...f},a&&P.createElement("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:i,ry:i}),P.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:d,style:r},n),l)};var vV=p.memo(yV);const _v=e=>({width:e.offsetWidth,height:e.offsetHeight}),mi=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Cv=(e={x:0,y:0},t)=>({x:mi(e.x,t[0][0],t[1][0]),y:mi(e.y,t[0][1],t[1][1])}),s1=(e,t,n)=>e<t?mi(Math.abs(e-t),1,50)/50:e>n?-mi(Math.abs(e-n),1,50)/50:0,ZT=(e,t)=>{const n=s1(e.x,35,t.width-35)*20,r=s1(e.y,35,t.height-35)*20;return[n,r]},YT=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},xV=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Av=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),bV=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),i1=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Pg=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},wV=e=>Bn(e.width)&&Bn(e.height)&&Bn(e.x)&&Bn(e.y),Bn=e=>!isNaN(e)&&isFinite(e),at=Symbol.for("internals"),qT=["Enter"," ","Escape"],SV=(e,t)=>{},NV=e=>"nativeEvent"in e;function Lg(e){var a,o;const t=NV(e)?e.nativeEvent:e,n=((o=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const XT=e=>"clientX"in e,ro=(e,t)=>{var o,s;const n=XT(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,a=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},lf=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Hc=({id:e,path:t,labelX:n,labelY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:h,interactionWidth:m=20})=>P.createElement(P.Fragment,null,P.createElement("path",{id:e,style:f,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:h}),m&&P.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:m,className:"react-flow__edge-interaction"}),a&&Bn(n)&&Bn(r)?P.createElement(vV,{x:n,y:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u}):null);Hc.displayName="BaseEdge";function Vi(e,t,n){return n===void 0?n:r=>{const a=t().edges.find(o=>o.id===e);a&&n(r,{...a})}}function WT({sourceX:e,sourceY:t,targetX:n,targetY:r}){const a=Math.abs(n-e)/2,o=n<e?n+a:n-a,s=Math.abs(r-t)/2,i=r<t?r+s:r-s;return[o,i,a,s]}function KT({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:a,sourceControlY:o,targetControlX:s,targetControlY:i}){const l=e*.125+a*.375+s*.375+n*.125,u=t*.125+o*.375+i*.375+r*.125,f=Math.abs(l-e),d=Math.abs(u-t);return[l,u,f,d]}var Uo;(function(e){e.Strict="strict",e.Loose="loose"})(Uo||(Uo={}));var Eo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Eo||(Eo={}));var tc;(function(e){e.Partial="partial",e.Full="full"})(tc||(tc={}));var Ia;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Ia||(Ia={}));var cf;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(cf||(cf={}));var le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(le||(le={}));function l1({pos:e,x1:t,y1:n,x2:r,y2:a}){return e===le.Left||e===le.Right?[.5*(t+r),n]:[t,.5*(n+a)]}function QT({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:a,targetPosition:o=le.Top}){const[s,i]=l1({pos:n,x1:e,y1:t,x2:r,y2:a}),[l,u]=l1({pos:o,x1:r,y1:a,x2:e,y2:t}),[f,d,h,m]=KT({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:s,sourceControlY:i,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${i} ${l},${u} ${r},${a}`,f,d,h,m]}const Tv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=le.Bottom,targetPosition:o=le.Top,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,interactionWidth:b})=>{const[S,v,g]=QT({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o});return P.createElement(Hc,{path:S,labelX:v,labelY:g,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,interactionWidth:b})});Tv.displayName="SimpleBezierEdge";const c1={[le.Left]:{x:-1,y:0},[le.Right]:{x:1,y:0},[le.Top]:{x:0,y:-1},[le.Bottom]:{x:0,y:1}},kV=({source:e,sourcePosition:t=le.Bottom,target:n})=>t===le.Left||t===le.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},u1=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function EV({source:e,sourcePosition:t=le.Bottom,target:n,targetPosition:r=le.Top,center:a,offset:o}){const s=c1[t],i=c1[r],l={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+i.x*o,y:n.y+i.y*o},f=kV({source:l,sourcePosition:t,target:u}),d=f.x!==0?"x":"y",h=f[d];let m=[],x,b;const S={x:0,y:0},v={x:0,y:0},[g,y,w,k]=WT({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*i[d]===-1){x=a.x??g,b=a.y??y;const N=[{x,y:l.y},{x,y:u.y}],E=[{x:l.x,y:b},{x:u.x,y:b}];s[d]===h?m=d==="x"?N:E:m=d==="x"?E:N}else{const N=[{x:l.x,y:u.y}],E=[{x:u.x,y:l.y}];if(d==="x"?m=s.x===h?E:N:m=s.y===h?N:E,t===r){const O=Math.abs(e[d]-n[d]);if(O<=o){const T=Math.min(o-1,o-O);s[d]===h?S[d]=(l[d]>e[d]?-1:1)*T:v[d]=(u[d]>n[d]?-1:1)*T}}if(t!==r){const O=d==="x"?"y":"x",T=s[d]===i[O],D=l[O]>u[O],j=l[O]<u[O];(s[d]===1&&(!T&&D||T&&j)||s[d]!==1&&(!T&&j||T&&D))&&(m=d==="x"?N:E)}const _={x:l.x+S.x,y:l.y+S.y},A={x:u.x+v.x,y:u.y+v.y},R=Math.max(Math.abs(_.x-m[0].x),Math.abs(A.x-m[0].x)),B=Math.max(Math.abs(_.y-m[0].y),Math.abs(A.y-m[0].y));R>=B?(x=(_.x+A.x)/2,b=m[0].y):(x=m[0].x,b=(_.y+A.y)/2)}return[[e,{x:l.x+S.x,y:l.y+S.y},...m,{x:u.x+v.x,y:u.y+v.y},n],x,b,w,k]}function _V(e,t,n,r){const a=Math.min(u1(e,t)/2,u1(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+a*u},${s}Q ${o},${s} ${o},${s+a*f}`}const i=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+a*l}Q ${o},${s} ${o+a*i},${s}`}function $g({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:a,targetPosition:o=le.Top,borderRadius:s=5,centerX:i,centerY:l,offset:u=20}){const[f,d,h,m,x]=EV({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:a},targetPosition:o,center:{x:i,y:l},offset:u});return[f.reduce((S,v,g)=>{let y="";return g>0&&g<f.length-1?y=_V(f[g-1],v,f[g+1],s):y=`${g===0?"M":"L"}${v.x} ${v.y}`,S+=y,S},""),d,h,m,x]}const yh=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,sourcePosition:d=le.Bottom,targetPosition:h=le.Top,markerEnd:m,markerStart:x,pathOptions:b,interactionWidth:S})=>{const[v,g,y]=$g({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:h,borderRadius:b==null?void 0:b.borderRadius,offset:b==null?void 0:b.offset});return P.createElement(Hc,{path:v,labelX:g,labelY:y,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:m,markerStart:x,interactionWidth:S})});yh.displayName="SmoothStepEdge";const jv=p.memo(e=>{var t;return P.createElement(yh,{...e,pathOptions:p.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});jv.displayName="StepEdge";function CV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[a,o,s,i]=WT({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,a,o,s,i]}const Rv=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:h,interactionWidth:m})=>{const[x,b,S]=CV({sourceX:e,sourceY:t,targetX:n,targetY:r});return P.createElement(Hc,{path:x,labelX:b,labelY:S,label:a,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:u,style:f,markerEnd:d,markerStart:h,interactionWidth:m})});Rv.displayName="StraightEdge";function Eu(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function d1({pos:e,x1:t,y1:n,x2:r,y2:a,c:o}){switch(e){case le.Left:return[t-Eu(t-r,o),n];case le.Right:return[t+Eu(r-t,o),n];case le.Top:return[t,n-Eu(n-a,o)];case le.Bottom:return[t,n+Eu(a-n,o)]}}function JT({sourceX:e,sourceY:t,sourcePosition:n=le.Bottom,targetX:r,targetY:a,targetPosition:o=le.Top,curvature:s=.25}){const[i,l]=d1({pos:n,x1:e,y1:t,x2:r,y2:a,c:s}),[u,f]=d1({pos:o,x1:r,y1:a,x2:e,y2:t,c:s}),[d,h,m,x]=KT({sourceX:e,sourceY:t,targetX:r,targetY:a,sourceControlX:i,sourceControlY:l,targetControlX:u,targetControlY:f});return[`M${e},${t} C${i},${l} ${u},${f} ${r},${a}`,d,h,m,x]}const uf=p.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:a=le.Bottom,targetPosition:o=le.Top,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,pathOptions:b,interactionWidth:S})=>{const[v,g,y]=JT({sourceX:e,sourceY:t,sourcePosition:a,targetX:n,targetY:r,targetPosition:o,curvature:b==null?void 0:b.curvature});return P.createElement(Hc,{path:v,labelX:g,labelY:y,label:s,labelStyle:i,labelShowBg:l,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:m,markerStart:x,interactionWidth:S})});uf.displayName="BezierEdge";const Mv=p.createContext(null),AV=Mv.Provider;Mv.Consumer;const TV=()=>p.useContext(Mv),jV=e=>"id"in e&&"source"in e&&"target"in e,RV=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Bg=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,MV=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),ej=(e,t)=>{if(!e.source||!e.target)return t;let n;return jV(e)?n={...e}:n={...e,id:RV(e)},MV(n,t)?t:t.concat(n)},Ig=({x:e,y:t},[n,r,a],o,[s,i])=>{const l={x:(e-n)/a,y:(t-r)/a};return o?{x:s*Math.round(l.x/s),y:i*Math.round(l.y/i)}:l},tj=({x:e,y:t},[n,r,a])=>({x:e*a+n,y:t*a+r}),Ys=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],a={x:e.position.x-n,y:e.position.y-r};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:a}},Dv=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,a)=>{const{x:o,y:s}=Ys(a,t).positionAbsolute;return xV(r,Av({x:o,y:s,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bV(n)},nj=(e,t,[n,r,a]=[0,0,1],o=!1,s=!1,i=[0,0])=>{const l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},u=[];return e.forEach(f=>{const{width:d,height:h,selectable:m=!0,hidden:x=!1}=f;if(s&&!m||x)return!1;const{positionAbsolute:b}=Ys(f,i),S={x:b.x,y:b.y,width:d||0,height:h||0},v=Pg(l,S),g=typeof d>"u"||typeof h>"u"||d===null||h===null,y=o&&v>0,w=(d||0)*(h||0);(g||y||v>=w||f.dragging)&&u.push(f)}),u},rj=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},aj=(e,t,n,r,a,o=.1)=>{const s=t/(e.width*(1+o)),i=n/(e.height*(1+o)),l=Math.min(s,i),u=mi(l,r,a),f=e.x+e.width/2,d=e.y+e.height/2,h=t/2-f*u,m=n/2-d*u;return{x:h,y:m,zoom:u}},So=(e,t=0)=>e.transition().duration(t);function f1(e,t,n,r){return(t[n]||[]).reduce((a,o)=>{var s,i;return`${e.id}-${o.id}-${n}`!==r&&a.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((i=e.positionAbsolute)==null?void 0:i.y)??0)+o.y+o.height/2}),a},[])}function DV(e,t,n,r,a,o){const{x:s,y:i}=ro(e),u=t.elementsFromPoint(s,i).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const b=zv(void 0,u),S=u.getAttribute("data-handleid"),v=o({nodeId:x,id:S,type:b});if(v){const g=a.find(y=>y.nodeId===x&&y.type===b&&y.id===S);return{handle:{id:S,type:b,nodeId:x,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:v}}}}let f=[],d=1/0;if(a.forEach(x=>{const b=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(b<=r){const S=o(x);b<=d&&(b<d?f=[{handle:x,validHandleResult:S}]:b===d&&f.push({handle:x,validHandleResult:S}),d=b)}}),!f.length)return{handle:null,validHandleResult:oj()};if(f.length===1)return f[0];const h=f.some(({validHandleResult:x})=>x.isValid),m=f.some(({handle:x})=>x.type==="target");return f.find(({handle:x,validHandleResult:b})=>m?x.type==="target":h?b.isValid:!0)||f[0]}const zV={source:null,target:null,sourceHandle:null,targetHandle:null},oj=()=>({handleDomNode:null,isValid:!1,connection:zV,endHandle:null});function sj(e,t,n,r,a,o,s){const i=a==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...oj(),handleDomNode:l};if(l){const f=zv(void 0,l),d=l.getAttribute("data-nodeid"),h=l.getAttribute("data-handleid"),m=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),b={source:i?d:n,sourceHandle:i?h:r,target:i?n:d,targetHandle:i?r:h};u.connection=b,m&&x&&(t===Uo.Strict?i&&f==="source"||!i&&f==="target":d!==n||h!==r)&&(u.endHandle={nodeId:d,handleId:h,type:f},u.isValid=o(b))}return u}function OV({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((a,o)=>{if(o[at]){const{handleBounds:s}=o[at];let i=[],l=[];s&&(i=f1(o,s,"source",`${t}-${n}-${r}`),l=f1(o,s,"target",`${t}-${n}-${r}`)),a.push(...i,...l)}return a},[])}function zv(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function zm(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function PV(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function ij({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:a,getState:o,setState:s,isValidConnection:i,edgeUpdaterType:l,onReconnectEnd:u}){const f=YT(e.target),{connectionMode:d,domNode:h,autoPanOnConnect:m,connectionRadius:x,onConnectStart:b,panBy:S,getNodes:v,cancelConnection:g}=o();let y=0,w;const{x:k,y:C}=ro(e),N=f==null?void 0:f.elementFromPoint(k,C),E=zv(l,N),_=h==null?void 0:h.getBoundingClientRect();if(!_||!E)return;let A,R=ro(e,_),B=!1,O=null,T=!1,D=null;const j=OV({nodes:v(),nodeId:n,handleId:t,handleType:E}),L=()=>{if(!m)return;const[$,I]=ZT(R,_);S({x:$,y:I}),y=requestAnimationFrame(L)};s({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),b==null||b(e,{nodeId:n,handleId:t,handleType:E});function z($){const{transform:I}=o();R=ro($,_);const{handle:G,validHandleResult:U}=DV($,f,Ig(R,I,!1,[1,1]),x,j,F=>sj(F,d,n,t,a?"target":"source",i,f));if(w=G,B||(L(),B=!0),D=U.handleDomNode,O=U.connection,T=U.isValid,s({connectionPosition:w&&T?tj({x:w.x,y:w.y},I):R,connectionStatus:PV(!!w,T),connectionEndHandle:U.endHandle}),!w&&!T&&!D)return zm(A);O.source!==O.target&&D&&(zm(A),A=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",T),D.classList.toggle("react-flow__handle-valid",T))}function M($){var I,G;(w||D)&&O&&T&&(r==null||r(O)),(G=(I=o()).onConnectEnd)==null||G.call(I,$),l&&(u==null||u($)),zm(A),g(),cancelAnimationFrame(y),B=!1,T=!1,O=null,D=null,f.removeEventListener("mousemove",z),f.removeEventListener("mouseup",M),f.removeEventListener("touchmove",z),f.removeEventListener("touchend",M)}f.addEventListener("mousemove",z),f.addEventListener("mouseup",M),f.addEventListener("touchmove",z),f.addEventListener("touchend",M)}const h1=()=>!0,LV=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),$V=(e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},lj=p.forwardRef(({type:e="source",position:t=le.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:a=!0,isConnectableEnd:o=!0,id:s,onConnect:i,children:l,className:u,onMouseDown:f,onTouchStart:d,...h},m)=>{var _,A;const x=s||null,b=e==="target",S=At(),v=TV(),{connectOnClick:g,noPanClassName:y}=Je(LV,an),{connecting:w,clickConnecting:k}=Je($V(v,x,e),an);v||(A=(_=S.getState()).onError)==null||A.call(_,"010",ya.error010());const C=R=>{const{defaultEdgeOptions:B,onConnect:O,hasDefaultEdges:T}=S.getState(),D={...B,...R};if(T){const{edges:j,setEdges:L}=S.getState();L(ej(D,j))}O==null||O(D),i==null||i(D)},N=R=>{if(!v)return;const B=XT(R);a&&(B&&R.button===0||!B)&&ij({event:R,handleId:x,nodeId:v,onConnect:C,isTarget:b,getState:S.getState,setState:S.setState,isValidConnection:n||S.getState().isValidConnection||h1}),B?f==null||f(R):d==null||d(R)},E=R=>{const{onClickConnectStart:B,onClickConnectEnd:O,connectionClickStartHandle:T,connectionMode:D,isValidConnection:j}=S.getState();if(!v||!T&&!a)return;if(!T){B==null||B(R,{nodeId:v,handleId:x,handleType:e}),S.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:x}});return}const L=YT(R.target),z=n||j||h1,{connection:M,isValid:$}=sj({nodeId:v,id:x,type:e},D,T.nodeId,T.handleId||null,T.type,z,L);$&&C(M),O==null||O(R),S.setState({connectionClickStartHandle:null})};return P.createElement("div",{"data-handleid":x,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${x}-${e}`,className:qt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,u,{source:!b,target:b,connectable:r,connectablestart:a,connectableend:o,connecting:k,connectionindicator:r&&(a&&!w||o&&w)}]),onMouseDown:N,onTouchStart:N,onClick:g?E:void 0,ref:m,...h},l)});lj.displayName="Handle";var pi=p.memo(lj);const cj=({data:e,isConnectable:t,targetPosition:n=le.Top,sourcePosition:r=le.Bottom})=>P.createElement(P.Fragment,null,P.createElement(pi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,P.createElement(pi,{type:"source",position:r,isConnectable:t}));cj.displayName="DefaultNode";var Hg=p.memo(cj);const uj=({data:e,isConnectable:t,sourcePosition:n=le.Bottom})=>P.createElement(P.Fragment,null,e==null?void 0:e.label,P.createElement(pi,{type:"source",position:n,isConnectable:t}));uj.displayName="InputNode";var dj=p.memo(uj);const fj=({data:e,isConnectable:t,targetPosition:n=le.Top})=>P.createElement(P.Fragment,null,P.createElement(pi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);fj.displayName="OutputNode";var hj=p.memo(fj);const Ov=()=>null;Ov.displayName="GroupNode";const BV=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),_u=e=>e.id;function IV(e,t){return an(e.selectedNodes.map(_u),t.selectedNodes.map(_u))&&an(e.selectedEdges.map(_u),t.selectedEdges.map(_u))}const mj=p.memo(({onSelectionChange:e})=>{const t=At(),{selectedNodes:n,selectedEdges:r}=Je(BV,IV);return p.useEffect(()=>{const a={nodes:n,edges:r};e==null||e(a),t.getState().onSelectionChange.forEach(o=>o(a))},[n,r,e]),null});mj.displayName="SelectionListener";const HV=e=>!!e.onSelectionChange;function UV({onSelectionChange:e}){const t=Je(HV);return e||t?P.createElement(mj,{onSelectionChange:e}):null}const FV=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function is(e,t){p.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Se(e,t,n){p.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const GV=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:a,onConnectStart:o,onConnectEnd:s,onClickConnectStart:i,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:f,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:m,elevateNodesOnSelect:x,minZoom:b,maxZoom:S,nodeExtent:v,onNodesChange:g,onEdgesChange:y,elementsSelectable:w,connectionMode:k,snapGrid:C,snapToGrid:N,translateExtent:E,connectOnClick:_,defaultEdgeOptions:A,fitView:R,fitViewOptions:B,onNodesDelete:O,onEdgesDelete:T,onNodeDrag:D,onNodeDragStart:j,onNodeDragStop:L,onSelectionDrag:z,onSelectionDragStart:M,onSelectionDragStop:$,noPanClassName:I,nodeOrigin:G,rfId:U,autoPanOnConnect:F,autoPanOnNodeDrag:Z,onError:J,connectionRadius:V,isValidConnection:ee,nodeDragThreshold:re})=>{const{setNodes:H,setEdges:q,setDefaultNodesAndEdges:K,setMinZoom:te,setMaxZoom:W,setTranslateExtent:de,setNodeExtent:Ne,reset:pe}=Je(FV,an),ne=At();return p.useEffect(()=>{const He=r==null?void 0:r.map(Pt=>({...Pt,...A}));return K(n,He),()=>{pe()}},[]),Se("defaultEdgeOptions",A,ne.setState),Se("connectionMode",k,ne.setState),Se("onConnect",a,ne.setState),Se("onConnectStart",o,ne.setState),Se("onConnectEnd",s,ne.setState),Se("onClickConnectStart",i,ne.setState),Se("onClickConnectEnd",l,ne.setState),Se("nodesDraggable",u,ne.setState),Se("nodesConnectable",f,ne.setState),Se("nodesFocusable",d,ne.setState),Se("edgesFocusable",h,ne.setState),Se("edgesUpdatable",m,ne.setState),Se("elementsSelectable",w,ne.setState),Se("elevateNodesOnSelect",x,ne.setState),Se("snapToGrid",N,ne.setState),Se("snapGrid",C,ne.setState),Se("onNodesChange",g,ne.setState),Se("onEdgesChange",y,ne.setState),Se("connectOnClick",_,ne.setState),Se("fitViewOnInit",R,ne.setState),Se("fitViewOnInitOptions",B,ne.setState),Se("onNodesDelete",O,ne.setState),Se("onEdgesDelete",T,ne.setState),Se("onNodeDrag",D,ne.setState),Se("onNodeDragStart",j,ne.setState),Se("onNodeDragStop",L,ne.setState),Se("onSelectionDrag",z,ne.setState),Se("onSelectionDragStart",M,ne.setState),Se("onSelectionDragStop",$,ne.setState),Se("noPanClassName",I,ne.setState),Se("nodeOrigin",G,ne.setState),Se("rfId",U,ne.setState),Se("autoPanOnConnect",F,ne.setState),Se("autoPanOnNodeDrag",Z,ne.setState),Se("onError",J,ne.setState),Se("connectionRadius",V,ne.setState),Se("isValidConnection",ee,ne.setState),Se("nodeDragThreshold",re,ne.setState),is(e,H),is(t,q),is(b,te),is(S,W),is(E,de),is(v,Ne),null},m1={display:"none"},VV={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pj="react-flow__node-desc",gj="react-flow__edge-desc",ZV="react-flow__aria-live",YV=e=>e.ariaLiveMessage;function qV({rfId:e}){const t=Je(YV);return P.createElement("div",{id:`${ZV}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:VV},t)}function XV({rfId:e,disableKeyboardA11y:t}){return P.createElement(P.Fragment,null,P.createElement("div",{id:`${pj}-${e}`,style:m1},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),P.createElement("div",{id:`${gj}-${e}`,style:m1},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&P.createElement(qV,{rfId:e}))}var nc=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=p.useState(!1),a=p.useRef(!1),o=p.useRef(new Set([])),[s,i]=p.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),f=u.reduce((d,h)=>d.concat(...h),[]);return[u,f]}return[[],[]]},[e]);return p.useEffect(()=>{const l=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||l;if(e!==null){const f=m=>{if(a.current=m.ctrlKey||m.metaKey||m.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Lg(m))return!1;const b=g1(m.code,i);o.current.add(m[b]),p1(s,o.current,!1)&&(m.preventDefault(),r(!0))},d=m=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Lg(m))return!1;const b=g1(m.code,i);p1(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(m[b]),m.key==="Meta"&&o.current.clear(),a.current=!1},h=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",f),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",f),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",h)}}},[e,r]),n};function p1(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(a=>t.has(a)))}function g1(e,t){return t.includes(e)?"code":"key"}function yj(e,t,n,r){var i,l;const a=e.parentNode||e.parentId;if(!a)return n;const o=t.get(a),s=Ys(o,r);return yj(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((i=o[at])==null?void 0:i.z)??0)>(n.z??0)?((l=o[at])==null?void 0:l.z)??0:n.z??0},r)}function vj(e,t,n){e.forEach(r=>{var o;const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||n!=null&&n[r.id]){const{x:s,y:i,z:l}=yj(r,e,{...r.position,z:((o=r[at])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:i},r[at].z=l,n!=null&&n[r.id]&&(r[at].isParent=!0)}})}function Om(e,t,n,r){const a=new Map,o={},s=r?1e3:0;return e.forEach(i=>{var m;const l=(Bn(i.zIndex)?i.zIndex:0)+(i.selected?s:0),u=t.get(i.id),f={...i,positionAbsolute:{x:i.position.x,y:i.position.y}},d=i.parentNode||i.parentId;d&&(o[d]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==i.type;Object.defineProperty(f,at,{enumerable:!1,value:{handleBounds:h||(m=u==null?void 0:u[at])==null?void 0:m.handleBounds,z:l}}),a.set(i.id,f)}),vj(a,n,o),a}function xj(e,t={}){const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:s,d3Zoom:i,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:f,nodeOrigin:d}=e(),h=t.initial&&!u&&f;if(i&&l&&(h||!t.initial)){const x=n().filter(S=>{var g;const v=t.includeHiddenNodes?S.width&&S.height:!S.hidden;return(g=t.nodes)!=null&&g.length?v&&t.nodes.some(y=>y.id===S.id):v}),b=x.every(S=>S.width&&S.height);if(x.length>0&&b){const S=Dv(x,d),{x:v,y:g,zoom:y}=aj(S,r,a,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=_r.translate(v,g).scale(y);return typeof t.duration=="number"&&t.duration>0?i.transform(So(l,t.duration),w):i.transform(l,w),!0}}return!1}function WV(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[at]:r[at],selected:n.selected})}),new Map(t)}function KV(e,t){return t.map(n=>{const r=e.find(a=>a.id===n.id);return r&&(n.selected=r.selected),n})}function Cu({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:a,edges:o,onNodesChange:s,onEdgesChange:i,hasDefaultNodes:l,hasDefaultEdges:u}=n();e!=null&&e.length&&(l&&r({nodeInternals:WV(e,a)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:KV(t,o)}),i==null||i(t))}const ls=()=>{},QV={zoomIn:ls,zoomOut:ls,zoomTo:ls,getZoom:()=>1,setViewport:ls,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ls,fitBounds:ls,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},JV=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),eZ=()=>{const e=At(),{d3Zoom:t,d3Selection:n}=Je(JV,an);return p.useMemo(()=>n&&t?{zoomIn:a=>t.scaleBy(So(n,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(So(n,a==null?void 0:a.duration),1/1.2),zoomTo:(a,o)=>t.scaleTo(So(n,o==null?void 0:o.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,o)=>{const[s,i,l]=e.getState().transform,u=_r.translate(a.x??s,a.y??i).scale(a.zoom??l);t.transform(So(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[a,o,s]=e.getState().transform;return{x:a,y:o,zoom:s}},fitView:a=>xj(e.getState,a),setCenter:(a,o,s)=>{const{width:i,height:l,maxZoom:u}=e.getState(),f=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=i/2-a*f,h=l/2-o*f,m=_r.translate(d,h).scale(f);t.transform(So(n,s==null?void 0:s.duration),m)},fitBounds:(a,o)=>{const{width:s,height:i,minZoom:l,maxZoom:u}=e.getState(),{x:f,y:d,zoom:h}=aj(a,s,i,l,u,(o==null?void 0:o.padding)??.1),m=_r.translate(f,d).scale(h);t.transform(So(n,o==null?void 0:o.duration),m)},project:a=>{const{transform:o,snapToGrid:s,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ig(a,o,s,i)},screenToFlowPosition:a=>{const{transform:o,snapToGrid:s,snapGrid:i,domNode:l}=e.getState();if(!l)return a;const{x:u,y:f}=l.getBoundingClientRect(),d={x:a.x-u,y:a.y-f};return Ig(d,o,s,i)},flowToScreenPosition:a=>{const{transform:o,domNode:s}=e.getState();if(!s)return a;const{x:i,y:l}=s.getBoundingClientRect(),u=tj(a,o);return{x:u.x+i,y:u.y+l}},viewportInitialized:!0}:QV,[t,n])};function Pv(){const e=eZ(),t=At(),n=p.useCallback(()=>t.getState().getNodes().map(b=>({...b})),[]),r=p.useCallback(b=>t.getState().nodeInternals.get(b),[]),a=p.useCallback(()=>{const{edges:b=[]}=t.getState();return b.map(S=>({...S}))},[]),o=p.useCallback(b=>{const{edges:S=[]}=t.getState();return S.find(v=>v.id===b)},[]),s=p.useCallback(b=>{const{getNodes:S,setNodes:v,hasDefaultNodes:g,onNodesChange:y}=t.getState(),w=S(),k=typeof b=="function"?b(w):b;if(g)v(k);else if(y){const C=k.length===0?w.map(N=>({type:"remove",id:N.id})):k.map(N=>({item:N,type:"reset"}));y(C)}},[]),i=p.useCallback(b=>{const{edges:S=[],setEdges:v,hasDefaultEdges:g,onEdgesChange:y}=t.getState(),w=typeof b=="function"?b(S):b;if(g)v(w);else if(y){const k=w.length===0?S.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));y(k)}},[]),l=p.useCallback(b=>{const S=Array.isArray(b)?b:[b],{getNodes:v,setNodes:g,hasDefaultNodes:y,onNodesChange:w}=t.getState();if(y){const C=[...v(),...S];g(C)}else if(w){const k=S.map(C=>({item:C,type:"add"}));w(k)}},[]),u=p.useCallback(b=>{const S=Array.isArray(b)?b:[b],{edges:v=[],setEdges:g,hasDefaultEdges:y,onEdgesChange:w}=t.getState();if(y)g([...v,...S]);else if(w){const k=S.map(C=>({item:C,type:"add"}));w(k)}},[]),f=p.useCallback(()=>{const{getNodes:b,edges:S=[],transform:v}=t.getState(),[g,y,w]=v;return{nodes:b().map(k=>({...k})),edges:S.map(k=>({...k})),viewport:{x:g,y,zoom:w}}},[]),d=p.useCallback(({nodes:b,edges:S})=>{const{nodeInternals:v,getNodes:g,edges:y,hasDefaultNodes:w,hasDefaultEdges:k,onNodesDelete:C,onEdgesDelete:N,onNodesChange:E,onEdgesChange:_}=t.getState(),A=(b||[]).map(D=>D.id),R=(S||[]).map(D=>D.id),B=g().reduce((D,j)=>{const L=j.parentNode||j.parentId,z=!A.includes(j.id)&&L&&D.find($=>$.id===L);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(A.includes(j.id)||z)&&D.push(j),D},[]),O=y.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),T=O.filter(D=>R.includes(D.id));if(B||T){const D=rj(B,O),j=[...T,...D],L=j.reduce((z,M)=>(z.includes(M.id)||z.push(M.id),z),[]);if((k||w)&&(k&&t.setState({edges:y.filter(z=>!L.includes(z.id))}),w&&(B.forEach(z=>{v.delete(z.id)}),t.setState({nodeInternals:new Map(v)}))),L.length>0&&(N==null||N(j),_&&_(L.map(z=>({id:z,type:"remove"})))),B.length>0&&(C==null||C(B),E)){const z=B.map(M=>({id:M.id,type:"remove"}));E(z)}}},[]),h=p.useCallback(b=>{const S=wV(b),v=S?null:t.getState().nodeInternals.get(b.id);return!S&&!v?[null,null,S]:[S?b:i1(v),v,S]},[]),m=p.useCallback((b,S=!0,v)=>{const[g,y,w]=h(b);return g?(v||t.getState().getNodes()).filter(k=>{if(!w&&(k.id===y.id||!k.positionAbsolute))return!1;const C=i1(k),N=Pg(C,g);return S&&N>0||N>=g.width*g.height}):[]},[]),x=p.useCallback((b,S,v=!0)=>{const[g]=h(b);if(!g)return!1;const y=Pg(g,S);return v&&y>0||y>=g.width*g.height},[]);return p.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:a,getEdge:o,setNodes:s,setEdges:i,addNodes:l,addEdges:u,toObject:f,deleteElements:d,getIntersectingNodes:m,isNodeIntersecting:x}),[e,n,r,a,o,s,i,l,u,f,d,m,x])}const tZ={actInsideInputWithModifier:!1};var nZ=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=At(),{deleteElements:r}=Pv(),a=nc(e,tZ),o=nc(t);p.useEffect(()=>{if(a){const{edges:s,getNodes:i}=n.getState(),l=i().filter(f=>f.selected),u=s.filter(f=>f.selected);r({nodes:l,edges:u}),n.setState({nodesSelectionActive:!1})}},[a]),p.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function rZ(e){const t=At();p.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const a=_v(e.current);(a.height===0||a.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",ya.error004())),t.setState({width:a.width||500,height:a.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Lv={position:"absolute",width:"100%",height:"100%",top:0,left:0},aZ=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Au=e=>({x:e.x,y:e.y,zoom:e.k}),cs=(e,t)=>e.target.closest(`.${t}`),y1=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),v1=e=>{const t=e.ctrlKey&&lf()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},oZ=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),sZ=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:a=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:i=.5,panOnScrollMode:l=Eo.Free,zoomOnDoubleClick:u=!0,elementsSelectable:f,panOnDrag:d=!0,defaultViewport:h,translateExtent:m,minZoom:x,maxZoom:b,zoomActivationKeyCode:S,preventScrolling:v=!0,children:g,noWheelClassName:y,noPanClassName:w})=>{const k=p.useRef(),C=At(),N=p.useRef(!1),E=p.useRef(!1),_=p.useRef(null),A=p.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:B,d3ZoomHandler:O,userSelectionActive:T}=Je(oZ,an),D=nc(S),j=p.useRef(0),L=p.useRef(!1),z=p.useRef();return rZ(_),p.useEffect(()=>{if(_.current){const M=_.current.getBoundingClientRect(),$=od().scaleExtent([x,b]).translateExtent(m),I=xt(_.current).call($),G=_r.translate(h.x,h.y).scale(mi(h.zoom,x,b)),U=[[0,0],[M.width,M.height]],F=$.constrain()(G,U,m);$.transform(I,F),$.wheelDelta(v1),C.setState({d3Zoom:$,d3Selection:I,d3ZoomHandler:I.on("wheel.zoom"),transform:[F.x,F.y,F.k],domNode:_.current.closest(".react-flow")})}},[]),p.useEffect(()=>{B&&R&&(s&&!D&&!T?B.on("wheel.zoom",M=>{if(cs(M,y))return!1;M.preventDefault(),M.stopImmediatePropagation();const $=B.property("__zoom").k||1;if(M.ctrlKey&&o){const ee=pr(M),re=v1(M),H=$*Math.pow(2,re);R.scaleTo(B,H,ee,M);return}const I=M.deltaMode===1?20:1;let G=l===Eo.Vertical?0:M.deltaX*I,U=l===Eo.Horizontal?0:M.deltaY*I;!lf()&&M.shiftKey&&l!==Eo.Vertical&&(G=M.deltaY*I,U=0),R.translateBy(B,-(G/$)*i,-(U/$)*i,{internal:!0});const F=Au(B.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:J,onViewportChangeEnd:V}=C.getState();clearTimeout(z.current),L.current||(L.current=!0,t==null||t(M,F),Z==null||Z(F)),L.current&&(e==null||e(M,F),J==null||J(F),z.current=setTimeout(()=>{n==null||n(M,F),V==null||V(F),L.current=!1},150))},{passive:!1}):typeof O<"u"&&B.on("wheel.zoom",function(M,$){if(!v&&M.type==="wheel"&&!M.ctrlKey||cs(M,y))return null;M.preventDefault(),O.call(this,M,$)},{passive:!1}))},[T,s,l,B,R,O,D,o,v,y,t,e,n]),p.useEffect(()=>{R&&R.on("start",M=>{var G,U;if(!M.sourceEvent||M.sourceEvent.internal)return null;j.current=(G=M.sourceEvent)==null?void 0:G.button;const{onViewportChangeStart:$}=C.getState(),I=Au(M.transform);N.current=!0,A.current=I,((U=M.sourceEvent)==null?void 0:U.type)==="mousedown"&&C.setState({paneDragging:!0}),$==null||$(I),t==null||t(M.sourceEvent,I)})},[R,t]),p.useEffect(()=>{R&&(T&&!N.current?R.on("zoom",null):T||R.on("zoom",M=>{var I;const{onViewportChange:$}=C.getState();if(C.setState({transform:[M.transform.x,M.transform.y,M.transform.k]}),E.current=!!(r&&y1(d,j.current??0)),(e||$)&&!((I=M.sourceEvent)!=null&&I.internal)){const G=Au(M.transform);$==null||$(G),e==null||e(M.sourceEvent,G)}}))},[T,R,e,d,r]),p.useEffect(()=>{R&&R.on("end",M=>{if(!M.sourceEvent||M.sourceEvent.internal)return null;const{onViewportChangeEnd:$}=C.getState();if(N.current=!1,C.setState({paneDragging:!1}),r&&y1(d,j.current??0)&&!E.current&&r(M.sourceEvent),E.current=!1,(n||$)&&aZ(A.current,M.transform)){const I=Au(M.transform);A.current=I,clearTimeout(k.current),k.current=setTimeout(()=>{$==null||$(I),n==null||n(M.sourceEvent,I)},s?150:0)}})},[R,s,d,n,r]),p.useEffect(()=>{R&&R.filter(M=>{const $=D||a,I=o&&M.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&M.button===1&&M.type==="mousedown"&&(cs(M,"react-flow__node")||cs(M,"react-flow__edge")))return!0;if(!d&&!$&&!s&&!u&&!o||T||!u&&M.type==="dblclick"||cs(M,y)&&M.type==="wheel"||cs(M,w)&&(M.type!=="wheel"||s&&M.type==="wheel"&&!D)||!o&&M.ctrlKey&&M.type==="wheel"||!$&&!s&&!I&&M.type==="wheel"||!d&&(M.type==="mousedown"||M.type==="touchstart")||Array.isArray(d)&&!d.includes(M.button)&&M.type==="mousedown")return!1;const G=Array.isArray(d)&&d.includes(M.button)||!M.button||M.button<=1;return(!M.ctrlKey||M.type==="wheel")&&G})},[T,R,a,o,s,u,d,f,D]),P.createElement("div",{className:"react-flow__renderer",ref:_,style:Lv},g)},iZ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function lZ(){const{userSelectionActive:e,userSelectionRect:t}=Je(iZ,an);return e&&t?P.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function x1(e,t){const n=t.parentNode||t.parentId,r=e.find(a=>a.id===n);if(r){const a=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(a>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,a>0&&(r.style.width+=a),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function bj(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,a)=>{const o=e.filter(i=>i.id===a.id);if(o.length===0)return r.push(a),r;const s={...a};for(const i of o)if(i)switch(i.type){case"select":{s.selected=i.selected;break}case"position":{typeof i.position<"u"&&(s.position=i.position),typeof i.positionAbsolute<"u"&&(s.positionAbsolute=i.positionAbsolute),typeof i.dragging<"u"&&(s.dragging=i.dragging),s.expandParent&&x1(r,s);break}case"dimensions":{typeof i.dimensions<"u"&&(s.width=i.dimensions.width,s.height=i.dimensions.height),typeof i.updateStyle<"u"&&(s.style={...s.style||{},...i.dimensions}),typeof i.resizing=="boolean"&&(s.resizing=i.resizing),s.expandParent&&x1(r,s);break}case"remove":return r}return r.push(s),r},n)}function wj(e,t){return bj(e,t)}function cZ(e,t){return bj(e,t)}const Oa=(e,t)=>({id:e,type:"select",selected:t});function Rs(e,t){return e.reduce((n,r)=>{const a=t.includes(r.id);return!r.selected&&a?(r.selected=!0,n.push(Oa(r.id,!0))):r.selected&&!a&&(r.selected=!1,n.push(Oa(r.id,!1))),n},[])}const Pm=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},uZ=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Sj=p.memo(({isSelecting:e,selectionMode:t=tc.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:a,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:i,onPaneMouseEnter:l,onPaneMouseMove:u,onPaneMouseLeave:f,children:d})=>{const h=p.useRef(null),m=At(),x=p.useRef(0),b=p.useRef(0),S=p.useRef(),{userSelectionActive:v,elementsSelectable:g,dragging:y}=Je(uZ,an),w=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,b.current=0},k=O=>{o==null||o(O),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},C=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}s==null||s(O)},N=i?O=>i(O):void 0,E=O=>{const{resetSelectedElements:T,domNode:D}=m.getState();if(S.current=D==null?void 0:D.getBoundingClientRect(),!g||!e||O.button!==0||O.target!==h.current||!S.current)return;const{x:j,y:L}=ro(O,S.current);T(),m.setState({userSelectionRect:{width:0,height:0,startX:j,startY:L,x:j,y:L}}),r==null||r(O)},_=O=>{const{userSelectionRect:T,nodeInternals:D,edges:j,transform:L,onNodesChange:z,onEdgesChange:M,nodeOrigin:$,getNodes:I}=m.getState();if(!e||!S.current||!T)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const G=ro(O,S.current),U=T.startX??0,F=T.startY??0,Z={...T,x:G.x<U?G.x:U,y:G.y<F?G.y:F,width:Math.abs(G.x-U),height:Math.abs(G.y-F)},J=I(),V=nj(D,Z,L,t===tc.Partial,!0,$),ee=rj(V,j).map(H=>H.id),re=V.map(H=>H.id);if(x.current!==re.length){x.current=re.length;const H=Rs(J,re);H.length&&(z==null||z(H))}if(b.current!==ee.length){b.current=ee.length;const H=Rs(j,ee);H.length&&(M==null||M(H))}m.setState({userSelectionRect:Z})},A=O=>{if(O.button!==0)return;const{userSelectionRect:T}=m.getState();!v&&T&&O.target===h.current&&(k==null||k(O)),m.setState({nodesSelectionActive:x.current>0}),w(),a==null||a(O)},R=O=>{v&&(m.setState({nodesSelectionActive:x.current>0}),a==null||a(O)),w()},B=g&&(e||v);return P.createElement("div",{className:qt(["react-flow__pane",{dragging:y,selection:e}]),onClick:B?void 0:Pm(k,h),onContextMenu:Pm(C,h),onWheel:Pm(N,h),onMouseEnter:B?void 0:l,onMouseDown:B?E:void 0,onMouseMove:B?_:u,onMouseUp:B?A:void 0,onMouseLeave:B?R:f,ref:h,style:Lv},d,P.createElement(lZ,null))});Sj.displayName="Pane";function Nj(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Nj(r,t):!1}function b1(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function dZ(e,t,n,r){return Array.from(e.values()).filter(a=>(a.selected||a.id===r)&&(!a.parentNode||a.parentId||!Nj(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var o,s;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=a.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=a.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function fZ(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function kj(e,t,n,r,a=[0,0],o){const s=fZ(e,e.extent||r);let i=s;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:h,y:m}=Ys(d,a).positionAbsolute;i=d&&Bn(h)&&Bn(m)&&Bn(d.width)&&Bn(d.height)?[[h+e.width*a[0],m+e.height*a[1]],[h+d.width-e.width+e.width*a[0],m+d.height-e.height+e.height*a[1]]]:i}else o==null||o("005",ya.error005()),i=s;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:h,y:m}=Ys(d,a).positionAbsolute;i=[[e.extent[0][0]+h,e.extent[0][1]+m],[e.extent[1][0]+h,e.extent[1][1]+m]]}let u={x:0,y:0};if(l){const d=n.get(l);u=Ys(d,a).positionAbsolute}const f=i&&i!=="parent"?Cv(t,i):t;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function Lm({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(a=>({...n.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?r.find(a=>a.id===e):r[0],r]}const w1=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),s=t.getBoundingClientRect(),i={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-s.left-i.x)/n,y:(u.top-s.top-i.y)/n,..._v(l)}})};function Zi(e,t,n){return n===void 0?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,{...a})}}function Ug({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:a,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:i,onError:l}=t.getState(),u=i.get(e);if(!u){l==null||l("012",ya.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):a([e])}function hZ(){const e=At();return p.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,i=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(i-r[1])/r[2]};return{xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y,...l}},[])}function $m(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Ej({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:a,isSelectable:o,selectNodesOnDrag:s}){const i=At(),[l,u]=p.useState(!1),f=p.useRef([]),d=p.useRef({x:null,y:null}),h=p.useRef(0),m=p.useRef(null),x=p.useRef({x:0,y:0}),b=p.useRef(null),S=p.useRef(!1),v=p.useRef(!1),g=p.useRef(!1),y=hZ();return p.useEffect(()=>{if(e!=null&&e.current){const w=xt(e.current),k=({x:E,y:_})=>{const{nodeInternals:A,onNodeDrag:R,onSelectionDrag:B,updateNodePositions:O,nodeExtent:T,snapGrid:D,snapToGrid:j,nodeOrigin:L,onError:z}=i.getState();d.current={x:E,y:_};let M=!1,$={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&T){const G=Dv(f.current,L);$=Av(G)}if(f.current=f.current.map(G=>{const U={x:E-G.distance.x,y:_-G.distance.y};j&&(U.x=D[0]*Math.round(U.x/D[0]),U.y=D[1]*Math.round(U.y/D[1]));const F=[[T[0][0],T[0][1]],[T[1][0],T[1][1]]];f.current.length>1&&T&&!G.extent&&(F[0][0]=G.positionAbsolute.x-$.x+T[0][0],F[1][0]=G.positionAbsolute.x+(G.width??0)-$.x2+T[1][0],F[0][1]=G.positionAbsolute.y-$.y+T[0][1],F[1][1]=G.positionAbsolute.y+(G.height??0)-$.y2+T[1][1]);const Z=kj(G,U,A,F,L,z);return M=M||G.position.x!==Z.position.x||G.position.y!==Z.position.y,G.position=Z.position,G.positionAbsolute=Z.positionAbsolute,G}),!M)return;O(f.current,!0,!0),u(!0);const I=a?R:$m(B);if(I&&b.current){const[G,U]=Lm({nodeId:a,dragItems:f.current,nodeInternals:A});I(b.current,G,U)}},C=()=>{if(!m.current)return;const[E,_]=ZT(x.current,m.current);if(E!==0||_!==0){const{transform:A,panBy:R}=i.getState();d.current.x=(d.current.x??0)-E/A[2],d.current.y=(d.current.y??0)-_/A[2],R({x:E,y:_})&&k(d.current)}h.current=requestAnimationFrame(C)},N=E=>{var L;const{nodeInternals:_,multiSelectionActive:A,nodesDraggable:R,unselectNodesAndEdges:B,onNodeDragStart:O,onSelectionDragStart:T}=i.getState();v.current=!0;const D=a?O:$m(T);(!s||!o)&&!A&&a&&((L=_.get(a))!=null&&L.selected||B()),a&&o&&s&&Ug({id:a,store:i,nodeRef:e});const j=y(E);if(d.current=j,f.current=dZ(_,R,j,a),D&&f.current){const[z,M]=Lm({nodeId:a,dragItems:f.current,nodeInternals:_});D(E.sourceEvent,z,M)}};if(t)w.on(".drag",null);else{const E=W7().on("start",_=>{const{domNode:A,nodeDragThreshold:R}=i.getState();R===0&&N(_),g.current=!1;const B=y(_);d.current=B,m.current=(A==null?void 0:A.getBoundingClientRect())||null,x.current=ro(_.sourceEvent,m.current)}).on("drag",_=>{var O,T;const A=y(_),{autoPanOnNodeDrag:R,nodeDragThreshold:B}=i.getState();if(_.sourceEvent.type==="touchmove"&&_.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!S.current&&v.current&&R&&(S.current=!0,C()),!v.current){const D=A.xSnapped-(((O=d==null?void 0:d.current)==null?void 0:O.x)??0),j=A.ySnapped-(((T=d==null?void 0:d.current)==null?void 0:T.y)??0);Math.sqrt(D*D+j*j)>B&&N(_)}(d.current.x!==A.xSnapped||d.current.y!==A.ySnapped)&&f.current&&v.current&&(b.current=_.sourceEvent,x.current=ro(_.sourceEvent,m.current),k(A))}}).on("end",_=>{if(!(!v.current||g.current)&&(u(!1),S.current=!1,v.current=!1,cancelAnimationFrame(h.current),f.current)){const{updateNodePositions:A,nodeInternals:R,onNodeDragStop:B,onSelectionDragStop:O}=i.getState(),T=a?B:$m(O);if(A(f.current,!1,!1),T){const[D,j]=Lm({nodeId:a,dragItems:f.current,nodeInternals:R});T(_.sourceEvent,D,j)}}}).filter(_=>{const A=_.target;return!_.button&&(!n||!b1(A,`.${n}`,e))&&(!r||b1(A,r,e))});return w.call(E),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,i,a,s,y]),l}function _j(){const e=At();return p.useCallback(n=>{const{nodeInternals:r,nodeExtent:a,updateNodePositions:o,getNodes:s,snapToGrid:i,snapGrid:l,onError:u,nodesDraggable:f}=e.getState(),d=s().filter(g=>g.selected&&(g.draggable||f&&typeof g.draggable>"u")),h=i?l[0]:5,m=i?l[1]:5,x=n.isShiftPressed?4:1,b=n.x*h*x,S=n.y*m*x,v=d.map(g=>{if(g.positionAbsolute){const y={x:g.positionAbsolute.x+b,y:g.positionAbsolute.y+S};i&&(y.x=l[0]*Math.round(y.x/l[0]),y.y=l[1]*Math.round(y.y/l[1]));const{positionAbsolute:w,position:k}=kj(g,y,r,a,void 0,u);g.position=k,g.positionAbsolute=w}return g});o(v,!0,!1)},[])}const qs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Yi=e=>{const t=({id:n,type:r,data:a,xPos:o,yPos:s,xPosOrigin:i,yPosOrigin:l,selected:u,onClick:f,onMouseEnter:d,onMouseMove:h,onMouseLeave:m,onContextMenu:x,onDoubleClick:b,style:S,className:v,isDraggable:g,isSelectable:y,isConnectable:w,isFocusable:k,selectNodesOnDrag:C,sourcePosition:N,targetPosition:E,hidden:_,resizeObserver:A,dragHandle:R,zIndex:B,isParent:O,noDragClassName:T,noPanClassName:D,initialized:j,disableKeyboardA11y:L,ariaLabel:z,rfId:M,hasHandleBounds:$})=>{const I=At(),G=p.useRef(null),U=p.useRef(null),F=p.useRef(N),Z=p.useRef(E),J=p.useRef(r),V=y||g||f||d||h||m,ee=_j(),re=Zi(n,I.getState,d),H=Zi(n,I.getState,h),q=Zi(n,I.getState,m),K=Zi(n,I.getState,x),te=Zi(n,I.getState,b),W=pe=>{const{nodeDragThreshold:ne}=I.getState();if(y&&(!C||!g||ne>0)&&Ug({id:n,store:I,nodeRef:G}),f){const He=I.getState().nodeInternals.get(n);He&&f(pe,{...He})}},de=pe=>{if(!Lg(pe)&&!L)if(qT.includes(pe.key)&&y){const ne=pe.key==="Escape";Ug({id:n,store:I,unselect:ne,nodeRef:G})}else g&&u&&Object.prototype.hasOwnProperty.call(qs,pe.key)&&(I.setState({ariaLiveMessage:`Moved selected node ${pe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ee({x:qs[pe.key].x,y:qs[pe.key].y,isShiftPressed:pe.shiftKey}))};p.useEffect(()=>()=>{U.current&&(A==null||A.unobserve(U.current),U.current=null)},[]),p.useEffect(()=>{if(G.current&&!_){const pe=G.current;(!j||!$||U.current!==pe)&&(U.current&&(A==null||A.unobserve(U.current)),A==null||A.observe(pe),U.current=pe)}},[_,j,$]),p.useEffect(()=>{const pe=J.current!==r,ne=F.current!==N,He=Z.current!==E;G.current&&(pe||ne||He)&&(pe&&(J.current=r),ne&&(F.current=N),He&&(Z.current=E),I.getState().updateNodeDimensions([{id:n,nodeElement:G.current,forceUpdate:!0}]))},[n,r,N,E]);const Ne=Ej({nodeRef:G,disabled:_||!g,noDragClassName:T,handleSelector:R,nodeId:n,isSelectable:y,selectNodesOnDrag:C});return _?null:P.createElement("div",{className:qt(["react-flow__node",`react-flow__node-${r}`,{[D]:g},v,{selected:u,selectable:y,parent:O,dragging:Ne}]),ref:G,style:{zIndex:B,transform:`translate(${i}px,${l}px)`,pointerEvents:V?"all":"none",visibility:j?"visible":"hidden",...S},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:H,onMouseLeave:q,onContextMenu:K,onClick:W,onDoubleClick:te,onKeyDown:k?de:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":L?void 0:`${pj}-${M}`,"aria-label":z},P.createElement(AV,{value:n},P.createElement(e,{id:n,data:a,type:r,xPos:o,yPos:s,selected:u,isConnectable:w,sourcePosition:N,targetPosition:E,dragging:Ne,dragHandle:R,zIndex:B})))};return t.displayName="NodeWrapper",p.memo(t)};const mZ=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Dv(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function pZ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=At(),{width:a,height:o,x:s,y:i,transformString:l,userSelectionActive:u}=Je(mZ,an),f=_j(),d=p.useRef(null);if(p.useEffect(()=>{var x;n||(x=d.current)==null||x.focus({preventScroll:!0})},[n]),Ej({nodeRef:d}),u||!a||!o)return null;const h=e?x=>{const b=r.getState().getNodes().filter(S=>S.selected);e(x,b)}:void 0,m=x=>{Object.prototype.hasOwnProperty.call(qs,x.key)&&f({x:qs[x.key].x,y:qs[x.key].y,isShiftPressed:x.shiftKey})};return P.createElement("div",{className:qt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},P.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:a,height:o,top:i,left:s}}))}var gZ=p.memo(pZ);const yZ=e=>e.nodesSelectionActive,Cj=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:i,onMove:l,onMoveStart:u,onMoveEnd:f,selectionKeyCode:d,selectionOnDrag:h,selectionMode:m,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:S,panActivationKeyCode:v,zoomActivationKeyCode:g,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:C,panOnScrollSpeed:N,panOnScrollMode:E,zoomOnDoubleClick:_,panOnDrag:A,defaultViewport:R,translateExtent:B,minZoom:O,maxZoom:T,preventScrolling:D,onSelectionContextMenu:j,noWheelClassName:L,noPanClassName:z,disableKeyboardA11y:M})=>{const $=Je(yZ),I=nc(d),G=nc(v),U=G||A,F=G||C,Z=I||h&&U!==!0;return nZ({deleteKeyCode:i,multiSelectionKeyCode:S}),P.createElement(sZ,{onMove:l,onMoveStart:u,onMoveEnd:f,onPaneContextMenu:o,elementsSelectable:y,zoomOnScroll:w,zoomOnPinch:k,panOnScroll:F,panOnScrollSpeed:N,panOnScrollMode:E,zoomOnDoubleClick:_,panOnDrag:!I&&U,defaultViewport:R,translateExtent:B,minZoom:O,maxZoom:T,zoomActivationKeyCode:g,preventScrolling:D,noWheelClassName:L,noPanClassName:z},P.createElement(Sj,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:a,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:U,isSelecting:!!Z,selectionMode:m},e,$&&P.createElement(gZ,{onSelectionContextMenu:j,noPanClassName:z,disableKeyboardA11y:M})))};Cj.displayName="FlowRenderer";var vZ=p.memo(Cj);function xZ(e){return Je(p.useCallback(n=>e?nj(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function bZ(e){const t={input:Yi(e.input||dj),default:Yi(e.default||Hg),output:Yi(e.output||hj),group:Yi(e.group||Ov)},n={},r=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,o)=>(a[o]=Yi(e[o]||Hg),a),n);return{...t,...r}}const wZ=({x:e,y:t,width:n,height:r,origin:a})=>!n||!r?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-n*a[0],y:t-r*a[1]},SZ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Aj=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:a,updateNodeDimensions:o,onError:s}=Je(SZ,an),i=xZ(e.onlyRenderVisibleElements),l=p.useRef(),u=p.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const f=new ResizeObserver(d=>{const h=d.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target,forceUpdate:!0}));o(h)});return l.current=f,f},[]);return p.useEffect(()=>()=>{var f;(f=l==null?void 0:l.current)==null||f.disconnect()},[]),P.createElement("div",{className:"react-flow__nodes",style:Lv},i.map(f=>{var k,C,N;let d=f.type||"default";e.nodeTypes[d]||(s==null||s("003",ya.error003(d)),d="default");const h=e.nodeTypes[d]||e.nodeTypes.default,m=!!(f.draggable||t&&typeof f.draggable>"u"),x=!!(f.selectable||a&&typeof f.selectable>"u"),b=!!(f.connectable||n&&typeof f.connectable>"u"),S=!!(f.focusable||r&&typeof f.focusable>"u"),v=e.nodeExtent?Cv(f.positionAbsolute,e.nodeExtent):f.positionAbsolute,g=(v==null?void 0:v.x)??0,y=(v==null?void 0:v.y)??0,w=wZ({x:g,y,width:f.width??0,height:f.height??0,origin:e.nodeOrigin});return P.createElement(h,{key:f.id,id:f.id,className:f.className,style:f.style,type:d,data:f.data,sourcePosition:f.sourcePosition||le.Bottom,targetPosition:f.targetPosition||le.Top,hidden:f.hidden,xPos:g,yPos:y,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!f.selected,isDraggable:m,isSelectable:x,isConnectable:b,isFocusable:S,resizeObserver:u,dragHandle:f.dragHandle,zIndex:((k=f[at])==null?void 0:k.z)??0,isParent:!!((C=f[at])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!f.width&&!!f.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:f.ariaLabel,hasHandleBounds:!!((N=f[at])!=null&&N.handleBounds)})}))};Aj.displayName="NodeRenderer";var NZ=p.memo(Aj);const kZ=(e,t,n)=>n===le.Left?e-t:n===le.Right?e+t:e,EZ=(e,t,n)=>n===le.Top?e-t:n===le.Bottom?e+t:e,S1="react-flow__edgeupdater",N1=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:a,onMouseEnter:o,onMouseOut:s,type:i})=>P.createElement("circle",{onMouseDown:a,onMouseEnter:o,onMouseOut:s,className:qt([S1,`${S1}-${i}`]),cx:kZ(t,r,e),cy:EZ(n,r,e),r,stroke:"transparent",fill:"transparent"}),_Z=()=>!0;var us=e=>{const t=({id:n,className:r,type:a,data:o,onClick:s,onEdgeDoubleClick:i,selected:l,animated:u,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:b,style:S,source:v,target:g,sourceX:y,sourceY:w,targetX:k,targetY:C,sourcePosition:N,targetPosition:E,elementsSelectable:_,hidden:A,sourceHandleId:R,targetHandleId:B,onContextMenu:O,onMouseEnter:T,onMouseMove:D,onMouseLeave:j,reconnectRadius:L,onReconnect:z,onReconnectStart:M,onReconnectEnd:$,markerEnd:I,markerStart:G,rfId:U,ariaLabel:F,isFocusable:Z,isReconnectable:J,pathOptions:V,interactionWidth:ee,disableKeyboardA11y:re})=>{const H=p.useRef(null),[q,K]=p.useState(!1),[te,W]=p.useState(!1),de=At(),Ne=p.useMemo(()=>`url('#${Bg(G,U)}')`,[G,U]),pe=p.useMemo(()=>`url('#${Bg(I,U)}')`,[I,U]);if(A)return null;const ne=wt=>{var Tn;const{edges:jt,addSelectedEdges:cr,unselectNodesAndEdges:Br,multiSelectionActive:Ir}=de.getState(),Xn=jt.find(ho=>ho.id===n);Xn&&(_&&(de.setState({nodesSelectionActive:!1}),Xn.selected&&Ir?(Br({nodes:[],edges:[Xn]}),(Tn=H.current)==null||Tn.blur()):cr([n])),s&&s(wt,Xn))},He=Vi(n,de.getState,i),Pt=Vi(n,de.getState,O),Xt=Vi(n,de.getState,T),Zn=Vi(n,de.getState,D),Wt=Vi(n,de.getState,j),Yn=(wt,jt)=>{if(wt.button!==0)return;const{edges:cr,isValidConnection:Br}=de.getState(),Ir=jt?g:v,Xn=(jt?B:R)||null,Tn=jt?"target":"source",ho=Br||_Z,ue=jt,Ce=cr.find(Oe=>Oe.id===n);W(!0),M==null||M(wt,Ce,Tn);const Me=Oe=>{W(!1),$==null||$(Oe,Ce,Tn)};ij({event:wt,handleId:Xn,nodeId:Ir,onConnect:Oe=>z==null?void 0:z(Ce,Oe),isTarget:ue,getState:de.getState,setState:de.setState,isValidConnection:ho,edgeUpdaterType:Tn,onReconnectEnd:Me})},Pr=wt=>Yn(wt,!0),Lr=wt=>Yn(wt,!1),$r=()=>K(!0),qn=()=>K(!1),ka=!_&&!s,Ea=wt=>{var jt;if(!re&&qT.includes(wt.key)&&_){const{unselectNodesAndEdges:cr,addSelectedEdges:Br,edges:Ir}=de.getState();wt.key==="Escape"?((jt=H.current)==null||jt.blur(),cr({edges:[Ir.find(Tn=>Tn.id===n)]})):Br([n])}};return P.createElement("g",{className:qt(["react-flow__edge",`react-flow__edge-${a}`,r,{selected:l,animated:u,inactive:ka,updating:q}]),onClick:ne,onDoubleClick:He,onContextMenu:Pt,onMouseEnter:Xt,onMouseMove:Zn,onMouseLeave:Wt,onKeyDown:Z?Ea:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":F===null?void 0:F||`Edge from ${v} to ${g}`,"aria-describedby":Z?`${gj}-${U}`:void 0,ref:H},!te&&P.createElement(e,{id:n,source:v,target:g,selected:l,animated:u,label:f,labelStyle:d,labelShowBg:h,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:b,data:o,style:S,sourceX:y,sourceY:w,targetX:k,targetY:C,sourcePosition:N,targetPosition:E,sourceHandleId:R,targetHandleId:B,markerStart:Ne,markerEnd:pe,pathOptions:V,interactionWidth:ee}),J&&P.createElement(P.Fragment,null,(J==="source"||J===!0)&&P.createElement(N1,{position:N,centerX:y,centerY:w,radius:L,onMouseDown:Pr,onMouseEnter:$r,onMouseOut:qn,type:"source"}),(J==="target"||J===!0)&&P.createElement(N1,{position:E,centerX:k,centerY:C,radius:L,onMouseDown:Lr,onMouseEnter:$r,onMouseOut:qn,type:"target"})))};return t.displayName="EdgeWrapper",p.memo(t)};function CZ(e){const t={default:us(e.default||uf),straight:us(e.bezier||Rv),step:us(e.step||jv),smoothstep:us(e.step||yh),simplebezier:us(e.simplebezier||Tv)},n={},r=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,o)=>(a[o]=us(e[o]||uf),a),n);return{...t,...r}}function k1(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,a=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case le.Top:return{x:r+o/2,y:a};case le.Right:return{x:r+o,y:a+s/2};case le.Bottom:return{x:r+o/2,y:a+s};case le.Left:return{x:r,y:a+s/2}}}function E1(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const AZ=(e,t,n,r,a,o)=>{const s=k1(n,e,t),i=k1(o,r,a);return{sourceX:s.x,sourceY:s.y,targetX:i.x,targetY:i.y}};function TZ({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:a,targetHeight:o,width:s,height:i,transform:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+a),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const f=Av({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:i/l[2]}),d=Math.max(0,Math.min(f.x2,u.x2)-Math.max(f.x,u.x)),h=Math.max(0,Math.min(f.y2,u.y2)-Math.max(f.y,u.y));return Math.ceil(d*h)>0}function _1(e){var r,a,o,s,i;const t=((r=e==null?void 0:e[at])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const jZ=[{level:0,isMaxLevel:!0,edges:[]}];function RZ(e,t,n=!1){let r=-1;const a=e.reduce((s,i)=>{var f,d;const l=Bn(i.zIndex);let u=l?i.zIndex:0;if(n){const h=t.get(i.target),m=t.get(i.source),x=i.selected||(h==null?void 0:h.selected)||(m==null?void 0:m.selected),b=Math.max(((f=m==null?void 0:m[at])==null?void 0:f.z)||0,((d=h==null?void 0:h[at])==null?void 0:d.z)||0,1e3);u=(l?i.zIndex:0)+(x?b:0)}return s[u]?s[u].push(i):s[u]=[i],r=u>r?u:r,s},{}),o=Object.entries(a).map(([s,i])=>{const l=+s;return{edges:i,level:l,isMaxLevel:l===r}});return o.length===0?jZ:o}function MZ(e,t,n){const r=Je(p.useCallback(a=>e?a.edges.filter(o=>{const s=t.get(o.source),i=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&TZ({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:i.width,targetHeight:i.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return RZ(r,t,n)}const DZ=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),zZ=({color:e="none",strokeWidth:t=1})=>P.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),C1={[cf.Arrow]:DZ,[cf.ArrowClosed]:zZ};function OZ(e){const t=At();return p.useMemo(()=>{var a,o;return Object.prototype.hasOwnProperty.call(C1,e)?C1[e]:((o=(a=t.getState()).onError)==null||o.call(a,"009",ya.error009(e)),null)},[e])}const PZ=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:i="auto-start-reverse"})=>{const l=OZ(t);return l?P.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:i,refX:"0",refY:"0"},P.createElement(l,{color:n,strokeWidth:s})):null},LZ=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((a,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const i=Bg(s,t);r.includes(i)||(a.push({id:i,color:s.color||e,...s}),r.push(i))}}),a),[]).sort((a,o)=>a.id.localeCompare(o.id))},Tj=({defaultColor:e,rfId:t})=>{const n=Je(p.useCallback(LZ({defaultColor:e,rfId:t}),[e,t]),(r,a)=>!(r.length!==a.length||r.some((o,s)=>o.id!==a[s].id)));return P.createElement("defs",null,n.map(r=>P.createElement(PZ,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};Tj.displayName="MarkerDefinitions";var $Z=p.memo(Tj);const BZ=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),jj=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:a,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:i,onEdgeMouseMove:l,onEdgeMouseLeave:u,onEdgeClick:f,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,children:S,disableKeyboardA11y:v})=>{const{edgesFocusable:g,edgesUpdatable:y,elementsSelectable:w,width:k,height:C,connectionMode:N,nodeInternals:E,onError:_}=Je(BZ,an),A=MZ(t,E,n);return k?P.createElement(P.Fragment,null,A.map(({level:R,edges:B,isMaxLevel:O})=>P.createElement("svg",{key:R,style:{zIndex:R},width:k,height:C,className:"react-flow__edges react-flow__container"},O&&P.createElement($Z,{defaultColor:e,rfId:r}),P.createElement("g",null,B.map(T=>{const[D,j,L]=_1(E.get(T.source)),[z,M,$]=_1(E.get(T.target));if(!L||!$)return null;let I=T.type||"default";a[I]||(_==null||_("011",ya.error011(I)),I="default");const G=a[I]||a.default,U=N===Uo.Strict?M.target:(M.target??[]).concat(M.source??[]),F=E1(j.source,T.sourceHandle),Z=E1(U,T.targetHandle),J=(F==null?void 0:F.position)||le.Bottom,V=(Z==null?void 0:Z.position)||le.Top,ee=!!(T.focusable||g&&typeof T.focusable>"u"),re=T.reconnectable||T.updatable,H=typeof h<"u"&&(re||y&&typeof re>"u");if(!F||!Z)return _==null||_("008",ya.error008(F,T)),null;const{sourceX:q,sourceY:K,targetX:te,targetY:W}=AZ(D,F,J,z,Z,V);return P.createElement(G,{key:T.id,id:T.id,className:qt([T.className,o]),type:I,data:T.data,selected:!!T.selected,animated:!!T.animated,hidden:!!T.hidden,label:T.label,labelStyle:T.labelStyle,labelShowBg:T.labelShowBg,labelBgStyle:T.labelBgStyle,labelBgPadding:T.labelBgPadding,labelBgBorderRadius:T.labelBgBorderRadius,style:T.style,source:T.source,target:T.target,sourceHandleId:T.sourceHandle,targetHandleId:T.targetHandle,markerEnd:T.markerEnd,markerStart:T.markerStart,sourceX:q,sourceY:K,targetX:te,targetY:W,sourcePosition:J,targetPosition:V,elementsSelectable:w,onContextMenu:s,onMouseEnter:i,onMouseMove:l,onMouseLeave:u,onClick:f,onEdgeDoubleClick:d,onReconnect:h,onReconnectStart:m,onReconnectEnd:x,reconnectRadius:b,rfId:r,ariaLabel:T.ariaLabel,isFocusable:ee,isReconnectable:H,pathOptions:"pathOptions"in T?T.pathOptions:void 0,interactionWidth:T.interactionWidth,disableKeyboardA11y:v})})))),S):null};jj.displayName="EdgeRenderer";var IZ=p.memo(jj);const HZ=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function UZ({children:e}){const t=Je(HZ);return P.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function FZ(e){const t=Pv(),n=p.useRef(!1);p.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const GZ={[le.Left]:le.Right,[le.Right]:le.Left,[le.Top]:le.Bottom,[le.Bottom]:le.Top},Rj=({nodeId:e,handleType:t,style:n,type:r=Ia.Bezier,CustomComponent:a,connectionStatus:o})=>{var C,N,E;const{fromNode:s,handleId:i,toX:l,toY:u,connectionMode:f}=Je(p.useCallback(_=>({fromNode:_.nodeInternals.get(e),handleId:_.connectionHandleId,toX:(_.connectionPosition.x-_.transform[0])/_.transform[2],toY:(_.connectionPosition.y-_.transform[1])/_.transform[2],connectionMode:_.connectionMode}),[e]),an),d=(C=s==null?void 0:s[at])==null?void 0:C.handleBounds;let h=d==null?void 0:d[t];if(f===Uo.Loose&&(h=h||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!h)return null;const m=i?h.find(_=>_.id===i):h[0],x=m?m.x+m.width/2:(s.width??0)/2,b=m?m.y+m.height/2:s.height??0,S=(((N=s.positionAbsolute)==null?void 0:N.x)??0)+x,v=(((E=s.positionAbsolute)==null?void 0:E.y)??0)+b,g=m==null?void 0:m.position,y=g?GZ[g]:null;if(!g||!y)return null;if(a)return P.createElement(a,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:m,fromX:S,fromY:v,toX:l,toY:u,fromPosition:g,toPosition:y,connectionStatus:o});let w="";const k={sourceX:S,sourceY:v,sourcePosition:g,targetX:l,targetY:u,targetPosition:y};return r===Ia.Bezier?[w]=JT(k):r===Ia.Step?[w]=$g({...k,borderRadius:0}):r===Ia.SmoothStep?[w]=$g(k):r===Ia.SimpleBezier?[w]=QT(k):w=`M${S},${v} ${l},${u}`,P.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Rj.displayName="ConnectionLine";const VZ=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function ZZ({containerStyle:e,style:t,type:n,component:r}){const{nodeId:a,handleType:o,nodesConnectable:s,width:i,height:l,connectionStatus:u}=Je(VZ,an);return!(a&&o&&i&&s)?null:P.createElement("svg",{style:e,width:i,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},P.createElement("g",{className:qt(["react-flow__connection",u])},P.createElement(Rj,{nodeId:a,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function A1(e,t){return p.useRef(null),At(),p.useMemo(()=>t(e),[e])}const Mj=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:a,onInit:o,onNodeClick:s,onEdgeClick:i,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,onSelectionContextMenu:x,onSelectionStart:b,onSelectionEnd:S,connectionLineType:v,connectionLineStyle:g,connectionLineComponent:y,connectionLineContainerStyle:w,selectionKeyCode:k,selectionOnDrag:C,selectionMode:N,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:A,deleteKeyCode:R,onlyRenderVisibleElements:B,elementsSelectable:O,selectNodesOnDrag:T,defaultViewport:D,translateExtent:j,minZoom:L,maxZoom:z,preventScrolling:M,defaultMarkerColor:$,zoomOnScroll:I,zoomOnPinch:G,panOnScroll:U,panOnScrollSpeed:F,panOnScrollMode:Z,zoomOnDoubleClick:J,panOnDrag:V,onPaneClick:ee,onPaneMouseEnter:re,onPaneMouseMove:H,onPaneMouseLeave:q,onPaneScroll:K,onPaneContextMenu:te,onEdgeContextMenu:W,onEdgeMouseEnter:de,onEdgeMouseMove:Ne,onEdgeMouseLeave:pe,onReconnect:ne,onReconnectStart:He,onReconnectEnd:Pt,reconnectRadius:Xt,noDragClassName:Zn,noWheelClassName:Wt,noPanClassName:Yn,elevateEdgesOnSelect:Pr,disableKeyboardA11y:Lr,nodeOrigin:$r,nodeExtent:qn,rfId:ka})=>{const Ea=A1(e,bZ),wt=A1(t,CZ);return FZ(o),P.createElement(vZ,{onPaneClick:ee,onPaneMouseEnter:re,onPaneMouseMove:H,onPaneMouseLeave:q,onPaneContextMenu:te,onPaneScroll:K,deleteKeyCode:R,selectionKeyCode:k,selectionOnDrag:C,selectionMode:N,onSelectionStart:b,onSelectionEnd:S,multiSelectionKeyCode:E,panActivationKeyCode:_,zoomActivationKeyCode:A,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:a,zoomOnScroll:I,zoomOnPinch:G,zoomOnDoubleClick:J,panOnScroll:U,panOnScrollSpeed:F,panOnScrollMode:Z,panOnDrag:V,defaultViewport:D,translateExtent:j,minZoom:L,maxZoom:z,onSelectionContextMenu:x,preventScrolling:M,noDragClassName:Zn,noWheelClassName:Wt,noPanClassName:Yn,disableKeyboardA11y:Lr},P.createElement(UZ,null,P.createElement(IZ,{edgeTypes:wt,onEdgeClick:i,onEdgeDoubleClick:u,onlyRenderVisibleElements:B,onEdgeContextMenu:W,onEdgeMouseEnter:de,onEdgeMouseMove:Ne,onEdgeMouseLeave:pe,onReconnect:ne,onReconnectStart:He,onReconnectEnd:Pt,reconnectRadius:Xt,defaultMarkerColor:$,noPanClassName:Yn,elevateEdgesOnSelect:!!Pr,disableKeyboardA11y:Lr,rfId:ka},P.createElement(ZZ,{style:g,type:v,component:y,containerStyle:w})),P.createElement("div",{className:"react-flow__edgelabel-renderer"}),P.createElement(NZ,{nodeTypes:Ea,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:h,onNodeContextMenu:m,selectNodesOnDrag:T,onlyRenderVisibleElements:B,noPanClassName:Yn,noDragClassName:Zn,disableKeyboardA11y:Lr,nodeOrigin:$r,nodeExtent:qn,rfId:ka})))};Mj.displayName="GraphView";var YZ=p.memo(Mj);const Fg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ta={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Fg,nodeExtent:Fg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Uo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:SV,isValidConnection:void 0},qZ=()=>hV((e,t)=>({...Ta,setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:Om(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(a=>({...r,...a}))})},setDefaultNodesAndEdges:(n,r)=>{const a=typeof n<"u",o=typeof r<"u",s=a?Om(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:i,domNode:l,nodeOrigin:u}=t(),f=l==null?void 0:l.querySelector(".react-flow__viewport");if(!f)return;const d=window.getComputedStyle(f),{m22:h}=new window.DOMMatrixReadOnly(d.transform),m=n.reduce((b,S)=>{const v=a.get(S.id);if(v!=null&&v.hidden)a.set(v.id,{...v,[at]:{...v[at],handleBounds:void 0}});else if(v){const g=_v(S.nodeElement);!!(g.width&&g.height&&(v.width!==g.width||v.height!==g.height||S.forceUpdate))&&(a.set(v.id,{...v,[at]:{...v[at],handleBounds:{source:w1(".source",S.nodeElement,h,u),target:w1(".target",S.nodeElement,h,u)}},...g}),b.push({id:v.id,type:"dimensions",dimensions:g}))}return b},[]);vj(a,u);const x=s||o&&!s&&xj(t,{initial:!0,...i});e({nodeInternals:new Map(a),fitViewOnInitDone:x}),(m==null?void 0:m.length)>0&&(r==null||r(m))},updateNodePositions:(n,r=!0,a=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(i=>{const l={id:i.id,type:"position",dragging:a};return r&&(l.positionAbsolute=i.positionAbsolute,l.position=i.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:s,getNodes:i,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const u=wj(n,i()),f=Om(u,a,s,l);e({nodeInternals:f})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(l=>Oa(l,!0)):(s=Rs(o(),n),i=Rs(a,[])),Cu({changedNodes:s,changedEdges:i,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let s,i=null;r?s=n.map(l=>Oa(l,!0)):(s=Rs(a,n),i=Rs(o(),[])),Cu({changedNodes:i,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:a,getNodes:o}=t(),s=n||o(),i=r||a,l=s.map(f=>(f.selected=!1,Oa(f.id,!1))),u=i.map(f=>Oa(f.id,!1));Cu({changedNodes:l,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();r==null||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();r==null||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(i=>i.selected).map(i=>Oa(i.id,!1)),s=n.filter(i=>i.selected).map(i=>Oa(i.id,!1));Cu({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(a=>{a.positionAbsolute=Cv(a.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:a,height:o,d3Zoom:s,d3Selection:i,translateExtent:l}=t();if(!s||!i||!n.x&&!n.y)return!1;const u=_r.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),f=[[0,0],[a,o]],d=s==null?void 0:s.constrain()(u,f,l);return s.transform(i,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Ta.connectionNodeId,connectionHandleId:Ta.connectionHandleId,connectionHandleType:Ta.connectionHandleType,connectionStatus:Ta.connectionStatus,connectionStartHandle:Ta.connectionStartHandle,connectionEndHandle:Ta.connectionEndHandle}),reset:()=>e({...Ta})}),Object.is),Dj=({children:e})=>{const t=p.useRef(null);return t.current||(t.current=qZ()),P.createElement(mV,{value:t.current},e)};Dj.displayName="ReactFlowProvider";const zj=({children:e})=>p.useContext(gh)?P.createElement(P.Fragment,null,e):P.createElement(Dj,null,e);zj.displayName="ReactFlowWrapper";const XZ={input:dj,default:Hg,output:hj,group:Ov},WZ={default:uf,straight:Rv,step:jv,smoothstep:yh,simplebezier:Tv},KZ=[0,0],QZ=[15,15],JZ={x:0,y:0,zoom:1},eY={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Oj=p.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:a,nodeTypes:o=XZ,edgeTypes:s=WZ,onNodeClick:i,onEdgeClick:l,onInit:u,onMove:f,onMoveStart:d,onMoveEnd:h,onConnect:m,onConnectStart:x,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:v,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:C,onNodeDragStart:N,onNodeDrag:E,onNodeDragStop:_,onNodesDelete:A,onEdgesDelete:R,onSelectionChange:B,onSelectionDragStart:O,onSelectionDrag:T,onSelectionDragStop:D,onSelectionContextMenu:j,onSelectionStart:L,onSelectionEnd:z,connectionMode:M=Uo.Strict,connectionLineType:$=Ia.Bezier,connectionLineStyle:I,connectionLineComponent:G,connectionLineContainerStyle:U,deleteKeyCode:F="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:J=!1,selectionMode:V=tc.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:re=lf()?"Meta":"Control",zoomActivationKeyCode:H=lf()?"Meta":"Control",snapToGrid:q=!1,snapGrid:K=QZ,onlyRenderVisibleElements:te=!1,selectNodesOnDrag:W=!0,nodesDraggable:de,nodesConnectable:Ne,nodesFocusable:pe,nodeOrigin:ne=KZ,edgesFocusable:He,edgesUpdatable:Pt,elementsSelectable:Xt,defaultViewport:Zn=JZ,minZoom:Wt=.5,maxZoom:Yn=2,translateExtent:Pr=Fg,preventScrolling:Lr=!0,nodeExtent:$r,defaultMarkerColor:qn="#b1b1b7",zoomOnScroll:ka=!0,zoomOnPinch:Ea=!0,panOnScroll:wt=!1,panOnScrollSpeed:jt=.5,panOnScrollMode:cr=Eo.Free,zoomOnDoubleClick:Br=!0,panOnDrag:Ir=!0,onPaneClick:Xn,onPaneMouseEnter:Tn,onPaneMouseMove:ho,onPaneMouseLeave:ue,onPaneScroll:Ce,onPaneContextMenu:Me,children:Ae,onEdgeContextMenu:Oe,onEdgeDoubleClick:Lt,onEdgeMouseEnter:Rt,onEdgeMouseMove:ur,onEdgeMouseLeave:cn,onEdgeUpdate:Hr,onEdgeUpdateStart:dr,onEdgeUpdateEnd:jn,onReconnect:es,onReconnectStart:Gc,onReconnectEnd:aM,reconnectRadius:oM=10,edgeUpdaterRadius:sM=10,onNodesChange:iM,onEdgesChange:lM,noDragClassName:cM="nodrag",noWheelClassName:uM="nowheel",noPanClassName:Wv="nopan",fitView:dM=!1,fitViewOptions:fM,connectOnClick:hM=!0,attributionPosition:mM,proOptions:pM,defaultEdgeOptions:gM,elevateNodesOnSelect:yM=!0,elevateEdgesOnSelect:vM=!1,disableKeyboardA11y:Kv=!1,autoPanOnConnect:xM=!0,autoPanOnNodeDrag:bM=!0,connectionRadius:wM=20,isValidConnection:SM,onError:NM,style:kM,id:Qv,nodeDragThreshold:EM,..._M},CM)=>{const Eh=Qv||"1";return P.createElement("div",{..._M,style:{...kM,...eY},ref:CM,className:qt(["react-flow",a]),"data-testid":"rf__wrapper",id:Qv},P.createElement(zj,null,P.createElement(YZ,{onInit:u,onMove:f,onMoveStart:d,onMoveEnd:h,onNodeClick:i,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:y,onNodeMouseLeave:w,onNodeContextMenu:k,onNodeDoubleClick:C,nodeTypes:o,edgeTypes:s,connectionLineType:$,connectionLineStyle:I,connectionLineComponent:G,connectionLineContainerStyle:U,selectionKeyCode:Z,selectionOnDrag:J,selectionMode:V,deleteKeyCode:F,multiSelectionKeyCode:re,panActivationKeyCode:ee,zoomActivationKeyCode:H,onlyRenderVisibleElements:te,selectNodesOnDrag:W,defaultViewport:Zn,translateExtent:Pr,minZoom:Wt,maxZoom:Yn,preventScrolling:Lr,zoomOnScroll:ka,zoomOnPinch:Ea,zoomOnDoubleClick:Br,panOnScroll:wt,panOnScrollSpeed:jt,panOnScrollMode:cr,panOnDrag:Ir,onPaneClick:Xn,onPaneMouseEnter:Tn,onPaneMouseMove:ho,onPaneMouseLeave:ue,onPaneScroll:Ce,onPaneContextMenu:Me,onSelectionContextMenu:j,onSelectionStart:L,onSelectionEnd:z,onEdgeContextMenu:Oe,onEdgeDoubleClick:Lt,onEdgeMouseEnter:Rt,onEdgeMouseMove:ur,onEdgeMouseLeave:cn,onReconnect:es??Hr,onReconnectStart:Gc??dr,onReconnectEnd:aM??jn,reconnectRadius:oM??sM,defaultMarkerColor:qn,noDragClassName:cM,noWheelClassName:uM,noPanClassName:Wv,elevateEdgesOnSelect:vM,rfId:Eh,disableKeyboardA11y:Kv,nodeOrigin:ne,nodeExtent:$r}),P.createElement(GV,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:x,onConnectEnd:b,onClickConnectStart:S,onClickConnectEnd:v,nodesDraggable:de,nodesConnectable:Ne,nodesFocusable:pe,edgesFocusable:He,edgesUpdatable:Pt,elementsSelectable:Xt,elevateNodesOnSelect:yM,minZoom:Wt,maxZoom:Yn,nodeExtent:$r,onNodesChange:iM,onEdgesChange:lM,snapToGrid:q,snapGrid:K,connectionMode:M,translateExtent:Pr,connectOnClick:hM,defaultEdgeOptions:gM,fitView:dM,fitViewOptions:fM,onNodesDelete:A,onEdgesDelete:R,onNodeDragStart:N,onNodeDrag:E,onNodeDragStop:_,onSelectionDrag:T,onSelectionDragStart:O,onSelectionDragStop:D,noPanClassName:Wv,nodeOrigin:ne,rfId:Eh,autoPanOnConnect:xM,autoPanOnNodeDrag:bM,onError:NM,connectionRadius:wM,isValidConnection:SM,nodeDragThreshold:EM}),P.createElement(UV,{onSelectionChange:B}),Ae,P.createElement(gV,{proOptions:pM,position:mM}),P.createElement(XV,{rfId:Eh,disableKeyboardA11y:Kv})))});Oj.displayName="ReactFlow";function Pj(e){return t=>{const[n,r]=p.useState(t),a=p.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,a]}}const tY=Pj(wj),nY=Pj(cZ);function rY(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}function aY(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},P.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function oY(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},P.createElement("path",{d:"M0 0h32v4.2H0z"}))}function sY(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},P.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function iY(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function lY(){return P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},P.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const al=({children:e,className:t,...n})=>P.createElement("button",{type:"button",className:qt(["react-flow__controls-button",t]),...n},e);al.displayName="ControlButton";const cY=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Lj=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:a,onZoomIn:o,onZoomOut:s,onFitView:i,onInteractiveChange:l,className:u,children:f,position:d="bottom-left"})=>{const h=At(),[m,x]=p.useState(!1),{isInteractive:b,minZoomReached:S,maxZoomReached:v}=Je(cY,rY),{zoomIn:g,zoomOut:y,fitView:w}=Pv();if(p.useEffect(()=>{x(!0)},[]),!m)return null;const k=()=>{g(),o==null||o()},C=()=>{y(),s==null||s()},N=()=>{w(a),i==null||i()},E=()=>{h.setState({nodesDraggable:!b,nodesConnectable:!b,elementsSelectable:!b}),l==null||l(!b)};return P.createElement(VT,{className:qt(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&P.createElement(P.Fragment,null,P.createElement(al,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},P.createElement(aY,null)),P.createElement(al,{onClick:C,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:S},P.createElement(oY,null))),n&&P.createElement(al,{className:"react-flow__controls-fitview",onClick:N,title:"fit view","aria-label":"fit view"},P.createElement(sY,null)),r&&P.createElement(al,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity"},b?P.createElement(lY,null):P.createElement(iY,null)),f)};Lj.displayName="Controls";var uY=p.memo(Lj);function dY(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,a]of e)if(!Object.is(a,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Jn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Jn||(Jn={}));function fY({color:e,dimensions:t,lineWidth:n}){return P.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function hY({color:e,radius:t}){return P.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const mY={[Jn.Dots]:"#91919a",[Jn.Lines]:"#eee",[Jn.Cross]:"#e2e2e2"},pY={[Jn.Dots]:1,[Jn.Lines]:1,[Jn.Cross]:6},gY=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function $j({id:e,variant:t=Jn.Dots,gap:n=20,size:r,lineWidth:a=1,offset:o=2,color:s,style:i,className:l}){const u=p.useRef(null),{transform:f,patternId:d}=Je(gY,dY),h=s||mY[t],m=r||pY[t],x=t===Jn.Dots,b=t===Jn.Cross,S=Array.isArray(n)?n:[n,n],v=[S[0]*f[2]||1,S[1]*f[2]||1],g=m*f[2],y=b?[g,g]:v,w=x?[g/o,g/o]:[y[0]/o,y[1]/o];return P.createElement("svg",{className:qt(["react-flow__background",l]),style:{...i,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},P.createElement("pattern",{id:d+e,x:f[0]%v[0],y:f[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},x?P.createElement(hY,{color:h,radius:g/o}):P.createElement(fY,{dimensions:y,color:h,lineWidth:a})),P.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}$j.displayName="Background";var yY=p.memo($j);const vY=({data:e,selected:t,onTogglePerk:n,onRankChange:r})=>{var u,f;const a=e.totalRanks,o=a>1?(e.currentRank||0)>0:e.selected||t,s=d=>{d.preventDefault(),d.stopPropagation();const h=e.currentRank||0,m=e.totalRanks||1,x=h>=m?0:h+1;r&&r(e.edid,x)},i=()=>{const d={padding:"8px 12px",borderRadius:"6px",border:"2px solid",fontSize:"12px",fontWeight:"500",minWidth:"140px",textAlign:"center",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"};return o?{...d,borderColor:"#d4af37",backgroundColor:"rgba(212, 175, 55, 0.15)",color:"hsl(var(--foreground))",boxShadow:"0 0 0 2px rgba(212, 175, 55, 0.4), 0 2px 4px rgba(212, 175, 55, 0.2)",transform:"scale(1.02)"}:e.isRoot?{...d,borderColor:"hsl(var(--border))",backgroundColor:"hsl(var(--background))",color:"hsl(var(--foreground))"}:{...d,borderColor:"hsl(var(--border))"}},l=((f=(u=e.ranks[0])==null?void 0:u.description)==null?void 0:f.base)||"";return c.jsxs(UA,{children:[c.jsx(FA,{asChild:!0,children:c.jsxs("div",{style:i(),onClick:s,onMouseDown:d=>d.stopPropagation(),children:[!e.isRoot&&c.jsx(pi,{type:"target",position:le.Bottom}),c.jsx("div",{className:"font-medium",children:e.name}),a>1&&c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.currentRank||0,"/",a," ranks"]}),e.hasChildren&&c.jsx(pi,{type:"source",position:le.Top})]})}),c.jsx(uv,{className:"w-80 bg-background border border-border shadow-lg",style:{zIndex:1e3},children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-semibold text-sm",children:e.name}),c.jsx("div",{className:"text-sm text-muted-foreground",children:l}),a>1&&c.jsxs("div",{className:"text-xs text-muted-foreground pt-2 border-t",children:[c.jsx("strong",{children:"Ranks:"})," ",e.currentRank||0,"/",a,c.jsx("br",{}),c.jsx("em",{children:"Click to cycle through ranks"})]})]})})]})},xY=p.memo(vY);function Y(e,t,n){function r(i,l){var u;Object.defineProperty(i,"_zod",{value:i._zod??{},enumerable:!1}),(u=i._zod).traits??(u.traits=new Set),i._zod.traits.add(e),t(i,l);for(const f in s.prototype)f in i||Object.defineProperty(i,f,{value:s.prototype[f].bind(i)});i._zod.constr=s,i._zod.def=l}const a=(n==null?void 0:n.Parent)??Object;class o extends a{}Object.defineProperty(o,"name",{value:e});function s(i){var l;const u=n!=null&&n.Parent?new o:this;r(u,i),(l=u._zod).deferred??(l.deferred=[]);for(const f of u._zod.deferred)f();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:i=>{var l,u;return n!=null&&n.Parent&&i instanceof n.Parent?!0:(u=(l=i==null?void 0:i._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class rc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Bj={};function Fo(e){return Bj}function bY(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,a])=>t.indexOf(+r)===-1).map(([r,a])=>a)}function wY(e,t){return typeof t=="bigint"?t.toString():t}function Ij(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $v(e){return e==null}function Bv(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function SY(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return o%s/10**a}function Fe(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Iv(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qi(e){return JSON.stringify(e)}const Hj=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function Gg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const NY=Ij(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Vg(e){if(Gg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Gg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const kY=new Set(["string","number","symbol"]);function vh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Jo(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function EY(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const _Y={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function CY(e,t){const n={},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(n[a]=r.shape[a])}return Jo(e,{...e._zod.def,shape:n,checks:[]})}function AY(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const a in t){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete n[a]}return Jo(e,{...e._zod.def,shape:n,checks:[]})}function TY(e,t){if(!Vg(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Iv(this,"shape",r),r},checks:[]};return Jo(e,n)}function jY(e,t){return Jo(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Iv(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function RY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)a[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return Jo(t,{...t._zod.def,shape:a,checks:[]})}function MY(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return Jo(t,{...t._zod.def,shape:a,checks:[]})}function kl(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Hv(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Tu(e){return typeof e=="string"?e:e==null?void 0:e.message}function Go(e,t,n){var a,o,s,i,l,u;const r={...e,path:e.path??[]};if(!e.message){const f=Tu((s=(o=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??Tu((i=t==null?void 0:t.error)==null?void 0:i.call(t,e))??Tu((l=n.customError)==null?void 0:l.call(n,e))??Tu((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=f}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Uv(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ac(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Uj=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,wY,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Fj=Y("$ZodError",Uj),Gj=Y("$ZodError",Uj,{Parent:Error});function DY(e,t=n=>n.message){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function zY(e,t){const n=t||function(o){return o.message},r={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>a({issues:i}));else if(s.code==="invalid_key")a({issues:s.issues});else if(s.code==="invalid_element")a({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let i=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(n(s))):i[u]=i[u]||{_errors:[]},i=i[u],l++}}};return a(e),r}const OY=e=>(t,n,r,a)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new rc;if(s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(l=>Go(l,o,Fo())));throw Hj(i,a==null?void 0:a.callee),i}return s.value},PY=e=>async(t,n,r,a)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const i=new((a==null?void 0:a.Err)??e)(s.issues.map(l=>Go(l,o,Fo())));throw Hj(i,a==null?void 0:a.callee),i}return s.value},Vj=e=>(t,n,r)=>{const a=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new rc;return o.issues.length?{success:!1,error:new(e??Fj)(o.issues.map(s=>Go(s,a,Fo())))}:{success:!0,data:o.value}},LY=Vj(Gj),Zj=e=>async(t,n,r)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Go(s,a,Fo())))}:{success:!0,data:o.value}},$Y=Zj(Gj),BY=/^[cC][^\s-]{8,}$/,IY=/^[0-9a-z]+$/,HY=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,UY=/^[0-9a-vA-V]{20}$/,FY=/^[A-Za-z0-9]{27}$/,GY=/^[a-zA-Z0-9_-]{21}$/,VY=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ZY=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,T1=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,YY=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,qY="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function XY(){return new RegExp(qY,"u")}const WY=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,QY=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,JY=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eq=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Yj=/^[A-Za-z0-9_-]*$/,tq=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,nq=/^\+(?:[0-9]){6,14}[0-9]$/,qj="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rq=new RegExp(`^${qj}$`);function Xj(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function aq(e){return new RegExp(`^${Xj(e)}$`)}function oq(e){const t=Xj({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${qj}T(?:${r})$`)}const sq=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},iq=/^\d+$/,lq=/^-?\d+(?:\.\d+)?/i,cq=/true|false/i,uq=/^[^A-Z]*$/,dq=/^[^a-z]*$/,ln=Y("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Wj={number:"number",bigint:"bigint",object:"date"},Kj=Y("$ZodCheckLessThan",(e,t)=>{ln.init(e,t);const n=Wj[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Qj=Y("$ZodCheckGreaterThan",(e,t)=>{ln.init(e,t);const n=Wj[typeof t.value];e._zod.onattach.push(r=>{const a=r._zod.bag,o=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fq=Y("$ZodCheckMultipleOf",(e,t)=>{ln.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):SY(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),hq=Y("$ZodCheckNumberFormat",(e,t)=>{var s;ln.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[a,o]=_Y[t.format];e._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,l.minimum=a,l.maximum=o,n&&(l.pattern=iq)}),e._zod.check=i=>{const l=i.value;if(n){if(!Number.isInteger(l)){i.issues.push({expected:r,format:t.format,code:"invalid_type",input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?i.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<a&&i.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>o&&i.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:e})}}),mq=Y("$ZodCheckMaxLength",(e,t)=>{var n;ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!$v(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const a=r.value;if(a.length<=t.maximum)return;const s=Uv(a);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),pq=Y("$ZodCheckMinLength",(e,t)=>{var n;ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!$v(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const a=r.value;if(a.length>=t.minimum)return;const s=Uv(a);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),gq=Y("$ZodCheckLengthEquals",(e,t)=>{var n;ln.init(e,t),(n=e._zod.def).when??(n.when=r=>{const a=r.value;return!$v(a)&&a.length!==void 0}),e._zod.onattach.push(r=>{const a=r._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=r=>{const a=r.value,o=a.length;if(o===t.length)return;const s=Uv(a),i=o>t.length;r.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),xh=Y("$ZodCheckStringFormat",(e,t)=>{var n,r;ln.init(e,t),e._zod.onattach.push(a=>{const o=a._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),yq=Y("$ZodCheckRegex",(e,t)=>{xh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),vq=Y("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=uq),xh.init(e,t)}),xq=Y("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=dq),xh.init(e,t)}),bq=Y("$ZodCheckIncludes",(e,t)=>{ln.init(e,t);const n=vh(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(a=>{const o=a._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),wq=Y("$ZodCheckStartsWith",(e,t)=>{ln.init(e,t);const n=new RegExp(`^${vh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Sq=Y("$ZodCheckEndsWith",(e,t)=>{ln.init(e,t);const n=new RegExp(`.*${vh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Nq=Y("$ZodCheckOverwrite",(e,t)=>{ln.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class kq{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),a=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(a)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,a.join(`
`))}}const Eq={major:4,minor:0,patch:5},ot=Y("$ZodType",(e,t)=>{var a;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Eq;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,i,l)=>{let u=kl(s),f;for(const d of i){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(u)continue;const h=s.issues.length,m=d._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new rc;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,s.issues.length!==h&&(u||(u=kl(s,h)))});else{if(s.issues.length===h)continue;u||(u=kl(s,h))}}return f?f.then(()=>s):s};e._zod.run=(s,i)=>{const l=e._zod.parse(s,i);if(l instanceof Promise){if(i.async===!1)throw new rc;return l.then(u=>o(u,r,i))}return o(l,r,i)}}e["~standard"]={validate:o=>{var s;try{const i=LY(e,o);return i.success?{value:i.data}:{issues:(s=i.error)==null?void 0:s.issues}}catch{return $Y(e,o).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Fv=Y("$ZodString",(e,t)=>{var n;ot.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??sq(e._zod.bag),e._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Xe=Y("$ZodStringFormat",(e,t)=>{xh.init(e,t),Fv.init(e,t)}),_q=Y("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=ZY),Xe.init(e,t)}),Cq=Y("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=T1(r))}else t.pattern??(t.pattern=T1());Xe.init(e,t)}),Aq=Y("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=YY),Xe.init(e,t)}),Tq=Y("$ZodURL",(e,t)=>{Xe.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),o=a.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:tq.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),jq=Y("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=XY()),Xe.init(e,t)}),Rq=Y("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=GY),Xe.init(e,t)}),Mq=Y("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=BY),Xe.init(e,t)}),Dq=Y("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=IY),Xe.init(e,t)}),zq=Y("$ZodULID",(e,t)=>{t.pattern??(t.pattern=HY),Xe.init(e,t)}),Oq=Y("$ZodXID",(e,t)=>{t.pattern??(t.pattern=UY),Xe.init(e,t)}),Pq=Y("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=FY),Xe.init(e,t)}),Lq=Y("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=oq(t)),Xe.init(e,t)}),$q=Y("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=rq),Xe.init(e,t)}),Bq=Y("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=aq(t)),Xe.init(e,t)}),Iq=Y("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=VY),Xe.init(e,t)}),Hq=Y("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=WY),Xe.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Uq=Y("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=KY),Xe.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Fq=Y("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=QY),Xe.init(e,t)}),Gq=Y("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=JY),Xe.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Jj(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Vq=Y("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=eq),Xe.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{Jj(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Zq(e){if(!Yj.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Jj(n)}const Yq=Y("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Yj),Xe.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Zq(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),qq=Y("$ZodE164",(e,t)=>{t.pattern??(t.pattern=nq),Xe.init(e,t)});function Xq(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const Wq=Y("$ZodJWT",(e,t)=>{Xe.init(e,t),e._zod.check=n=>{Xq(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),eR=Y("$ZodNumber",(e,t)=>{ot.init(e,t),e._zod.pattern=e._zod.bag.pattern??lq,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const a=n.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return n;const o=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...o?{received:o}:{}}),n}}),Kq=Y("$ZodNumber",(e,t)=>{hq.init(e,t),eR.init(e,t)}),Qq=Y("$ZodBoolean",(e,t)=>{ot.init(e,t),e._zod.pattern=cq,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const a=n.value;return typeof a=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}}),Jq=Y("$ZodUnknown",(e,t)=>{ot.init(e,t),e._zod.parse=n=>n}),eX=Y("$ZodNever",(e,t)=>{ot.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function j1(e,t,n){e.issues.length&&t.issues.push(...Hv(n,e.issues)),t.value[n]=e.value}const tX=Y("$ZodArray",(e,t)=>{ot.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const o=[];for(let s=0;s<a.length;s++){const i=a[s],l=t.element._zod.run({value:i,issues:[]},r);l instanceof Promise?o.push(l.then(u=>j1(u,n,s))):j1(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function ju(e,t,n){e.issues.length&&t.issues.push(...Hv(n,e.issues)),t.value[n]=e.value}function R1(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Hv(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const nX=Y("$ZodObject",(e,t)=>{ot.init(e,t);const n=Ij(()=>{const d=Object.keys(t.shape);for(const m of d)if(!(t.shape[m]instanceof ot))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const h=EY(t.shape);return{shape:t.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(h)}});Fe(e._zod,"propValues",()=>{const d=t.shape,h={};for(const m in d){const x=d[m]._zod;if(x.values){h[m]??(h[m]=new Set);for(const b of x.values)h[m].add(b)}}return h});const r=d=>{const h=new kq(["shape","payload","ctx"]),m=n.value,x=g=>{const y=qi(g);return`shape[${y}]._zod.run({ value: input[${y}], issues: [] }, ctx)`};h.write("const input = payload.value;");const b=Object.create(null);let S=0;for(const g of m.keys)b[g]=`key_${S++}`;h.write("const newResult = {}");for(const g of m.keys)if(m.optionalKeys.has(g)){const y=b[g];h.write(`const ${y} = ${x(g)};`);const w=qi(g);h.write(`
        if (${y}.issues.length) {
          if (input[${w}] === undefined) {
            if (${w} in input) {
              newResult[${w}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${y}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${w}, ...iss.path] : [${w}],
              }))
            );
          }
        } else if (${y}.value === undefined) {
          if (${w} in input) newResult[${w}] = undefined;
        } else {
          newResult[${w}] = ${y}.value;
        }
        `)}else{const y=b[g];h.write(`const ${y} = ${x(g)};`),h.write(`
          if (${y}.issues.length) payload.issues = payload.issues.concat(${y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${qi(g)}, ...iss.path] : [${qi(g)}]
          })));`),h.write(`newResult[${qi(g)}] = ${y}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const v=h.compile();return(g,y)=>v(d,g,y)};let a;const o=Gg,s=!Bj.jitless,l=s&&NY.value,u=t.catchall;let f;e._zod.parse=(d,h)=>{f??(f=n.value);const m=d.value;if(!o(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d;const x=[];if(s&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)a||(a=r(t.shape)),d=a(d,h);else{d.value={};const y=f.shape;for(const w of f.keys){const k=y[w],C=k._zod.run({value:m[w],issues:[]},h),N=k._zod.optin==="optional"&&k._zod.optout==="optional";C instanceof Promise?x.push(C.then(E=>N?R1(E,d,w,m):ju(E,d,w))):N?R1(C,d,w,m):ju(C,d,w)}}if(!u)return x.length?Promise.all(x).then(()=>d):d;const b=[],S=f.keySet,v=u._zod,g=v.def.type;for(const y of Object.keys(m)){if(S.has(y))continue;if(g==="never"){b.push(y);continue}const w=v.run({value:m[y],issues:[]},h);w instanceof Promise?x.push(w.then(k=>ju(k,d,y))):ju(w,d,y)}return b.length&&d.issues.push({code:"unrecognized_keys",keys:b,input:m,inst:e}),x.length?Promise.all(x).then(()=>d):d}});function M1(e,t,n,r){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Go(o,r,Fo())))}),t}const rX=Y("$ZodUnion",(e,t)=>{ot.init(e,t),Fe(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Fe(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Fe(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Fe(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Bv(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let a=!1;const o=[];for(const s of t.options){const i=s._zod.run({value:n.value,issues:[]},r);if(i instanceof Promise)o.push(i),a=!0;else{if(i.issues.length===0)return i;o.push(i)}}return a?Promise.all(o).then(s=>M1(s,n,e,r)):M1(o,n,e,r)}}),aX=Y("$ZodIntersection",(e,t)=>{ot.init(e,t),e._zod.parse=(n,r)=>{const a=n.value,o=t.left._zod.run({value:a,issues:[]},r),s=t.right._zod.run({value:a,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,u])=>D1(n,l,u)):D1(n,o,s)}});function Zg(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Vg(e)&&Vg(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),a={...e,...t};for(const o of r){const s=Zg(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};a[o]=s.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=e[r],o=t[r],s=Zg(a,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function D1(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),kl(e))return e;const r=Zg(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const oX=Y("$ZodEnum",(e,t)=>{ot.init(e,t);const n=bY(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>kY.has(typeof r)).map(r=>typeof r=="string"?vh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),sX=Y("$ZodTransform",(e,t)=>{ot.init(e,t),e._zod.parse=(n,r)=>{const a=t.transform(n.value,n);if(r.async)return(a instanceof Promise?a:Promise.resolve(a)).then(s=>(n.value=s,n));if(a instanceof Promise)throw new rc;return n.value=a,n}}),iX=Y("$ZodOptional",(e,t)=>{ot.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Fe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Fe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Bv(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),lX=Y("$ZodNullable",(e,t)=>{ot.init(e,t),Fe(e._zod,"optin",()=>t.innerType._zod.optin),Fe(e._zod,"optout",()=>t.innerType._zod.optout),Fe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Bv(n.source)}|null)$`):void 0}),Fe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),cX=Y("$ZodDefault",(e,t)=>{ot.init(e,t),e._zod.optin="optional",Fe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>z1(o,t)):z1(a,t)}});function z1(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const uX=Y("$ZodPrefault",(e,t)=>{ot.init(e,t),e._zod.optin="optional",Fe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),dX=Y("$ZodNonOptional",(e,t)=>{ot.init(e,t),Fe(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>O1(o,e)):O1(a,e)}});function O1(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const fX=Y("$ZodCatch",(e,t)=>{ot.init(e,t),e._zod.optin="optional",Fe(e._zod,"optout",()=>t.innerType._zod.optout),Fe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>Go(s,r,Fo()))},input:n.value}),n.issues=[]),n)):(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Go(o,r,Fo()))},input:n.value}),n.issues=[]),n)}}),hX=Y("$ZodPipe",(e,t)=>{ot.init(e,t),Fe(e._zod,"values",()=>t.in._zod.values),Fe(e._zod,"optin",()=>t.in._zod.optin),Fe(e._zod,"optout",()=>t.out._zod.optout),Fe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const a=t.in._zod.run(n,r);return a instanceof Promise?a.then(o=>P1(o,t,r)):P1(a,t,r)}});function P1(e,t,n){return kl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const mX=Y("$ZodReadonly",(e,t)=>{ot.init(e,t),Fe(e._zod,"propValues",()=>t.innerType._zod.propValues),Fe(e._zod,"values",()=>t.innerType._zod.values),Fe(e._zod,"optin",()=>t.innerType._zod.optin),Fe(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then(L1):L1(a)}});function L1(e){return e.value=Object.freeze(e.value),e}const pX=Y("$ZodCustom",(e,t)=>{ln.init(e,t),ot.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then(o=>$1(o,n,r,e));$1(a,n,r,e)}});function $1(e,t,n,r){if(!e){const a={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(a.params=r._zod.def.params),t.issues.push(ac(a))}}class gX{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function yX(){return new gX}const Ru=yX();function vX(e,t){return new e({type:"string",...ce(t)})}function xX(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ce(t)})}function B1(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ce(t)})}function bX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ce(t)})}function wX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ce(t)})}function SX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ce(t)})}function NX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ce(t)})}function kX(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ce(t)})}function EX(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ce(t)})}function _X(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ce(t)})}function CX(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ce(t)})}function AX(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ce(t)})}function TX(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ce(t)})}function jX(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ce(t)})}function RX(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ce(t)})}function MX(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ce(t)})}function DX(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ce(t)})}function zX(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ce(t)})}function OX(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ce(t)})}function PX(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ce(t)})}function LX(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ce(t)})}function $X(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ce(t)})}function BX(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ce(t)})}function IX(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ce(t)})}function HX(e,t){return new e({type:"string",format:"date",check:"string_format",...ce(t)})}function UX(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ce(t)})}function FX(e,t){return new e({type:"string",format:"duration",check:"string_format",...ce(t)})}function GX(e,t){return new e({type:"number",checks:[],...ce(t)})}function VX(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ce(t)})}function ZX(e,t){return new e({type:"boolean",...ce(t)})}function YX(e){return new e({type:"unknown"})}function qX(e,t){return new e({type:"never",...ce(t)})}function I1(e,t){return new Kj({check:"less_than",...ce(t),value:e,inclusive:!1})}function Bm(e,t){return new Kj({check:"less_than",...ce(t),value:e,inclusive:!0})}function H1(e,t){return new Qj({check:"greater_than",...ce(t),value:e,inclusive:!1})}function Im(e,t){return new Qj({check:"greater_than",...ce(t),value:e,inclusive:!0})}function U1(e,t){return new fq({check:"multiple_of",...ce(t),value:e})}function tR(e,t){return new mq({check:"max_length",...ce(t),maximum:e})}function df(e,t){return new pq({check:"min_length",...ce(t),minimum:e})}function nR(e,t){return new gq({check:"length_equals",...ce(t),length:e})}function XX(e,t){return new yq({check:"string_format",format:"regex",...ce(t),pattern:e})}function WX(e){return new vq({check:"string_format",format:"lowercase",...ce(e)})}function KX(e){return new xq({check:"string_format",format:"uppercase",...ce(e)})}function QX(e,t){return new bq({check:"string_format",format:"includes",...ce(t),includes:e})}function JX(e,t){return new wq({check:"string_format",format:"starts_with",...ce(t),prefix:e})}function eW(e,t){return new Sq({check:"string_format",format:"ends_with",...ce(t),suffix:e})}function Uc(e){return new Nq({check:"overwrite",tx:e})}function tW(e){return Uc(t=>t.normalize(e))}function nW(){return Uc(e=>e.trim())}function rW(){return Uc(e=>e.toLowerCase())}function aW(){return Uc(e=>e.toUpperCase())}function oW(e,t,n){return new e({type:"array",element:t,...ce(n)})}function sW(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ce(n)})}const iW=Y("ZodISODateTime",(e,t)=>{Lq.init(e,t),et.init(e,t)});function lW(e){return IX(iW,e)}const cW=Y("ZodISODate",(e,t)=>{$q.init(e,t),et.init(e,t)});function uW(e){return HX(cW,e)}const dW=Y("ZodISOTime",(e,t)=>{Bq.init(e,t),et.init(e,t)});function fW(e){return UX(dW,e)}const hW=Y("ZodISODuration",(e,t)=>{Iq.init(e,t),et.init(e,t)});function mW(e){return FX(hW,e)}const pW=(e,t)=>{Fj.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>zY(e,n)},flatten:{value:n=>DY(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},bh=Y("ZodError",pW,{Parent:Error}),gW=OY(bh),yW=PY(bh),vW=Vj(bh),xW=Zj(bh),mt=Y("ZodType",(e,t)=>(ot.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Jo(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>gW(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>vW(e,n,r),e.parseAsync=async(n,r)=>yW(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>xW(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(dK(n,r)),e.superRefine=n=>e.check(fK(n)),e.overwrite=n=>e.check(Uc(n)),e.optional=()=>Z1(e),e.nullable=()=>Y1(e),e.nullish=()=>Z1(Y1(e)),e.nonoptional=n=>rK(e,n),e.array=()=>_n(e),e.or=n=>ZW([e,n]),e.and=n=>qW(e,n),e.transform=n=>q1(e,KW(n)),e.default=n=>eK(e,n),e.prefault=n=>nK(e,n),e.catch=n=>oK(e,n),e.pipe=n=>q1(e,n),e.readonly=()=>lK(e),e.describe=n=>{const r=e.clone();return Ru.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Ru.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ru.get(e);const r=e.clone();return Ru.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),rR=Y("_ZodString",(e,t)=>{Fv.init(e,t),mt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(XX(...r)),e.includes=(...r)=>e.check(QX(...r)),e.startsWith=(...r)=>e.check(JX(...r)),e.endsWith=(...r)=>e.check(eW(...r)),e.min=(...r)=>e.check(df(...r)),e.max=(...r)=>e.check(tR(...r)),e.length=(...r)=>e.check(nR(...r)),e.nonempty=(...r)=>e.check(df(1,...r)),e.lowercase=r=>e.check(WX(r)),e.uppercase=r=>e.check(KX(r)),e.trim=()=>e.check(nW()),e.normalize=(...r)=>e.check(tW(...r)),e.toLowerCase=()=>e.check(rW()),e.toUpperCase=()=>e.check(aW())}),bW=Y("ZodString",(e,t)=>{Fv.init(e,t),rR.init(e,t),e.email=n=>e.check(xX(wW,n)),e.url=n=>e.check(kX(SW,n)),e.jwt=n=>e.check(BX(LW,n)),e.emoji=n=>e.check(EX(NW,n)),e.guid=n=>e.check(B1(F1,n)),e.uuid=n=>e.check(bX(Mu,n)),e.uuidv4=n=>e.check(wX(Mu,n)),e.uuidv6=n=>e.check(SX(Mu,n)),e.uuidv7=n=>e.check(NX(Mu,n)),e.nanoid=n=>e.check(_X(kW,n)),e.guid=n=>e.check(B1(F1,n)),e.cuid=n=>e.check(CX(EW,n)),e.cuid2=n=>e.check(AX(_W,n)),e.ulid=n=>e.check(TX(CW,n)),e.base64=n=>e.check(PX(zW,n)),e.base64url=n=>e.check(LX(OW,n)),e.xid=n=>e.check(jX(AW,n)),e.ksuid=n=>e.check(RX(TW,n)),e.ipv4=n=>e.check(MX(jW,n)),e.ipv6=n=>e.check(DX(RW,n)),e.cidrv4=n=>e.check(zX(MW,n)),e.cidrv6=n=>e.check(OX(DW,n)),e.e164=n=>e.check($X(PW,n)),e.datetime=n=>e.check(lW(n)),e.date=n=>e.check(uW(n)),e.time=n=>e.check(fW(n)),e.duration=n=>e.check(mW(n))});function De(e){return vX(bW,e)}const et=Y("ZodStringFormat",(e,t)=>{Xe.init(e,t),rR.init(e,t)}),wW=Y("ZodEmail",(e,t)=>{Aq.init(e,t),et.init(e,t)}),F1=Y("ZodGUID",(e,t)=>{_q.init(e,t),et.init(e,t)}),Mu=Y("ZodUUID",(e,t)=>{Cq.init(e,t),et.init(e,t)}),SW=Y("ZodURL",(e,t)=>{Tq.init(e,t),et.init(e,t)}),NW=Y("ZodEmoji",(e,t)=>{jq.init(e,t),et.init(e,t)}),kW=Y("ZodNanoID",(e,t)=>{Rq.init(e,t),et.init(e,t)}),EW=Y("ZodCUID",(e,t)=>{Mq.init(e,t),et.init(e,t)}),_W=Y("ZodCUID2",(e,t)=>{Dq.init(e,t),et.init(e,t)}),CW=Y("ZodULID",(e,t)=>{zq.init(e,t),et.init(e,t)}),AW=Y("ZodXID",(e,t)=>{Oq.init(e,t),et.init(e,t)}),TW=Y("ZodKSUID",(e,t)=>{Pq.init(e,t),et.init(e,t)}),jW=Y("ZodIPv4",(e,t)=>{Hq.init(e,t),et.init(e,t)}),RW=Y("ZodIPv6",(e,t)=>{Uq.init(e,t),et.init(e,t)}),MW=Y("ZodCIDRv4",(e,t)=>{Fq.init(e,t),et.init(e,t)}),DW=Y("ZodCIDRv6",(e,t)=>{Gq.init(e,t),et.init(e,t)}),zW=Y("ZodBase64",(e,t)=>{Vq.init(e,t),et.init(e,t)}),OW=Y("ZodBase64URL",(e,t)=>{Yq.init(e,t),et.init(e,t)}),PW=Y("ZodE164",(e,t)=>{qq.init(e,t),et.init(e,t)}),LW=Y("ZodJWT",(e,t)=>{Wq.init(e,t),et.init(e,t)}),aR=Y("ZodNumber",(e,t)=>{eR.init(e,t),mt.init(e,t),e.gt=(r,a)=>e.check(H1(r,a)),e.gte=(r,a)=>e.check(Im(r,a)),e.min=(r,a)=>e.check(Im(r,a)),e.lt=(r,a)=>e.check(I1(r,a)),e.lte=(r,a)=>e.check(Bm(r,a)),e.max=(r,a)=>e.check(Bm(r,a)),e.int=r=>e.check(G1(r)),e.safe=r=>e.check(G1(r)),e.positive=r=>e.check(H1(0,r)),e.nonnegative=r=>e.check(Im(0,r)),e.negative=r=>e.check(I1(0,r)),e.nonpositive=r=>e.check(Bm(0,r)),e.multipleOf=(r,a)=>e.check(U1(r,a)),e.step=(r,a)=>e.check(U1(r,a)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function nn(e){return GX(aR,e)}const $W=Y("ZodNumberFormat",(e,t)=>{Kq.init(e,t),aR.init(e,t)});function G1(e){return VX($W,e)}const BW=Y("ZodBoolean",(e,t)=>{Qq.init(e,t),mt.init(e,t)});function oR(e){return ZX(BW,e)}const IW=Y("ZodUnknown",(e,t)=>{Jq.init(e,t),mt.init(e,t)});function V1(){return YX(IW)}const HW=Y("ZodNever",(e,t)=>{eX.init(e,t),mt.init(e,t)});function UW(e){return qX(HW,e)}const FW=Y("ZodArray",(e,t)=>{tX.init(e,t),mt.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(df(n,r)),e.nonempty=n=>e.check(df(1,n)),e.max=(n,r)=>e.check(tR(n,r)),e.length=(n,r)=>e.check(nR(n,r)),e.unwrap=()=>e.element});function _n(e,t){return oW(FW,e,t)}const GW=Y("ZodObject",(e,t)=>{nX.init(e,t),mt.init(e,t),Fe(e,"shape",()=>t.shape),e.keyof=()=>XW(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:V1()}),e.loose=()=>e.clone({...e._zod.def,catchall:V1()}),e.strict=()=>e.clone({...e._zod.def,catchall:UW()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>TY(e,n),e.merge=n=>jY(e,n),e.pick=n=>CY(e,n),e.omit=n=>AY(e,n),e.partial=(...n)=>RY(sR,e,n[0]),e.required=(...n)=>MY(iR,e,n[0])});function Tt(e,t){const n={type:"object",get shape(){return Iv(this,"shape",{...e}),this.shape},...ce(t)};return new GW(n)}const VW=Y("ZodUnion",(e,t)=>{rX.init(e,t),mt.init(e,t),e.options=t.options});function ZW(e,t){return new VW({type:"union",options:e,...ce(t)})}const YW=Y("ZodIntersection",(e,t)=>{aX.init(e,t),mt.init(e,t)});function qW(e,t){return new YW({type:"intersection",left:e,right:t})}const Yg=Y("ZodEnum",(e,t)=>{oX.init(e,t),mt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,a)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Yg({...t,checks:[],...ce(a),entries:o})},e.exclude=(r,a)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Yg({...t,checks:[],...ce(a),entries:o})}});function XW(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Yg({type:"enum",entries:n,...ce(t)})}const WW=Y("ZodTransform",(e,t)=>{sX.init(e,t),mt.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(ac(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(ac(s))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then(o=>(n.value=o,n)):(n.value=a,n)}});function KW(e){return new WW({type:"transform",transform:e})}const sR=Y("ZodOptional",(e,t)=>{iX.init(e,t),mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Z1(e){return new sR({type:"optional",innerType:e})}const QW=Y("ZodNullable",(e,t)=>{lX.init(e,t),mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Y1(e){return new QW({type:"nullable",innerType:e})}const JW=Y("ZodDefault",(e,t)=>{cX.init(e,t),mt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function eK(e,t){return new JW({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const tK=Y("ZodPrefault",(e,t)=>{uX.init(e,t),mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nK(e,t){return new tK({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const iR=Y("ZodNonOptional",(e,t)=>{dX.init(e,t),mt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rK(e,t){return new iR({type:"nonoptional",innerType:e,...ce(t)})}const aK=Y("ZodCatch",(e,t)=>{fX.init(e,t),mt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function oK(e,t){return new aK({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const sK=Y("ZodPipe",(e,t)=>{hX.init(e,t),mt.init(e,t),e.in=t.in,e.out=t.out});function q1(e,t){return new sK({type:"pipe",in:e,out:t})}const iK=Y("ZodReadonly",(e,t)=>{mX.init(e,t),mt.init(e,t)});function lK(e){return new iK({type:"readonly",innerType:e})}const cK=Y("ZodCustom",(e,t)=>{pX.init(e,t),mt.init(e,t)});function uK(e){const t=new ln({check:"custom"});return t._zod.check=e,t}function dK(e,t={}){return sW(cK,e,t)}function fK(e){const t=uK(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ac(r,n.value,t._zod.def));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),n.issues.push(ac(a))}},e(n.value,n)));return t}const hK=Tt({type:De(),id:De()}),mK=Tt({skill:De(),level:nn()}),pK=Tt({skillLevel:mK.optional(),items:_n(hK).optional()}),gK=Tt({base:De(),subtext:De()}),yK=Tt({rank:nn(),edid:De(),name:De(),description:gK,prerequisites:pK}),vK=Tt({x:nn(),y:nn(),horizontal:nn(),vertical:nn()}),xK=Tt({parents:_n(De()),children:_n(De())}),bK=Tt({edid:De(),name:De(),ranks:_n(yK),totalRanks:nn(),connections:xK,isRoot:oR(),position:vK}),lR=Tt({treeId:De(),treeName:De(),treeDescription:De(),category:De(),perks:_n(bK)});_n(lR);const wK=e=>lR.parse(e);function SK(e){try{return{success:!0,data:wK(e)}}catch(t){return{success:!1,error:t}}}function NK(e){const t=new Set,n=[],r=(a,o)=>{if(t.has(a))return;t.add(a),o.push(e.find(i=>i.edid===a));const s=e.find(i=>i.edid===a);s.connection.children.forEach(i=>{e.some(l=>l.edid===i)&&r(i,o)}),s.connection.parents.forEach(i=>{e.some(l=>l.edid===i)&&r(i,o)})};return e.forEach(a=>{if(!t.has(a.edid)){const o=[];r(a.edid,o),n.push(o)}}),n}function kK(e,t){try{if(e.length===0)return[];const a=NK(e).map(i=>EK(i)).map(i=>_K(i,t)),o=AK(a,t);return cR(o,t)}catch{return e.map(r=>({id:r.edid,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0}))}}function EK(e){const t=new Map;e.forEach(i=>{t.set(i.edid,{perk:i,depth:-1,children:i.connection.children,parents:i.connection.parents,x:0,y:0,width:0})});const n=[];t.forEach((i,l)=>{i.parents.length===0&&n.push(l)});const r=n.map(i=>({id:i,depth:0})),a=new Set;for(;r.length>0;){const{id:i,depth:l}=r.shift();if(a.has(i))continue;a.add(i);const u=t.get(i);u&&((u.depth===-1||l<u.depth)&&(u.depth=l),u.children.forEach(f=>{t.has(f)&&!a.has(f)&&r.push({id:f,depth:l+1})}))}let o=!0,s=0;for(;o&&s<10;)o=!1,s++,t.forEach((i,l)=>{if(i.parents.length>1){const u=i.parents.map(f=>{const d=t.get(f);return d?d.depth:-1}).filter(f=>f!==-1);if(u.length>0){const d=Math.min(...u)+1;i.depth!==d&&(i.depth=d,o=!0)}}});return t.forEach((i,l)=>{i.children.forEach(u=>{const f=t.get(u);if(f&&f.depth<=i.depth){const d=i.depth+1;f.depth=d}})}),{nodes:t,roots:n}}function _K(e,t){const{nodes:n,roots:r}=e,a=[];if(n.forEach((d,h)=>{a.push({id:h,x:0,y:0,width:t.nodeWidth,height:t.nodeHeight,originalX:0,originalY:0,children:d.children})}),a.some(d=>{try{return qg(d.id,n,t,new Set),!1}catch{return!0}}))return a.forEach(d=>{const h=n.get(d.id);if(h&&h.perk){const m=h.perk.position.x*t.gridScaleX,x=-h.perk.position.y*t.gridScaleY;d.x=m,d.y=x,d.originalX=m,d.originalY=x}}),CK(a,t),a;const s=a.filter(d=>!a.some(m=>{var x;return m.id!==d.id&&((x=m.children)==null?void 0:x.includes(d.id))}));s.forEach(d=>{d.y=0,d.originalY=0});const i=new Set,l=s.map(d=>({node:d,depth:0}));for(;l.length>0;){const{node:d,depth:h}=l.shift();i.has(d.id)||(i.add(d.id),h>0&&(d.y=-h*t.verticalSpacing,d.originalY=d.y),d.children&&d.children.forEach(m=>{const x=a.find(b=>b.id===m);x&&!i.has(m)&&l.push({node:x,depth:h+1})}))}const u=new Map;return a.forEach(d=>{const h=Math.round(d.y/t.verticalSpacing);u.has(h)||u.set(h,[]),u.get(h).push(d)}),Array.from(u.keys()).sort((d,h)=>h-d).forEach(d=>{u.get(d).forEach(m=>{if(m.children){const x=new Map;m.children.forEach(b=>{const S=a.find(v=>v.id===b);if(S){const v=a.filter(g=>{var y;return((y=g.children)==null?void 0:y.includes(b))&&Math.abs(g.y-S.y)===t.verticalSpacing});v.length>0&&v.some(g=>g.id===m.id)&&(x.has(m.id)||x.set(m.id,[]),x.get(m.id).push(S))}}),x.forEach((b,S)=>{if(b.length>0){const v=a.find(g=>g.id===S);if(v){const g=b.map(N=>{const E=qg(N.id,n,t);return{child:N,subtreeWidth:E}}),y=g.reduce((N,{subtreeWidth:E})=>N+E,0),w=(b.length-1)*t.horizontalSpacing,k=y+w;let C=v.x-k/2;g.forEach(({child:N,subtreeWidth:E})=>{N.x=C+E/2,N.originalX=N.x,C+=E+t.horizontalSpacing})}}})}})}),cR(a,t),a}function cR(e,t){const a=t.horizontalSpacing*.4,o=new Map;e.forEach(s=>{o.set(s.id,{x:s.x,y:s.y})});for(let s=0;s<5;s++){let i=0;for(let l=0;l<e.length;l++)for(let u=l+1;u<e.length;u++){const f=e[l],d=e[u],h=f.x+t.nodeWidth*.5,m=f.y+t.nodeHeight*.5,x=d.x+t.nodeWidth*.5,b=d.y+t.nodeHeight*.5,S=x-h,v=b-m,g=Math.sqrt(S*S+v*v);if(g<a&&g>0){const y=S/g*.03,w=v/g*.03;f.x-=y,f.y-=w,d.x+=y,d.y+=w,i++}}if(i===0)break}return e.forEach(s=>{const i=o.get(s.id);if(!i)return;const l=i.x-s.x,u=i.y-s.y,f=s.x+l*.02,d=s.y+u*.02,m=Math.round(i.y/t.verticalSpacing)*t.verticalSpacing,x=Math.max(d,m);s.x=f,s.y=x,s.originalX=f,s.originalY=x}),e}function CK(e,t){const a=t.nodeHeight*.8,o=50,s=new Map;e.forEach(u=>{s.set(u.id,{x:u.x,y:u.y})});let i=0,l=1;for(;l>0&&i<o;){i++,l=0;for(let u=0;u<e.length;u++)for(let f=u+1;f<e.length;f++){const d=e[u],h=e[f],m=Math.max(0,Math.min(d.x+t.nodeWidth,h.x+t.nodeWidth)-Math.max(d.x,h.x)),x=Math.max(0,Math.min(d.y+t.nodeHeight,h.y+t.nodeHeight)-Math.max(d.y,h.y)),b=d.y+t.nodeHeight*.5,S=h.y+t.nodeHeight*.5,v=Math.abs(S-b),g=v<a;if(m>0&&x>0||g){l++;let y=0;m>0&&x>0?y=x*.08:g&&(y=(a-v)*.08),d.y<h.y?(d.y-=y,h.y+=y):(d.y+=y,h.y-=y)}}if(l===0)break}return e.forEach(u=>{const f=s.get(u.id);if(!f)return;const d=f.y-u.y,h=u.y+d*.03;u.y=h,u.originalY=h}),e}function AK(e,t){const n=[],r=e.map(l=>{const u=Math.max(...l.map(y=>y.y)),f=l.filter(y=>Math.abs(y.y-u)<1),d=f.map(y=>y.x),h=Math.min(...d),m=Math.max(...d),x=m-h,b=d.reduce((y,w)=>y+w,0)/d.length,S=Math.min(...l.map(y=>y.x)),v=Math.max(...l.map(y=>y.x+y.width)),g=v-S;return{treeNodes:l,rootNodes:f,minRootX:h,maxRootX:m,rootWidth:x,rootCenterX:b,minX:S,maxX:v,treeWidth:g}}),a=Math.min(...r.map(l=>l.minRootX)),s=Math.max(...r.map(l=>l.maxRootX))-a;let i=0;return r.forEach(l=>{const u=s>0?l.rootWidth/s:1,f=l.minRootX-a;i-l.minX+f*u,l.treeNodes.forEach(d=>{const m=(d.x-l.minRootX)*u,x=i+m;n.push({...d,x,originalX:x})}),i+=l.treeWidth*u+t.horizontalSpacing}),n}function qg(e,t,n,r=new Set){if(r.has(e))throw new Error(`Circular reference detected for perkId: ${e}`);const a=t.get(e);if(!a)return n.nodeWidth;r.add(e);const o=a.children||[],s=o.map(l=>qg(l,t,n,new Set(r)));if(s.length===0)return n.nodeWidth;let i=0;return s.forEach((l,u)=>{i+=l,u<o.length-1&&(i+=n.horizontalSpacing)}),Math.max(i,n.nodeWidth)}function TK(e){return e.perks.map(t=>({edid:t.edid,name:t.name,position:t.position,connection:t.connections}))}const jK=()=>{let e={onTogglePerk:void 0,onRankChange:void 0};return{nodeTypes:{perkNode:n=>c.jsx(xY,{...n,onTogglePerk:e.onTogglePerk,onRankChange:e.onRankChange})},updateCallbacks:n=>{e=n}}},X1=jK();function RK({tree:e,onTogglePerk:t,onRankChange:n,selectedPerks:r}){const[a,o]=P.useState(null);p.useEffect(()=>{X1.updateCallbacks({onTogglePerk:t,onRankChange:n})},[t,n]);const s=P.useCallback((C,N)=>{},[]),i=p.useMemo(()=>{if(!e)return null;const C=SK(e);return C.success?C.data:(console.error("Invalid perk tree data:",C.error),null)},[e]),{nodeTypes:l}=X1,u=p.useMemo(()=>({nodeWidth:140,nodeHeight:80,horizontalSpacing:40,verticalSpacing:200,padding:50,gridScaleX:180,gridScaleY:120}),[]),f=p.useMemo(()=>{if(!i)return[];const C=TK(i);return kK(C,u)},[i,u]),d=p.useMemo(()=>!i||f.length===0?[]:i.perks.map(C=>{const N=C.edid,E=f.find(B=>B.id===N),_=E?{x:E.x,y:E.y}:{x:0,y:0},A=C.connections.children.length>0,R=C.connections.parents.length===0;return{id:N,type:"perkNode",position:_,draggable:!0,data:{...C,selected:!1,hasChildren:A,isRoot:R}}}),[i,f]),h=p.useMemo(()=>{if(!i)return[];const C=[];return i.perks.forEach(N=>{const E=N.edid;N.connections.children.length>0&&N.connections.children.forEach(_=>{if(_===E)return;i.perks.some(R=>R.edid===_)&&C.push({id:`${E}-${_}`,source:E,target:_,type:"straight",style:{stroke:"#d4af37",strokeWidth:3,opacity:.8}})})}),C},[i]),[m,x,b]=tY(d),[S,v,g]=nY(h);P.useEffect(()=>{x(d)},[d,x]),P.useEffect(()=>{i&&x(C=>C.map(N=>{const E=r.find(A=>A.edid===N.id),_=E!==void 0;return{...N,data:{...N.data,selected:_,currentRank:(E==null?void 0:E.currentRank)||0}}}))},[r,x,i]),P.useEffect(()=>{v(h)},[h,v]),P.useEffect(()=>{i&&m.length>0&&a&&setTimeout(()=>{a.fitView({padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5})},200)},[i==null?void 0:i.treeId,a]);const y=p.useCallback(C=>v(N=>ej(C,N)),[v]),w=p.useCallback(C=>{C.stopPropagation()},[]),k=p.useCallback(C=>{C.stopPropagation()},[]);return i?c.jsxs("div",{className:"w-full h-full bg-background rounded-lg border",style:{zIndex:1},onMouseDown:C=>C.stopPropagation(),onTouchStart:C=>C.stopPropagation(),children:[c.jsx("div",{className:"absolute top-2 right-2 z-10",children:c.jsx("div",{className:"bg-primary text-primary-foreground px-2 py-1 rounded text-xs font-medium",children:"Algorithm v2"})}),c.jsxs(Oj,{nodes:m,edges:S,onNodesChange:b,onEdgesChange:g,onConnect:y,onInit:o,nodeTypes:l,nodesDraggable:!1,nodesFocusable:!1,selectNodesOnDrag:!1,nodesConnectable:!1,elementsSelectable:!0,fitView:!0,fitViewOptions:{padding:.2,includeHiddenNodes:!1,minZoom:.2,maxZoom:1.5},minZoom:.1,maxZoom:2,defaultViewport:{x:0,y:0,zoom:.8},onNodeDragStop:s,onMouseDown:w,onTouchStart:k,panOnDrag:!0,panOnScroll:!1,preventScrolling:!0,children:[c.jsx(yY,{}),c.jsx(uY,{})]})]}):c.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20 rounded-lg",children:c.jsx("p",{className:"text-muted-foreground",children:e?"Invalid perk tree data":"Select a skill to view its perk tree"})})}const wh=p.createContext(null);wh.displayName="PanelGroupContext";const nt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Gv=10,zo=p.useLayoutEffect,W1=i0.useId,MK=typeof W1=="function"?W1:()=>null;let DK=0;function Vv(e=null){const t=MK(),n=p.useRef(e||t||null);return n.current===null&&(n.current=""+DK++),e??n.current}function uR({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:s,maxSize:i,minSize:l,onCollapse:u,onExpand:f,onResize:d,order:h,style:m,tagName:x="div",...b}){const S=p.useContext(wh);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:g,getPanelSize:y,getPanelStyle:w,groupId:k,isPanelCollapsed:C,reevaluatePanelConstraints:N,registerPanel:E,resizePanel:_,unregisterPanel:A}=S,R=Vv(s),B=p.useRef({callbacks:{onCollapse:u,onExpand:f,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:i,minSize:l},id:R,idIsFromProps:s!==void 0,order:h});p.useRef({didLogMissingDefaultSizeWarning:!1}),zo(()=>{const{callbacks:T,constraints:D}=B.current,j={...D};B.current.id=R,B.current.idIsFromProps=s!==void 0,B.current.order=h,T.onCollapse=u,T.onExpand=f,T.onResize=d,D.collapsedSize=n,D.collapsible=r,D.defaultSize=a,D.maxSize=i,D.minSize=l,(j.collapsedSize!==D.collapsedSize||j.collapsible!==D.collapsible||j.maxSize!==D.maxSize||j.minSize!==D.minSize)&&N(B.current,j)}),zo(()=>{const T=B.current;return E(T),()=>{A(T)}},[h,R,E,A]),p.useImperativeHandle(o,()=>({collapse:()=>{v(B.current)},expand:T=>{g(B.current,T)},getId(){return R},getSize(){return y(B.current)},isCollapsed(){return C(B.current)},isExpanded(){return!C(B.current)},resize:T=>{_(B.current,T)}}),[v,g,y,C,R,_]);const O=w(B.current,a);return p.createElement(x,{...b,children:e,className:t,id:R,style:{...O,...m},[nt.groupId]:k,[nt.panel]:"",[nt.panelCollapsible]:r||void 0,[nt.panelId]:R,[nt.panelSize]:parseFloat(""+O.flexGrow).toFixed(1)})}const dR=p.forwardRef((e,t)=>p.createElement(uR,{...e,forwardedRef:t}));uR.displayName="Panel";dR.displayName="forwardRef(Panel)";let Xg=null,sd=-1,Ha=null;function zK(e,t){if(t){const n=(t&gR)!==0,r=(t&yR)!==0,a=(t&vR)!==0,o=(t&xR)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function OK(){Ha!==null&&(document.head.removeChild(Ha),Xg=null,Ha=null,sd=-1)}function Hm(e,t){var n,r;const a=zK(e,t);if(Xg!==a){if(Xg=a,Ha===null&&(Ha=document.createElement("style"),document.head.appendChild(Ha)),sd>=0){var o;(o=Ha.sheet)===null||o===void 0||o.removeRule(sd)}sd=(n=(r=Ha.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function fR(e){return e.type==="keydown"}function hR(e){return e.type.startsWith("pointer")}function mR(e){return e.type.startsWith("mouse")}function Sh(e){if(hR(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(mR(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function PK(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function LK(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function $K(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:J1(e),b:J1(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ve(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:Q1(K1(n.a)),b:Q1(K1(n.b))};if(a.a===a.b){const o=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=o.length;for(;i--;){const l=o[i];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(a.a-a.b)}const BK=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function IK(e){var t;const n=getComputedStyle((t=pR(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function HK(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||IK(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||BK.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function K1(e){let t=e.length;for(;t--;){const n=e[t];if(ve(n,"Missing node"),HK(n))return n}return null}function Q1(e){return e&&Number(getComputedStyle(e).zIndex)||0}function J1(e){const t=[];for(;e;)t.push(e),e=pR(e);return t}function pR(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const gR=1,yR=2,vR=4,xR=8,UK=PK()==="coarse";let er=[],Xs=!1,Ua=new Map,Nh=new Map;const oc=new Set;function FK(e,t,n,r,a){var o;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},l=(o=Ua.get(s))!==null&&o!==void 0?o:0;return Ua.set(s,l+1),oc.add(i),ff(),function(){var f;Nh.delete(e),oc.delete(i);const d=(f=Ua.get(s))!==null&&f!==void 0?f:1;if(Ua.set(s,d-1),ff(),d===1&&Ua.delete(s),er.includes(i)){const h=er.indexOf(i);h>=0&&er.splice(h,1),Yv(),a("up",!0,null)}}}function GK(e){const{target:t}=e,{x:n,y:r}=Sh(e);Xs=!0,Zv({target:t,x:n,y:r}),ff(),er.length>0&&(hf("down",e),e.preventDefault(),bR(t)||e.stopImmediatePropagation())}function Um(e){const{x:t,y:n}=Sh(e);if(Xs&&e.buttons===0&&(Xs=!1,hf("up",e)),!Xs){const{target:r}=e;Zv({target:r,x:t,y:n})}hf("move",e),Yv(),er.length>0&&e.preventDefault()}function Fm(e){const{target:t}=e,{x:n,y:r}=Sh(e);Nh.clear(),Xs=!1,er.length>0&&(e.preventDefault(),bR(t)||e.stopImmediatePropagation()),hf("up",e),Zv({target:t,x:n,y:r}),Yv(),ff()}function bR(e){let t=e;for(;t;){if(t.hasAttribute(nt.resizeHandle))return!0;t=t.parentElement}return!1}function Zv({target:e,x:t,y:n}){er.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),oc.forEach(a=>{const{element:o,hitAreaMargins:s}=a,i=o.getBoundingClientRect(),{bottom:l,left:u,right:f,top:d}=i,h=UK?s.coarse:s.fine;if(t>=u-h&&t<=f+h&&n>=d-h&&n<=l+h){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&$K(r,o)>0){let x=r,b=!1;for(;x&&!x.contains(o);){if(LK(x.getBoundingClientRect(),i)){b=!0;break}x=x.parentElement}if(b)return}er.push(a)}})}function Gm(e,t){Nh.set(e,t)}function Yv(){let e=!1,t=!1;er.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;Nh.forEach(r=>{n|=r}),e&&t?Hm("intersection",n):e?Hm("horizontal",n):t?Hm("vertical",n):OK()}let Vm;function ff(){var e;(e=Vm)===null||e===void 0||e.abort(),Vm=new AbortController;const t={capture:!0,signal:Vm.signal};oc.size&&(Xs?(er.length>0&&Ua.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Fm,t),a.addEventListener("pointerleave",Um,t),a.addEventListener("pointermove",Um,t))}),Ua.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Fm,t),a.addEventListener("pointercancel",Fm,t)})):Ua.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",GK,t),a.addEventListener("pointermove",Um,t))}))}function hf(e,t){oc.forEach(n=>{const{setResizeHandlerState:r}=n,a=er.includes(n);r(e,a,t)})}function VK(){const[e,t]=p.useState(0);return p.useCallback(()=>t(n=>n+1),[])}function ve(e,t){if(!e)throw console.error(t),Error(t)}function Vo(e,t,n=Gv){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Xr(e,t,n=Gv){return Vo(e,t,n)===0}function mn(e,t,n){return Vo(e,t,n)===0}function ZK(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!mn(a,o,n))return!1}return!0}function Ms({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ve(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:s=100,minSize:i=0}=r;if(Vo(n,i)<0)if(o){const l=(a+i)/2;Vo(n,l)<0?n=a:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(Gv)),n}function ol({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(mn(e,0))return t;const s=[...t],[i,l]=r;ve(i!=null,"Invalid first pivot index"),ve(l!=null,"Invalid second pivot index");let u=0;if(o==="keyboard"){{const d=e<0?l:i,h=n[d];ve(h,`Panel constraints not found for index ${d}`);const{collapsedSize:m=0,collapsible:x,minSize:b=0}=h;if(x){const S=t[d];if(ve(S!=null,`Previous layout not found for panel index ${d}`),mn(S,m)){const v=b-S;Vo(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}{const d=e<0?i:l,h=n[d];ve(h,`No panel constraints found for index ${d}`);const{collapsedSize:m=0,collapsible:x,minSize:b=0}=h;if(x){const S=t[d];if(ve(S!=null,`Previous layout not found for panel index ${d}`),mn(S,b)){const v=S-m;Vo(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}}{const d=e<0?1:-1;let h=e<0?l:i,m=0;for(;;){const b=t[h];ve(b!=null,`Previous layout not found for panel index ${h}`);const v=Ms({panelConstraints:n,panelIndex:h,size:100})-b;if(m+=v,h+=d,h<0||h>=n.length)break}const x=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-x:x}{let h=e<0?i:l;for(;h>=0&&h<n.length;){const m=Math.abs(e)-Math.abs(u),x=t[h];ve(x!=null,`Previous layout not found for panel index ${h}`);const b=x-m,S=Ms({panelConstraints:n,panelIndex:h,size:b});if(!mn(x,S)&&(u+=x-S,s[h]=S,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(ZK(a,s))return a;{const d=e<0?l:i,h=t[d];ve(h!=null,`Previous layout not found for panel index ${d}`);const m=h+u,x=Ms({panelConstraints:n,panelIndex:d,size:m});if(s[d]=x,!mn(x,m)){let b=m-x,v=e<0?l:i;for(;v>=0&&v<n.length;){const g=s[v];ve(g!=null,`Previous layout not found for panel index ${v}`);const y=g+b,w=Ms({panelConstraints:n,panelIndex:v,size:y});if(mn(g,w)||(b-=w-g,s[v]=w),mn(b,0))break;e>0?v--:v++}}}const f=s.reduce((d,h)=>h+d,0);return mn(f,100)?s:a}function YK({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,s=0;const i=n[0];ve(i!=null,"No pivot index found"),t.forEach((d,h)=>{const{constraints:m}=d,{maxSize:x=100,minSize:b=0}=m;h===i?(r=b,a=x):(o+=b,s+=x)});const l=Math.min(a,100-o),u=Math.max(r,100-s),f=e[i];return{valueMax:l,valueMin:u,valueNow:f}}function sc(e,t=document){return Array.from(t.querySelectorAll(`[${nt.resizeHandleId}][data-panel-group-id="${e}"]`))}function wR(e,t,n=document){const a=sc(e,n).findIndex(o=>o.getAttribute(nt.resizeHandleId)===t);return a??null}function SR(e,t,n){const r=wR(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function qK(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function NR(e,t=document){if(qK(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function kh(e,t=document){const n=t.querySelector(`[${nt.resizeHandleId}="${e}"]`);return n||null}function XK(e,t,n,r=document){var a,o,s,i;const l=kh(t,r),u=sc(e,r),f=l?u.indexOf(l):-1,d=(a=(o=n[f])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,h=(s=(i=n[f+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[d,h]}function WK({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:s}){p.useRef({didWarnAboutMissingResizeHandle:!1}),zo(()=>{if(!o)return;const i=sc(n,o);for(let l=0;l<a.length-1;l++){const{valueMax:u,valueMin:f,valueNow:d}=YK({layout:r,panelsArray:a,pivotIndices:[l,l+1]}),h=i[l];if(h!=null){const m=a[l];ve(m,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(f)),h.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{i.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,a,o]),p.useEffect(()=>{if(!o)return;const i=t.current;ve(i,"Eager values not found");const{panelDataArray:l}=i,u=NR(n,o);ve(u!=null,`No group found for id "${n}"`);const f=sc(n,o);ve(f,`No resize handles found for group id "${n}"`);const d=f.map(h=>{const m=h.getAttribute(nt.resizeHandleId);ve(m,"Resize handle element has no handle id attribute");const[x,b]=XK(n,m,l,o);if(x==null||b==null)return()=>{};const S=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const g=l.findIndex(y=>y.id===x);if(g>=0){const y=l[g];ve(y,`No panel data found for index ${g}`);const w=r[g],{collapsedSize:k=0,collapsible:C,minSize:N=0}=y.constraints;if(w!=null&&C){const E=ol({delta:mn(w,k)?N-k:k-w,initialLayout:r,panelConstraints:l.map(_=>_.constraints),pivotIndices:SR(n,m,o),prevLayout:r,trigger:"keyboard"});r!==E&&s(E)}}break}}};return h.addEventListener("keydown",S),()=>{h.removeEventListener("keydown",S)}});return()=>{d.forEach(h=>h())}},[o,e,t,n,r,a,s])}function eS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function kR(e,t){const n=e==="horizontal",{x:r,y:a}=Sh(t);return n?r:a}function KK(e,t,n,r,a){const o=n==="horizontal",s=kh(t,a);ve(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute(nt.groupId);ve(i,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=kR(n,e),f=NR(i,a);ve(f,`No group element found for id "${i}"`);const d=f.getBoundingClientRect(),h=o?d.width:d.height;return(u-l)/h*100}function QK(e,t,n,r,a,o){if(fR(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:a!=null?i=a:i=10;let l=0;switch(e.key){case"ArrowDown":l=s?0:i;break;case"ArrowLeft":l=s?-i:0;break;case"ArrowRight":l=s?i:0;break;case"ArrowUp":l=s?0:-i;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:KK(e,t,n,r,o)}function JK({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const s=n[o];ve(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;i!=null&&(r++,t[o]=i,a-=i)}for(let o=0;o<e.length;o++){const s=n[o];ve(s,`Panel constraints not found for index ${o}`);const{defaultSize:i}=s;if(i!=null)continue;const l=e.length-r,u=a/l;r++,t[o]=u,a-=u}return t}function ds(e,t,n){t.forEach((r,a)=>{const o=e[a];ve(o,`Panel data not found for index ${a}`);const{callbacks:s,constraints:i,id:l}=o,{collapsedSize:u=0,collapsible:f}=i,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:h,onExpand:m,onResize:x}=s;x&&x(r,d),f&&(h||m)&&(m&&(d==null||Xr(d,u))&&!Xr(r,u)&&m(),h&&(d==null||!Xr(d,u))&&Xr(r,u)&&h())}})}function Du(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function eQ({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const s=n[a];let i;return s==null?i=e!=null?e.toPrecision(o):"1":r.length===1?i="1":i=s.toPrecision(o),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function tQ(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function tS(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function ER(e){return`react-resizable-panels:${e}`}function _R(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function CR(e,t){try{const n=ER(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function nQ(e,t,n){var r,a;const o=(r=CR(e,n))!==null&&r!==void 0?r:{},s=_R(t);return(a=o[s])!==null&&a!==void 0?a:null}function rQ(e,t,n,r,a){var o;const s=ER(e),i=_R(t),l=(o=CR(e,a))!==null&&o!==void 0?o:{};l[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(s,JSON.stringify(l))}catch(u){console.error(u)}}function nS({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!mn(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const s=n[o];ve(s!=null,`No layout data found for index ${o}`);const i=100/r*s;n[o]=i}let a=0;for(let o=0;o<t.length;o++){const s=n[o];ve(s!=null,`No layout data found for index ${o}`);const i=Ms({panelConstraints:t,panelIndex:o,size:s});s!=i&&(a+=s-i,n[o]=i)}if(!mn(a,0))for(let o=0;o<t.length;o++){const s=n[o];ve(s!=null,`No layout data found for index ${o}`);const i=s+a,l=Ms({panelConstraints:t,panelIndex:o,size:i});if(s!==l&&(a-=l-s,n[o]=l,mn(a,0)))break}return n}const aQ=100,sl={getItem:e=>(tS(sl),sl.getItem(e)),setItem:(e,t)=>{tS(sl),sl.setItem(e,t)}},rS={};function AR({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:s=null,keyboardResizeBy:i=null,storage:l=sl,style:u,tagName:f="div",...d}){const h=Vv(o),m=p.useRef(null),[x,b]=p.useState(null),[S,v]=p.useState([]),g=VK(),y=p.useRef({}),w=p.useRef(new Map),k=p.useRef(0),C=p.useRef({autoSaveId:e,direction:r,dragState:x,id:h,keyboardResizeBy:i,onLayout:s,storage:l}),N=p.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});p.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),p.useImperativeHandle(a,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:U}=N.current;return U},setLayout:U=>{const{onLayout:F}=C.current,{layout:Z,panelDataArray:J}=N.current,V=nS({layout:U,panelConstraints:J.map(ee=>ee.constraints)});eS(Z,V)||(v(V),N.current.layout=V,F&&F(V),ds(J,V,y.current))}}),[]),zo(()=>{C.current.autoSaveId=e,C.current.direction=r,C.current.dragState=x,C.current.id=h,C.current.onLayout=s,C.current.storage=l}),WK({committedValuesRef:C,eagerValuesRef:N,groupId:h,layout:S,panelDataArray:N.current.panelDataArray,setLayout:v,panelGroupElement:m.current}),p.useEffect(()=>{const{panelDataArray:U}=N.current;if(e){if(S.length===0||S.length!==U.length)return;let F=rS[e];F==null&&(F=tQ(rQ,aQ),rS[e]=F);const Z=[...U],J=new Map(w.current);F(e,Z,J,S,l)}},[e,S,l]),p.useEffect(()=>{});const E=p.useCallback(U=>{const{onLayout:F}=C.current,{layout:Z,panelDataArray:J}=N.current;if(U.constraints.collapsible){const V=J.map(q=>q.constraints),{collapsedSize:ee=0,panelSize:re,pivotIndices:H}=go(J,U,Z);if(ve(re!=null,`Panel size not found for panel "${U.id}"`),!Xr(re,ee)){w.current.set(U.id,re);const K=vs(J,U)===J.length-1?re-ee:ee-re,te=ol({delta:K,initialLayout:Z,panelConstraints:V,pivotIndices:H,prevLayout:Z,trigger:"imperative-api"});Du(Z,te)||(v(te),N.current.layout=te,F&&F(te),ds(J,te,y.current))}}},[]),_=p.useCallback((U,F)=>{const{onLayout:Z}=C.current,{layout:J,panelDataArray:V}=N.current;if(U.constraints.collapsible){const ee=V.map(W=>W.constraints),{collapsedSize:re=0,panelSize:H=0,minSize:q=0,pivotIndices:K}=go(V,U,J),te=F??q;if(Xr(H,re)){const W=w.current.get(U.id),de=W!=null&&W>=te?W:te,pe=vs(V,U)===V.length-1?H-de:de-H,ne=ol({delta:pe,initialLayout:J,panelConstraints:ee,pivotIndices:K,prevLayout:J,trigger:"imperative-api"});Du(J,ne)||(v(ne),N.current.layout=ne,Z&&Z(ne),ds(V,ne,y.current))}}},[]),A=p.useCallback(U=>{const{layout:F,panelDataArray:Z}=N.current,{panelSize:J}=go(Z,U,F);return ve(J!=null,`Panel size not found for panel "${U.id}"`),J},[]),R=p.useCallback((U,F)=>{const{panelDataArray:Z}=N.current,J=vs(Z,U);return eQ({defaultSize:F,dragState:x,layout:S,panelData:Z,panelIndex:J})},[x,S]),B=p.useCallback(U=>{const{layout:F,panelDataArray:Z}=N.current,{collapsedSize:J=0,collapsible:V,panelSize:ee}=go(Z,U,F);return ve(ee!=null,`Panel size not found for panel "${U.id}"`),V===!0&&Xr(ee,J)},[]),O=p.useCallback(U=>{const{layout:F,panelDataArray:Z}=N.current,{collapsedSize:J=0,collapsible:V,panelSize:ee}=go(Z,U,F);return ve(ee!=null,`Panel size not found for panel "${U.id}"`),!V||Vo(ee,J)>0},[]),T=p.useCallback(U=>{const{panelDataArray:F}=N.current;F.push(U),F.sort((Z,J)=>{const V=Z.order,ee=J.order;return V==null&&ee==null?0:V==null?-1:ee==null?1:V-ee}),N.current.panelDataArrayChanged=!0,g()},[g]);zo(()=>{if(N.current.panelDataArrayChanged){N.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:F,storage:Z}=C.current,{layout:J,panelDataArray:V}=N.current;let ee=null;if(U){const H=nQ(U,V,Z);H&&(w.current=new Map(Object.entries(H.expandToSizes)),ee=H.layout)}ee==null&&(ee=JK({panelDataArray:V}));const re=nS({layout:ee,panelConstraints:V.map(H=>H.constraints)});eS(J,re)||(v(re),N.current.layout=re,F&&F(re),ds(V,re,y.current))}}),zo(()=>{const U=N.current;return()=>{U.layout=[]}},[]);const D=p.useCallback(U=>{let F=!1;const Z=m.current;return Z&&window.getComputedStyle(Z,null).getPropertyValue("direction")==="rtl"&&(F=!0),function(V){V.preventDefault();const ee=m.current;if(!ee)return()=>null;const{direction:re,dragState:H,id:q,keyboardResizeBy:K,onLayout:te}=C.current,{layout:W,panelDataArray:de}=N.current,{initialLayout:Ne}=H??{},pe=SR(q,U,ee);let ne=QK(V,U,re,H,K,ee);const He=re==="horizontal";He&&F&&(ne=-ne);const Pt=de.map(Wt=>Wt.constraints),Xt=ol({delta:ne,initialLayout:Ne??W,panelConstraints:Pt,pivotIndices:pe,prevLayout:W,trigger:fR(V)?"keyboard":"mouse-or-touch"}),Zn=!Du(W,Xt);(hR(V)||mR(V))&&k.current!=ne&&(k.current=ne,!Zn&&ne!==0?He?Gm(U,ne<0?gR:yR):Gm(U,ne<0?vR:xR):Gm(U,0)),Zn&&(v(Xt),N.current.layout=Xt,te&&te(Xt),ds(de,Xt,y.current))}},[]),j=p.useCallback((U,F)=>{const{onLayout:Z}=C.current,{layout:J,panelDataArray:V}=N.current,ee=V.map(W=>W.constraints),{panelSize:re,pivotIndices:H}=go(V,U,J);ve(re!=null,`Panel size not found for panel "${U.id}"`);const K=vs(V,U)===V.length-1?re-F:F-re,te=ol({delta:K,initialLayout:J,panelConstraints:ee,pivotIndices:H,prevLayout:J,trigger:"imperative-api"});Du(J,te)||(v(te),N.current.layout=te,Z&&Z(te),ds(V,te,y.current))},[]),L=p.useCallback((U,F)=>{const{layout:Z,panelDataArray:J}=N.current,{collapsedSize:V=0,collapsible:ee}=F,{collapsedSize:re=0,collapsible:H,maxSize:q=100,minSize:K=0}=U.constraints,{panelSize:te}=go(J,U,Z);te!=null&&(ee&&H&&Xr(te,V)?Xr(V,re)||j(U,re):te<K?j(U,K):te>q&&j(U,q))},[j]),z=p.useCallback((U,F)=>{const{direction:Z}=C.current,{layout:J}=N.current;if(!m.current)return;const V=kh(U,m.current);ve(V,`Drag handle element not found for id "${U}"`);const ee=kR(Z,F);b({dragHandleId:U,dragHandleRect:V.getBoundingClientRect(),initialCursorPosition:ee,initialLayout:J})},[]),M=p.useCallback(()=>{b(null)},[]),$=p.useCallback(U=>{const{panelDataArray:F}=N.current,Z=vs(F,U);Z>=0&&(F.splice(Z,1),delete y.current[U.id],N.current.panelDataArrayChanged=!0,g())},[g]),I=p.useMemo(()=>({collapsePanel:E,direction:r,dragState:x,expandPanel:_,getPanelSize:A,getPanelStyle:R,groupId:h,isPanelCollapsed:B,isPanelExpanded:O,reevaluatePanelConstraints:L,registerPanel:T,registerResizeHandle:D,resizePanel:j,startDragging:z,stopDragging:M,unregisterPanel:$,panelGroupElement:m.current}),[E,x,r,_,A,R,h,B,O,L,T,D,j,z,M,$]),G={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return p.createElement(wh.Provider,{value:I},p.createElement(f,{...d,children:t,className:n,id:o,ref:m,style:{...G,...u},[nt.group]:"",[nt.groupDirection]:r,[nt.groupId]:h}))}const TR=p.forwardRef((e,t)=>p.createElement(AR,{...e,forwardedRef:t}));AR.displayName="PanelGroup";TR.displayName="forwardRef(PanelGroup)";function vs(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function go(e,t,n){const r=vs(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function oQ({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){p.useEffect(()=>{if(e||n==null||r==null)return;const a=kh(t,r);if(a==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=a.getAttribute(nt.groupId);ve(i,`No group element found for id "${i}"`);const l=sc(i,r),u=wR(i,t,r);ve(u!==null,`No resize element found for id "${t}"`);const f=s.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[f].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function jR({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:s,onDragging:i,onFocus:l,onPointerDown:u,onPointerUp:f,style:d={},tabIndex:h=0,tagName:m="div",...x}){var b,S;const v=p.useRef(null),g=p.useRef({onClick:s,onDragging:i,onPointerDown:u,onPointerUp:f});p.useEffect(()=>{g.current.onClick=s,g.current.onDragging=i,g.current.onPointerDown=u,g.current.onPointerUp=f});const y=p.useContext(wh);if(y===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:w,groupId:k,registerResizeHandle:C,startDragging:N,stopDragging:E,panelGroupElement:_}=y,A=Vv(a),[R,B]=p.useState("inactive"),[O,T]=p.useState(!1),[D,j]=p.useState(null),L=p.useRef({state:R});zo(()=>{L.current.state=R}),p.useEffect(()=>{if(n)j(null);else{const I=C(A);j(()=>I)}},[n,A,C]);const z=(b=r==null?void 0:r.coarse)!==null&&b!==void 0?b:15,M=(S=r==null?void 0:r.fine)!==null&&S!==void 0?S:5;p.useEffect(()=>{if(n||D==null)return;const I=v.current;ve(I,"Element ref not attached");let G=!1;return FK(A,I,w,{coarse:z,fine:M},(F,Z,J)=>{if(!Z){B("inactive");return}switch(F){case"down":{B("drag"),G=!1,ve(J,'Expected event to be defined for "down" action'),N(A,J);const{onDragging:V,onPointerDown:ee}=g.current;V==null||V(!0),ee==null||ee();break}case"move":{const{state:V}=L.current;G=!0,V!=="drag"&&B("hover"),ve(J,'Expected event to be defined for "move" action'),D(J);break}case"up":{B("hover"),E();const{onClick:V,onDragging:ee,onPointerUp:re}=g.current;ee==null||ee(!1),re==null||re(),G||V==null||V();break}}})},[z,w,n,M,C,A,D,N,E]),oQ({disabled:n,handleId:A,resizeHandler:D,panelGroupElement:_});const $={touchAction:"none",userSelect:"none"};return p.createElement(m,{...x,children:e,className:t,id:a,onBlur:()=>{T(!1),o==null||o()},onFocus:()=>{T(!0),l==null||l()},ref:v,role:"separator",style:{...$,...d},tabIndex:h,[nt.groupDirection]:w,[nt.groupId]:k,[nt.resizeHandle]:"",[nt.resizeHandleActive]:R==="drag"?"pointer":O?"keyboard":void 0,[nt.resizeHandleEnabled]:!n,[nt.resizeHandleId]:A,[nt.resizeHandleState]:R})}jR.displayName="PanelResizeHandle";function sQ({className:e,...t}){return c.jsx(TR,{"data-slot":"resizable-panel-group",className:Q("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function aS({...e}){return c.jsx(dR,{"data-slot":"resizable-panel",...e})}function iQ({withHandle:e,className:t,...n}){return c.jsx(jR,{"data-slot":"resizable-handle",className:Q("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&c.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:c.jsx(sz,{className:"size-2.5"})})})}function lQ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null);return p.useEffect(()=>{(async()=>{try{const l=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!l.ok)throw new Error("Failed to load perk trees data");const f=(await l.json()).map(d=>({...d,perks:d.perks.map(h=>({...h,currentRank:0,selected:!1}))}));t(f)}catch(l){o(l instanceof Error?l.message:"Unknown error")}finally{r(!1)}})()},[]),{perkTrees:e,getTreeById:i=>e.find(l=>l.treeId===i),loading:n,error:a}}function cQ(e){const[t,n]=p.useState({selectedPerks:{},minLevels:{},totalPerks:0}),r=(u,f=new Set)=>{var m;if(!e||f.has(u))return[];f.add(u);const d=e.perks.find(x=>x.perkId===u);if(!d||!((m=d.prerequisites)!=null&&m.perks))return[];const h=[];return d.prerequisites.perks.forEach(x=>{if(x.type==="PERK"&&e.perks.some(S=>S.perkId===x.id)){h.push(x.id);const S=r(x.id,f);h.push(...S)}}),[...new Set(h)]},a=(u,f=new Set)=>{if(!e||f.has(u))return[];f.add(u);const d=[];return e.perks.forEach(h=>{var m,x;if((x=(m=h.prerequisites)==null?void 0:m.perks)!=null&&x.some(b=>b.type==="PERK"&&b.id===u)){d.push(h.perkId);const b=a(h.perkId,f);d.push(...b)}}),[...new Set(d)]},o=p.useCallback(u=>{e&&(console.log(`togglePerk called for ${u} in tree ${e.treeName}`),n(f=>{var b,S;const d=e.treeName,h=f.selectedPerks[d]||[],m=h.findIndex(v=>v.perkId===u),x=e.perks.find(v=>v.perkId===u);if(!x)return f;if(m>=0){const v=h[m];if(x.ranks>1){const y=((v.currentRank||0)+1)%(x.ranks+1);if(y===0)if(((S=(b=x.prerequisites)==null?void 0:b.perks)==null?void 0:S.some(k=>k.type==="PERK"&&k.id!==u&&h.some(C=>C.perkId===k.id)))||!1){const k=[...h];return k[m]={...v,currentRank:0},console.log(`Cycling ${x.perkName} to rank 0 (kept due to other parents)`),{...f,selectedPerks:{...f.selectedPerks,[d]:k}}}else{const k=a(u),C=new Set([u,...k]),N=h.filter(_=>C.has(_.perkId)),E=h.filter(_=>!C.has(_.perkId));return console.log(`Cycling to rank 0, removing ${N.length} perks:`,N.map(_=>_.perkName)),{...f,selectedPerks:{...f.selectedPerks,[d]:E},totalPerks:f.totalPerks-N.length}}else{const w=[...h];return w[m]={...v,currentRank:y},console.log(`Cycling ${x.perkName} to rank ${y}`),{...f,selectedPerks:{...f.selectedPerks,[d]:w}}}}else{const g=a(u),y=new Set([u,...g]),w=h.filter(C=>y.has(C.perkId)),k=h.filter(C=>!y.has(C.perkId));return console.log(`Removing ${w.length} perks:`,w.map(C=>C.perkName)),{...f,selectedPerks:{...f.selectedPerks,[d]:k},totalPerks:f.totalPerks-w.length}}}else{const v=r(u),g=new Set([u,...v]),y=Array.from(g).map(_=>e.perks.find(A=>A.perkId===_)).filter(_=>_!==void 0).map(_=>{const A=h.find(R=>R.perkId===_.perkId);if(A)return{..._,selected:!0,currentRank:A.currentRank||0};{const R=_.perkId===u||_.ranks>1&&g.has(_.perkId);return{..._,selected:!0,currentRank:R&&_.ranks>1?1:0}}}),w=new Set(h.map(_=>_.perkId)),k=y.filter(_=>w.has(_.perkId)),C=y.filter(_=>!w.has(_.perkId)),E=[...h.map(_=>{const A=k.find(R=>R.perkId===_.perkId);return A?{..._,...A}:_}),...C];return console.log(`Adding ${C.length} new perks and updating ${k.length} existing perks:`,C.map(_=>_.perkName)),{...f,selectedPerks:{...f.selectedPerks,[d]:E},totalPerks:f.totalPerks+C.length}}}))},[e]),s=p.useCallback((u,f)=>{e&&n(d=>{const h=e.treeName,m=d.selectedPerks[h]||[],x=m.findIndex(S=>S.perkId===u),b=e.perks.find(S=>S.perkId===u);if(!b)return d;if(x>=0){const S=[...m],v=b.ranks>1?Math.max(0,Math.min(f,b.ranks)):0;return S[x]={...S[x],currentRank:v},console.log(`Updated ${b.perkName} rank to ${v}`),{...d,selectedPerks:{...d.selectedPerks,[h]:S}}}else return console.log(`Attempted to update rank for unselected perk: ${b.perkName}`),d})},[e]),i=p.useCallback(()=>{e&&n(u=>{const f=e.treeName,d=u.selectedPerks[f]||[],h={...u.selectedPerks};return delete h[f],{...u,selectedPerks:h,totalPerks:u.totalPerks-d.length}})},[e]),l=p.useCallback(()=>{n({selectedPerks:{},minLevels:{},totalPerks:0})},[]);return{perkPlan:t,togglePerk:o,updatePerkRank:s,clearSkill:i,clearAll:l}}function uQ(){const{perkTrees:e,loading:t,error:n}=lQ(),[r,a]=p.useState(null),o=e.find(x=>x.treeId===r),{perkPlan:s,togglePerk:i,updatePerkRank:l,clearSkill:u,clearAll:f}=cQ(o||void 0),d=o?s.selectedPerks[o.treeName]||[]:[],h=p.useMemo(()=>[{id:"skills",name:"Skills",placeholder:"Search skills...",options:e.map(b=>{const S=s.selectedPerks[b.treeName]||[];return{id:b.treeId,label:b.treeName,value:b.treeId,category:"skills",description:`${S.length} perks selected  ${b.treeDescription}`}})}],[e,s.selectedPerks]),m=x=>{a(x.value)};return P.useEffect(()=>{!r&&e.length>0&&a(e[0].treeId)},[r,e]),t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading perk trees..."})]})}):n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:n}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Perk Planner"}),c.jsx("p",{className:"text-muted-foreground",children:"Plan your character's perk progression through skill trees"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Skill Selection"}),c.jsx(Ey,{categories:h,onSelect:m,placeholder:"Search for a skill...",className:"max-w-md"})]}),c.jsxs(sQ,{direction:"vertical",className:"min-h-[800px]",children:[c.jsx(aS,{defaultSize:100,children:c.jsxs(dt,{className:"h-full",children:[c.jsx(Et,{children:c.jsx(_t,{children:o?o.treeName:"Select a Skill"})}),c.jsx(ft,{className:"h-full p-0",children:c.jsx(RK,{tree:o,onTogglePerk:i,onRankChange:l,selectedPerks:d})})]})}),c.jsx(iQ,{withHandle:!0}),c.jsx(aS,{defaultSize:0})]}),c.jsxs(dt,{children:[c.jsx(Et,{children:c.jsx(_t,{children:"Summary"})}),c.jsx(ft,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[c.jsx("span",{className:"font-medium",children:"Total Perks:"}),c.jsx("span",{className:"text-lg font-bold",children:s.totalPerks})]}),o&&c.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("span",{className:"font-medium",children:[o.treeName,":"]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.length," perks selected"]})]}),c.jsx(ie,{size:"sm",variant:"outline",onClick:u,children:"Clear"})]}),c.jsx("div",{className:"flex justify-center items-center",children:c.jsx(ie,{size:"sm",variant:"outline",onClick:f,className:"w-full",children:"Clear All"})})]})})]})]})}function RR({raceName:e,size:t="md",className:n}){return c.jsx(bA,{entityName:e,entityType:"race",size:t,className:n})}function Wg({item:e,className:t,showToggle:n=!0,isExpanded:r=!1,onToggle:a,disableHover:o=!1}){const s=e.originalRace;return c.jsxs(qe,{className:t,expanded:r,onToggle:a,disableHover:o,children:[c.jsx(qe.Header,{children:c.jsxs("div",{className:"flex items-center justify-between w-full",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[n&&c.jsx(ky,{itemId:(s==null?void 0:s.edid)||e.id,itemType:"race",itemName:e.name}),c.jsx(RR,{raceName:e.name,size:"md"}),c.jsx(Mc,{className:"text-primary font-semibold",children:e.name})]}),c.jsx("div",{className:"flex items-center gap-3",children:e.category&&c.jsx(ge,{variant:"outline",className:Q("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20","text-xs font-medium transition-colors"),children:e.category})})]})}),c.jsx(qe.Summary,{children:c.jsx("div",{className:"line-clamp-2",children:c.jsx(pn,{className:"text-sm text-muted-foreground",children:e.summary||e.description})})}),c.jsxs(qe.Details,{children:[c.jsx("div",{children:c.jsx(pn,{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})}),(s==null?void 0:s.startingStats)&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Attributes"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(s.startingStats).map(([i,l])=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/30",children:[c.jsx("span",{className:"font-medium capitalize",children:i}),c.jsx("span",{className:"font-bold text-green-600",children:l})]},i))})]}),(s==null?void 0:s.skillBonuses)&&s.skillBonuses.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Starting Skills"}),c.jsx("div",{className:"space-y-2",children:s.skillBonuses.map((i,l)=>c.jsxs("div",{className:"p-2 rounded bg-muted border text-sm flex items-center justify-between",children:[c.jsxs("span",{className:"font-medium",children:[i.skill," +",i.bonus]}),c.jsx(ge,{variant:"secondary",className:"text-xs",children:"Starting Bonus"})]},l))})]}),(s==null?void 0:s.racialSpells)&&s.racialSpells.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Quirks"}),c.jsx("div",{className:"space-y-2",children:s.racialSpells.map((i,l)=>c.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("svg",{className:"h-4 w-4 text-yellow-500",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 17.75L18.2 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.44 4.73L5.8 21z"})}),c.jsx("span",{className:"font-medium text-sm",children:i.name})]}),c.jsx("div",{className:"border-t border-border my-2"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]},l))})]})]})]})}function dQ(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid.toLowerCase().replace("race",""),name:i.name,description:i.description,category:i.category,abilities:i.racialSpells.map(l=>l.name),skills:i.skillBonuses.map(l=>l.skill),keywords:i.keywords.map(l=>l.edid),originalRace:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"abilities",weight:.2},{name:"skills",weight:.1},{name:"keywords",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Sa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredRaces:p.useMemo(()=>o.map(i=>i.item.originalRace),[o]),searchResults:o,searchableRaces:n}}function oS(){const e=Gn(),{build:t}=Cn(),[n,r]=p.useState([]),[a,o]=p.useState(!0),[s,i]=p.useState(null),[l,u]=p.useState(new Set),[f,d]=p.useState("grid");p.useEffect(()=>{async function N(){try{o(!0);const E=await fetch("/lorerim-arcaneum/data/playable-races.json");if(!E.ok)throw new Error("Failed to fetch race data");const _=await E.json();r(_.races)}catch(E){i("Failed to load race data"),console.error("Error loading races:",E)}finally{o(!1)}}N()},[]);const m=(()=>{const N=[...new Set(n.flatMap(A=>A.keywords.map(R=>R.edid)))],E=[...new Set(n.flatMap(A=>A.skillBonuses.map(R=>R.skill)))],_=[...new Set(n.map(A=>A.category))];return[{id:"keywords",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:N.map(A=>({id:`keyword-${A}`,label:A,value:A,category:"Fuzzy Search",description:`Races with ${A} keyword`}))},{id:"skill-bonuses",name:"Skill Bonuses",placeholder:"Search by skill...",options:E.map(A=>({id:`skill-${A}`,label:A,value:A,category:"Skill Bonuses",description:`Races with ${A} bonus`}))},{id:"categories",name:"Race Categories",placeholder:"Filter by category...",options:_.map(A=>({id:`category-${A}`,label:A,value:A,category:"Race Categories",description:`${A} races`}))}]})(),[x,b]=p.useState([]),S=N=>{let E;typeof N=="string"?E={id:`custom-${N}`,label:N,value:N,category:"Fuzzy Search"}:E={id:`${N.category}-${N.id}`,label:N.label,value:N.value,category:N.category},x.some(_=>_.value===E.value&&_.category===E.category)||b(_=>[..._,E])},v=N=>{b(E=>E.filter(_=>_.id!==N))},g=n.filter(N=>x.length===0?!0:x.every(E=>{switch(E.category){case"Fuzzy Search":return!0;case"Race Categories":return N.category===E.value;case"Skill Bonuses":return N.skillBonuses.some(_=>_.skill===E.value);case"Keywords":return N.keywords.some(_=>_.edid===E.value);default:return!0}})),y=x.filter(N=>N.category==="Fuzzy Search").map(N=>N.value).join(" "),{filteredRaces:w}=dQ(g,y),k=w.map(N=>({...kA(N),originalRace:N})),C=N=>{const E=new Set(l);if(f==="grid"){const A=k.findIndex(D=>D.id===N),B=Math.floor(A/3)*3,O=Math.min(B+3,k.length);k.slice(B,O).some(D=>E.has(D.id))?k.slice(B,O).forEach(D=>{E.delete(D.id)}):k.slice(B,O).forEach(D=>{E.add(D.id)})}else E.has(N)?E.delete(N):E.add(N);u(E)};return a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading races..."})]})}):s?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:s}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(Ai,{title:"Races",description:"Choose your character's race. Each race has unique abilities, starting attributes, and racial traits that will shape your journey through Tamriel.",children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>e("/build"),className:"flex items-center gap-2",children:[c.jsx(z4,{className:"h-4 w-4"}),"Back to Build"]})}),c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:m,onSelect:S,onCustomSearch:S})}),c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ie,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Ec,{className:"h-4 w-4"})}),c.jsx(ie,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(kc,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"my-4",children:x.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>b([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(In,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),x.map(N=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(N.id),title:"Click to remove",children:[N.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},N.id))]})}),f==="grid"?c.jsx(Jy,{columns:3,gap:"md",className:"w-full",children:k.map(N=>{var A;const E=l.has(N.id),_=t.race===((A=N.originalRace)==null?void 0:A.edid);return c.jsx(Wg,{item:N,isExpanded:E,onToggle:()=>C(N.id),className:Q("w-full",_&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full",children:k.map(N=>{var A;const E=l.has(N.id),_=t.race===((A=N.originalRace)==null?void 0:A.edid);return c.jsx(Wg,{item:N,isExpanded:E,onToggle:()=>C(N.id),className:Q("w-full",_&&"bg-skyrim-gold/20 border-2 border-skyrim-gold/30 shadow-sm")},N.id)})}),k.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No races found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function Zm({text:e,className:t="text-sm text-muted-foreground"}){if(!e)return null;let n=e.replace(/<[^>]*>/g,"");n=n.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const r=n.split(/(<[^>]+>)/g);return c.jsx("div",{className:t,children:r.map((a,o)=>{if(a.startsWith("<")&&a.endsWith(">")){const s=a.slice(1,-1);return c.jsx("span",{className:"font-bold italic text-skyrim-gold",children:s},o)}return a})})}function fQ({description:e}){if(!e)return null;const t=e.split(/(<[^>]+>)/g);return c.jsx(pn,{className:"text-xs text-muted-foreground",children:t.map((n,r)=>{if(n.startsWith("<")&&n.endsWith(">")){const a=n.slice(1,-1);return c.jsx("span",{className:"font-bold italic text-skyrim-gold",children:a},r)}return n})})}function Ym({description:e,magnitude:t,duration:n,area:r=0}){if(!e)return null;let a=e.replace(/<[^>]*>/g,"");a=a.replace(/<mag>/g,t.toString()),a=a.replace(/<magnitude>/g,t.toString()),a=a.replace(/<dur>/g,n.toString()),a=a.replace(/<duration>/g,n.toString()),r>0&&(a=a.replace(/<area>/g,r.toString())),a=a.replace(/Global_modifier/g,"<X>").replace(/Global_Modifier/g,"<X>").replace(/global_modifier/g,"<X>").replace(/Magnitude/g,"<Y>").replace(/magnitude/g,"<Y>").replace(/Duration/g,"<Z>").replace(/duration/g,"<Z>").replace(/Area/g,"<A>").replace(/area/g,"<A>").replace(/Global=WSN_Favor_Global_Fractional%/g,"<X>").replace(/Global=WSN_[^%]+%/g,"<X>").replace(/WSN_[^%]+%/g,"<X>").replace(/Global=[^%]+%/g,"<X>").replace(/[A-Z_]+_Global_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Favor_[A-Z_]+/g,"<X>").replace(/[A-Z_]+_Fractional%/g,"<X>").replace(/[A-Z_]+_Global%/g,"<X>").replace(/[A-Z_]+_Favor%/g,"<X>").replace(/Global_[A-Z_]+%/g,"<X>").replace(/Favor_[A-Z_]+%/g,"<X>").replace(/[A-Z_]+_Global/g,"<X>").replace(/[A-Z_]+_Favor/g,"<X>").replace(/Global_[A-Z_]+/g,"<X>").replace(/Favor_[A-Z_]+/g,"<X>");const o=a.split(/(<[^>]+>)/g);return c.jsx(pn,{className:"text-xs text-muted-foreground",children:o.map((s,i)=>{if(s.startsWith("<")&&s.endsWith(">")){const l=s.slice(1,-1);return c.jsx("span",{className:"font-bold italic text-skyrim-gold",children:l},i)}return s})})}function qm(e){return e<60?`${e}s`:e<3600?`${Math.round(e/60)}m`:`${Math.round(e/3600)}h`}function Xm(e){const t=[/<mag>/g,/<magnitude>/g],n=[/<dur>/g,/<duration>/g],r=t.some(o=>o.test(e)),a=n.some(o=>o.test(e));return{hasMagnitude:r,hasDuration:a}}const hQ={Restoration:c.jsx(wE,{className:"h-4 w-4 text-green-500"}),Destruction:c.jsx(rz,{className:"h-4 w-4 text-red-500"}),Alteration:c.jsx(gs,{className:"h-4 w-4 text-blue-500"}),Illusion:c.jsx(Eb,{className:"h-4 w-4 text-purple-500"}),Conjuration:c.jsx(_E,{className:"h-4 w-4 text-purple-500"}),Enchanting:c.jsx(xE,{className:"h-4 w-4 text-blue-500"}),Alchemy:c.jsx(Q4,{className:"h-4 w-4 text-green-500"}),"Light Armor":c.jsx(gs,{className:"h-4 w-4 text-blue-500"}),"Heavy Armor":c.jsx(gs,{className:"h-4 w-4 text-gray-500"}),"One-Handed":c.jsx(jb,{className:"h-4 w-4 text-orange-500"}),"Two-Handed":c.jsx(jb,{className:"h-4 w-4 text-red-500"}),Archery:c.jsx(Bz,{className:"h-4 w-4 text-green-500"}),Block:c.jsx(gs,{className:"h-4 w-4 text-yellow-500"}),Smithing:c.jsx(gs,{className:"h-4 w-4 text-gray-500"}),Speechcraft:c.jsx(Eb,{className:"h-4 w-4 text-blue-500"}),Sneak:c.jsx(tz,{className:"h-4 w-4 text-purple-500"}),Lockpicking:c.jsx(Cb,{className:"h-4 w-4 text-yellow-500"}),Pickpocket:c.jsx(Cb,{className:"h-4 w-4 text-purple-500"})},mQ={Divine:"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200",Daedric:"bg-red-100 text-red-800 border-red-200 hover:bg-red-200",Aedric:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Tribal:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200",Ancestral:"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200"},sS={sm:"text-xs px-2 py-0.5"};function iS({item:e,originalReligion:t,isExpanded:n=!1,onToggle:r,className:a,showBlessings:o=!0,showTenets:s=!0,showBoons:i=!0,showFavoredRaces:l=!0}){var d,h,m,x,b,S,v,g;const u=y=>{switch(y){case"positive":return c.jsx(Kp,{className:"h-4 w-4 text-green-500"});case"negative":return c.jsx(Ab,{className:"h-4 w-4 text-red-500"});case"neutral":return c.jsx(ny,{className:"h-4 w-4 text-blue-500"})}},f=y=>hQ[y]||c.jsx(Ya,{className:"h-4 w-4 text-skyrim-gold"});return c.jsxs(qe,{expanded:n,onToggle:r,className:a,children:[c.jsxs(qe.Header,{children:[c.jsx(ky,{itemId:e.id,itemType:"religion",itemName:e.name}),c.jsx("div",{className:"flex-1",children:c.jsx(Mc,{className:"text-primary font-semibold",children:e.name})}),e.category&&c.jsx(ge,{variant:"outline",className:Q(mQ[e.category]||"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200",sS.sm,"font-medium transition-colors"),children:e.category}),l&&t&&Array.isArray(t.favoredRaces)&&t.favoredRaces.length>0&&c.jsx("div",{className:"flex items-center gap-1",children:t.favoredRaces.map((y,w)=>c.jsxs(ge,{variant:"outline",className:Q("bg-skyrim-gold/10 text-skyrim-gold border-skyrim-gold/30 hover:bg-skyrim-gold/20",sS.sm,"font-medium transition-colors"),children:[c.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Favors ",y]},w))})]}),c.jsxs(qe.Summary,{children:[c.jsx("div",{className:"line-clamp-2",children:c.jsx(Zm,{text:e.summary||e.description,className:"text-sm text-muted-foreground"})}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[(d=e.effects)==null?void 0:d.slice(0,2).map((y,w)=>c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",title:y.description,children:[u(y.type),c.jsx("span",{className:"font-medium",children:y.name})]},w)),l&&((h=t==null?void 0:t.favoredRaces)==null?void 0:h.slice(0,2).map((y,w)=>c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/50 rounded text-xs",children:[c.jsx(Ya,{className:"h-3 w-3 text-skyrim-gold"}),c.jsx("span",{className:"font-medium",children:y})]},`race-${w}`)))]})]}),c.jsxs(qe.Details,{children:[e.description&&c.jsx("div",{children:c.jsx(Zm,{text:e.description,className:"text-sm text-muted-foreground leading-relaxed"})}),l&&Array.isArray(t==null?void 0:t.favoredRaces)&&t.favoredRaces.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Favored Races"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.favoredRaces.map((y,w)=>c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/50 rounded-lg border border-border",children:[c.jsx(Ya,{className:"h-4 w-4 text-skyrim-gold"}),c.jsx("span",{className:"text-sm font-medium",children:y})]},w))})]}),Array.isArray(t==null?void 0:t.worshipRestrictions)&&t.worshipRestrictions.length>0&&c.jsxs("div",{children:[c.jsx("h5",{className:"text-lg font-medium text-foreground mb-3",children:"Worship Restrictions"}),c.jsx("div",{className:"space-y-2",children:t.worshipRestrictions.map((y,w)=>c.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Ab,{className:"h-4 w-4 text-red-500 mt-0.5"}),c.jsx(Zm,{text:y,className:"text-sm text-muted-foreground"})]})},w))})]}),o&&Array.isArray((m=t==null?void 0:t.blessing)==null?void 0:m.effects)&&t.blessing.effects.length>0&&c.jsxs("div",{children:[c.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Blessing of ",e.name]}),c.jsx("div",{className:"space-y-3",children:t.blessing.effects.filter(y=>y.effectType!=="1"&&y.effectType!=="3").map((y,w)=>{const{hasDuration:k}=Xm(y.effectDescription);return c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&f(y.effectType)]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(pn,{className:"font-medium text-sm mb-1",children:y.effectName}),c.jsx(Ym,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),k&&y.duration>0&&c.jsxs(pn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",qm(y.duration),"."]}),c.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&c.jsxs("span",{children:["Area: ",y.area]})})]})]})},w)})})]}),s&&Array.isArray((x=t==null?void 0:t.tenet)==null?void 0:x.effects)&&t.tenet.effects.length>0&&c.jsxs("div",{children:[c.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Tenets of ",e.name]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.tenet.effects.map((y,w)=>y.effectDescription.split(".").filter(C=>C.trim().length>0).map((C,N)=>c.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/50 rounded-lg border border-border",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.targetAttribute&&f(y.targetAttribute)]}),c.jsx("div",{className:"flex-1",children:c.jsx(fQ,{description:C.trim()+"."})})]},`${w}-${N}`)))})]}),i&&(Array.isArray((b=t==null?void 0:t.boon1)==null?void 0:b.effects)&&t.boon1.effects.length>0||Array.isArray((S=t==null?void 0:t.boon2)==null?void 0:S.effects)&&t.boon2.effects.length>0)&&c.jsxs("div",{children:[c.jsxs("h5",{className:"text-lg font-medium text-foreground mb-3",children:["Boons of ",e.name]}),c.jsxs("div",{className:"space-y-4",children:[Array.isArray((v=t==null?void 0:t.boon1)==null?void 0:v.effects)&&t.boon1.effects.length>0&&c.jsxs("div",{children:[c.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Follower Boon"}),c.jsx("div",{className:"space-y-3",children:t.boon1.effects.map((y,w)=>{const{hasDuration:k}=Xm(y.effectDescription);return c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&f(y.effectType)]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(pn,{className:"font-medium text-sm mb-1",children:y.effectName}),c.jsx(Ym,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),k&&y.duration>0&&c.jsxs(pn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",qm(y.duration),"."]}),c.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&c.jsxs("span",{children:["Area: ",y.area]})})]})]})},w)})})]}),Array.isArray((g=t==null?void 0:t.boon2)==null?void 0:g.effects)&&t.boon2.effects.length>0&&c.jsxs("div",{children:[c.jsx("h6",{className:"text-md font-medium text-foreground mb-2",children:"Devotee Boon"}),c.jsx("div",{className:"space-y-3",children:t.boon2.effects.map((y,w)=>{const{hasDuration:k}=Xm(y.effectDescription);return c.jsx("div",{className:"p-3 bg-muted/50 rounded-lg border border-border",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[u("positive"),y.effectType&&f(y.effectType)]}),c.jsxs("div",{className:"flex-1",children:[c.jsx(pn,{className:"font-medium text-sm mb-1",children:y.effectName}),c.jsx(Ym,{description:y.effectDescription,magnitude:y.magnitude,duration:y.duration,area:y.area}),k&&y.duration>0&&c.jsxs(pn,{className:"text-xs text-muted-foreground mt-1",children:["Lasts for ",qm(y.duration),"."]}),c.jsx("div",{className:"mt-2 flex items-center gap-4 text-xs text-muted-foreground",children:y.area>0&&c.jsxs("span",{children:["Area: ",y.area]})})]})]})},w)})})]})]})]})]})]})}function pQ(e,t){const n=p.useMemo(()=>e.map(i=>{var l,u,f,d,h,m,x,b,S;return{id:i.name.toLowerCase().replace(/\s+/g,"-"),name:i.name,description:((l=i.tenet)==null?void 0:l.description)||"",type:i.type,favoredRaces:i.favoredRaces||[],tenetEffects:((f=(u=i.tenet)==null?void 0:u.effects)==null?void 0:f.map(v=>`${v.effectName} ${v.effectDescription}`))||[],blessingEffects:((h=(d=i.blessing)==null?void 0:d.effects)==null?void 0:h.map(v=>`${v.effectName} ${v.effectDescription}`))||[],followerPowers:((x=(m=i.boon1)==null?void 0:m.effects)==null?void 0:x.map(v=>`${v.effectName} ${v.effectDescription}`))||[],devoteePowers:((S=(b=i.boon2)==null?void 0:b.effects)==null?void 0:S.map(v=>`${v.effectName} ${v.effectDescription}`))||[],originalReligion:i}}),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"tenetEffects",weight:.2},{name:"blessingEffects",weight:.2},{name:"followerPowers",weight:.15},{name:"devoteePowers",weight:.15},{name:"favoredRaces",weight:.1},{name:"type",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Sa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredReligions:p.useMemo(()=>o.map(i=>i.item.originalReligion),[o]),searchResults:o,searchableReligions:n}}function lS(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(new Set),[l,u]=p.useState("alphabetical"),[f,d]=p.useState("grid"),[h,m]=p.useState(!0),[x,b]=p.useState(!0),[S,v]=p.useState(!0),[g,y]=p.useState(!0);p.useEffect(()=>{async function $(){try{r(!0);const I=await fetch("/lorerim-arcaneum/data/wintersun-religion-docs.json");if(!I.ok)throw new Error("Failed to fetch religion data");const U=(await I.json()).flatMap(F=>F.deities.map(Z=>({...Z,pantheon:F.type})));t(U)}catch(I){o("Failed to load religion data"),console.error("Error loading religions:",I)}finally{r(!1)}}$()},[]);const w=e.map(Ew),C=(()=>{const $=[...new Set(e.map(G=>G.type))],I=[...new Set(w.flatMap(G=>G.tags))];return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"pantheons",name:"Pantheons",placeholder:"Search by pantheon...",options:$.map(G=>({id:`pantheon-${G}`,label:G,value:G,category:"Pantheons",description:`Religions from ${G} pantheon`}))},{id:"favored-races",name:"Favored Races",placeholder:"Search by favored race...",options:I.map(G=>({id:`race-${G}`,label:G,value:G,category:"Favored Races",description:`Religions that favor ${G}`}))}]})(),[N,E]=p.useState([]),_=$=>{let I;typeof $=="string"?I={id:`custom-${$}`,label:$,value:$,category:"Fuzzy Search"}:I={id:`${$.category}-${$.id}`,label:$.label,value:$.value,category:$.category},N.some(G=>G.value===I.value&&G.category===I.category)||E(G=>[...G,I])},A=$=>{E(I=>I.filter(G=>G.id!==$))},R=e.filter($=>N.length===0?!0:N.every(I=>{switch(I.category){case"Fuzzy Search":return!0;case"Pantheons":return $.type===I.value;case"Favored Races":return $.favoredRaces.some(G=>G===I.value);default:return!0}})),B=N.filter($=>$.category==="Fuzzy Search").map($=>$.value).join(" "),{filteredReligions:O}=pQ(R,B),D=[...O.map(Ew)].sort(($,I)=>{switch(l){case"alphabetical":return $.name.localeCompare(I.name);case"divine-type":const G=Z=>{switch(Z){case"Divine":return 1;case"Daedric Prince":return 2;case"Tribunal":return 3;case"Ancestor":return 4;case"Nordic Deity":return 5;case"Yokudan Deity":return 6;case"Khajiiti Deity":return 7;case"Deity":return 8;default:return 9}},U=G($.category),F=G(I.category);return U!==F?U-F:$.name.localeCompare(I.name);default:return 0}}),j=$=>{const I=new Set(s);if(f==="grid"){const U=D.findIndex(ee=>ee.id===$),Z=Math.floor(U/3)*3,J=Math.min(Z+3,D.length);D.slice(Z,J).some(ee=>I.has(ee.id))?D.slice(Z,J).forEach(ee=>{I.delete(ee.id)}):D.slice(Z,J).forEach(ee=>{I.add(ee.id)})}else I.has($)?I.delete($):I.add($);i(I)},L=()=>{const $=D.map(I=>I.id);i(new Set($))},z=()=>{i(new Set)},M=D.length>0&&D.every($=>s.has($.id));return D.some($=>s.has($.id)),n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading religions..."})]})}):a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:a}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(Ai,{title:"Religions",description:"Choose your character's religion. Each deity offers unique blessings, tenets, and powers that will guide your spiritual journey through Tamriel.",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:C,onSelect:_,onCustomSearch:_})}),c.jsxs(Vy,{children:[c.jsx(Zy,{asChild:!0,children:c.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(tr,{className:"h-4 w-4"}),l==="alphabetical"?"A-Z":"Type"]})}),c.jsxs(Xf,{align:"end",children:[c.jsx(ia,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),c.jsx(ia,{onClick:()=>u("divine-type"),children:"Divine Type"})]})]}),c.jsxs("div",{className:"flex border rounded-lg p-1 bg-muted",children:[c.jsx(ie,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Ec,{className:"h-4 w-4"})}),c.jsx(ie,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(kc,{className:"h-4 w-4"})})]}),c.jsx(ie,{variant:"outline",size:"sm",onClick:M?z:L,className:"flex items-center justify-center",title:M?"Collapse all accordions":"Expand all accordions",children:M?c.jsx(NE,{className:"h-4 w-4"}):c.jsx(SE,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"my-4",children:N.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>E([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(In,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),N.map($=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>A($.id),title:"Click to remove",children:[$.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},$.id))]})}),D.length>0&&c.jsxs(ZB,{children:[c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border bg-muted/30 border-border",children:[c.jsx(qr,{checked:h&&x&&S&&g,onCheckedChange:$=>{m($),b($),v($),y($)}}),c.jsx("span",{className:"text-sm font-medium",children:"Toggle All"})]}),c.jsxs(CB,{columns:4,children:[c.jsx(pu,{title:"Blessings",description:"Deity blessings and effects",checked:h,onCheckedChange:m}),c.jsx(pu,{title:"Tenets",description:"Religious tenets and rules",checked:x,onCheckedChange:b}),c.jsx(pu,{title:"Boons",description:"Follower and devotee powers",checked:S,onCheckedChange:v}),c.jsx(pu,{title:"Favored Races",description:"Races favored by this deity",checked:g,onCheckedChange:y})]})]}),f==="grid"?c.jsx(Jy,{columns:3,gap:"md",className:"w-full mt-6",children:D.map($=>{const I=e.find(U=>{const F=$.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===F}),G=s.has($.id);return c.jsx(iS,{item:$,originalReligion:I,isExpanded:G,onToggle:()=>j($.id),className:"w-full",showBlessings:h,showTenets:x,showBoons:S,showFavoredRaces:g},$.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:D.map($=>{const I=e.find(U=>{const F=$.id.replace("religion-","");return U.name.toLowerCase().replace(/\s+/g,"-")===F}),G=s.has($.id);return c.jsx(iS,{item:$,originalReligion:I,isExpanded:G,onToggle:()=>j($.id),className:"w-full",showBlessings:h,showTenets:x,showBoons:S,showFavoredRaces:g},$.id)})}),D.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No religions found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}var gQ="Separator",cS="horizontal",yQ=["horizontal","vertical"],MR=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=cS,...a}=e,o=vQ(r)?r:cS,i=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return c.jsx(ye.div,{"data-orientation":o,...i,...a,ref:t})});MR.displayName=gQ;function vQ(e){return yQ.includes(e)}var xQ=MR;function bQ({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return c.jsx(xQ,{"data-slot":"separator",decorative:n,orientation:t,className:Q("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function wQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const DR=P.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Fc=()=>{const e=P.useContext(DR);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};wQ(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function SQ(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function NQ(){return qv(/^Mac/)}function kQ(){return qv(/^iPhone/)}function uS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function EQ(){return qv(/^iPad/)||NQ()&&navigator.maxTouchPoints>1}function zR(){return kQ()||EQ()}function qv(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const _Q=24,CQ=typeof window<"u"?p.useLayoutEffect:p.useEffect;function dS(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Wm=typeof document<"u"&&window.visualViewport;function fS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function OR(e){for(fS(e)&&(e=e.parentElement);e&&!fS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const AQ=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let zu=0,Km;function TQ(e={}){let{isDisabled:t}=e;CQ(()=>{if(!t)return zu++,zu===1&&zR()&&(Km=jQ()),()=>{zu--,zu===0&&(Km==null||Km())}},[t])}function jQ(){let e,t=0,n=d=>{e=OR(d.target),!(e===document.documentElement&&e===document.body)&&(t=d.changedTouches[0].pageY)},r=d=>{if(!e||e===document.documentElement||e===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,m=e.scrollTop,x=e.scrollHeight-e.clientHeight;x!==0&&((m<=0&&h>t||m>=x&&h<t)&&d.preventDefault(),t=h)},a=d=>{let h=d.target;Kg(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},o=d=>{let h=d.target;Kg(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",Wm&&(Wm.height<window.innerHeight?requestAnimationFrame(()=>{hS(h)}):Wm.addEventListener("resize",()=>hS(h),{once:!0}))}))},s=()=>{window.scrollTo(0,0)},i=window.pageXOffset,l=window.pageYOffset,u=dS(RQ(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=dS(Xi(document,"touchstart",n,{passive:!1,capture:!0}),Xi(document,"touchmove",r,{passive:!1,capture:!0}),Xi(document,"touchend",a,{passive:!1,capture:!0}),Xi(document,"focus",o,!0),Xi(window,"scroll",s));return()=>{u(),f(),window.scrollTo(i,l)}}function RQ(e,t,n){let r=e.style[t];return e.style[t]=n,()=>{e.style[t]=r}}function Xi(e,t,n,r){return e.addEventListener(t,n,r),()=>{e.removeEventListener(t,n,r)}}function hS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=OR(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let r=n.getBoundingClientRect().top,a=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const s=n.getBoundingClientRect().bottom+_Q;o>s&&(n.scrollTop+=a-r)}e=n.parentElement}}function Kg(e){return e instanceof HTMLInputElement&&!AQ.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function MQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function DQ(...e){return t=>e.forEach(n=>MQ(n,t))}function PR(...e){return p.useCallback(DQ(...e),e)}const LR=new WeakMap;function gt(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([a,o])=>{if(a.startsWith("--")){e.style.setProperty(a,o);return}r[a]=e.style[a],e.style[a]=o}),!n&&LR.set(e,r)}function zQ(e,t){if(!e||!(e instanceof HTMLElement))return;let n=LR.get(e);n&&(e.style[t]=n[t])}const ct=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ou(e,t){if(!e)return null;const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let a=r.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[ct(t)?13:12]):(a=r.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[ct(t)?5:4]):null)}function OQ(e){return 8*(Math.log(e+1)-2)}function Qm(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function PQ(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Ke={DURATION:.5,EASE:[.32,.72,0,1]},$R=.4,LQ=.25,$Q=100,BR=8,yo=16,Qg=26,Jm="vaul-dragging";function IR(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function BQ({defaultProp:e,onChange:t}){const n=P.useState(e),[r]=n,a=P.useRef(r),o=IR(t);return P.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function HR({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=BQ({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,i=IR(n),l=P.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&i(d)}else a(u)},[o,e,a,i]);return[s,l]}function IQ({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:r,overlayRef:a,fadeFromIndex:o,onSnapPointChange:s,direction:i="bottom",container:l,snapToSequentialPoint:u}){const[f,d]=HR({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[h,m]=P.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);P.useEffect(()=>{function N(){m({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const x=P.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),b=P.useMemo(()=>{var N;return(N=n==null?void 0:n.findIndex(E=>E===f))!=null?N:null},[n,f]),S=n&&n.length>0&&(o||o===0)&&!Number.isNaN(o)&&n[o]===f||!n,v=P.useMemo(()=>{const N=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var E;return(E=n==null?void 0:n.map(_=>{const A=typeof _=="string";let R=0;if(A&&(R=parseInt(_,10)),ct(i)){const O=A?R:h?_*N.height:0;return h?i==="bottom"?N.height-O:-N.height+O:O}const B=A?R:h?_*N.width:0;return h?i==="right"?N.width-B:-N.width+B:B}))!=null?E:[]},[n,h,l]),g=P.useMemo(()=>b!==null?v==null?void 0:v[b]:null,[v,b]),y=P.useCallback(N=>{var E;const _=(E=v==null?void 0:v.findIndex(A=>A===N))!=null?E:null;s(_),gt(r.current,{transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,transform:ct(i)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`}),v&&_!==v.length-1&&o!==void 0&&_!==o&&_<o?gt(a.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,opacity:"0"}):gt(a.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,opacity:"1"}),d(n==null?void 0:n[Math.max(_,0)])},[r.current,n,v,o,a,d]);P.useEffect(()=>{if(f||e){var N;const E=(N=n==null?void 0:n.findIndex(_=>_===e||_===f))!=null?N:-1;v&&E!==-1&&typeof v[E]=="number"&&y(v[E])}},[f,e,n,v,y]);function w({draggedDistance:N,closeDrawer:E,velocity:_,dismissible:A}){if(o===void 0)return;const R=i==="bottom"||i==="right"?(g??0)-N:(g??0)+N,B=b===o-1,O=b===0,T=N>0;if(B&&gt(a.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`}),!u&&_>2&&!T){A?E():y(v[0]);return}if(!u&&_>2&&T&&v&&n){y(v[n.length-1]);return}const D=v==null?void 0:v.reduce((L,z)=>typeof L!="number"||typeof z!="number"?L:Math.abs(z-R)<Math.abs(L-R)?z:L),j=ct(i)?window.innerHeight:window.innerWidth;if(_>$R&&Math.abs(N)<j*.4){const L=T?1:-1;if(L>0&&x&&n){y(v[n.length-1]);return}if(O&&L<0&&A&&E(),b===null)return;y(v[b+L]);return}y(D)}function k({draggedDistance:N}){if(g===null)return;const E=i==="bottom"||i==="right"?g-N:g+N;(i==="bottom"||i==="right")&&E<v[v.length-1]||(i==="top"||i==="left")&&E>v[v.length-1]||gt(r.current,{transform:ct(i)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})}function C(N,E){if(!n||typeof b!="number"||!v||o===void 0)return null;const _=b===o-1;if(b>=o&&E)return 0;if(_&&!E)return 1;if(!S&&!_)return null;const R=_?b+1:b-1,B=_?v[R]-v[R-1]:v[R+1]-v[R],O=N/Math.abs(B);return _?1-O:O}return{isLastSnapPoint:x,activeSnapPoint:f,shouldFade:S,getPercentageDragged:C,setActiveSnapPoint:d,activeSnapPointIndex:b,onRelease:w,onDrag:k,snapPointsOffset:v}}const HQ=()=>()=>{};function UQ(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:a}=Fc(),o=P.useRef(null),s=p.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-Qg)/window.innerWidth}P.useEffect(()=>{if(t&&n){o.current&&clearTimeout(o.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;PQ(r&&!a?Qm(document.body,{background:"black"}):HQ,Qm(l,{transformOrigin:ct(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Ke.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ke.EASE.join(",")})`}));const u=Qm(l,{borderRadius:`${BR}px`,overflow:"hidden",...ct(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{u(),o.current=window.setTimeout(()=>{s?document.body.style.background=s:document.body.style.removeProperty("background")},Ke.DURATION*1e3)}}},[t,n,s])}let Wi=null;function FQ({isOpen:e,modal:t,nested:n,hasBeenOpened:r,preventScrollRestoration:a,noBodyStyles:o}){const[s,i]=P.useState(()=>typeof window<"u"?window.location.href:""),l=P.useRef(0),u=P.useCallback(()=>{if(uS()&&Wi===null&&e&&!o){Wi={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const m=h-window.innerHeight;m&&l.current>=h&&(document.body.style.top=`${-(l.current+m)}px`)}),300)}},[e]),f=P.useCallback(()=>{if(uS()&&Wi!==null&&!o){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Wi),window.requestAnimationFrame(()=>{if(a&&s!==window.location.href){i(window.location.href);return}window.scrollTo(h,d)}),Wi=null}},[s]);return P.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),P.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[t,f]),P.useEffect(()=>{n||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&u(),t||window.setTimeout(()=>{f()},500)):f())},[e,r,s,t,n,u,f]),{restorePositionSetting:f}}function GQ({open:e,onOpenChange:t,children:n,onDrag:r,onRelease:a,snapPoints:o,shouldScaleBackground:s=!1,setBackgroundColorOnScale:i=!0,closeThreshold:l=LQ,scrollLockTimeout:u=$Q,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=o&&o.length-1,activeSnapPoint:m,setActiveSnapPoint:x,fixed:b,modal:S=!0,onClose:v,nested:g,noBodyStyles:y=!1,direction:w="bottom",defaultOpen:k=!1,disablePreventScroll:C=!0,snapToSequentialPoint:N=!1,preventScrollRestoration:E=!1,repositionInputs:_=!0,onAnimationEnd:A,container:R,autoFocus:B=!1}){var O,T;const[D=!1,j]=HR({defaultProp:k,prop:e,onChange:ue=>{t==null||t(ue),!ue&&!g&&$r(),setTimeout(()=>{A==null||A(ue)},Ke.DURATION*1e3),ue&&!S&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ue||(document.body.style.pointerEvents="auto")}}),[L,z]=P.useState(!1),[M,$]=P.useState(!1),[I,G]=P.useState(!1),U=P.useRef(null),F=P.useRef(null),Z=P.useRef(null),J=P.useRef(null),V=P.useRef(null),ee=P.useRef(!1),re=P.useRef(null),H=P.useRef(0),q=P.useRef(!1),K=P.useRef(!k),te=P.useRef(0),W=P.useRef(null),de=P.useRef(((O=W.current)==null?void 0:O.getBoundingClientRect().height)||0),Ne=P.useRef(((T=W.current)==null?void 0:T.getBoundingClientRect().width)||0),pe=P.useRef(0),ne=P.useCallback(ue=>{o&&ue===Wt.length-1&&(F.current=new Date)},[]),{activeSnapPoint:He,activeSnapPointIndex:Pt,setActiveSnapPoint:Xt,onRelease:Zn,snapPointsOffset:Wt,onDrag:Yn,shouldFade:Pr,getPercentageDragged:Lr}=IQ({snapPoints:o,activeSnapPointProp:m,setActiveSnapPointProp:x,drawerRef:W,fadeFromIndex:h,overlayRef:U,onSnapPointChange:ne,direction:w,container:R,snapToSequentialPoint:N});TQ({isDisabled:!D||M||!S||I||!L||!_||!C});const{restorePositionSetting:$r}=FQ({isOpen:D,modal:S,nested:g??!1,hasBeenOpened:L,preventScrollRestoration:E,noBodyStyles:y});function qn(){return(window.innerWidth-Qg)/window.innerWidth}function ka(ue){var Ce,Me;!f&&!o||W.current&&!W.current.contains(ue.target)||(de.current=((Ce=W.current)==null?void 0:Ce.getBoundingClientRect().height)||0,Ne.current=((Me=W.current)==null?void 0:Me.getBoundingClientRect().width)||0,$(!0),Z.current=new Date,zR()&&window.addEventListener("touchend",()=>ee.current=!1,{once:!0}),ue.target.setPointerCapture(ue.pointerId),H.current=ct(w)?ue.pageY:ue.pageX)}function Ea(ue,Ce){var Me;let Ae=ue;const Oe=(Me=window.getSelection())==null?void 0:Me.toString(),Lt=W.current?Ou(W.current,w):null,Rt=new Date;if(Ae.tagName==="SELECT"||Ae.hasAttribute("data-vaul-no-drag")||Ae.closest("[data-vaul-no-drag]"))return!1;if(w==="right"||w==="left")return!0;if(F.current&&Rt.getTime()-F.current.getTime()<500)return!1;if(Lt!==null&&(w==="bottom"?Lt>0:Lt<0))return!0;if(Oe&&Oe.length>0)return!1;if(V.current&&Rt.getTime()-V.current.getTime()<u&&Lt===0||Ce)return V.current=Rt,!1;for(;Ae;){if(Ae.scrollHeight>Ae.clientHeight){if(Ae.scrollTop!==0)return V.current=new Date,!1;if(Ae.getAttribute("role")==="dialog")return!0}Ae=Ae.parentNode}return!0}function wt(ue){if(W.current&&M){const Ce=w==="bottom"||w==="right"?1:-1,Me=(H.current-(ct(w)?ue.pageY:ue.pageX))*Ce,Ae=Me>0,Oe=o&&!f&&!Ae;if(Oe&&Pt===0)return;const Lt=Math.abs(Me),Rt=document.querySelector("[data-vaul-drawer-wrapper]"),ur=w==="bottom"||w==="top"?de.current:Ne.current;let cn=Lt/ur;const Hr=Lr(Lt,Ae);if(Hr!==null&&(cn=Hr),Oe&&cn>=1||!ee.current&&!Ea(ue.target,Ae))return;if(W.current.classList.add(Jm),ee.current=!0,gt(W.current,{transition:"none"}),gt(U.current,{transition:"none"}),o&&Yn({draggedDistance:Me}),Ae&&!o){const jn=OQ(Me),es=Math.min(jn*-1,0)*Ce;gt(W.current,{transform:ct(w)?`translate3d(0, ${es}px, 0)`:`translate3d(${es}px, 0, 0)`});return}const dr=1-cn;if((Pr||h&&Pt===h-1)&&(r==null||r(ue,cn),gt(U.current,{opacity:`${dr}`,transition:"none"},!0)),Rt&&U.current&&s){const jn=Math.min(qn()+cn*(1-qn()),1),es=8-cn*8,Gc=Math.max(0,14-cn*14);gt(Rt,{borderRadius:`${es}px`,transform:ct(w)?`scale(${jn}) translate3d(0, ${Gc}px, 0)`:`scale(${jn}) translate3d(${Gc}px, 0, 0)`,transition:"none"},!0)}if(!o){const jn=Lt*Ce;gt(W.current,{transform:ct(w)?`translate3d(0, ${jn}px, 0)`:`translate3d(${jn}px, 0, 0)`})}}}P.useEffect(()=>{window.requestAnimationFrame(()=>{K.current=!0})},[]),P.useEffect(()=>{var ue;function Ce(){if(!W.current||!_)return;const Me=document.activeElement;if(Kg(Me)||q.current){var Ae;const Oe=((Ae=window.visualViewport)==null?void 0:Ae.height)||0,Lt=window.innerHeight;let Rt=Lt-Oe;const ur=W.current.getBoundingClientRect().height||0,cn=ur>Lt*.8;pe.current||(pe.current=ur);const Hr=W.current.getBoundingClientRect().top;if(Math.abs(te.current-Rt)>60&&(q.current=!q.current),o&&o.length>0&&Wt&&Pt){const dr=Wt[Pt]||0;Rt+=dr}if(te.current=Rt,ur>Oe||q.current){const dr=W.current.getBoundingClientRect().height;let jn=dr;dr>Oe&&(jn=Oe-(cn?Hr:Qg)),b?W.current.style.height=`${dr-Math.max(Rt,0)}px`:W.current.style.height=`${Math.max(jn,Oe-Hr)}px`}else SQ()||(W.current.style.height=`${pe.current}px`);o&&o.length>0&&!q.current?W.current.style.bottom="0px":W.current.style.bottom=`${Math.max(Rt,0)}px`}}return(ue=window.visualViewport)==null||ue.addEventListener("resize",Ce),()=>{var Me;return(Me=window.visualViewport)==null?void 0:Me.removeEventListener("resize",Ce)}},[Pt,o,Wt]);function jt(ue){Br(),v==null||v(),ue||j(!1),setTimeout(()=>{o&&Xt(o[0])},Ke.DURATION*1e3)}function cr(){if(!W.current)return;const ue=document.querySelector("[data-vaul-drawer-wrapper]"),Ce=Ou(W.current,w);gt(W.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`}),gt(U.current,{transition:`opacity ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,opacity:"1"}),s&&Ce&&Ce>0&&D&&gt(ue,{borderRadius:`${BR}px`,overflow:"hidden",...ct(w)?{transform:`scale(${qn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${qn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Ke.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Ke.EASE.join(",")})`},!0)}function Br(){!M||!W.current||(W.current.classList.remove(Jm),ee.current=!1,$(!1),J.current=new Date)}function Ir(ue){if(!M||!W.current)return;W.current.classList.remove(Jm),ee.current=!1,$(!1),J.current=new Date;const Ce=Ou(W.current,w);if(!ue||!Ea(ue.target,!1)||!Ce||Number.isNaN(Ce)||Z.current===null)return;const Me=J.current.getTime()-Z.current.getTime(),Ae=H.current-(ct(w)?ue.pageY:ue.pageX),Oe=Math.abs(Ae)/Me;if(Oe>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),o){Zn({draggedDistance:Ae*(w==="bottom"||w==="right"?1:-1),closeDrawer:jt,velocity:Oe,dismissible:f}),a==null||a(ue,!0);return}if(w==="bottom"||w==="right"?Ae>0:Ae<0){cr(),a==null||a(ue,!0);return}if(Oe>$R){jt(),a==null||a(ue,!1);return}var Lt;const Rt=Math.min((Lt=W.current.getBoundingClientRect().height)!=null?Lt:0,window.innerHeight);var ur;const cn=Math.min((ur=W.current.getBoundingClientRect().width)!=null?ur:0,window.innerWidth),Hr=w==="left"||w==="right";if(Math.abs(Ce)>=(Hr?cn:Rt)*l){jt(),a==null||a(ue,!1);return}a==null||a(ue,!0),cr()}P.useEffect(()=>(D&&(gt(document.documentElement,{scrollBehavior:"auto"}),F.current=new Date),()=>{zQ(document.documentElement,"scrollBehavior")}),[D]);function Xn(ue){const Ce=ue?(window.innerWidth-yo)/window.innerWidth:1,Me=ue?-yo:0;re.current&&window.clearTimeout(re.current),gt(W.current,{transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,transform:ct(w)?`scale(${Ce}) translate3d(0, ${Me}px, 0)`:`scale(${Ce}) translate3d(${Me}px, 0, 0)`}),!ue&&W.current&&(re.current=setTimeout(()=>{const Ae=Ou(W.current,w);gt(W.current,{transition:"none",transform:ct(w)?`translate3d(0, ${Ae}px, 0)`:`translate3d(${Ae}px, 0, 0)`})},500))}function Tn(ue,Ce){if(Ce<0)return;const Me=(window.innerWidth-yo)/window.innerWidth,Ae=Me+Ce*(1-Me),Oe=-yo+Ce*yo;gt(W.current,{transform:ct(w)?`scale(${Ae}) translate3d(0, ${Oe}px, 0)`:`scale(${Ae}) translate3d(${Oe}px, 0, 0)`,transition:"none"})}function ho(ue,Ce){const Me=ct(w)?window.innerHeight:window.innerWidth,Ae=Ce?(Me-yo)/Me:1,Oe=Ce?-yo:0;Ce&&gt(W.current,{transition:`transform ${Ke.DURATION}s cubic-bezier(${Ke.EASE.join(",")})`,transform:ct(w)?`scale(${Ae}) translate3d(0, ${Oe}px, 0)`:`scale(${Ae}) translate3d(${Oe}px, 0, 0)`})}return P.useEffect(()=>{S||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[S]),P.createElement(D_,{defaultOpen:k,onOpenChange:ue=>{!f&&!ue||(ue?z(!0):jt(!0),j(ue))},open:D},P.createElement(DR.Provider,{value:{activeSnapPoint:He,snapPoints:o,setActiveSnapPoint:Xt,drawerRef:W,overlayRef:U,onOpenChange:t,onPress:ka,onRelease:Ir,onDrag:wt,dismissible:f,shouldAnimate:K,handleOnly:d,isOpen:D,isDragging:M,shouldFade:Pr,closeDrawer:jt,onNestedDrag:Tn,onNestedOpenChange:Xn,onNestedRelease:ho,keyboardIsOpen:q,modal:S,snapPointsOffset:Wt,activeSnapPointIndex:Pt,direction:w,shouldScaleBackground:s,setBackgroundColorOnScale:i,noBodyStyles:y,container:R,autoFocus:B}},n))}const UR=P.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:r,onRelease:a,shouldFade:o,isOpen:s,modal:i,shouldAnimate:l}=Fc(),u=PR(t,n),f=r&&r.length>0;if(!i)return null;const d=P.useCallback(h=>a(h),[a]);return P.createElement(gy,{onMouseUp:d,ref:u,"data-vaul-overlay":"","data-vaul-snap-points":s&&f?"true":"false","data-vaul-snap-points-overlay":s&&o?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...e})});UR.displayName="Drawer.Overlay";const FR=P.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...r},a){const{drawerRef:o,onPress:s,onRelease:i,onDrag:l,keyboardIsOpen:u,snapPointsOffset:f,activeSnapPointIndex:d,modal:h,isOpen:m,direction:x,snapPoints:b,container:S,handleOnly:v,shouldAnimate:g,autoFocus:y}=Fc(),[w,k]=P.useState(!1),C=PR(a,o),N=P.useRef(null),E=P.useRef(null),_=P.useRef(!1),A=b&&b.length>0;UQ();const R=(O,T,D=0)=>{if(_.current)return!0;const j=Math.abs(O.y),L=Math.abs(O.x),z=L>j,M=["bottom","right"].includes(T)?1:-1;if(T==="left"||T==="right"){if(!(O.x*M<0)&&L>=0&&L<=D)return z}else if(!(O.y*M<0)&&j>=0&&j<=D)return!z;return _.current=!0,!0};P.useEffect(()=>{A&&window.requestAnimationFrame(()=>{k(!0)})},[]);function B(O){N.current=null,_.current=!1,i(O)}return P.createElement(yy,{"data-vaul-drawer-direction":x,"data-vaul-drawer":"","data-vaul-delayed-snap-points":w?"true":"false","data-vaul-snap-points":m&&A?"true":"false","data-vaul-custom-container":S?"true":"false","data-vaul-animate":g!=null&&g.current?"true":"false",...r,ref:C,style:f&&f.length>0?{"--snap-point-height":`${f[d??0]}px`,...t}:t,onPointerDown:O=>{v||(r.onPointerDown==null||r.onPointerDown.call(r,O),N.current={x:O.pageX,y:O.pageY},s(O))},onOpenAutoFocus:O=>{n==null||n(O),y||O.preventDefault()},onPointerDownOutside:O=>{if(e==null||e(O),!h||O.defaultPrevented){O.preventDefault();return}u.current&&(u.current=!1)},onFocusOutside:O=>{if(!h){O.preventDefault();return}},onPointerMove:O=>{if(E.current=O,v||(r.onPointerMove==null||r.onPointerMove.call(r,O),!N.current))return;const T=O.pageY-N.current.y,D=O.pageX-N.current.x,j=O.pointerType==="touch"?10:2;R({x:D,y:T},x,j)?l(O):(Math.abs(D)>j||Math.abs(T)>j)&&(N.current=null)},onPointerUp:O=>{r.onPointerUp==null||r.onPointerUp.call(r,O),N.current=null,_.current=!1,i(O)},onPointerOut:O=>{r.onPointerOut==null||r.onPointerOut.call(r,O),B(E.current)},onContextMenu:O=>{r.onContextMenu==null||r.onContextMenu.call(r,O),E.current&&B(E.current)}})});FR.displayName="Drawer.Content";const VQ=250,ZQ=120,YQ=P.forwardRef(function({preventCycle:e=!1,children:t,...n},r){const{closeDrawer:a,isDragging:o,snapPoints:s,activeSnapPoint:i,setActiveSnapPoint:l,dismissible:u,handleOnly:f,isOpen:d,onPress:h,onDrag:m}=Fc(),x=P.useRef(null),b=P.useRef(!1);function S(){if(b.current){y();return}window.setTimeout(()=>{v()},ZQ)}function v(){if(o||e||b.current){y();return}if(y(),!s||s.length===0){u||a();return}if(i===s[s.length-1]&&u){a();return}const k=s.findIndex(N=>N===i);if(k===-1)return;const C=s[k+1];l(C)}function g(){x.current=window.setTimeout(()=>{b.current=!0},VQ)}function y(){x.current&&window.clearTimeout(x.current),b.current=!1}return P.createElement("div",{onClick:S,onPointerCancel:y,onPointerDown:w=>{f&&h(w),g()},onPointerMove:w=>{f&&m(w)},ref:r,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},P.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});YQ.displayName="Drawer.Handle";function qQ(e){const t=Fc(),{container:n=t.container,...r}=e;return P.createElement(z_,{container:n,...r})}const Na={Root:GQ,Content:FR,Overlay:UR,Portal:qQ,Title:vy,Description:xy},GR=({shouldScaleBackground:e=!0,...t})=>c.jsx(Na.Root,{shouldScaleBackground:e,...t});GR.displayName="Drawer";const XQ=Na.Portal,VR=p.forwardRef(({className:e,...t},n)=>c.jsx(Na.Overlay,{ref:n,className:Q("fixed inset-0 bg-black/40",e),style:{zIndex:Ht.MODAL},...t}));VR.displayName=Na.Overlay.displayName;const ZR=p.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(XQ,{children:[c.jsx(VR,{}),c.jsxs(Na.Content,{ref:r,className:Q("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),style:{zIndex:Ht.MODAL+1},...n,children:[c.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));ZR.displayName="DrawerContent";const YR=({className:e,...t})=>c.jsx("div",{className:Q("grid gap-1.5 p-4 text-center sm:text-left",e),...t});YR.displayName="DrawerHeader";const qR=p.forwardRef(({className:e,...t},n)=>c.jsx(Na.Title,{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));qR.displayName=Na.Title.displayName;const XR=p.forwardRef(({className:e,...t},n)=>c.jsx(Na.Description,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));XR.displayName=Na.Description.displayName;function WQ({name:e,description:t,category:n,assignmentType:r,perkCount:a,onSelect:o,onAssignMajor:s,onAssignMinor:i,onRemoveAssignment:l,canAssignMajor:u,canAssignMinor:f,className:d}){const h=b=>{b.target.closest("[data-assignment-control]")||o()},m=b=>{b.stopPropagation(),r==="major"?l():s()},x=b=>{b.stopPropagation(),r==="minor"?l():i()};return c.jsxs("div",{className:Q("p-4 border rounded-lg hover:bg-muted/50 transition-colors",d),onClick:h,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h3",{className:"font-semibold text-lg cursor-pointer",children:e}),c.jsx(KQ,{type:r})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:t}),c.jsxs("div",{className:"flex gap-2 flex-wrap mb-4",children:[c.jsx(QQ,{category:n}),c.jsx(JQ,{count:a})]}),c.jsxs("div",{className:"flex gap-2","data-assignment-control":!0,children:[c.jsx(ie,{size:"sm",variant:r==="major"?"default":"outline",onClick:m,disabled:!u&&r!=="major",className:Q("flex-1 text-xs",r==="major"&&"bg-yellow-600 hover:bg-yellow-700 text-white border-yellow-500"),children:r==="major"?"Remove Major":"Major"}),c.jsx(ie,{size:"sm",variant:r==="minor"?"default":"outline",onClick:x,disabled:!f&&r!=="minor",className:Q("flex-1 text-xs",r==="minor"&&"bg-gray-500 hover:bg-gray-600 text-white border-gray-400"),children:r==="minor"?"Remove Minor":"Minor"})]})]})}function KQ({type:e,size:t="sm"}){const n={major:"bg-yellow-600 text-white hover:bg-yellow-700 border-yellow-500",minor:"bg-gray-500 text-white hover:bg-gray-600 border-gray-400",none:"bg-gray-100 text-gray-800 border border-gray-300"},r={major:"Major",minor:"Minor",none:"Unassigned"},a={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return c.jsx(ge,{className:Q(n[e],a[t]),children:r[e]})}function QQ({category:e,size:t="sm"}){const n={Combat:"bg-red-100 text-red-800 border-red-200",Magic:"bg-blue-100 text-blue-800 border-blue-200",Stealth:"bg-green-100 text-green-800 border-green-200"},r={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return c.jsx(ge,{variant:"outline",className:Q(n[e]||"bg-gray-100 text-gray-800 border-gray-300",r[t]),children:e})}function JQ({count:e,size:t="sm"}){const n={sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1",lg:"text-base px-4 py-2"};return c.jsxs(ge,{variant:"secondary",className:Q("bg-purple-100 text-purple-800 border-purple-200",n[t]),children:[e," Perks"]})}function WR(){return c.jsx("div",{className:"container mx-auto p-6",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Skills..."}),c.jsx("p",{className:"text-muted-foreground",children:"Initializing skill and perk data..."})]})})}function KR({error:e}){return c.jsx("div",{className:"container mx-auto p-6",children:c.jsxs("div",{className:"text-center text-red-600",children:[c.jsx(F4,{className:"h-12 w-12 mx-auto mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Error Loading Skills"}),c.jsx("p",{className:"text-muted-foreground",children:e})]})})}function eJ({id:e,name:t,description:n,rank:r,maxRank:a,isSelected:o,isAvailable:s,prerequisites:i,onSelect:l,onRankChange:u,className:f}){const d=()=>{s&&l()},h=x=>{x.stopPropagation(),r<a&&u(r+1)},m=x=>{x.stopPropagation(),r>0&&u(r-1)};return c.jsxs("div",{className:Q("p-3 border rounded-lg transition-colors cursor-pointer",o?"bg-blue-50 border-blue-300":"bg-white border-gray-200",!s&&"opacity-50 cursor-not-allowed",s&&!o&&"hover:bg-gray-50",f),onClick:d,children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-medium text-sm",children:t}),c.jsxs(ge,{variant:o?"default":"secondary",className:Q("text-xs",o?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"),children:[r,"/",a]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2",children:n}),i.length>0&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Prerequisites:"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:i.map((x,b)=>c.jsx(ge,{variant:"outline",className:"text-xs",children:x},b))})]}),o&&c.jsxs("div",{className:"flex gap-1",onClick:x=>x.stopPropagation(),children:[c.jsx(ie,{size:"sm",variant:"outline",onClick:m,disabled:r<=0,className:"flex-1 text-xs",children:"-"}),c.jsx(ie,{size:"sm",variant:"outline",onClick:h,disabled:r>=a,className:"flex-1 text-xs",children:"+"})]})]})}function tJ({skills:e,onSkillSelect:t,onAssignMajor:n,onAssignMinor:r,onRemoveAssignment:a,selectedSkillId:o,className:s}){return c.jsx("div",{className:Q("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",s),children:e.map(i=>c.jsx(WQ,{name:i.name,description:i.description,category:i.category,assignmentType:i.assignmentType,perkCount:i.perkCount,canAssignMajor:i.canAssignMajor,canAssignMinor:i.canAssignMinor,onSelect:()=>t(i.id),onAssignMajor:()=>n(i.id),onAssignMinor:()=>r(i.id),onRemoveAssignment:()=>a(i.id),className:o===i.id?"ring-2 ring-primary bg-primary/5":""},i.id))})}function nJ({query:e,onQueryChange:t,placeholder:n="Search skills...",className:r}){return c.jsx("div",{className:Q("mb-6",r),children:c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(wa,{placeholder:n,value:e,onChange:a=>t(a.target.value),className:"pl-10"})]})})}function rJ({categories:e,selectedCategory:t,onCategorySelect:n,className:r}){return c.jsx("div",{className:Q("mb-6",r),children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(ie,{variant:t===null?"default":"outline",size:"sm",onClick:()=>n(null),children:"All Categories"}),e.map(a=>c.jsx(ie,{variant:t===a?"default":"outline",size:"sm",onClick:()=>n(a),children:a},a))]})})}function aJ({perks:e,selectedPerks:t,perkRanks:n,availablePerks:r,onPerkSelect:a,onPerkRankChange:o,className:s}){return c.jsx("div",{className:Q("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",s),children:e.map(i=>{const l=t.includes(i.id),u=r.includes(i.id),f=n[i.id]||0;return c.jsx(eJ,{id:i.id,name:i.name,description:i.description,rank:f,maxRank:i.maxRank,isSelected:l,isAvailable:u,prerequisites:i.prerequisites,onSelect:()=>a(i.id),onRankChange:d=>o(i.id,d)},i.id)})})}const gi={MAJOR:3,MINOR:6},oJ=()=>({majorSkills:[],minorSkills:[],selectedSkill:null}),mS=e=>e.majorSkills.length<gi.MAJOR,pS=e=>e.minorSkills.length<gi.MINOR,sJ=(e,t)=>t.majorSkills.includes(e)?"major":t.minorSkills.includes(e)?"minor":"none",iJ=e=>({majorCount:e.majorSkills.length,minorCount:e.minorSkills.length,totalCount:e.majorSkills.length+e.minorSkills.length,majorLimit:gi.MAJOR,minorLimit:gi.MINOR});function lJ(e,t,n){return t==="major"?n.majorSkills.length<gi.MAJOR:n.minorSkills.length<gi.MINOR}function cJ(e,t,n){return uJ(e,n)===t?{valid:!1,reason:"Skill is already assigned as this type"}:lJ(e,t,n)?{valid:!0}:{valid:!1,reason:`Cannot assign more ${t} skills (limit reached)`}}function uJ(e,t){return t.majorSkills.includes(e)?"major":t.minorSkills.includes(e)?"minor":"none"}function mf(e,t,n=new Set){if(n.has(e))return[];n.add(e);const r=t.perks.find(o=>o.edid===e);if(!r)return[];const a=[];return r.connections.parents.forEach(o=>{if(t.perks.some(i=>i.edid===o)&&!n.has(o)){a.push(o);const i=mf(o,t,n);a.push(...i)}}),[...new Set(a)]}function Jg(e,t,n=new Set){if(n.has(e))return[];n.add(e);const r=[];return t.perks.forEach(a=>{if(a.connections.parents.includes(e)){r.push(a.edid);const o=Jg(a.edid,t,n);r.push(...o)}}),[...new Set(r)]}function e0(e,t,n,r){var l;const a=t.perks.find(u=>u.edid===e);return a?(((l=n.selectedPerks[r])==null?void 0:l.includes(e))??!1)||a.isRoot?!0:mf(e,t).every(u=>{var f;return((f=n.selectedPerks[r])==null?void 0:f.includes(u))??!1}):!1}function dJ(e,t,n,r){return e0(e,t,n,r)?{valid:!0}:{valid:!1,reason:"Prerequisites not met or perk not available"}}function fJ(e,t,n,r){const a=t.perks.find(i=>i.edid===e);if(!a)return!1;const o=n.perkRanks[e]??0,s=a.totalRanks;return o<s}function hJ(e,t,n,r,a){var s;const o=n.perks.find(i=>i.edid===e);return o?t<0||t>o.totalRanks?{valid:!1,reason:`Rank must be between 0 and ${o.totalRanks}`}:t>0&&!(((s=r.selectedPerks[a])==null?void 0:s.includes(e))??!1)?{valid:!1,reason:"Perk must be selected to have rank > 0"}:{valid:!0}:{valid:!1,reason:"Perk not found"}}function mJ(e,t,n){var s;const r=t.find(i=>i.treeId===e.edid),a=r?r.perks.length:0,o=((s=n.selectedPerks[e.edid])==null?void 0:s.length)??0;return{...e,totalPerks:a,selectedPerks:o}}function pJ(e,t,n){let r=0;return t.majorSkills.includes(e)?r+=25:t.minorSkills.includes(e)&&(r+=15),(n.selectedPerks[e]??[]).forEach(o=>{const s=n.perkRanks[o]??0;r+=s*5}),r}async function gJ(){const e=await fetch("/lorerim-arcaneum/data/skills.json");if(!e.ok)throw new Error("Failed to load skills data");return((await e.json()).skills||[]).sort((n,r)=>n.name.localeCompare(r.name))}async function QR(){const e=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!e.ok)throw new Error("Failed to load perk trees data");return e.json()}class gS{constructor(){fr(this,"skillState");fr(this,"perkState");fr(this,"skills",[]);fr(this,"perkTrees",[]);this.skillState=oJ(),this.perkState={selectedPerks:{},perkRanks:{}}}async initialize(){try{const[t,n]=await Promise.all([gJ(),QR()]);this.skills=t,this.perkTrees=n}catch(t){throw console.error("Failed to initialize skill adapter:",t),t}}getSkills(){return this.skills.map(t=>this.transformSkillForUI(t))}getSkillsByCategory(t){return this.skills.filter(n=>n.category===t).map(n=>this.transformSkillForUI(n))}getSkillById(t){const n=this.skills.find(r=>r.edid===t);return n?this.transformSkillForUI(n):null}getSkillSummary(){const t=iJ(this.skillState);return{majorCount:t.majorCount,minorCount:t.minorCount,totalCount:t.totalCount,majorLimit:t.majorLimit,minorLimit:t.minorLimit,canAssignMore:t.majorCount<t.majorLimit||t.minorCount<t.minorLimit}}validateAssignment(t,n){const r=cJ(t,n,this.skillState);return{skillId:t,type:n,valid:r.valid,reason:r.reason}}assignSkill(t,n){const r=this.validateAssignment(t,n);return r.valid&&(this.skillState.majorSkills=this.skillState.majorSkills.filter(a=>a!==t),this.skillState.minorSkills=this.skillState.minorSkills.filter(a=>a!==t),n==="major"?this.skillState.majorSkills.push(t):this.skillState.minorSkills.push(t)),r}unassignSkill(t){this.skillState.majorSkills=this.skillState.majorSkills.filter(n=>n!==t),this.skillState.minorSkills=this.skillState.minorSkills.filter(n=>n!==t)}setSelectedSkill(t){this.skillState.selectedSkill=t}getSelectedSkill(){return this.skillState.selectedSkill?this.getSkillById(this.skillState.selectedSkill):null}getAvailableMajorSkills(){return this.skills.filter(t=>mS(this.skillState)).map(t=>this.transformSkillForUI(t))}getAvailableMinorSkills(){return this.skills.filter(t=>pS(this.skillState)).map(t=>this.transformSkillForUI(t))}searchSkills(t){const n=t.toLowerCase();return this.skills.filter(r=>r.name.toLowerCase().includes(n)||r.metaTags.some(a=>a.toLowerCase().includes(n))||r.category.toLowerCase().includes(n)).map(r=>this.transformSkillForUI(r))}getSkillsByAssignment(t){return(t==="major"?this.skillState.majorSkills:this.skillState.minorSkills).map(r=>this.getSkillById(r)).filter(r=>r!==null)}exportState(){return{skillState:{...this.skillState},perkState:{...this.perkState}}}importState(t){this.skillState={...t.skillState},this.perkState={...t.perkState}}transformSkillForUI(t){const n=sJ(t.edid,this.skillState),r=mJ(t,this.perkTrees,this.perkState),a=pJ(t.edid,this.skillState,this.perkState);return{id:t.edid,name:t.name,category:t.category,description:t.description,scaling:t.scaling,keyAbilities:t.keyAbilities,metaTags:t.metaTags,assignmentType:n,canAssignMajor:mS(this.skillState),canAssignMinor:pS(this.skillState),level:a,totalPerks:r.totalPerks,selectedPerks:r.selectedPerks,isSelected:this.skillState.selectedSkill===t.edid}}updatePerkState(t){this.perkState=t}}const yJ=()=>({selectedPerks:{},perkRanks:{}}),vJ=(e,t,n)=>{var r;return((r=n.selectedPerks[t])==null?void 0:r.includes(e))??!1},JR=(e,t)=>t.perkRanks[e]??0,Xv=(e,t)=>t.selectedPerks[e]??[],xJ=(e,t)=>Xv(e,t).length,bJ=(e,t)=>Xv(e,t).reduce((r,a)=>r+JR(a,t),0);class yS{constructor(){fr(this,"perkState");fr(this,"perkTrees",[]);this.perkState=yJ()}async initialize(){try{this.perkTrees=await QR()}catch(t){throw console.error("Failed to initialize perk adapter:",t),t}}getPerkTrees(){return this.perkTrees.map(t=>this.transformPerkTreeForUI(t))}getPerkTreeBySkillId(t){const n=this.perkTrees.find(r=>r.treeId===t);return n?this.transformPerkTreeForUI(n):null}getPerkById(t,n){const r=this.perkTrees.find(o=>o.treeId===n);if(!r)return null;const a=r.perks.find(o=>o.edid===t);return a?this.transformPerkForUI(a,r):null}getPerksForSkill(t){const n=this.perkTrees.find(r=>r.treeId===t);return n?n.perks.map(r=>this.transformPerkForUI(r,n)):[]}getSelectedPerksForSkill(t){return Xv(t,this.perkState).map(r=>this.getPerkById(r,t)).filter(r=>r!==null)}validatePerkSelection(t,n){const r=this.perkTrees.find(o=>o.treeId===n);if(!r)return{perkId:t,skillId:n,valid:!1,reason:"Perk tree not found for skill"};const a=dJ(t,r,this.perkState,n);return{perkId:t,skillId:n,valid:a.valid,reason:a.reason}}selectPerk(t,n){const r=this.validatePerkSelection(t,n);return r.valid&&(this.perkState.selectedPerks[n]||(this.perkState.selectedPerks[n]=[]),this.perkState.selectedPerks[n].includes(t)||this.perkState.selectedPerks[n].push(t)),r}deselectPerk(t,n){this.perkState.selectedPerks[n]&&(this.perkState.selectedPerks[n]=this.perkState.selectedPerks[n].filter(r=>r!==t)),this.perkState.perkRanks[t]&&delete this.perkState.perkRanks[t]}validatePerkRankUpdate(t,n,r){const a=this.perkTrees.find(s=>s.treeId===n);if(!a)return{perkId:t,skillId:n,newRank:r,valid:!1,reason:"Perk tree not found for skill"};const o=hJ(t,r,a,this.perkState,n);return{perkId:t,skillId:n,newRank:r,valid:o.valid,reason:o.reason}}updatePerkRank(t,n,r){const a=this.validatePerkRankUpdate(t,n,r);return a.valid&&(this.perkState.perkRanks[t]=r),a}getAvailablePerksForSkill(t){const n=this.perkTrees.find(r=>r.treeId===t);return n?n.perks.filter(r=>e0(r.edid,n,this.perkState,t)).map(r=>this.transformPerkForUI(r,n)):[]}getPerkPrerequisites(t,n){const r=this.perkTrees.find(a=>a.treeId===n);return r?mf(t,r):[]}getPerkDescendants(t,n){const r=this.perkTrees.find(a=>a.treeId===n);return r?Jg(t,r):[]}getPerkStatsForSkill(t){const n=this.perkTrees.find(r=>r.treeId===t);return n?{totalPerks:n.perks.length,selectedPerks:xJ(t,this.perkState),totalRanks:bJ(t,this.perkState)}:{totalPerks:0,selectedPerks:0,totalRanks:0}}searchPerks(t){const n=t.toLowerCase(),r=[];return this.perkTrees.forEach(a=>{const o=a.perks.filter(s=>s.name.toLowerCase().includes(n)).map(s=>this.transformPerkForUI(s,a));r.push(...o)}),r}exportState(){return{...this.perkState}}importState(t){this.perkState={...t}}transformPerkTreeForUI(t){const n=t.perks.map(a=>this.transformPerkForUI(a,t)),r=this.getPerkStatsForSkill(t.treeId);return{id:t.treeId,name:t.treeName,description:t.treeDescription,category:t.category,perks:n,totalPerks:r.totalPerks,selectedPerks:r.selectedPerks,totalRanks:r.totalRanks}}transformPerkForUI(t,n){const r=n.treeId,a=vJ(t.edid,r,this.perkState),o=JR(t.edid,this.perkState),s=e0(t.edid,n,this.perkState,r),i=fJ(t.edid,n,this.perkState),l=mf(t.edid,n),u=Jg(t.edid,n);return{id:t.edid,name:t.name,skillId:r,totalRanks:t.totalRanks,currentRank:o,isSelected:a,isRoot:t.isRoot,canSelect:s,canIncreaseRank:i,prerequisites:l,descendants:u,position:t.position}}}class wJ{constructor(){fr(this,"skillAdapter");fr(this,"perkAdapter");fr(this,"isInitialized",!1);this.skillAdapter=new gS,this.perkAdapter=new yS}async initialize(){if(!this.isInitialized)try{await Promise.all([this.skillAdapter.initialize(),this.perkAdapter.initialize()]),this.isInitialized=!0}catch(t){throw console.error("Failed to initialize unified adapter:",t),t}}getBuildState(){const t=this.getUnifiedSkills(),n=this.skillAdapter.getSkillSummary(),r=this.getSelectedSkill();let a=0,o=0;return t.forEach(s=>{a+=s.selectedPerks.length,o+=s.selectedPerks.reduce((i,l)=>i+l.currentRank,0)}),{skills:t,skillSummary:n,totalPerks:a,totalPerkRanks:o,selectedSkill:r}}getUnifiedSkills(){return this.skillAdapter.getSkills().map(n=>this.enrichSkillWithPerks(n))}getUnifiedSkillById(t){const n=this.skillAdapter.getSkillById(t);return n?this.enrichSkillWithPerks(n):null}getSkillsByCategory(t){return this.skillAdapter.getSkillsByCategory(t).map(r=>this.enrichSkillWithPerks(r))}getSkillsByAssignment(t){return this.skillAdapter.getSkillsByAssignment(t).map(r=>this.enrichSkillWithPerks(r))}getSelectedSkill(){const t=this.skillAdapter.getSelectedSkill();return t?this.enrichSkillWithPerks(t):null}setSelectedSkill(t){this.skillAdapter.setSelectedSkill(t)}assignSkill(t,n){return this.skillAdapter.assignSkill(t,n)}unassignSkill(t){this.skillAdapter.unassignSkill(t)}selectPerk(t,n){const r=this.perkAdapter.selectPerk(t,n);return r.valid&&this.skillAdapter.updatePerkState(this.perkAdapter.exportState()),r}deselectPerk(t,n){this.perkAdapter.deselectPerk(t,n),this.skillAdapter.updatePerkState(this.perkAdapter.exportState())}updatePerkRank(t,n,r){const a=this.perkAdapter.updatePerkRank(t,n,r);return a.valid&&this.skillAdapter.updatePerkState(this.perkAdapter.exportState()),a}search(t){const n=this.skillAdapter.searchSkills(t),r=this.perkAdapter.searchPerks(t),a=n.map(o=>this.enrichSkillWithPerks(o));return{skills:a,perks:r,totalResults:a.length+r.length}}getAvailableSkillsForAssignment(t){return(t==="major"?this.skillAdapter.getAvailableMajorSkills():this.skillAdapter.getAvailableMinorSkills()).map(r=>this.enrichSkillWithPerks(r))}getPerkTreeForSkill(t){return this.perkAdapter.getPerkTreeBySkillId(t)}getPerksForSkill(t){return this.perkAdapter.getPerksForSkill(t)}getSelectedPerksForSkill(t){return this.perkAdapter.getSelectedPerksForSkill(t)}getAvailablePerksForSkill(t){return this.perkAdapter.getAvailablePerksForSkill(t)}getPerkStatsForSkill(t){return this.perkAdapter.getPerkStatsForSkill(t)}validateSkillAssignment(t,n){return this.skillAdapter.validateAssignment(t,n)}validatePerkSelection(t,n){return this.perkAdapter.validatePerkSelection(t,n)}getSkillSummary(){return this.skillAdapter.getSkillSummary()}exportState(){return{skillState:this.skillAdapter.exportState().skillState,perkState:this.perkAdapter.exportState()}}importState(t){this.skillAdapter.importState(t),this.perkAdapter.importState(t.perkState)}reset(){this.skillAdapter=new gS,this.perkAdapter=new yS}enrichSkillWithPerks(t){const n=this.perkAdapter.getPerkTreeBySkillId(t.id),r=this.perkAdapter.getPerksForSkill(t.id),a=this.perkAdapter.getSelectedPerksForSkill(t.id),o=this.perkAdapter.getAvailablePerksForSkill(t.id);return{id:t.id,name:t.name,category:t.category,description:t.description,scaling:t.scaling,keyAbilities:t.keyAbilities,metaTags:t.metaTags,assignmentType:t.assignmentType,canAssignMajor:t.canAssignMajor,canAssignMinor:t.canAssignMinor,level:t.level,totalPerks:t.totalPerks,selectedPerksCount:t.selectedPerks,isSelected:t.isSelected,perkTree:n,perks:r,selectedPerks:a,availablePerks:o}}}function SJ(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState(null);return p.useEffect(()=>{(async()=>{try{r(!0),o(null);const f=new wJ;await f.initialize(),i(f);const d=f.getBuildState();t(d.skills)}catch(f){o(f instanceof Error?f.message:"Failed to load skills")}finally{r(!1)}})()},[]),{skills:e,loading:n,error:a,adapter:s,refreshSkills:async()=>{if(s)try{r(!0);const u=s.getBuildState();t(u.skills)}catch(u){o(u instanceof Error?u.message:"Failed to refresh skills")}finally{r(!1)}}}}function NJ(e){const[t,n]=p.useState(null),r=p.useCallback((u,f)=>e?e.assignSkill(u,f):{valid:!1,reason:"Adapter not initialized"},[e]),a=p.useCallback(u=>{e&&e.unassignSkill(u)},[e]),o=p.useCallback(u=>{e&&(n(u),u&&e.setSelectedSkill(u))},[e]),s=p.useCallback(()=>e?e.getSelectedSkill():null,[e]),i=p.useCallback(()=>e?e.getSkillsByAssignment("major"):[],[e]),l=p.useCallback(()=>e?e.getSkillsByAssignment("minor"):[],[e]);return{selectedSkillId:t,setSelectedSkillId:o,assignSkill:r,unassignSkill:a,getSelectedSkill:s,getMajorSkills:i,getMinorSkills:l}}function kJ(e){const[t,n]=p.useState(""),[r,a]=p.useState(null),o=p.useMemo(()=>e.filter(l=>{const u=l.name.toLowerCase().includes(t.toLowerCase())||l.description.toLowerCase().includes(t.toLowerCase())||l.category.toLowerCase().includes(t.toLowerCase())||l.keyAbilities.some(d=>d.toLowerCase().includes(t.toLowerCase()))||l.metaTags.some(d=>d.toLowerCase().includes(t.toLowerCase())),f=!r||l.category===r;return u&&f}),[e,t,r]),s=p.useMemo(()=>{const l=new Set(e.map(u=>u.category));return Array.from(l).sort()},[e]);return{searchQuery:t,setSearchQuery:n,selectedCategory:r,setSelectedCategory:a,filteredSkills:o,categories:s,clearFilters:()=>{n(""),a(null)}}}function EJ(e){const t=p.useMemo(()=>{const o=e.filter(u=>u.assignmentType==="major"),s=e.filter(u=>u.assignmentType==="minor"),i=o.length,l=s.length;return{majorCount:i,minorCount:l,majorLimit:3,minorLimit:6,canAssignMajor:i<3,canAssignMinor:l<6,totalSkills:e.length,totalPerks:e.reduce((u,f)=>u+f.selectedPerksCount,0),totalPerkRanks:e.reduce((u,f)=>u+f.selectedPerks.reduce((d,h)=>d+h.currentRank,0),0)}},[e]),n=p.useMemo(()=>e.map(o=>({...o,canAssignMajor:t.canAssignMajor,canAssignMinor:t.canAssignMinor})),[e,t]),r=p.useMemo(()=>e.reduce((s,i)=>(s[i.category]||(s[i.category]=[]),s[i.category].push(i),s),{}),[e]),a=p.useMemo(()=>({major:e.filter(o=>o.assignmentType==="major"),minor:e.filter(o=>o.assignmentType==="minor"),unassigned:e.filter(o=>o.assignmentType==="none")}),[e]);return{skillSummary:t,skillsWithAssignment:n,skillsByCategory:r,skillsByAssignment:a}}function _J(e){const[t,n]=p.useState([]),[r,a]=p.useState(!0),[o,s]=p.useState(null),{getSkillPerks:i,getPerkRank:l,addPerk:u,removePerk:f,setPerkRank:d,clearSkillPerks:h}=Cn();p.useEffect(()=>{(async()=>{try{a(!0),s(null);const k=await fetch("/lorerim-arcaneum/data/perk-trees.json");if(!k.ok)throw new Error("Failed to fetch perk trees data");const C=await k.json();n(C.perkTrees||[])}catch(k){s(k instanceof Error?k.message:"Failed to load perk trees")}finally{a(!1)}})()},[]);const m=p.useMemo(()=>e&&t.find(k=>k.treeId===e)||null,[e,t]),x=p.useMemo(()=>e?i(e):[],[e,i]),b=p.useMemo(()=>{if(!e||!m)return{};const w={};return m.perks.forEach(k=>{w[k.edid]=l(k.edid)}),w},[e,m,l]),S=p.useMemo(()=>{if(!m)return[];const w=[];return m.perks.forEach(k=>{if(k.isRoot){w.push(k.edid);return}(k.connections.parents||[]).every(E=>x.includes(E))&&w.push(k.edid)}),w},[m,x]);return{perkTrees:t,selectedPerkTree:m,selectedPerks:x,perkRanks:b,availablePerks:S,loading:r,error:o,handlePerkSelect:w=>{if(!e)return;x.includes(w)?f(e,w):u(e,w)},handlePerkRankChange:(w,k)=>{d(w,k)},handleResetPerks:()=>{e&&h(e)}}}function CJ({skillId:e,skillName:t,skillCategory:n,onClose:r,className:a}){const{selectedPerkTree:o,selectedPerks:s,perkRanks:i,availablePerks:l,loading:u,error:f,handlePerkSelect:d,handlePerkRankChange:h,handleResetPerks:m}=_J(e);if(u)return c.jsx(WR,{});if(f)return c.jsx(KR,{error:f});if(!o)return c.jsx(dt,{className:a,children:c.jsx(ft,{className:"p-6",children:c.jsx("div",{className:"text-center text-muted-foreground",children:c.jsx("p",{children:"No perk tree found for this skill."})})})});const x=o.perks.map(b=>{var S,v;return{id:b.edid,name:b.name,description:((v=(S=b.ranks[0])==null?void 0:S.description)==null?void 0:v.base)||"No description available",maxRank:b.totalRanks,prerequisites:b.connections.parents||[]}});return c.jsxs("div",{className:a,children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold",children:t}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(ge,{variant:"outline",className:"text-xs",children:n}),c.jsxs(ge,{variant:"secondary",className:"text-xs",children:[s.length,"/",o.perks.length," Perks"]})]})]})}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(ie,{variant:"outline",size:"sm",onClick:m,className:"text-xs",children:"Reset Perks"})})]}),c.jsx(aJ,{perks:x,selectedPerks:s,perkRanks:i,availablePerks:l,onPerkSelect:d,onPerkRankChange:h})]})}function AJ({skills:e,loading:t,error:n,searchQuery:r,onSearchChange:a,selectedCategory:o,onCategorySelect:s,categories:i,selectedSkillId:l,onSkillSelect:u,onAssignMajor:f,onAssignMinor:d,onRemoveAssignment:h,skillSummary:m}){var v,g,y,w;const[x,b]=p.useState(!1);if(console.log("SkillsPageView - selectedSkillId:",l),console.log("SkillsPageView - perkTreeOpen:",x),t)return c.jsx(WR,{});if(n)return c.jsx(KR,{error:n});const S=e.map(k=>({id:k.id,name:k.name,description:k.description,category:k.category,assignmentType:k.assignmentType,perkCount:`${k.selectedPerksCount}/${k.totalPerks}`,canAssignMajor:k.canAssignMajor,canAssignMinor:k.canAssignMinor}));return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Skills & Perks"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your character's skills and perk selections"})]}),c.jsxs(dt,{children:[c.jsx(Et,{children:c.jsxs(_t,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Build Summary"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ge,{variant:"outline",className:"bg-yellow-50 text-yellow-800 border-yellow-300",children:[m.majorCount,"/",m.majorLimit," Major"]}),c.jsxs(ge,{variant:"outline",className:"bg-gray-50 text-gray-800 border-gray-300",children:[m.minorCount,"/",m.minorLimit," Minor"]})]})]})}),c.jsx(ft,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Total Skills"}),c.jsx("p",{className:"font-semibold",children:m.totalSkills})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Selected Perks"}),c.jsx("p",{className:"font-semibold",children:m.totalPerks})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Perk Ranks"}),c.jsx("p",{className:"font-semibold",children:m.totalPerkRanks})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Available Major"}),c.jsx("p",{className:"font-semibold text-yellow-600",children:m.majorLimit-m.majorCount})]})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(nJ,{query:r,onQueryChange:a}),c.jsx(rJ,{categories:i,selectedCategory:o,onCategorySelect:s})]}),c.jsx(bQ,{}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Available Skills"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," skills found"]})]}),c.jsx(tJ,{skills:S,onSkillSelect:k=>{u(k),b(!0)},onAssignMajor:f,onAssignMinor:d,onRemoveAssignment:h,selectedSkillId:l||void 0})]}),c.jsx(GR,{open:x,onOpenChange:b,children:c.jsxs(ZR,{className:"max-h-[90vh]",children:[c.jsxs(YR,{children:[c.jsx(qR,{children:l&&((v=e.find(k=>k.id===l))!=null&&v.name)?`${(g=e.find(k=>k.id===l))==null?void 0:g.name} Perk Tree`:"Perk Tree"}),c.jsx(XR,{children:"Select and manage perks for this skill"})]}),c.jsx("div",{className:"flex-1 overflow-auto",children:l&&c.jsx(CJ,{skillId:l,skillName:((y=e.find(k=>k.id===l))==null?void 0:y.name)||"Unknown Skill",skillCategory:((w=e.find(k=>k.id===l))==null?void 0:w.category)||"Unknown",onClose:()=>b(!1)})})]})}),c.jsx(dt,{className:"bg-muted/50",children:c.jsxs(ft,{className:"pt-6",children:[c.jsx("h3",{className:"font-semibold mb-2",children:"How to Assign Skills"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Major Skills (0-3)"}),c.jsx("p",{children:"Your primary skills that level up faster and start at a higher level."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-muted-foreground",children:"Minor Skills (0-6)"}),c.jsx("p",{children:"Secondary skills that provide additional benefits and customization."})]})]})]})})]})}function ep(){const{skills:e,loading:t,error:n,adapter:r,refreshSkills:a}=SJ(),{selectedSkillId:o,setSelectedSkillId:s,assignSkill:i,unassignSkill:l}=NJ(r),{searchQuery:u,setSearchQuery:f,selectedCategory:d,setSelectedCategory:h,filteredSkills:m,categories:x}=kJ(e),{skillSummary:b,skillsWithAssignment:S}=EJ(m),v=p.useCallback(k=>{const C=i(k,"major");C.valid?a():alert(`Cannot assign skill as major: ${C.reason}`)},[i,a]),g=p.useCallback(k=>{const C=i(k,"minor");C.valid?a():alert(`Cannot assign skill as minor: ${C.reason}`)},[i,a]),y=p.useCallback(k=>{l(k),a()},[l,a]),w=p.useCallback(k=>{s(k)},[s]);return c.jsx(AJ,{skills:S,loading:t,error:n,searchQuery:u,onSearchChange:f,selectedCategory:d,onCategorySelect:h,categories:x,selectedSkillId:o,onSkillSelect:w,onAssignMajor:v,onAssignMinor:g,onRemoveAssignment:y,skillSummary:b})}const TJ=Tt({type:De(),id:De()}),jJ=Tt({skill:De(),level:nn()}),RJ=Tt({skillLevel:jJ.optional(),items:_n(TJ).optional()}),MJ=Tt({base:De(),subtext:De()}),DJ=Tt({rank:nn(),edid:De(),name:De(),description:MJ,prerequisites:RJ}),zJ=Tt({x:nn(),y:nn(),horizontal:nn(),vertical:nn()}),OJ=Tt({parents:_n(De()),children:_n(De())}),PJ=Tt({edid:De(),name:De(),ranks:_n(DJ),totalRanks:nn(),connections:OJ,isRoot:oR(),position:zJ}),LJ=Tt({treeId:De(),treeName:De(),treeDescription:De(),category:De(),perks:_n(PJ)});_n(LJ);function vS({item:e,isExpanded:t=!1,onToggle:n,className:r,allTraitIds:a,disableHover:o=!1}){e.originalTrait;const{hasRegularTrait:s,hasBonusTrait:i,addRegularTrait:l,addBonusTrait:u,removeTrait:f,canAddRegularTrait:d,canAddBonusTrait:h,build:m}=Cn(),b=s(e.id)?"primary":i(e.id)?"secondary":"none",S=w=>{b===w?f(e.id):(f(e.id),w==="primary"&&d()?l(e.id):w==="secondary"&&h()&&u(e.id))},v=!d()&&b!=="primary",g=!h()&&b!=="secondary",y=()=>b==="primary"?"border-yellow-500 bg-yellow-50/50 shadow-yellow-500/20":b==="secondary"?"border-gray-400 bg-gray-50/50 shadow-gray-400/20":"";return p.useEffect(()=>{var w,k;if(a){const C=((w=m==null?void 0:m.traits)==null?void 0:w.regular)||[],N=((k=m==null?void 0:m.traits)==null?void 0:k.bonus)||[];[...C,...N].filter(A=>!a.includes(A)).forEach(A=>f(A))}},[a,m==null?void 0:m.traits,f]),c.jsxs(qe,{expanded:t,onToggle:n,className:Q(r,y()),disableHover:o,children:[c.jsx(qe.Header,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_E,{className:"h-4 w-4 text-black"}),c.jsx(Mc,{className:"text-primary font-semibold",children:e.name})]})}),c.jsx(qe.Summary,{children:c.jsx(Fs,{text:e.description,className:Q("text-base text-muted-foreground",t?"":"line-clamp-2")})}),c.jsx(qe.Footer,{children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(ie,{size:"sm",variant:b==="primary"?"default":"outline",disabled:v,className:Q("flex-1 text-xs",b==="primary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:w=>{w.stopPropagation(),S("primary")},children:b==="primary"?"Remove Trait":"Starting Trait"}),c.jsx(ie,{size:"sm",variant:b==="secondary"?"default":"outline",disabled:g,className:Q("flex-1 text-xs",b==="secondary"&&"bg-skyrim-gold text-skyrim-dark hover:bg-skyrim-gold/90"),onClick:w=>{w.stopPropagation(),S("secondary")},children:b==="secondary"?"Remove Trait":"Late Game Trait"})]})})]})}function $J(e,t){const n=p.useMemo(()=>e.map(i=>({id:i.edid,name:i.name,description:i.description,category:i.category,effects:i.effects.map(l=>`${l.type} ${l.condition||""} ${l.value}`),tags:i.tags,originalTrait:i})),[e]),r=p.useMemo(()=>({keys:[{name:"name",weight:.4},{name:"description",weight:.3},{name:"effects",weight:.2},{name:"tags",weight:.15},{name:"category",weight:.1}],threshold:.3,includeScore:!0,includeMatches:!0}),[]),a=p.useMemo(()=>new Sa(n,r),[n,r]),o=p.useMemo(()=>t.trim()?a.search(t):n.map(i=>({item:i,score:0,matches:[]})),[a,t]);return{filteredTraits:p.useMemo(()=>o.map(i=>i.item.originalTrait),[o]),searchResults:o,searchableTraits:n}}function eM(e){const t=e.map(n=>n.category);return[...new Set(t)].sort()}function BJ(e){const t=e.flatMap(n=>n.effects.map(r=>r.type));return[...new Set(t)].sort()}function tM(e){const t=e.flatMap(n=>n.tags);return[...new Set(t)].sort()}const IJ=[{name:"Acoustic Arcanist",description:"Your magic flows through melody and vibration. After playing an instrument at an inn, your sonic spells become ***20%*** more powerful. However, your booming presence makes hiring followers more expensive, and your reliance on sound magic weakens your physical attacks by ***15%***.",edid:"LoreTraits_AcousticArcanistAb",formId:"0xFEDF282F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Adrenaline Rush",description:"You possess a natural flight response. When at less than ***20%*** health, you move ***20%*** faster and regenerate ***1*** stamina per second but also deal ***30%*** less damage when below this threshold.",edid:"Traits_AdrenalineRushAb",formId:"0xFEA72D78",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Angler",description:"Your bond with the sea grants unique benefits. Mudcrabs and slaughterfish become friendly toward you. Fishing yields more valuable items. Fishing rods deal double damage and have a chance to summon a mudcrab to fight at your side. The summoned mudcrab becomes stronger if you're carrying an insect or small fish. Fishing rods can be enchanted. However, your affinity with the waters leaves you ***10%*** more vulnerable to shock damage.",edid:"Traits_AnglerAb",formId:"0xFEA72071",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Au Naturel",description:"Embrace your divine gifts! Start with ***+100*** health, magicka, and stamina. For each piece of armor or clothing you wear, you lose ***40*** from each attribute (up to a maximum loss of ***-160*** with four pieces equipped). Additionally, you gain +1 to health, magicka, and stamina per level for each empty armor slot (head, chest, hands, and feet).",edid:"Traits_AuNaturelAb",formId:"0xFEA72D7B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:100,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:40,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Bad Natured",description:"You were born into wickedness. Your attacks while being crouched deals ***20%*** more and you're better at pickpocketing. However, attacks while standing up do ***20%*** less and wearing a divine amulet will hurt you.",edid:"Traits_BadNaturedAb",formId:"0xFEA72D85",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:0,condition:"passive effect",duration:0,flags:["No Hit Event","No Duration","No Magnitude","No Area","Hide in UI","Painless"]},{type:"damage_dealt",value:20,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bane of the Wicked",description:"You are an enemy to all things abhorrent. Deal ***20%*** more damage to undead, daedra and werewolves. However, do ***10%*** less damage to other beings.",edid:"Traits_BaneoftheWickedAb",formId:"0xFEA72D97",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blighted Fists",description:"Your afflictions fuel your fury! Your unarmed attacks deal ***+10*** unresistable disease damage per disease.",edid:"LoreTraits_BlightedFistsAb",formId:"0xFEDF281F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Blood Warrior",description:"You take ***50%*** more physical damage and have ***100%*** weakness to Poison. However you start with ***+100*** health and gain ***+5*** health per level.",edid:"LoreTraits_BloodWarriorAb",formId:"0xFEDF200C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:100,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Bulwark",description:"When walking or standing still, you gain ***200*** armor rating and reflect ***10%*** physical damage. You drain ***1*** additional stamina per second while sprinting and ***0.25*** when running.",edid:"Traits_BulwarkAb",formId:"0xFEA72D9F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:.25,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Defiler",description:"The only use you have for the living is to resurrect them in death. Deal ***20%*** more damage to playable races. However, do ***10%*** less damage to other beings.",edid:"Traits_DefilerAb",formId:"0xFEA72D99",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disbeliever",description:"You reject the influence of gods, placing your faith in logic and reason instead. Dwemer weapons and armor are ***33%*** stronger, but you cannot receive blessings from shrines or divines.",edid:"Traits_DisbelieverAb",formId:"0xFEA7284A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Disciplined",description:"Shoot to kill. Bows and crossbows deal ***20%*** more damage. However, they draw/reload ***40%*** slower.",edid:"Traits_DisciplinedAb",formId:"0xFEA72D8F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Dominating Will",description:"Your presence commands fear, intimidation checks almost always succeed, and frenzy spells are ***20%*** stronger. However, your persuasive charm is lacking, making persuasion checks harder, and your pacifying spells are ***20%*** weaker.",edid:"LoreTraits_DominatingWillAb",formId:"0xFEDF281A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Dovah Tinvaak",description:"You are fluent in Dragon speech and as such can shout ***10%*** more often, at ***20%*** reduced effectiveness.",edid:"Traits_DovahTinvaakAb",formId:"0xFEA7204C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:.10000000149011612,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"social",tags:["social"],diagram:""},{name:"Druid",description:"Druids are attuned to nature, making spriggans friendly and reducing the cost of druidic spells by up to ***30%***. You can craft ***Lifebloom Essence*** from Taproot and Spriggan Sap for powerful regeneration. However, your bond with the wild leaves you ***25%*** more vulnerable to fire and axes.",edid:"Traits_DruidAb",formId:"0xFEA7207C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Elemental Conduit",description:`Fire spells are more powerful in sunny weather but lose potency in the rain. 
Shock spells are enhanced during rain but are less effective in snowy conditions. 
Frost spells excel in snowy weather but weaken under sunny skies.`,edid:"Traits_ElementalConduitAb",formId:"0xFEA72058",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Fast Shot",description:"You'd rather shoot fast than shoot hard. Bows draw ***40%*** faster, crossbows reload ***40%*** faster. However, bows and crossbows deal ***30%*** less damage.",edid:"Traits_FastShotAb",formId:"0xFEA72D8D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:.4000000059604645,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Fatal Attraction",description:"Your presence is as dangerous as it is alluring. You can choose one gender, you deal ***20%*** more physical damage to the selected gender, but in turn, take ***20%*** more from the other.",edid:"LoreTraits_FatalAttractionAb",formId:"0xFEDF281D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Focused",description:"When in danger, you think before acting. When at less than ***20%*** health, you regenerate ***5*** magicka per second and absorb ***10%*** of incoming spells. However, you take ***10%*** more damage when below this threshold.",edid:"Traits_FocusedAb",formId:"0xFEA72D93",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Focused Precision",description:"Your reliance on careful aim comes at a cost. Arrows and bolts deal ***15%*** less damage, but have a ***20%*** chance to push targets away. The strength of this pushback scales with your Marksman skill.",edid:"LoreTraits_FocusedPrecisionAb",formId:"0xFEDF2835",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Gambler",description:"You go in all or nothing. Gain ***50%*** chance to critical hit. However, overall weapon damage is reduced by ***40%***. When you land a critical hit, your attacks do ***10%*** more damage for ***30*** seconds (stackable up to ***5*** times).",edid:"Traits_GamblerAb",formId:"0xFEA72DA1",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Giantkin",description:"Descended from the mighty giants; you gain ***10%*** magic resistance and damage with blunt weapons, however you cannot read skill books, or use scrolls and staves.",edid:"Traits_GiantkinAb",formId:"0xFEA7205F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:10,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Glutton",description:"You LOVE food but hate medicine. Food benefits are ***25%*** stronger but potions have only ***50%*** their efficiency.",edid:"Traits_GluttonAb",formId:"0xFEA72D7F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Good Natured",description:"You have a good heart. Deal ***20%*** less damage with weapons and Destruction spells. However, while wearing an amulet of the divines beneficial spells and potions last ***20%*** longer and you take ***20%*** less damage.",edid:"Traits_GoodNaturedAb",formId:"0xFEA72D83",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Hoarder",description:"You love carrying stuff around, even if it's junk. Gain ***+200*** carryweight. Selling prices are ***50%*** worse.",edid:"Traits_HoarderAb",formId:"0xFEA72D87",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"damage_dealt",value:200,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Homeowner",description:"You've secured a place to call your own, choosing one of Skyrim's fine homes to settle in. However, comfort comes at a cost: each week, you must make a mortgage payment based on the home's value.",edid:"Traits_HomeownerAb",formId:"0xFEA720B5",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Introvert",description:"You thrive in solitude but falter in the crowd. When facing three or fewer enemies, you deal ***15%*** more damage, whether with weapons or Destruction magic. Against four or more, your nerves get the better of you, and you deal ***10%*** less.",edid:"Traits_IntrovertAb",formId:"0xFEA720D4",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Jack of All Spells",description:"But master of none. Novice, Apprentice and Adept spells are ***20%*** stronger or longer lasting, expert and master spells are ***20%*** weaker or shorter.",edid:"Traits_JackofAllSpellsAb",formId:"0xFEA72D89",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"King of Worms",description:"You've gained hidden insight into necromantic arts. You can have ***1*** additional summon or undead thrall. However, the duration of summon and resurrecting spells is reduced by ***33%***.",edid:"Traits_KingofWormsAb",formId:"0xFEA72D9B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Light Foot",description:"You've never felt comfortable in footwear. When not wearing boots/shoes, your movement is muffled, you move ***5%*** faster and suffer no fall damage. When wearing boots/shoes you move ***10%*** slower.",edid:"Traits_LightFootAb",formId:"0xFEA72D79",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:10,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Lurker",description:"When not wearing any clothes sneak attacks deal ***2.5*** times more damage and can sneak ***25%*** better. Eating fish when it's raw and wriggling triggers a powerful healing effect that lasts ***10*** minutes. However, armor provides no protection, cooked food offers no benefits, and weapons with a weight above 10 will deal no damage.",edid:"Traits_GollumAb",formId:"0xFEA720DF",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Marathon Runner",description:"You regenerate ***5*** stamina per second while sprinting. However, you will not be able to gain any stamina while running or standing still.",edid:"Traits_MarathonRunnerAb",formId:"0xFEA7205B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:5,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e4,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"special",tags:["special"],diagram:""},{name:"Master of Destiny",description:"You reject the influence of fate and star signs. Standing Stones cannot be used, but you begin the game with ***3*** additional perk points and a permanent ***+5*** boost to all skills.",edid:"Traits_MasterofDestinyAb",formId:"0xFEA7206D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Nosferatu",description:"You're an ugly sight and live in the sewers. ***-50*** speech, no health, magicka or stamina regen outdoors. Eating skeever meat gives you a ***20%*** speed boost and restores ***10*** health, magicka and stamina per second for ***180*** seconds.",edid:"Traits_NosferatuAb",formId:"0xFEA72039",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:50,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1e3,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:50,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Old Fashioned",description:"If it ain't broke, don't fix it. Weapons, armor and magical staves made of iron, wood, steel, fur or hide are ***15%*** stronger. Otherwise, they are ***10%*** weaker.",edid:"Traits_OldFashionedAb",formId:"0xFEA72D8B",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Pacifist",description:"When your arms are lowered you restore ***2*** magicka and stamina per second. However, raising your hands in combat will have the opposite effect. Those born under the sign of the Atronach do not gain any benefits.",edid:"Traits_PacifistAb",formId:"0xFEA72D9D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"special_effect",value:2,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:2,condition:"negative effect",duration:0,flags:["Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Phalanx",description:"You deal ***15%*** more damage with spears, javelins, pikes, and halberds. However, you take ***50%*** more damage when hit from behind. Also gives you a unique pike.",edid:"LoreTraits_PhalanxAb",formId:"0xFEDF2801",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Rage",description:"You posses a natural fight response. When at less than ***20%*** health, you deal ***20%*** more damage and take ***20%*** less damage. However, you move ***30%*** slower when below this threshold.",edid:"Traits_RageAb",formId:"0xFEA72D91",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"combat",tags:["combat"],diagram:""},{name:"Serene Presence",description:"Your calming aura makes you effortlessly persuasive: persuasion checks almost always succeed, and pacifying spells are ***20%*** stronger. However, your intimidation attempts are half as likely to succeed, and your frenzy spells are ***20%*** weaker.",edid:"LoreTraits_SerenePresenceAb",formId:"0xFEDF2816",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Shehai",description:"Your bound weapons do ***15%*** more damage. But you take ***25%*** more damage from the undead.",edid:"LoreTraits_ShehaiAb",formId:"0xFEDF2029",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Silent Dovah",description:"You choose not to speak the Thu'um, instead hoarding the souls of slain dragons to fuel your own power. For each unspent dragon soul, you gain ***+10*** Health, Magicka, and Stamina. However, this draconic strength rejects the curse of beast or blood: werewolves and vampires cannot harness its power.",edid:"LoreTraits_SilentDovahAb",formId:"0xFEDF280C",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Skilled",description:"Reading skill books grants an extra skill point and trainers cost ***50%*** less, however every ***5*** levels you don't gain a perk point.",edid:"Traits_SkilledAb",formId:"0xFEA7203F",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Embed",description:"At will, you can consume a dragon soul to amplify the magnitude of your shouts by ***50%*** for ***1*** hour.",edid:"LoreTraits_SoulEmbedAb",formId:"0xFEDF2004",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Soul Reaver",description:"You've claimed countless souls for your gain. Weapon and armor enchantments are ***10%*** stronger and use ***10%*** less charge. Armor rating and weapon damage is reduced by ***10%***.",edid:"Traits_SoulReaverAb",formId:"0xFEA72D95",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Sunkissed",description:"You draw strength from the sun's radiant blaze: sun spells are ***15%*** more powerful in your hands. But such warmth comes at a cost: you take ***25%*** more frost damage, and this weakness deepens to ***50%*** beneath the cold veil of night.",edid:"LoreTraits_SunkissedAb",formId:"0xFEDF2014",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]}],category:"magic",tags:["magic"],diagram:""},{name:"Swimmer",description:"You prefer life on the water. In water, you swim ***30%*** faster, can breath underwater and regenerate health, stamina and magicka by a flat ***1*** per second. On land, you suffer ***25%*** less health, stamina and magicka regeneration.",edid:"Traits_SwimmerAb",formId:"0xFEA72D81",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"special_effect",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:1,duration:0,flags:["No Duration","No Area","Hide in UI"]},{type:"special_effect",value:0,condition:"recovery effect, duration scales with power",duration:0,flags:["Recover","No Magnitude","No Area","Hide in UI","Power Affects Duration","No Hit Effect"]},{type:"special_effect",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:25,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Touch of the Arcane",description:"Your touch and cloak spells are ***20%*** stronger. All other spell types are ***10%*** weaker or last ***10%*** less.",edid:"LoreTraits_TouchoftheArcaneAb",formId:"0xFEDF2808",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unbound Hands",description:"Handwear constricts you. Spells are ***15%*** stronger and unarmed attacks do ***+30*** more damage when not wearing gloves/gauntlets. However, they suffer the opposite effect when wearing gloves/gauntlets.",edid:"Traits_UnboundHandsAb",formId:"0xFEA72D7D",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]},{type:"damage_dealt",value:30,condition:"recovery effect",duration:0,flags:["Recover","No Duration","No Area","Hide in UI"]},{type:"damage_dealt",value:30,condition:"negative effect, recovery effect",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI"]}],category:"magic",tags:["magic"],diagram:""},{name:"Unshakable",description:"You turn defense into offense. Your shield bashes deal ***20%*** more damage and cost ***20%*** less Stamina. However, your unwavering focus on your shield makes you slower while blocking.",edid:"LoreTraits_UnshakableAb",formId:"0xFEDF2833",spell:{cost:1109,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,condition:"recovery effect, scales with power",duration:0,flags:["Recover","No Duration","No Magnitude","No Area","Power Affects Magnitude"]},{type:"special_effect",value:50,condition:"while blocking, negative effect, recovery effect, scales with power",duration:0,flags:["Recover","Detrimental","No Duration","No Area","Hide in UI","Power Affects Magnitude"]}],category:"combat",tags:["combat"],diagram:""},{name:"Wandering Monk",description:"Power attacks with quarterstaves will force the enemy to drop their weapon to the ground, however this only applies if you're not wearing any armor (light or heavy). You also recieve a unique battlestaff.",edid:"LoreTraits_WanderingMonkAb",formId:"0xFEDF201A",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"combat",tags:["combat"],diagram:""},{name:"Way of the Voice",description:"You follow the pacifist creed of the Greybeards, and as such your hostile shouts are ***30%*** less effective, but using non-hostile shouts has a ***20%*** chance reset the shout cooldown.",edid:"Traits_WayoftheVoiceAb",formId:"0xFEA72050",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"special",tags:["special"],diagram:""},{name:"Witcher",description:"Potions and poisons you craft are ***20%*** more effective, and consuming raw ingredients grants double the effect. However, you can only benefit from up to ***four*** active potion effects at a time.",edid:"Traits_WitcherAb",formId:"0xFEA72032",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"crafting",tags:["crafting"],diagram:""},{name:"Wizard's Wardrobe",description:"Your wands are ***30%*** more effective when wearing a wizard hat. When not wearing a wizard hat, all spells are ***10%*** less powerful or last ***10%*** less.",edid:"LoreTraits_WizardsWardrobeAb",formId:"0xFEDF2806",spell:{cost:0,type:"Ability",castType:"ConstantEffect",delivery:"Self"},effects:[{type:"special_effect",value:0,duration:0,flags:["No Duration","No Magnitude","No Area"]}],category:"magic",tags:["magic"],diagram:""}],HJ={traits:IJ};function UJ(){const[e,t]=p.useState({search:"",category:"",tags:[]}),n=p.useMemo(()=>{const i=HJ.traits;if(!i||!Array.isArray(i))return console.error("Invalid trait data structure detected"),[];const l=i.map(u=>({...u,name:u.name||"Unknown Trait",description:u.description||"",category:u.category||"misc",tags:u.tags||[],effects:u.effects||[]}));return console.log(`Successfully loaded ${l.length} traits`),l},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const l=e.search.toLowerCase();if(![i.name,i.description,i.category,...i.tags,...i.effects.map(f=>f.type)].join(" ").toLowerCase().includes(l))return!1}return!(e.category&&i.category!==e.category||e.tags.length>0&&!e.tags.some(u=>i.tags.includes(u)||i.category===u||i.effects.some(f=>f.type===u)))}),[n,e]),a=p.useMemo(()=>eM(n),[n]),o=p.useMemo(()=>BJ(n),[n]),s=p.useMemo(()=>tM(n),[n]);return{traits:r,allTraits:n,loading:!1,error:null,filters:e,setFilters:t,allCategories:a,allEffectTypes:o,allTags:s}}function xS(){const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null),[s,i]=p.useState([]),[l,u]=p.useState("alphabetical"),[f,d]=p.useState("grid"),[h,m]=p.useState(new Set);p.useEffect(()=>{async function _(){try{r(!0);const A=await fetch("/lorerim-arcaneum/data/traits.json");if(!A.ok)throw new Error("Failed to fetch trait data");const R=await A.json();t(R.traits)}catch(A){o("Failed to load trait data"),console.error("Error loading traits:",A)}finally{r(!1)}}_()},[]),e.map(_w);const b=(()=>{const _=eM(e),A=tM(e);return[{id:"fuzzy-search",name:"Fuzzy Search",placeholder:"Search by name, description, or abilities...",options:[]},{id:"categories",name:"Categories",placeholder:"Search by category...",options:_.map(R=>({id:`category-${R}`,label:R,value:R,category:"Categories",description:`Traits in ${R} category`}))},{id:"tags",name:"Tags",placeholder:"Search by tag...",options:A.map(R=>({id:`tag-${R}`,label:R,value:R,category:"Tags",description:`Traits tagged with ${R}`}))}]})(),S=_=>{let A;typeof _=="string"?A={id:`custom-${_}`,label:_,value:_,category:"Fuzzy Search"}:A={id:`${_.category}-${_.id}`,label:_.label,value:_.value,category:_.category},s.some(R=>R.value===A.value&&R.category===A.category)||i(R=>[...R,A])},v=_=>{i(A=>A.filter(R=>R.id!==_))},g=e.filter(_=>s.length===0?!0:s.every(A=>{switch(A.category){case"Fuzzy Search":return!0;case"Categories":return _.category===A.value;case"Tags":return _.tags.some(R=>R===A.value);default:return!0}})),y=s.filter(_=>_.category==="Fuzzy Search").map(_=>_.value).join(" "),{filteredTraits:w}=$J(g,y),k=w.map(_w),C=e.map(_=>_.edid),N=[...k].sort((_,A)=>{var R,B;switch(l){case"alphabetical":return _.name.localeCompare(A.name);case"category":const O=z=>{switch(z){case"Combat":return 1;case"Magic":return 2;case"Stealth":return 3;case"Social":return 4;case"Survival":return 5;default:return 6}},T=O(_.category),D=O(A.category);return T!==D?T-D:_.name.localeCompare(A.name);case"effect-count":const j=((R=_.effects)==null?void 0:R.length)||0,L=((B=A.effects)==null?void 0:B.length)||0;return j!==L?L-j:_.name.localeCompare(A.name);default:return 0}}),E=_=>{const A=new Set(h);if(f==="grid"){const B=N.findIndex(L=>L.id===_),T=Math.floor(B/3)*3,D=Math.min(T+3,N.length);N.slice(T,D).some(L=>A.has(L.id))?N.slice(T,D).forEach(L=>{A.delete(L.id)}):N.slice(T,D).forEach(L=>{A.add(L.id)})}else A.has(_)?A.delete(_):A.add(_);m(A)};return n?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading traits..."})]})}):a?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-destructive mb-4",children:a}),c.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90",children:"Retry"})]})}):c.jsxs(Ai,{title:"Traits",description:"Choose your character's traits. Traits provide unique abilities and modifiers that will shape your character's capabilities throughout their journey.",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Qf,{categories:b,onSelect:S,onCustomSearch:S})}),c.jsxs(Vy,{children:[c.jsx(Zy,{asChild:!0,children:c.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[c.jsx(tr,{className:"h-4 w-4"}),l==="alphabetical"?"A-Z":l==="category"?"Category":"Count"]})}),c.jsxs(Xf,{align:"end",children:[c.jsx(ia,{onClick:()=>u("alphabetical"),children:"Alphabetical"}),c.jsx(ia,{onClick:()=>u("category"),children:"Category"}),c.jsx(ia,{onClick:()=>u("effect-count"),children:"Effect Count"})]})]}),c.jsxs("div",{className:"flex items-center gap-1 p-1 bg-muted rounded-lg",children:[c.jsx(ie,{variant:f==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-8 px-3",title:"List view",children:c.jsx(Ec,{className:"h-4 w-4"})}),c.jsx(ie,{variant:f==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-8 px-3",title:"Grid view",children:c.jsx(kc,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"my-4",children:s.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[c.jsxs("button",{onClick:()=>i([]),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded text-sm font-medium text-muted-foreground hover:text-foreground hover:bg-muted/50 transition-colors duration-200 border border-border/50 hover:border-border cursor-pointer group",title:"Clear all filters",children:[c.jsx(In,{className:"h-3.5 w-3.5 group-hover:scale-110 transition-transform duration-200"}),"Clear All"]}),s.map(_=>c.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-skyrim-gold/20 border border-skyrim-gold/30 text-sm font-medium text-skyrim-gold hover:bg-skyrim-gold/30 transition-colors duration-200 cursor-pointer group",onClick:()=>v(_.id),title:"Click to remove",children:[_.label,c.jsx("span",{className:"ml-2 text-skyrim-gold/70 group-hover:text-skyrim-gold transition-colors duration-200",children:""})]},_.id))]})}),f==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 w-full mt-6",children:N.map(_=>{const A=h.has(_.id);return c.jsx(vS,{item:_,isExpanded:A,onToggle:()=>E(_.id),className:"w-full",allTraitIds:C},_.id)})}):c.jsx("div",{className:"flex flex-col gap-4 w-full mt-6",children:N.map(_=>{const A=h.has(_.id);return c.jsx(vS,{item:_,isExpanded:A,onToggle:()=>E(_.id),className:"w-full",allTraitIds:C},_.id)})}),N.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-muted-foreground",children:"No traits found matching your criteria."}),c.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your search or filters."})]})]})}function FJ({predictivePaths:e,selectedTags:t,onTagSelect:n,onTagRemove:r,className:a=""}){const o=p.useMemo(()=>{const s=new Map;e.forEach(h=>{h.path.forEach((m,x)=>{const b=x,S=s.get(m.name);(!S||b<S.level)&&s.set(m.name,{name:m.name,level:b})})});const i=new Set;e.forEach(h=>{h.isComplete&&i.add(h.endNode.name)});const l=Array.from(s.entries()).map(([h,{level:m}])=>({name:h,level:m})).sort((h,m)=>h.level!==m.level?h.level-m.level:h.name.localeCompare(m.name)),u=e.filter(h=>t.length===0?!0:t.every(m=>{const[x,b]=m.value.split(":");return x==="contains"?h.path.some(S=>S.name.toLowerCase().includes(b.toLowerCase())):x==="ends"?h.isComplete&&h.endNode.name.toLowerCase().includes(b.toLowerCase()):!0})),f=new Set;u.forEach(h=>{h.isComplete&&f.add(h.endNode.name)});const d=new Set;return u.forEach(h=>{h.path.forEach((m,x)=>{d.has(m.name)||d.add(m.name)})}),[{id:"contains-nodes",name:"Contains Node",placeholder:"Search for paths containing a specific node...",options:l.filter(({name:h})=>d.has(h)).map(({name:h,level:m})=>({id:`contains-${h}`,label:`${h} (Level ${m})`,value:`contains:${h}`,category:"Contains Node",description:`Paths that include ${h}`}))},{id:"ends-with-nodes",name:"Ends With Node",placeholder:"Search for paths ending at a specific node...",options:Array.from(f).sort().map(h=>({id:`ends-${h}`,label:h,value:`ends:${h}`,category:"Ends With Node",description:`Paths that end at ${h}`}))}]},[e,t]);return c.jsxs("div",{className:`space-y-4 ${a}`,children:[c.jsx(Ky,{categories:o,onSelect:n,className:"w-full"}),c.jsx(Qy,{tags:t,onRemove:r,className:"justify-start"})]})}function GJ({destinyNodes:e,buildDestinyPath:t,setDestinyPath:n,loading:r,error:a,navigate:o,predictivePaths:s,onBuildPathSelect:i,isNodePlanned:l,onBreadcrumbClick:u,selectedTags:f,onTagSelect:d,onTagRemove:h}){const m=t.map(v=>e.find(g=>g.id===v)).filter(v=>!!v),x=m.length>0?m[m.length-1]:void 0,b=x?e.every(v=>!v.prerequisites.includes(x.name)):!1,S=P.useMemo(()=>s.filter(v=>f.length===0?!0:f.every(g=>{const[y,w]=g.value.split(":");return y==="contains"?v.path.some(k=>k.name.toLowerCase().includes(w.toLowerCase())):y==="ends"?v.isComplete&&v.endNode.name.toLowerCase().includes(w.toLowerCase()):!0})),[s,f]);return c.jsxs(dt,{className:"mb-6",children:[c.jsx(Et,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx(_t,{className:"text-lg",children:"Destiny"}),c.jsx(ie,{variant:"outline",size:"sm",onClick:()=>o("/destiny"),className:"text-sm whitespace-nowrap cursor-pointer",children:"View All"})]})}),c.jsx(ft,{className:"space-y-4",children:r?c.jsx("div",{className:"text-muted-foreground",children:"Loading destiny data..."}):a?c.jsx("div",{className:"text-destructive",children:a}):c.jsx(c.Fragment,{children:m.length===0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-muted-foreground font-medium mb-2",children:"Select a node to start building your destiny:"}),c.jsx(qd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:c.jsx(xg,{possiblePaths:S,selectedPath:[],isPlanned:l,onBreadcrumbClick:i})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("button",{type:"button",className:"p-1 rounded hover:bg-muted transition-colors cursor-pointer",title:"Reset Destiny Path",onClick:()=>n([]),children:c.jsx(kE,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(GA,{path:m,BreadcrumbHover:(v,g)=>c.jsx(dv,{node:v,isPlanned:!1,children:g}),onNodeClick:u})]}),c.jsx(VA,{path:m}),!b&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"my-4 h-px bg-gray-300 dark:bg-gray-600"}),c.jsx(FJ,{predictivePaths:s,selectedTags:f,onTagSelect:d,onTagRemove:h}),c.jsx(qd,{className:"min-h-[120px] max-h-96 overflow-y-auto pr-2",children:c.jsx(xg,{possiblePaths:S,selectedPath:[],isPlanned:l,onBreadcrumbClick:i})})]})]})})})]})}function VJ(e){const{build:t,setDestinyPath:n}=Cn(),r=t.destinyPath.length===0?[]:t.destinyPath.map(u=>e.find(f=>f.id===u)).filter(u=>!!u),{predictivePaths:a,isNodePlanned:o}=OA({nodes:e,plannedNodes:[],onNodePlan:()=>{},onNodeUnplan:()=>{},initialPath:r});let s=a;if(r.length>0){const u=r[r.length-1];s=a.filter(f=>f.path.length>0&&f.path[0].id===u.id)}return{build:t,selectedDestinyPath:r,filteredPredictivePaths:s,isNodePlanned:o,handleBuildPathSelect:(u,f)=>{const d=u.slice(0,f+1).map(h=>h.id);n(d)},handleBreadcrumbClick:u=>{const f=r.slice(0,u+1).map(d=>d.id);n(f)},setDestinyPath:n}}const ZJ=({navigate:e})=>{const[t,n]=p.useState([]),[r,a]=p.useState(!0),[o,s]=p.useState(null);p.useEffect(()=>{async function k(){try{a(!0);const C=await fetch("/lorerim-arcaneum/data/subclasses.json");if(!C.ok)throw new Error("Failed to fetch destiny data");const N=await C.json();n(N.map((E,_)=>({id:E.globalFormId||`destiny-${_}`,name:E.name,description:E.description,tags:[],prerequisites:E.prerequisites||[],nextBranches:[],levelRequirement:void 0,lore:void 0,globalFormId:E.globalFormId})))}catch{s("Failed to load destiny data")}finally{a(!1)}}k()},[]);const{selectedDestinyPath:i,isNodePlanned:l,handleBuildPathSelect:u,handleBreadcrumbClick:f,build:d,setDestinyPath:h}=VJ(t),m=t.find(k=>k.prerequisites.length===0),x=ZA(t,m);let b=x;i.length>0&&(b=x.filter(k=>i.every((C,N)=>k[N]&&k[N].id===C.id)));function S(k){return t.every(C=>!C.prerequisites.includes(k.name))}const v=b.map(k=>({path:k,isComplete:k.length>0&&S(k[k.length-1]),endNode:k[k.length-1]})),{handleTagSelect:g,handleTagRemove:y,filters:{selectedTags:w}}=fv({onFiltersChange:()=>{},onSearch:()=>{}});return c.jsx(GJ,{selectedPath:i,destinyNodes:t,buildDestinyPath:d.destinyPath,setDestinyPath:h,loading:r,error:o,navigate:e,predictivePaths:v,onBuildPathSelect:u,isNodePlanned:l,onBreadcrumbClick:f,selectedTags:w,onTagSelect:g,onTagRemove:y})};function bS({races:e,onSelect:t,placeholder:n="Search races...",className:r=""}){const[a,o]=p.useState(!1),[s,i]=p.useState(""),[l,u]=p.useState(-1),f=p.useRef(null),d=p.useRef(null);p.useEffect(()=>{const g=y=>{f.current&&!f.current.contains(y.target)&&(o(!1),u(-1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=e.filter(g=>{var y;return g.name.toLowerCase().includes(s.toLowerCase())||g.description.toLowerCase().includes(s.toLowerCase())||((y=g.category)==null?void 0:y.toLowerCase().includes(s.toLowerCase()))}),m=g=>{i(g),o(!0),u(-1)},x=g=>{t(g),i(""),o(!1),u(-1)},b=g=>{g.key==="ArrowDown"?(g.preventDefault(),u(y=>Math.min(y+1,h.length-1))):g.key==="ArrowUp"?(g.preventDefault(),u(y=>Math.max(y-1,-1))):g.key==="Enter"?(g.preventDefault(),l>=0&&h[l]&&x(h[l])):g.key==="Escape"&&(o(!1),u(-1))},S=()=>{o(!0)},v=()=>{var g;i(""),(g=d.current)==null||g.focus()};return c.jsxs("div",{ref:f,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(wa,{ref:d,type:"text",placeholder:n,value:s,onChange:g=>m(g.target.value),onFocus:S,onKeyDown:b,className:"pl-10 pr-20"}),s&&c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:v,children:c.jsx(In,{className:"h-4 w-4"})}),c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>o(!a),children:c.jsx(tr,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})})]}),a&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Ht.AUTOCOMPLETE+10},children:c.jsx("div",{className:"p-2",children:h.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No races found"}):h.map((g,y)=>c.jsx("button",{onClick:()=>x(g),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${y===l?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(RR,{raceName:g.name,size:"sm"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:g.name}),c.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[g.category&&c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:g.category}),g.startingStats&&c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500/80"}),c.jsx("span",{className:"text-muted-foreground",children:"HP"}),c.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.health})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500/80"}),c.jsx("span",{className:"text-muted-foreground",children:"MP"}),c.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.magicka})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500/80"}),c.jsx("span",{className:"text-muted-foreground",children:"SP"}),c.jsx("span",{className:"font-medium text-foreground",children:g.startingStats.stamina})]})]})]})]})]})},g.edid))})})]})}const nM={REQ_StrongStomach:"Strong Stomach",IsBeastRace:"Beast Race",REQ_DropsBloodKeyword:"Bleeds",REQ_RacialSkills_SneakUnperked:"Natural Sneak",REQ_RacialSkills_CreatePotionsUnperked:"Natural Alchemy",REQ_RacialSkills_LockpickUnperked:"Natural Lockpicking",REQ_RacialSkills_RechargeWeaponsUnperked:"Natural Enchanting",ActorTypeNPC:"NPC",REQ_RaceHuman:"Human Race"};function YJ(e,t){const n=t.toLowerCase(),r=e.toLowerCase();return r.includes("resist")||r.includes("resistance")||n.includes("resist")||n.includes("resistance")||n.includes("immune")||n.includes("protection")||n.includes("less likely to")||n.includes("less damage")||n.includes("less effect")||n.includes("reduced effect")||n.includes("reduced damage")||n.includes("reduced chance")?"positive":n.includes("penalty")||n.includes("reduced")||n.includes("less")||r.includes("no ")||r.includes("penalty")||r.includes("weakness")?"negative":n.includes("increased")||n.includes("more")||n.includes("faster")||n.includes("bonus")||n.includes("+")?"positive":"neutral"}function qJ(e){const t=e.match(/<(\d+(?:\.\d+)?)>/);return t?parseFloat(t[1]):void 0}function XJ(e){const t=["health","magicka","stamina","damage","speed","effect"],n=e.toLowerCase();for(const r of t)if(n.includes(r))return r}function WJ(e){const t=[];return t.push(e.category),e.keywords.forEach(n=>{const r=nM[n.edid];r&&t.push(r)}),e.racialSpells.forEach(n=>{t.push(n.name)}),e.skillBonuses.forEach(n=>{t.push(n.skill)}),[...new Set(t)]}function KJ(e){const t=e.racialSpells.map(r=>({name:r.name,type:YJ(r.name,r.description),description:r.description,value:qJ(r.description),target:XJ(r.description)})),n=WJ(e);return{id:e.edid.toLowerCase().replace("race",""),name:e.name,description:e.description,category:e.category,tags:n,effects:t,startingStats:e.startingStats,skillBonuses:e.skillBonuses,keywords:n,regeneration:e.regeneration,combat:e.combat}}function t0(e){return nM[e]||e}function QJ(e){const t=new Set;return e.forEach(n=>{n.keywords.forEach(r=>{const a=t0(r.edid);t.add(a)})}),Array.from(t).sort()}function JJ(e){const t=new Set;return e.forEach(n=>{n.skillBonuses.forEach(r=>{t.add(r.skill)})}),Array.from(t).sort()}function eee(e){const t=new Set;return e.forEach(n=>{n.racialSpells.forEach(r=>{t.add(r.name)})}),Array.from(t).sort()}function tee(e){return!e||typeof e!="object"?!1:e.races&&Array.isArray(e.races)?e.races.every(t=>wS(t)):wS(e)}function wS(e){return!e||typeof e!="object"?!1:["name","edid","category","description","startingStats","skillBonuses","racialSpells","keywords"].every(n=>{if(!(n in e))return!1;switch(n){case"name":case"edid":case"category":case"description":return typeof e[n]=="string";case"startingStats":return nee(e[n]);case"skillBonuses":return Array.isArray(e[n])&&e[n].every(ree);case"racialSpells":return Array.isArray(e[n])&&e[n].every(aee);case"keywords":return Array.isArray(e[n])&&e[n].every(oee);default:return!0}})}function nee(e){return!e||typeof e!="object"?!1:["health","magicka","stamina","carryWeight"].every(n=>typeof e[n]=="number"&&e[n]>=0)}function ree(e){return e&&typeof e.skill=="string"&&typeof e.bonus=="number"}function aee(e){return e&&typeof e.edid=="string"&&typeof e.name=="string"&&typeof e.description=="string"&&typeof e.globalFormId=="string"}function oee(e){return e&&typeof e.edid=="string"&&typeof e.globalFormId=="string"}function see(e){var t,n,r,a;return{name:e.name||"Unknown Race",edid:e.edid||"UnknownRace",category:e.category||"Unknown",source:e.source||"Unknown",description:e.description||"No description available.",startingStats:{health:((t=e.startingStats)==null?void 0:t.health)||100,magicka:((n=e.startingStats)==null?void 0:n.magicka)||100,stamina:((r=e.startingStats)==null?void 0:r.stamina)||100,carryWeight:((a=e.startingStats)==null?void 0:a.carryWeight)||200},physicalAttributes:e.physicalAttributes||{heightMale:1,heightFemale:1,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:Array.isArray(e.skillBonuses)?e.skillBonuses:[],racialSpells:Array.isArray(e.racialSpells)?e.racialSpells:[],keywords:Array.isArray(e.keywords)?e.keywords:[],flags:Array.isArray(e.flags)?e.flags:[],regeneration:e.regeneration||{health:.1,magicka:1,stamina:1},combat:e.combat||{unarmedDamage:10,unarmedReach:70}}}function iee(e){const t=[];let n=0;return e.forEach((r,a)=>{try{const o=KJ(r);n++,(!o.id||!o.name||!o.category)&&t.push(`Race ${a}: Missing required transformed fields`),o.effects.length===0&&r.racialSpells.length>0&&t.push(`Race ${a}: No effects transformed from ${r.racialSpells.length} spells`)}catch(o){t.push(`Race ${a}: Transformation failed - ${o}`)}}),{success:t.length===0,errors:t,transformedCount:n}}const lee=[{name:"Altmer",edid:"HighElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:'The Altmer of Summerset Isle are called "High" Elves in the Empire, describing both their physical appearance and their snobbish personality. The arcane ability of High Elves surpasses all other races in Tamriel. Their Highborn ability grants them increased magicka and spell power. They are weak in physical combat, however, and their magic affinity makes them more susceptible to elemental damage.',startingStats:{health:100,magicka:160,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.159999966621399,heightFemale:1.1200000047683716,weightMale:.5,weightFemale:.5,size:"Medium"},skillBonuses:[{skill:"Alteration",bonus:15},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:10},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Altmer_WeaknessElements",name:"Weakness to Elements",description:"High elves are more vulnerable to elements compared to other races. Fire, frost, and shock deal <10>% more damage to you.",globalFormId:"0x000E40C8"},{edid:"REQ_Ability_Race_Altmer_Highborn",name:"Highborn",description:"High elf blood grants great affinity to magicka as well as resistance to diseases. Magicka regenerates <50>% faster, spells are <5>% more powerful and last longer, you are <50>% less likely to contract diseases.",globalFormId:"0x00105F16"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.2000000476837158,multipliers:[{value:1.5,source:"Highborn"}]},stamina:{base:1.5499999523162842}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Argonian",edid:"ArgonianRace",category:"Beast",source:"Synthesis - NPC.esp",description:"Argonians are the reptilian denizens of Black Marsh. Years of defending their borders have made them experts in stealth and evasion, and their natural abilities make them equally at home in water and on land. They are resistant to diseases and poisons and enjoy raw meat. Their Histskin allows them to quickly heal their wounds.",startingStats:{health:140,magicka:120,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.059999942779541,heightFemale:1.0449999570846558,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:15},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Argonian_Waterbreathing",name:"Waterbreathing",description:"Your Argonian lungs can breathe underwater, while you also find it much easier to swim than members of other races. You can breathe underwater, swimming is <20>% faster, swimming is <75>% less exhausting.",globalFormId:"0x000AA01B"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Argonian_Histskin",name:"Histskin",description:"Argonians can nautrally regenerate health faster than others, and their metabolism increases the effect of alchemical substances. Regenerate <1> health per second, potions are <10>% more effective and last longer.",globalFormId:"0x000E40D5"},{edid:"REQ_Ability_Race_Argonian_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Argonian blood greatly reduces the effect of poison and disease. Poison deals <75>% less damage to you, you are <75>% less likely to contract diseases.",globalFormId:"0x00104ACF"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0,adjustments:[{value:1,source:"Histskin"}]},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Bosmer",edid:"WoodElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Bosmer, or Wood Elves, originate from the sacred forest of Valenwood. Their culture is highly carnivorous and even cannibalistic, derived from the Green Pact with the forest, in which they harm no plant. Their dexterity makes them excellent scouts and thieves, and there are no finer archers in all of Tamriel. They have a natural resistance to poison, disease and shock.",startingStats:{health:100,magicka:120,stamina:140,carryWeight:200},physicalAttributes:{heightMale:.9200000166893005,heightFemale:.9399999976158142,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Marksman",bonus:15},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Sneak",bonus:10},{skill:"Alchemy",bonus:10},{skill:"Alteration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Bosmer_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Bosmer blood grants you resistance to poison and diseases. Poison deals <25>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA025"},{edid:"REQ_Power_Race_Bosmer_ShockResist",name:"Grounded",description:"In harmony with nature and the earth, the Bosmer have honed their bodies to be conduits of elemental potential. +25% shock resist",globalFormId:"0x000E40CF"},{edid:"REQ_Ability_Race_Bosmer_EyeOfTheHunt",name:"Eye of the Hunt",description:"The Bosmer are naturally skilled in marksmanship, and can aim their bows more precisely. Armor penetration with ranged weapons is increased by <5>.",globalFormId:"0xFE686801"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.649999976158142}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Breton",edid:"BretonRace",category:"Human",source:"Synthesis - NPC.esp",description:"Bretons, the inhabitants of the province of High Rock, are the human descendants of the Elves and the ancient race of the Nedes. While Bretons are physically weak, they can tap on magicka more than any other human race and they are particularly capable in the school of Conjuration. Their magic resistance blocks one fifth of incoming spell damage and their Dragonskin ability can fully absorb harmful magic by chance.",startingStats:{health:120,magicka:140,stamina:100,carryWeight:200},physicalAttributes:{heightMale:.9850000143051147,heightFemale:.949999988079071,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"Alchemy",bonus:10},{skill:"Speechcraft",bonus:10},{skill:"Conjuration",bonus:15},{skill:"Illusion",bonus:10},{skill:"Restoration",bonus:10},{skill:"Enchanting",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Breton_MagicResistance",name:"Magic Resistance",description:"Your Breton blood reduces damage taken from all magical sources. Magic deals <15>% less damage to you.",globalFormId:"0x000AA01F"},{edid:"REQ_Ability_Race_Breton_Dragonskin",name:"Dragonskin",description:"Bretons can naturally absorb harmful magic by chance. Increases chance to absorb the magicka from hostile spells by <10>%.",globalFormId:"0x000AA022"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.149999976158142},stamina:{base:1.600000023841858}},combat:{unarmedDamage:12,unarmedReach:73}},{name:"Dunmer",edid:"DarkElfRace",category:"Elven",source:"Synthesis - NPC.esp",description:"The Dunmer, or Dark Elves, are the ash-skinned, red-eyed, Elven people of Vvardenfell. They combine powerful intellects with strong and agile physiques, producing excellent warriors and evokers. They are extremely resistant to fire, blocking half of incoming fire damage. They're particularly skilled in Destruction and Conjuration magic, and can imbue more power into associated spells.",startingStats:{health:100,magicka:140,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0299999713897705,heightFemale:1.0149999856948853,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Sneak",bonus:10},{skill:"Conjuration",bonus:10},{skill:"Destruction",bonus:15},{skill:"Illusion",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Dunmer_ResistFire",name:"Resist Fire",description:"Tempered in the flames of the Red Mountain and the heat of the Ashlands, your Dunmer blood greatly reduces all fire damage dealt to you. Fire deals <50>% less damage to you.",globalFormId:"0x000AA021"},{edid:"REQ_Ability_Race_Dunmer_Ashlander",name:"Ashlander",description:"Dunmer are naturally talented evokers and conjurers. Destruction and Conjuration spells are <10>% more powerful and last longer.",globalFormId:"0x000E40D4"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858},stamina:{base:1.600000023841858}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Imperial",edid:"ImperialRace",category:"Human",source:"Synthesis - NPC.esp",description:"The cosmopolitan citizens of Cyrodiil are descended from the founders of the glorious Empire that has influenced Tamriel's history throughout the eras. Imperials are talented leaders and traders among society, skilled in both magic and combat thanks to martial and academic education of the schools of Cyrodiil. Their leadership can encourage their followers to fight well in combat.",startingStats:{health:120,magicka:120,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0149999856948853,heightFemale:.9850000143051147,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Speechcraft",bonus:15},{skill:"Destruction",bonus:10},{skill:"Restoration",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Imperial_VoiceOfTheEmperor",name:"Voice of the Emperor",description:"Imperials are talented leaders and traders among society. Speech skill is <15> higher, prices are <15>% more favorable, magicka and stamina of nearby allies increase by <25>.",globalFormId:"0x000E40CA"},{edid:"REQ_Ability_Race_Imperial_ImperialDiversity",name:"Imperial Diversity",description:"Imperial education involves various martial and academical trainings, producing citizens with variety of skills. Health, magicka, and stamina regenerate <25>% faster.",globalFormId:"0x000EB7EB"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.100000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]},stamina:{base:1.600000023841858,multipliers:[{value:1.25,source:"Imperial Diversity"}]}},combat:{unarmedDamage:13,unarmedReach:73}},{name:"Khajiit",edid:"KhajiitRace",category:"Beast",source:"Synthesis - NPC.esp",description:"The Khajiit are a race of feline humanoids hailing from the province of Elsweyr, well-known as great merchants but also as smugglers and thieves. They are very fast and outrun all other races which, combined with a high stamina reserve, makes them fearsome skirmishers. However, they are seldom gifted with the skill to harness magical forces. All Khajiit can see in the dark at will, eat raw meat, resist the harmful effects of Skooma and their sharp claws are as lethal as knives.",startingStats:{health:100,magicka:100,stamina:160,carryWeight:200},physicalAttributes:{heightMale:.9800000190734863,heightFemale:.9449999928474426,weightMale:.5,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Light Armor",bonus:10},{skill:"Pickpocket",bonus:10},{skill:"Lockpicking",bonus:10},{skill:"Sneak",bonus:15},{skill:"Alchemy",bonus:10}],racialSpells:[{edid:"REQ_Power_Race_Khajiit_NightEye",name:"Night Eye",description:"Your eyes are exceptionally versatile and can become extremely sensitive to light, allowing a much better sight in dark areas.",globalFormId:"0x000AA01D"},{edid:"REQ_Trait_PlayableRace_Khajiit",name:"Claws",description:"Bestial claws are extremely sharp - sharp enough to easily shred through flesh, making them much more lethal than normal hands. Unarmed damage is increased by <20>.",globalFormId:"0x000AA01E"},{edid:"REQ_Ability_Race_Khajiit_FelineAgility",name:"Feline Agility",description:"Khajiits are very agile and can fall long heights without taking critical damage. Movement is <10>% faster, sneaking is <20>% faster, fall damage is reduced by <75>%.",globalFormId:"0x8C1AD1B0"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"},{edid:"REQ_Ability_Race_Khajiit_Fingersmith",name:"Fingersmith",description:"Khajiits have keen senses and dexterity, making them much more proficient in thievery. Lockpicking expertise is increased by <2>, lockpicks are <20>% more durable, pickpocketing is <20>% more likely to succeed, you are <20>% harder to detect.",globalFormId:"0xFE686816"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1.0499999523162842},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:32,unarmedReach:73}},{name:"Nord",edid:"NordRace",category:"Human",source:"Synthesis - NPC.esp",description:"Skyrim's Nords are tall and fair, with a culture which values honor, glory, and loyalty to family and community. Nords have come to distrust magic, but excel in physical warfare. They are greatly resistant to frost. Nords also have innate ability to use Shouts, and can unleash immense power through the words of power when mastered.",startingStats:{health:140,magicka:100,stamina:120,carryWeight:200},physicalAttributes:{heightMale:1.0800000429153442,heightFemale:1.059999942779541,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:15},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Nord_ResistFrostShock",name:"Resist Frost and Shock",description:"Your Nord blood halves all taken frost damage. Frost deals <50>% less damage.",globalFormId:"0x000AA020"},{edid:"REQ_Ability_Race_Nord_AncientTongues",name:"Ancient Tongues",description:"Nords have inherent ability to Shout, and can unleash immense power through the Voice. Shouts are <10>% more powerful and last longer, Shouts can be used <10>% more often.",globalFormId:"0xFE686809"},{edid:"REQ_Ability_Race_Nord_BarbaricStrength",name:"Barbaric Strength",description:"Nords are fierce and strong, skilled with all melee weapons. Melee weapons deal <5>% more damage.",globalFormId:"0xFE68680B"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Orsimer",edid:"OrcRace",category:"Elven",source:"Synthesis - NPC.esp",description:`The Orsimer or "Pariah Folk", commonly called Orcs, come from Orsinium in the west. Their savage appearance and customs sometimes cause fear, but they have won acceptance for their distinguished service in the Legion. Orcs' superior strength makes them formidable warriors, though use of magic requires extensive training. Their incredible endurance grants them resistance to both magical and physical harm.`,startingStats:{health:160,magicka:100,stamina:100,carryWeight:200},physicalAttributes:{heightMale:1.100000023841858,heightFemale:1.0800000429153442,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:10},{skill:"Two-Handed",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Heavy Armor",bonus:15},{skill:"Destruction",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Orsimer_Bulwark",name:"Bulwark",description:"Orcs have incredible strength and endurance, resistant to all types of damage. Armor rating increases by <150>, magic deals <10>% less damage to you.",globalFormId:"0x000AA026"},{edid:"REQ_Ability_Race_All_StrongStomach",name:"Strong Stomach",description:"Your metabolism can digest raw food without food poisoning.",globalFormId:"0xFE686808"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.649999976158142}},combat:{unarmedDamage:14,unarmedReach:73}},{name:"Redguard",edid:"RedguardRace",category:"Human",source:"Synthesis - NPC.esp",description:"The dark-skinned, wiry-haired Redguards of Hammerfell seem born for battle, though their proud and independent spirits suit free-ranging heroism more. They have a hardy constitution and natural resistance to poison and disease, but tend to shun their magic. They are full of stamina and naturally skilled in melee combat, making them one of the strongest warriors in Tamriel.",startingStats:{health:120,magicka:100,stamina:140,carryWeight:200},physicalAttributes:{heightMale:1.0449999570846558,heightFemale:1.0299999713897705,weightMale:1,weightFemale:1,size:"Medium"},skillBonuses:[{skill:"One-Handed",bonus:15},{skill:"Two-Handed",bonus:10},{skill:"Marksman",bonus:10},{skill:"Block",bonus:10},{skill:"Smithing",bonus:10},{skill:"Light Armor",bonus:10}],racialSpells:[{edid:"REQ_Ability_Race_Redguard_ResistPoisonDisease",name:"Resist Poison and Disease",description:"Your Redguard blood, tempered in the deserts of Hammerfell, grants you a very strong resistance to poisons and diseases. Poison deals <50>% less damage to you, you are <50>% less likely to contract diseases.",globalFormId:"0x000AA023"},{edid:"REQ_Ability_Race_Redguard_AdrenalineRush",name:"Adrenaline Rush",description:"Redguards are granted increased stamina, and can sprint much longer without being exhausted. Stamina regenerations is increased, sprinting costs <1> less stamina per second.",globalFormId:"0x000E40CE"},{edid:"REQ_Ability_Race_Redguard_MartialProwess",name:"Martial Prowess",description:"Redguards are naturally skilled in martial arts, and can wield their weapons with great precision. Armor penetration with melee weapons is increased by <5>.",globalFormId:"0xFE68680E"}],keywords:[],regeneration:{health:{base:0},magicka:{base:1},stamina:{base:1.7000000476837158}},combat:{unarmedDamage:13,unarmedReach:73}}],cee={races:lee};function uee(){const[e,t]=p.useState({search:"",type:"",tags:[]}),n=p.useMemo(()=>{const i=cee.races;if(!tee({races:i}))return console.error("Invalid race data structure detected"),[];const l=i.map(f=>see(f)),u=iee(l);return u.success?console.log(`Successfully transformed ${u.transformedCount} races`):console.error("Data transformation errors:",u.errors),l},[]),r=p.useMemo(()=>n.filter(i=>{if(e.search){const l=e.search.toLowerCase();if(![i.name,i.description,...i.racialSpells.map(f=>f.name),...i.skillBonuses.map(f=>f.skill),...i.keywords.map(f=>t0(f.edid))].join(" ").toLowerCase().includes(l))return!1}if(e.type&&i.category!==e.type)return!1;if(e.tags.length>0){const l=i.keywords.map(h=>t0(h.edid)),u=i.skillBonuses.map(h=>h.skill),f=i.racialSpells.map(h=>h.name);if(!e.tags.some(h=>l.includes(h)||u.includes(h)||f.includes(h)||i.category===h))return!1}return!0}),[n,e]),a=p.useMemo(()=>QJ(n),[n]),o=p.useMemo(()=>JJ(n),[n]),s=p.useMemo(()=>eee(n),[n]);return{races:r,allRaces:n,loading:!1,error:null,filters:e,setFilters:t,allKeywords:a,allSkills:o,allAbilities:s}}function dee({className:e}){const{allRaces:t}=uee(),{build:n,setRace:r}=Cn(),a=Gn(),[o,s]=p.useState(!0),i=n.race?t.find(h=>h.edid===n.race):null,l=h=>{r(h.edid)},u=()=>{a("/race")},f=()=>{s(!o)};if(!i)return c.jsxs(ql,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Choose your character's race"}),c.jsx(bS,{races:t,onSelect:l,placeholder:"Search for a race...",className:"w-full"})]});const d=kA(i);return c.jsxs(ql,{title:"Race",navigateTo:"races",onNavigate:u,className:e,children:[c.jsx(bS,{races:t,onSelect:l,placeholder:`Race: Select a race (${i.name})`,className:"w-full"}),c.jsx(Wg,{item:d,isExpanded:o,onToggle:f,showToggle:!1,className:"border-0 shadow-none",disableHover:!0})]})}function tp({traits:e,onSelect:t,placeholder:n="Search traits...",className:r="",disabled:a=!1}){const[o,s]=p.useState(!1),[i,l]=p.useState(""),[u,f]=p.useState(-1),d=p.useRef(null),h=p.useRef(null);p.useEffect(()=>{const y=w=>{d.current&&!d.current.contains(w.target)&&(s(!1),f(-1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const m=e.filter(y=>{var w;return y.name.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())||((w=y.category)==null?void 0:w.toLowerCase().includes(i.toLowerCase()))||y.tags.some(k=>k.toLowerCase().includes(i.toLowerCase()))}),x=y=>{l(y),s(!0),f(-1)},b=y=>{t(y),l(""),s(!1),f(-1)},S=y=>{y.key==="ArrowDown"?(y.preventDefault(),f(w=>Math.min(w+1,m.length-1))):y.key==="ArrowUp"?(y.preventDefault(),f(w=>Math.max(w-1,-1))):y.key==="Enter"?(y.preventDefault(),u>=0&&m[u]&&b(m[u])):y.key==="Escape"&&(s(!1),f(-1))},v=()=>{s(!0)},g=()=>{var y;l(""),(y=h.current)==null||y.focus()};return c.jsxs("div",{ref:d,className:`relative ${r}`,children:[c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),c.jsx(wa,{ref:h,type:"text",placeholder:n,value:i,onChange:y=>x(y.target.value),onFocus:v,onKeyDown:S,className:"pl-10 pr-20",disabled:a}),i&&c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-8 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0 hover:bg-muted",onClick:g,disabled:a,children:c.jsx(In,{className:"h-4 w-4"})}),c.jsx(ie,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>s(!o),disabled:a,children:c.jsx(tr,{className:`h-4 w-4 transition-transform ${o?"rotate-180":""}`})})]}),o&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 dropdown-enhanced rounded-lg max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-muted-foreground/20 scrollbar-track-transparent hover:scrollbar-thumb-muted-foreground/30",style:{zIndex:Ht.AUTOCOMPLETE+10},children:c.jsx("div",{className:"p-2",children:m.length===0?c.jsx("div",{className:"px-2 py-4 text-center text-muted-foreground text-sm",children:"No traits found"}):m.map((y,w)=>c.jsx("button",{onClick:()=>b(y),className:`w-full text-left px-3 py-3 rounded-lg text-sm transition-all duration-200 cursor-pointer ${w===u?"bg-primary text-primary-foreground shadow-sm":"hover:bg-muted/60 hover:shadow-sm active:bg-muted/80 active:scale-[0.98]"}`,disabled:a,children:c.jsx("div",{className:"flex items-start gap-3",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:y.name}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[y.category&&c.jsx(ge,{variant:"outline",className:"text-xs",children:y.category}),y.effects.length>0&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.effects.length," effect",y.effects.length!==1?"s":""]})]}),c.jsx(Fs,{text:y.description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]})})},y.edid))})})]})}function fee({className:e}){const{allTraits:t}=UJ(),{build:n,addTraitToSlot:r,removeTrait:a,getRegularTraitLimit:o,getBonusTraitLimit:s}=Cn(),i=Gn();o(),s();const l=n.traits.regular.map(x=>t.find(b=>b.edid===x)).filter(Boolean),u=n.traits.bonus.map(x=>t.find(b=>b.edid===x)).filter(Boolean),f=(x,b)=>{r(x.edid,b)},d=x=>{a(x)},h=()=>{i("/traits")},m=t.filter(x=>!n.traits.regular.includes(x.edid)&&!n.traits.bonus.includes(x.edid));return c.jsx(ql,{title:"Traits",navigateTo:"traits",onNavigate:h,className:e,children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-medium text-foreground",children:"Starting"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ge,{variant:"outline",className:"text-xs",children:"Slot 1"}),l[0]&&c.jsx(ge,{variant:"default",className:"text-xs",children:"Starting"})]}),l[0]?c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm",children:l[0].name}),c.jsx(Fs,{text:l[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),c.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>d(l[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:c.jsx(In,{className:"h-3 w-3"})})]}):c.jsx(tp,{traits:m,onSelect:x=>f(x,"regular"),placeholder:"Select starting trait...",className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ge,{variant:"outline",className:"text-xs",children:"Slot 2"}),l[1]&&c.jsx(ge,{variant:"default",className:"text-xs",children:"Starting"})]}),l[1]?c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-yellow-50/50 border-yellow-500 shadow-yellow-500/20",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm",children:l[1].name}),c.jsx(Fs,{text:l[1].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),c.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>d(l[1].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:c.jsx(In,{className:"h-3 w-3"})})]}):c.jsx(tp,{traits:m,onSelect:x=>f(x,"regular"),placeholder:"Select starting trait...",className:"w-full"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-md font-medium text-foreground",children:"Late Game"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ge,{variant:"outline",className:"text-xs",children:"Slot 1"}),u[0]&&c.jsx(ge,{variant:"secondary",className:"text-xs",children:"Late Game"})]}),u[0]?c.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-gray-50/50 border-gray-400 shadow-gray-400/20",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium text-sm",children:u[0].name}),c.jsx(Fs,{text:u[0].description,className:"text-sm text-muted-foreground mt-1 line-clamp-2"})]}),c.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>d(u[0].edid),className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600 flex-shrink-0",children:c.jsx(In,{className:"h-3 w-3"})})]}):c.jsx(tp,{traits:m,onSelect:x=>f(x,"bonus"),placeholder:"Select late game trait...",className:"w-full"})]})]})]})})}function hee({regularLimit:e,bonusLimit:t,onRegularLimitChange:n,onBonusLimitChange:r,currentRegularCount:a,currentBonusCount:o,className:s}){const i=e!==2||t!==1;return c.jsxs(EI,{title:"Trait Limits Configuration",description:"Configure the number of traits your character can have",icon:c.jsx(Bl,{className:"h-4 w-4 text-muted-foreground"}),className:s,children:[c.jsx(Sw,{type:"warning",title:"Default configuration is 2 starting + 1 late game traits.",message:"Increasing these limits requires corresponding MCM (Mod Configuration Menu) changes in-game. Make sure your MCM settings match these limits to avoid conflicts."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsx(ww,{label:"Starting Traits Limit",value:e,onChange:n,min:0,max:10,currentCount:a,type:"regular"}),c.jsx(ww,{label:"Late Game Traits Limit",value:t,onChange:r,min:0,max:5,currentCount:o,type:"bonus"})]}),i&&c.jsx(Sw,{type:"info",title:`Custom limits detected: ${e} starting + ${t} late game traits.`,message:"Remember to update your MCM settings accordingly."})]})}function mee({open:e,title:t,message:n,variant:r="warning",confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:l}){return c.jsx(_I,{open:e,title:t,message:n,variant:r,confirmText:a,cancelText:o,onConfirm:s,onCancel:i,className:l})}function pee({open:e,onConfirm:t,onCancel:n}){return c.jsx(mee,{open:e,title:"Reset Build?",message:"This will clear all selections and start a new build. This action cannot be undone.",variant:"warning",confirmText:"Confirm Reset",cancelText:"Cancel",onConfirm:t,onCancel:n})}function gee({link:e,variant:t="outline",size:n="sm",text:r="Export / Share",onCopied:a,className:o}){return c.jsx(CI,{link:e,variant:t,size:n,text:r,onCopied:a,className:o})}function yee({onCopied:e,className:t}){const n=window.location.href;return c.jsx(gee,{link:n,onCopied:e,className:t})}function vee({build:e,title:t="Build Summary",layout:n="grid",className:r}){const a=TI(e);return c.jsx(AI,{title:t,items:a,layout:n,className:r})}function xee({name:e,notes:t,onNameChange:n,onNotesChange:r,className:a}){return c.jsxs(dt,{className:`mb-6 ${a||""}`,children:[c.jsx(Et,{children:c.jsx(_t,{children:"Basic Information"})}),c.jsxs(ft,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ta,{htmlFor:"name",children:"Character Name"}),c.jsx(wa,{id:"name",value:e,onChange:o=>n(o.target.value),placeholder:"Enter character name..."})]}),c.jsxs("div",{children:[c.jsx(ta,{htmlFor:"notes",children:"Notes"}),c.jsx("textarea",{id:"notes",value:t,onChange:o=>r(o.target.value),placeholder:"Add character notes, roleplay details, or build explanations...",rows:4,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})]})]})}function bee({onReset:e,className:t}){return c.jsxs("div",{className:`flex flex-wrap gap-2 mb-6 ${t||""}`,children:[c.jsxs(ie,{variant:"destructive",size:"sm",className:"text-destructive-foreground cursor-pointer hover:opacity-90",onClick:e,children:[c.jsx(kE,{className:"w-4 h-4 mr-2"}),"Reset Build"]}),c.jsx(yee,{})]})}function wee(){const{build:e,updateBuild:t}=Cn(),[n,r]=p.useState(e.traitLimits.regular),[a,o]=p.useState(e.traitLimits.bonus),s=p.useCallback(l=>{r(l),t({traitLimits:{...e.traitLimits,regular:l}})},[e.traitLimits,t]),i=p.useCallback(l=>{o(l),t({traitLimits:{...e.traitLimits,bonus:l}})},[e.traitLimits,t]);return{regularLimit:n,bonusLimit:a,handleRegularLimitChange:s,handleBonusLimitChange:i,currentRegularCount:e.traits.regular.length,currentBonusCount:e.traits.bonus.length}}function See(){const{build:e,setBuildName:t,setBuildNotes:n,resetBuild:r}=Cn(),[a,o]=p.useState(!1),s=wee(),i=Gn();return c.jsxs(Ai,{title:"Character Builder",children:[c.jsx(bee,{onReset:()=>o(!0)}),c.jsx(pee,{open:a,onConfirm:()=>{r(),o(!1)},onCancel:()=>o(!1)}),c.jsxs(Sy,{defaultValue:"build",className:"w-full",children:[c.jsxs(Ny,{className:"mb-4",children:[c.jsx(Fl,{value:"build",children:"Build"}),c.jsx(Fl,{value:"config",children:"Config"})]}),c.jsxs(Bd,{value:"build",children:[c.jsx(xee,{name:e.name,notes:e.notes,onNameChange:t,onNotesChange:n}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsx(dee,{}),c.jsx(DI,{}),c.jsx(fee,{})]}),c.jsx(ZJ,{navigate:i}),c.jsx(vee,{build:e})]}),c.jsx(Bd,{value:"config",children:c.jsx(hee,{regularLimit:s.regularLimit,bonusLimit:s.bonusLimit,onRegularLimitChange:s.handleRegularLimitChange,onBonusLimitChange:s.handleBonusLimitChange,currentRegularCount:s.currentRegularCount,currentBonusCount:s.currentBonusCount})})]})]})}function Nee(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Rc,{children:"Crafting"}),c.jsx(Ul,{children:"Plan your crafting recipes and material requirements"})]}),c.jsxs(dt,{children:[c.jsxs(Et,{children:[c.jsx(_t,{children:"Coming Soon"}),c.jsx(qa,{children:"Crafting system is under development"})]}),c.jsx(ft,{children:c.jsx(Ul,{children:"This section will help you plan and optimize your crafting projects."})})]})]})}function kee(){return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(Rc,{children:"Equipment"}),c.jsx(Ul,{children:"Browse and compare weapons, armor, and items"})]}),c.jsxs(dt,{children:[c.jsxs(Et,{children:[c.jsx(_t,{children:"Coming Soon"}),c.jsx(qa,{children:"Equipment database is under development"})]}),c.jsx(ft,{children:c.jsx(Ul,{children:"This section will provide a comprehensive database of all equipment in the game."})})]})]})}const Eee=()=>{const{build:e,getSummary:t}=Cn(),n=Gn(),r=t();return!e.name&&!e.race?c.jsxs(dt,{className:"border-dashed border-2 border-muted",children:[c.jsxs(Et,{children:[c.jsx(_t,{className:"text-lg",children:"No Character Build"}),c.jsx(qa,{children:"Start building your character to see it here"})]}),c.jsx(ft,{children:c.jsx(ie,{onClick:()=>n("/build"),className:"w-full",children:"Create Character Build"})})]}):c.jsxs(dt,{children:[c.jsxs(Et,{children:[c.jsxs(_t,{className:"text-lg flex items-center justify-between",children:[c.jsx("span",{children:r.name}),c.jsx(ie,{variant:"outline",size:"sm",onClick:()=>n("/build"),children:"Edit"})]}),c.jsx(qa,{children:"Current character build status"})]}),c.jsxs(ft,{className:"space-y-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Race:"}),c.jsx(ge,{variant:"secondary",className:"ml-2",children:r.race})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Birth Sign:"}),c.jsx(ge,{variant:"secondary",className:"ml-2",children:r.stone})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Religion:"}),c.jsx(ge,{variant:"secondary",className:"ml-2",children:r.religion})]})]}),c.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[c.jsxs("span",{children:[r.traitCount," traits"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[r.majorSkillCount," major skills"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[r.minorSkillCount," minor skills"]}),c.jsx("span",{children:""}),c.jsxs("span",{children:[r.equipmentCount," equipment"]})]})]})]})};function _ee(){return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx(Rc,{children:"Welcome to Lorerim Arcaneum"}),c.jsx(q_,{children:"Your theorycrafting playground and reference hub for Lorerim players."})]}),c.jsx("div",{className:"max-w-md",children:c.jsx(Eee,{})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(dt,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Et,{children:[c.jsxs(_t,{className:"flex items-center gap-2",children:[c.jsx(Sl,{className:"h-5 w-5"}),"Player Creation"]}),c.jsx(qa,{children:"Design your character with races, traits, and birthsigns"})]}),c.jsx(ft,{children:c.jsx(ie,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/player-creation",children:"Get Started"})})})]}),c.jsxs(dt,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Et,{children:[c.jsxs(_t,{className:"flex items-center gap-2",children:[c.jsx(gs,{className:"h-5 w-5"}),"Equipment"]}),c.jsx(qa,{children:"Browse and compare weapons, armor, and items"})]}),c.jsx(ft,{children:c.jsx(ie,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/equipment",children:"Browse Items"})})})]}),c.jsxs(dt,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Et,{children:[c.jsxs(_t,{className:"flex items-center gap-2",children:[c.jsx(lz,{className:"h-5 w-5"}),"Crafting"]}),c.jsx(qa,{children:"Plan your crafting recipes and material requirements"})]}),c.jsx(ft,{children:c.jsx(ie,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/crafting",children:"Start Crafting"})})})]}),c.jsxs(dt,{className:"hover:shadow-md transition-shadow",children:[c.jsxs(Et,{children:[c.jsxs(_t,{className:"flex items-center gap-2",children:[c.jsx(xE,{className:"h-5 w-5"}),"Skills"]}),c.jsx(qa,{children:"Explore skill trees and perk combinations"})]}),c.jsx(ft,{children:c.jsx(ie,{asChild:!0,variant:"outline",className:"w-full",children:c.jsx("a",{href:"#/skills",children:"View Skills"})})})]})]})]})}function Cee(){const e=Gn();return c.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center",children:[c.jsx(Rc,{className:"text-4xl font-bold text-skyrim-gold mb-2",children:"Page Not Found"}),c.jsx(pn,{className:"text-skyrim-gold/70 mb-6",children:"Sorry, the page you are looking for does not exist or is not ready yet."}),c.jsx(ie,{variant:"default",onClick:()=>e("/"),children:"Return Home"})]})}const Aee=()=>c.jsxs(qO,{children:[c.jsx(it,{path:"/",element:c.jsx(_ee,{})}),c.jsxs(it,{path:"/build",element:c.jsx(E$,{}),children:[c.jsx(it,{index:!0,element:c.jsx(See,{})}),c.jsx(it,{path:"race",element:c.jsx(oS,{})}),c.jsx(it,{path:"birth-signs",element:c.jsx(Mw,{})}),c.jsx(it,{path:"traits",element:c.jsx(xS,{})}),c.jsx(it,{path:"religions",element:c.jsx(lS,{})}),c.jsx(it,{path:"destiny",element:c.jsx(r1,{})}),c.jsx(it,{path:"perks",element:c.jsx(ep,{})})]}),c.jsx(it,{path:"/race",element:c.jsx(oS,{})}),c.jsx(it,{path:"/destiny",element:c.jsx(r1,{})}),c.jsx(it,{path:"/perks",element:c.jsx(uQ,{})}),c.jsx(it,{path:"/birth-signs",element:c.jsx(Mw,{})}),c.jsx(it,{path:"/traits",element:c.jsx(xS,{})}),c.jsx(it,{path:"/religions",element:c.jsx(lS,{})}),c.jsx(it,{path:"/perks",element:c.jsx(ep,{})}),c.jsx(it,{path:"/skills-mva",element:c.jsx(ep,{})}),c.jsx(it,{path:"/equipment",element:c.jsx(kee,{})}),c.jsx(it,{path:"/crafting",element:c.jsx(Nee,{})}),c.jsx(it,{path:"*",element:c.jsx(Cee,{})})]}),rM=p.createContext(void 0);function Tee({children:e}){const[t,n]=p.useState("system"),[r,a]=p.useState("dark");return p.useEffect(()=>{const o=localStorage.getItem("theme");o&&["light","dark","system"].includes(o)&&n(o)},[]),p.useEffect(()=>{localStorage.setItem("theme",t);let o;t==="system"?o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o=t,a(o);const s=document.documentElement;o==="dark"?s.classList.add("dark"):s.classList.remove("dark")},[t]),p.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{if(t==="system"){const i=o.matches?"dark":"light";a(i);const l=document.documentElement;i==="dark"?l.classList.add("dark"):l.classList.remove("dark")}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]),c.jsx(rM.Provider,{value:{theme:t,setTheme:n,resolvedTheme:r},children:e})}function jee(){const e=p.useContext(rM);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Ree(){const{theme:e,setTheme:t}=jee(),n=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")},r=()=>{switch(e){case"light":return c.jsx(Tb,{className:"h-4 w-4"});case"dark":return c.jsx(Ez,{className:"h-4 w-4"});case"system":return c.jsx(Nz,{className:"h-4 w-4"});default:return c.jsx(Tb,{className:"h-4 w-4"})}};return c.jsxs(ie,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:n,title:`Current theme: ${e}. Click to cycle themes.`,children:[r(),c.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function Mee({sidebarCollapsed:e,onToggleSidebar:t}){return c.jsxs("header",{className:"sticky top-0 w-full h-12 flex items-center bg-background border-b border-skyrim-gold/20 px-2 shadow-sm backdrop-blur-sm",style:{zIndex:Ht.HEADER,backgroundColor:"hsl(var(--background))",backgroundImage:"none"},children:[c.jsx("button",{onClick:t,"aria-label":e?"Open sidebar":"Close sidebar",className:"flex items-center justify-center w-10 h-10 rounded transition-all duration-200 ease-in-out hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-110 active:scale-95 focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1 mr-2",children:c.jsx(xz,{className:"w-5 h-5 text-skyrim-gold transition-transform duration-200 group-hover:rotate-12"})}),c.jsx("span",{className:"text-skyrim-gold font-bold text-base tracking-tight select-none",children:"Lorerim Arcaneum"}),c.jsx("span",{className:"ml-2 text-xs text-skyrim-gold/60 select-none",children:"Theorycrafting Hub"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Ree,{})})]})}const Dee=p.forwardRef(({className:e,asChild:t,isActive:n,...r},a)=>{const o=t?"span":"button";return c.jsx(o,{ref:a,"data-active":n?"":void 0,className:Q("group flex items-center w-full text-left px-3 py-1.5 text-sm rounded transition-colors","hover:bg-skyrim-gold/10 hover:text-skyrim-gold",n?"bg-skyrim-gold/20 text-skyrim-gold border-l-2 border-skyrim-gold font-bold":"text-skyrim-gold/80 border-l-2 border-transparent",e),tabIndex:0,...r})});Dee.displayName="SidebarMenuSubButton";const zee=[{label:"Character Build",items:[{to:"/build",label:"Build"},{to:"/build/race",label:"Race"},{to:"/build/birth-signs",label:"Birth Signs"},{to:"/build/traits",label:"Traits"},{to:"/build/religions",label:"Religion"},{to:"/build/destiny",label:"Destiny"},{to:"/build/perks",label:"Skills and Perks"},{to:"/skills-mva",label:"Skills MVA Demo"}]},{label:"Gear",items:[{to:"/weapons",label:"Weapons"},{to:"/armor",label:"Armor"},{to:"/food",label:"Food"},{to:"/alcohol",label:"Alcohol"}]},{label:"Crafting",items:[{to:"/alchemy",label:"Alchemy"},{to:"/smithing",label:"Smithing"},{to:"/enchanting",label:"Enchanting"}]},{label:"Ascensions",items:[{to:"/shouts",label:"Shouts of the Dragonborn"},{to:"/lichdom",label:"Lichdom"},{to:"/lycanthropy",label:"Lycanthropy"},{to:"/vampirism",label:"Vampirism"}]}];function Oee({collapsed:e}){const t=Gn(),n=window.location.hash.replace(/^#\/?/,"/"),r=a=>{const o=window.location.hash,[s,i]=o.split("?"),u=new URLSearchParams(i||"").get("b");t(u?`${a}?b=${u}`:a)};return c.jsxs(I_,{collapsed:e,children:[c.jsx(F_,{children:!e&&c.jsxs("button",{onClick:()=>r("/"),className:"flex items-center justify-center w-full gap-2 hover:bg-skyrim-gold/15 hover:shadow-md hover:scale-[1.02] active:scale-[0.98] rounded px-2 py-1 transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-skyrim-gold/50 focus:ring-offset-1",children:[c.jsx(fz,{className:"w-4 h-4 text-skyrim-gold transition-transform duration-200 group-hover:scale-110"}),c.jsx("span",{className:"text-sm font-semibold text-skyrim-gold tracking-wide",children:"Home"})]})}),c.jsx(H_,{children:zee.map(a=>c.jsxs(U_,{children:[!e&&c.jsx("div",{className:"mb-1 px-2 text-[10px] font-semibold uppercase tracking-wider text-skyrim-gold/60",children:a.label}),c.jsx(G_,{children:a.items.map(o=>{const s=n===o.to;return c.jsx(Z_,{children:c.jsx(V_,{asChild:!0,isActive:s,onClick:()=>r(o.to),tabIndex:0,children:c.jsx("span",{className:"w-full text-left truncate",children:o.label})})},o.to)})})]},a.label))}),!e&&c.jsxs("div",{className:"flex-shrink-0 px-3 py-2 border-t border-skyrim-gold/20 text-center",children:[c.jsx(pn,{className:"text-xs text-skyrim-gold/50",children:"Version 1.0.0"}),c.jsx("button",{className:"mt-2 text-skyrim-gold/70 hover:text-skyrim-gold hover:bg-skyrim-gold/10 text-xs rounded px-2 py-1",tabIndex:0,children:" Settings"})]}),c.jsx(Y_,{})]})}function Pee(){const[e,t]=p.useState(!1);return WL(),c.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col",children:[c.jsx(Mee,{sidebarCollapsed:e,onToggleSidebar:()=>t(n=>!n)}),c.jsxs("div",{className:"flex flex-1",children:[c.jsx("div",{className:`transition-all duration-300 ease-in-out ${e?"w-0":"w-64"}`,style:{zIndex:Ht.SIDEBAR},children:c.jsx(Oee,{collapsed:e})}),c.jsx("main",{className:"flex-1  transition-all duration-300 ease-in-out",children:c.jsx(Aee,{})})]}),c.jsx(YL,{})]})}function Lee(){return c.jsx(vP,{children:c.jsx(Pee,{})})}C4.createRoot(document.getElementById("root")).render(c.jsx(p.StrictMode,{children:c.jsx(Tee,{children:c.jsx(Lee,{})})}));
